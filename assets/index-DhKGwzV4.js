var vv=e=>{throw TypeError(e)};var ff=(e,t,r)=>t.has(e)||vv("Cannot "+r);var N=(e,t,r)=>(ff(e,t,"read from private field"),r?r.call(e):t.get(e)),le=(e,t,r)=>t.has(e)?vv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ee=(e,t,r,n)=>(ff(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ce=(e,t,r)=>(ff(e,t,"access private method"),r);var tc=(e,t,r,n)=>({set _(s){ee(e,t,s,r)},get _(){return N(e,t,n)}});function KC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function GC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var A0={exports:{}},rd={},I0={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),QC=Symbol.for("react.portal"),YC=Symbol.for("react.fragment"),ZC=Symbol.for("react.strict_mode"),XC=Symbol.for("react.profiler"),JC=Symbol.for("react.provider"),eE=Symbol.for("react.context"),tE=Symbol.for("react.forward_ref"),rE=Symbol.for("react.suspense"),nE=Symbol.for("react.memo"),sE=Symbol.for("react.lazy"),yv=Symbol.iterator;function iE(e){return e===null||typeof e!="object"?null:(e=yv&&e[yv]||e["@@iterator"],typeof e=="function"?e:null)}var M0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D0=Object.assign,$0={};function Jo(e,t,r){this.props=e,this.context=t,this.refs=$0,this.updater=r||M0}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function L0(){}L0.prototype=Jo.prototype;function mp(e,t,r){this.props=e,this.context=t,this.refs=$0,this.updater=r||M0}var pp=mp.prototype=new L0;pp.constructor=mp;D0(pp,Jo.prototype);pp.isPureReactComponent=!0;var xv=Array.isArray,F0=Object.prototype.hasOwnProperty,gp={current:null},U0={key:!0,ref:!0,__self:!0,__source:!0};function z0(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)F0.call(t,n)&&!U0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ul,type:e,key:i,ref:o,props:s,_owner:gp.current}}function oE(e,t){return{$$typeof:Ul,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ul}function aE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wv=/\/+/g;function hf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aE(""+e.key):t.toString(36)}function Mc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ul:case QC:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+hf(o,0):n,xv(s)?(r="",e!=null&&(r=e.replace(wv,"$&/")+"/"),Mc(s,t,r,"",function(u){return u})):s!=null&&(vp(s)&&(s=oE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",xv(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+hf(i,l);o+=Mc(i,t,r,c,s)}else if(c=iE(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+hf(i,l++),o+=Mc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function rc(e,t,r){if(e==null)return e;var n=[],s=0;return Mc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function lE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kt={current:null},Dc={transition:null},cE={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Dc,ReactCurrentOwner:gp};function B0(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:rc,forEach:function(e,t,r){rc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return rc(e,function(){t++}),t},toArray:function(e){return rc(e,function(t){return t})||[]},only:function(e){if(!vp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=Jo;je.Fragment=YC;je.Profiler=XC;je.PureComponent=mp;je.StrictMode=ZC;je.Suspense=rE;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cE;je.act=B0;je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=D0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=gp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)F0.call(t,c)&&!U0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ul,type:e.type,key:s,ref:i,props:n,_owner:o}};je.createContext=function(e){return e={$$typeof:eE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:JC,_context:e},e.Consumer=e};je.createElement=z0;je.createFactory=function(e){var t=z0.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:tE,render:e}};je.isValidElement=vp;je.lazy=function(e){return{$$typeof:sE,_payload:{_status:-1,_result:e},_init:lE}};je.memo=function(e,t){return{$$typeof:nE,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=Dc.transition;Dc.transition={};try{e()}finally{Dc.transition=t}};je.unstable_act=B0;je.useCallback=function(e,t){return Kt.current.useCallback(e,t)};je.useContext=function(e){return Kt.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return Kt.current.useDeferredValue(e)};je.useEffect=function(e,t){return Kt.current.useEffect(e,t)};je.useId=function(){return Kt.current.useId()};je.useImperativeHandle=function(e,t,r){return Kt.current.useImperativeHandle(e,t,r)};je.useInsertionEffect=function(e,t){return Kt.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return Kt.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return Kt.current.useMemo(e,t)};je.useReducer=function(e,t,r){return Kt.current.useReducer(e,t,r)};je.useRef=function(e){return Kt.current.useRef(e)};je.useState=function(e){return Kt.current.useState(e)};je.useSyncExternalStore=function(e,t,r){return Kt.current.useSyncExternalStore(e,t,r)};je.useTransition=function(){return Kt.current.useTransition()};je.version="18.3.1";I0.exports=je;var h=I0.exports;const xe=O0(h),nd=KC({__proto__:null,default:xe},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE=h,dE=Symbol.for("react.element"),fE=Symbol.for("react.fragment"),hE=Object.prototype.hasOwnProperty,mE=uE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pE={key:!0,ref:!0,__self:!0,__source:!0};function V0(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)hE.call(t,n)&&!pE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:dE,type:e,key:i,ref:o,props:s,_owner:mE.current}}rd.Fragment=fE;rd.jsx=V0;rd.jsxs=V0;A0.exports=rd;var a=A0.exports,W0={exports:{}},wr={},q0={exports:{}},H0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,I){var W=O.length;O.push(I);e:for(;0<W;){var ne=W-1>>>1,ge=O[ne];if(0<s(ge,I))O[ne]=I,O[W]=ge,W=ne;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var I=O[0],W=O.pop();if(W!==I){O[0]=W;e:for(var ne=0,ge=O.length,ut=ge>>>1;ne<ut;){var Be=2*(ne+1)-1,Ft=O[Be],qe=Be+1,te=O[qe];if(0>s(Ft,W))qe<ge&&0>s(te,Ft)?(O[ne]=te,O[qe]=W,ne=qe):(O[ne]=Ft,O[Be]=W,ne=Be);else if(qe<ge&&0>s(te,W))O[ne]=te,O[qe]=W,ne=qe;else break e}}return I}function s(O,I){var W=O.sortIndex-I.sortIndex;return W!==0?W:O.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,y=!1,w=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=O)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function _(O){if(p=!1,b(O),!w)if(r(c)!==null)w=!0,L(S);else{var I=r(u);I!==null&&G(_,I.startTime-O)}}function S(O,I){w=!1,p&&(p=!1,v(E),E=-1),y=!0;var W=m;try{for(b(I),f=r(c);f!==null&&(!(f.expirationTime>I)||O&&!U());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var ge=ne(f.expirationTime<=I);I=e.unstable_now(),typeof ge=="function"?f.callback=ge:f===r(c)&&n(c),b(I)}else n(c);f=r(c)}if(f!==null)var ut=!0;else{var Be=r(u);Be!==null&&G(_,Be.startTime-I),ut=!1}return ut}finally{f=null,m=W,y=!1}}var C=!1,j=null,E=-1,T=5,A=-1;function U(){return!(e.unstable_now()-A<T)}function P(){if(j!==null){var O=e.unstable_now();A=O;var I=!0;try{I=j(!0,O)}finally{I?$():(C=!1,j=null)}}else C=!1}var $;if(typeof g=="function")$=function(){g(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,K=D.port2;D.port1.onmessage=P,$=function(){K.postMessage(null)}}else $=function(){x(P,0)};function L(O){j=O,C||(C=!0,$())}function G(O,I){E=x(function(){O(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,L(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var W=m;m=I;try{return O()}finally{m=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=m;m=O;try{return I()}finally{m=W}},e.unstable_scheduleCallback=function(O,I,W){var ne=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,O){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=W+ge,O={id:d++,callback:I,priorityLevel:O,startTime:W,expirationTime:ge,sortIndex:-1},W>ne?(O.sortIndex=W,t(u,O),r(c)===null&&O===r(u)&&(p?(v(E),E=-1):p=!0,G(_,W-ne))):(O.sortIndex=ge,t(c,O),w||y||(w=!0,L(S))),O},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(O){var I=m;return function(){var W=m;m=I;try{return O.apply(this,arguments)}finally{m=W}}}})(H0);q0.exports=H0;var gE=q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE=h,xr=gE;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K0=new Set,rl={};function Ti(e,t){Fo(e,t),Fo(e+"Capture",t)}function Fo(e,t){for(rl[e]=t,e=0;e<t.length;e++)K0.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vh=Object.prototype.hasOwnProperty,yE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bv={},_v={};function xE(e){return vh.call(_v,e)?!0:vh.call(bv,e)?!1:yE.test(e)?_v[e]=!0:(bv[e]=!0,!1)}function wE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bE(e,t,r,n){if(t===null||typeof t>"u"||wE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pt[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pt[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pt[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pt[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pt[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pt[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pt[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pt[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pt[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var yp=/[\-:]([a-z])/g;function xp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yp,xp);Pt[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yp,xp);Pt[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yp,xp);Pt[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function wp(e,t,r,n){var s=Pt.hasOwnProperty(t)?Pt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bE(t,r,s,n)&&(r=null),n||s===null?xE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ln=vE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nc=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),yh=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),Q0=Symbol.for("react.context"),_p=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),wh=Symbol.for("react.suspense_list"),Sp=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),Y0=Symbol.for("react.offscreen"),Sv=Symbol.iterator;function ua(e){return e===null||typeof e!="object"?null:(e=Sv&&e[Sv]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,mf;function ka(e){if(mf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mf=t&&t[1]||""}return`
`+mf+e}var pf=!1;function gf(e,t){if(!e||pf)return"";pf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{pf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ka(e):""}function _E(e){switch(e.tag){case 5:return ka(e.type);case 16:return ka("Lazy");case 13:return ka("Suspense");case 19:return ka("SuspenseList");case 0:case 2:case 15:return e=gf(e.type,!1),e;case 11:return e=gf(e.type.render,!1),e;case 1:return e=gf(e.type,!0),e;default:return""}}function bh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case to:return"Fragment";case eo:return"Portal";case yh:return"Profiler";case bp:return"StrictMode";case xh:return"Suspense";case wh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Q0:return(e.displayName||"Context")+".Consumer";case G0:return(e._context.displayName||"Context")+".Provider";case _p:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sp:return t=e.displayName||null,t!==null?t:bh(e.type)||"Memo";case Zn:t=e._payload,e=e._init;try{return bh(e(t))}catch{}}return null}function SE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bh(t);case 8:return t===bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ks(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jE(e){var t=Z0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sc(e){e._valueTracker||(e._valueTracker=jE(e))}function X0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Z0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _h(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function jv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ks(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function J0(e,t){t=t.checked,t!=null&&wp(e,"checked",t,!1)}function Sh(e,t){J0(e,t);var r=ks(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jh(e,t.type,r):t.hasOwnProperty("defaultValue")&&jh(e,t.type,ks(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jh(e,t,r){(t!=="number"||Xc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ca=Array.isArray;function ho(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ks(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function kh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(Ca(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ks(r)}}function ew(e,t){var r=ks(t.value),n=ks(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ev(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ch(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ic,rw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ic.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kE=["Webkit","ms","Moz","O"];Object.keys($a).forEach(function(e){kE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$a[t]=$a[e]})});function nw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$a.hasOwnProperty(e)&&$a[e]?(""+t).trim():t+"px"}function sw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=nw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var CE=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eh(e,t){if(t){if(CE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Nh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=null;function jp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Th=null,mo=null,po=null;function Nv(e){if(e=Vl(e)){if(typeof Th!="function")throw Error(F(280));var t=e.stateNode;t&&(t=ld(t),Th(e.stateNode,e.type,t))}}function iw(e){mo?po?po.push(e):po=[e]:mo=e}function ow(){if(mo){var e=mo,t=po;if(po=mo=null,Nv(e),t)for(e=0;e<t.length;e++)Nv(t[e])}}function aw(e,t){return e(t)}function lw(){}var vf=!1;function cw(e,t,r){if(vf)return e(t,r);vf=!0;try{return aw(e,t,r)}finally{vf=!1,(mo!==null||po!==null)&&(lw(),ow())}}function sl(e,t){var r=e.stateNode;if(r===null)return null;var n=ld(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var Rh=!1;if(En)try{var da={};Object.defineProperty(da,"passive",{get:function(){Rh=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Rh=!1}function EE(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var La=!1,Jc=null,eu=!1,Oh=null,NE={onError:function(e){La=!0,Jc=e}};function PE(e,t,r,n,s,i,o,l,c){La=!1,Jc=null,EE.apply(NE,arguments)}function TE(e,t,r,n,s,i,o,l,c){if(PE.apply(this,arguments),La){if(La){var u=Jc;La=!1,Jc=null}else throw Error(F(198));eu||(eu=!0,Oh=u)}}function Ri(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function uw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pv(e){if(Ri(e)!==e)throw Error(F(188))}function RE(e){var t=e.alternate;if(!t){if(t=Ri(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Pv(s),e;if(i===n)return Pv(s),t;i=i.sibling}throw Error(F(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function dw(e){return e=RE(e),e!==null?fw(e):null}function fw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fw(e);if(t!==null)return t;e=e.sibling}return null}var hw=xr.unstable_scheduleCallback,Tv=xr.unstable_cancelCallback,OE=xr.unstable_shouldYield,AE=xr.unstable_requestPaint,ft=xr.unstable_now,IE=xr.unstable_getCurrentPriorityLevel,kp=xr.unstable_ImmediatePriority,mw=xr.unstable_UserBlockingPriority,tu=xr.unstable_NormalPriority,ME=xr.unstable_LowPriority,pw=xr.unstable_IdlePriority,sd=null,ln=null;function DE(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(sd,e,void 0,(e.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:FE,$E=Math.log,LE=Math.LN2;function FE(e){return e>>>=0,e===0?32:31-($E(e)/LE|0)|0}var oc=64,ac=4194304;function Ea(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ru(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Ea(l):(i&=o,i!==0&&(n=Ea(i)))}else o=r&~s,o!==0?n=Ea(o):i!==0&&(n=Ea(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Vr(t),s=1<<r,n|=e[r],t&=~s;return n}function UE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Vr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=UE(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Ah(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gw(){var e=oc;return oc<<=1,!(oc&4194240)&&(oc=64),e}function yf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vr(t),e[t]=r}function BE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Vr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Cp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Vr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Fe=0;function vw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yw,Ep,xw,ww,bw,Ih=!1,lc=[],ms=null,ps=null,gs=null,il=new Map,ol=new Map,es=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rv(e,t){switch(e){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(t.pointerId)}}function fa(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Vl(t),t!==null&&Ep(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function WE(e,t,r,n,s){switch(t){case"focusin":return ms=fa(ms,e,t,r,n,s),!0;case"dragenter":return ps=fa(ps,e,t,r,n,s),!0;case"mouseover":return gs=fa(gs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return il.set(i,fa(il.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ol.set(i,fa(ol.get(i)||null,e,t,r,n,s)),!0}return!1}function _w(e){var t=ei(e.target);if(t!==null){var r=Ri(t);if(r!==null){if(t=r.tag,t===13){if(t=uw(r),t!==null){e.blockedOn=t,bw(e.priority,function(){xw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $c(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Mh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ph=n,r.target.dispatchEvent(n),Ph=null}else return t=Vl(r),t!==null&&Ep(t),e.blockedOn=r,!1;t.shift()}return!0}function Ov(e,t,r){$c(e)&&r.delete(t)}function qE(){Ih=!1,ms!==null&&$c(ms)&&(ms=null),ps!==null&&$c(ps)&&(ps=null),gs!==null&&$c(gs)&&(gs=null),il.forEach(Ov),ol.forEach(Ov)}function ha(e,t){e.blockedOn===t&&(e.blockedOn=null,Ih||(Ih=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,qE)))}function al(e){function t(s){return ha(s,e)}if(0<lc.length){ha(lc[0],e);for(var r=1;r<lc.length;r++){var n=lc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ms!==null&&ha(ms,e),ps!==null&&ha(ps,e),gs!==null&&ha(gs,e),il.forEach(t),ol.forEach(t),r=0;r<es.length;r++)n=es[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<es.length&&(r=es[0],r.blockedOn===null);)_w(r),r.blockedOn===null&&es.shift()}var go=Ln.ReactCurrentBatchConfig,nu=!0;function HE(e,t,r,n){var s=Fe,i=go.transition;go.transition=null;try{Fe=1,Np(e,t,r,n)}finally{Fe=s,go.transition=i}}function KE(e,t,r,n){var s=Fe,i=go.transition;go.transition=null;try{Fe=4,Np(e,t,r,n)}finally{Fe=s,go.transition=i}}function Np(e,t,r,n){if(nu){var s=Mh(e,t,r,n);if(s===null)Nf(e,t,n,su,r),Rv(e,n);else if(WE(s,e,t,r,n))n.stopPropagation();else if(Rv(e,n),t&4&&-1<VE.indexOf(e)){for(;s!==null;){var i=Vl(s);if(i!==null&&yw(i),i=Mh(e,t,r,n),i===null&&Nf(e,t,n,su,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Nf(e,t,n,null,r)}}var su=null;function Mh(e,t,r,n){if(su=null,e=jp(n),e=ei(e),e!==null)if(t=Ri(e),t===null)e=null;else if(r=t.tag,r===13){if(e=uw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return su=e,null}function Sw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IE()){case kp:return 1;case mw:return 4;case tu:case ME:return 16;case pw:return 536870912;default:return 16}default:return 16}}var ds=null,Pp=null,Lc=null;function jw(){if(Lc)return Lc;var e,t=Pp,r=t.length,n,s="value"in ds?ds.value:ds.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Lc=s.slice(e,1<n?1-n:void 0)}function Fc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cc(){return!0}function Av(){return!1}function br(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cc:Av,this.isPropagationStopped=Av,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),t}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=br(ea),Bl=st({},ea,{view:0,detail:0}),GE=br(Bl),xf,wf,ma,id=st({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ma&&(ma&&e.type==="mousemove"?(xf=e.screenX-ma.screenX,wf=e.screenY-ma.screenY):wf=xf=0,ma=e),xf)},movementY:function(e){return"movementY"in e?e.movementY:wf}}),Iv=br(id),QE=st({},id,{dataTransfer:0}),YE=br(QE),ZE=st({},Bl,{relatedTarget:0}),bf=br(ZE),XE=st({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),JE=br(XE),eN=st({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tN=br(eN),rN=st({},ea,{data:0}),Mv=br(rN),nN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iN[e])?!!t[e]:!1}function Rp(){return oN}var aN=st({},Bl,{key:function(e){if(e.key){var t=nN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rp,charCode:function(e){return e.type==="keypress"?Fc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lN=br(aN),cN=st({},id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dv=br(cN),uN=st({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rp}),dN=br(uN),fN=st({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),hN=br(fN),mN=st({},id,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pN=br(mN),gN=[9,13,27,32],Op=En&&"CompositionEvent"in window,Fa=null;En&&"documentMode"in document&&(Fa=document.documentMode);var vN=En&&"TextEvent"in window&&!Fa,kw=En&&(!Op||Fa&&8<Fa&&11>=Fa),$v=" ",Lv=!1;function Cw(e,t){switch(e){case"keyup":return gN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ew(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ro=!1;function yN(e,t){switch(e){case"compositionend":return Ew(t);case"keypress":return t.which!==32?null:(Lv=!0,$v);case"textInput":return e=t.data,e===$v&&Lv?null:e;default:return null}}function xN(e,t){if(ro)return e==="compositionend"||!Op&&Cw(e,t)?(e=jw(),Lc=Pp=ds=null,ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kw&&t.locale!=="ko"?null:t.data;default:return null}}var wN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wN[e.type]:t==="textarea"}function Nw(e,t,r,n){iw(n),t=iu(t,"onChange"),0<t.length&&(r=new Tp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ua=null,ll=null;function bN(e){Fw(e,0)}function od(e){var t=io(e);if(X0(t))return e}function _N(e,t){if(e==="change")return t}var Pw=!1;if(En){var _f;if(En){var Sf="oninput"in document;if(!Sf){var Uv=document.createElement("div");Uv.setAttribute("oninput","return;"),Sf=typeof Uv.oninput=="function"}_f=Sf}else _f=!1;Pw=_f&&(!document.documentMode||9<document.documentMode)}function zv(){Ua&&(Ua.detachEvent("onpropertychange",Tw),ll=Ua=null)}function Tw(e){if(e.propertyName==="value"&&od(ll)){var t=[];Nw(t,ll,e,jp(e)),cw(bN,t)}}function SN(e,t,r){e==="focusin"?(zv(),Ua=t,ll=r,Ua.attachEvent("onpropertychange",Tw)):e==="focusout"&&zv()}function jN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return od(ll)}function kN(e,t){if(e==="click")return od(t)}function CN(e,t){if(e==="input"||e==="change")return od(t)}function EN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:EN;function cl(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!vh.call(t,s)||!Hr(e[s],t[s]))return!1}return!0}function Bv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vv(e,t){var r=Bv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bv(r)}}function Rw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ow(){for(var e=window,t=Xc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xc(e.document)}return t}function Ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NN(e){var t=Ow(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rw(r.ownerDocument.documentElement,r)){if(n!==null&&Ap(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Vv(r,i);var o=Vv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PN=En&&"documentMode"in document&&11>=document.documentMode,no=null,Dh=null,za=null,$h=!1;function Wv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$h||no==null||no!==Xc(n)||(n=no,"selectionStart"in n&&Ap(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),za&&cl(za,n)||(za=n,n=iu(Dh,"onSelect"),0<n.length&&(t=new Tp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=no)))}function uc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var so={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},jf={},Aw={};En&&(Aw=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function ad(e){if(jf[e])return jf[e];if(!so[e])return e;var t=so[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Aw)return jf[e]=t[r];return e}var Iw=ad("animationend"),Mw=ad("animationiteration"),Dw=ad("animationstart"),$w=ad("transitionend"),Lw=new Map,qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){Lw.set(e,t),Ti(t,[e])}for(var kf=0;kf<qv.length;kf++){var Cf=qv[kf],TN=Cf.toLowerCase(),RN=Cf[0].toUpperCase()+Cf.slice(1);Ms(TN,"on"+RN)}Ms(Iw,"onAnimationEnd");Ms(Mw,"onAnimationIteration");Ms(Dw,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms($w,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ON=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function Hv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TE(n,t,void 0,e),e.currentTarget=null}function Fw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Hv(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Hv(s,l,u),i=c}}}if(eu)throw e=Oh,eu=!1,Oh=null,e}function Ke(e,t){var r=t[Bh];r===void 0&&(r=t[Bh]=new Set);var n=e+"__bubble";r.has(n)||(Uw(t,e,2,!1),r.add(n))}function Ef(e,t,r){var n=0;t&&(n|=4),Uw(r,e,n,t)}var dc="_reactListening"+Math.random().toString(36).slice(2);function ul(e){if(!e[dc]){e[dc]=!0,K0.forEach(function(r){r!=="selectionchange"&&(ON.has(r)||Ef(r,!1,e),Ef(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dc]||(t[dc]=!0,Ef("selectionchange",!1,t))}}function Uw(e,t,r,n){switch(Sw(t)){case 1:var s=HE;break;case 4:s=KE;break;default:s=Np}r=s.bind(null,t,r,e),s=void 0,!Rh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Nf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ei(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}cw(function(){var u=i,d=jp(r),f=[];e:{var m=Lw.get(e);if(m!==void 0){var y=Tp,w=e;switch(e){case"keypress":if(Fc(r)===0)break e;case"keydown":case"keyup":y=lN;break;case"focusin":w="focus",y=bf;break;case"focusout":w="blur",y=bf;break;case"beforeblur":case"afterblur":y=bf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Iv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=YE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=dN;break;case Iw:case Mw:case Dw:y=JE;break;case $w:y=hN;break;case"scroll":y=GE;break;case"wheel":y=pN;break;case"copy":case"cut":case"paste":y=tN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Dv}var p=(t&4)!==0,x=!p&&e==="scroll",v=p?m!==null?m+"Capture":null:m;p=[];for(var g=u,b;g!==null;){b=g;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=sl(g,v),_!=null&&p.push(dl(g,_,b)))),x)break;g=g.return}0<p.length&&(m=new y(m,w,null,r,d),f.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==Ph&&(w=r.relatedTarget||r.fromElement)&&(ei(w)||w[Nn]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?ei(w):null,w!==null&&(x=Ri(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(p=Iv,_="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=Dv,_="onPointerLeave",v="onPointerEnter",g="pointer"),x=y==null?m:io(y),b=w==null?m:io(w),m=new p(_,g+"leave",y,r,d),m.target=x,m.relatedTarget=b,_=null,ei(d)===u&&(p=new p(v,g+"enter",w,r,d),p.target=b,p.relatedTarget=x,_=p),x=_,y&&w)t:{for(p=y,v=w,g=0,b=p;b;b=Ui(b))g++;for(b=0,_=v;_;_=Ui(_))b++;for(;0<g-b;)p=Ui(p),g--;for(;0<b-g;)v=Ui(v),b--;for(;g--;){if(p===v||v!==null&&p===v.alternate)break t;p=Ui(p),v=Ui(v)}p=null}else p=null;y!==null&&Kv(f,m,y,p,!1),w!==null&&x!==null&&Kv(f,x,w,p,!0)}}e:{if(m=u?io(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var S=_N;else if(Fv(m))if(Pw)S=CN;else{S=jN;var C=SN}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=kN);if(S&&(S=S(e,u))){Nw(f,S,r,d);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&jh(m,"number",m.value)}switch(C=u?io(u):window,e){case"focusin":(Fv(C)||C.contentEditable==="true")&&(no=C,Dh=u,za=null);break;case"focusout":za=Dh=no=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Wv(f,r,d);break;case"selectionchange":if(PN)break;case"keydown":case"keyup":Wv(f,r,d)}var j;if(Op)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ro?Cw(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(kw&&r.locale!=="ko"&&(ro||E!=="onCompositionStart"?E==="onCompositionEnd"&&ro&&(j=jw()):(ds=d,Pp="value"in ds?ds.value:ds.textContent,ro=!0)),C=iu(u,E),0<C.length&&(E=new Mv(E,e,null,r,d),f.push({event:E,listeners:C}),j?E.data=j:(j=Ew(r),j!==null&&(E.data=j)))),(j=vN?yN(e,r):xN(e,r))&&(u=iu(u,"onBeforeInput"),0<u.length&&(d=new Mv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}Fw(f,t)})}function dl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function iu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=sl(e,r),i!=null&&n.unshift(dl(e,i,s)),i=sl(e,t),i!=null&&n.push(dl(e,i,s))),e=e.return}return n}function Ui(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kv(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=sl(r,i),c!=null&&o.unshift(dl(r,c,l))):s||(c=sl(r,i),c!=null&&o.push(dl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var AN=/\r\n?/g,IN=/\u0000|\uFFFD/g;function Gv(e){return(typeof e=="string"?e:""+e).replace(AN,`
`).replace(IN,"")}function fc(e,t,r){if(t=Gv(t),Gv(e)!==t&&r)throw Error(F(425))}function ou(){}var Lh=null,Fh=null;function Uh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,MN=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,DN=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(e){return Qv.resolve(null).then(e).catch($N)}:zh;function $N(e){setTimeout(function(){throw e})}function Pf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),al(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);al(t)}function vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ta=Math.random().toString(36).slice(2),on="__reactFiber$"+ta,fl="__reactProps$"+ta,Nn="__reactContainer$"+ta,Bh="__reactEvents$"+ta,LN="__reactListeners$"+ta,FN="__reactHandles$"+ta;function ei(e){var t=e[on];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nn]||r[on]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Yv(e);e!==null;){if(r=e[on])return r;e=Yv(e)}return t}e=r,r=e.parentNode}return null}function Vl(e){return e=e[on]||e[Nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function io(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function ld(e){return e[fl]||null}var Vh=[],oo=-1;function Ds(e){return{current:e}}function Qe(e){0>oo||(e.current=Vh[oo],Vh[oo]=null,oo--)}function We(e,t){oo++,Vh[oo]=e.current,e.current=t}var Cs={},Lt=Ds(Cs),sr=Ds(!1),pi=Cs;function Uo(e,t){var r=e.type.contextTypes;if(!r)return Cs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ir(e){return e=e.childContextTypes,e!=null}function au(){Qe(sr),Qe(Lt)}function Zv(e,t,r){if(Lt.current!==Cs)throw Error(F(168));We(Lt,t),We(sr,r)}function zw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(F(108,SE(e)||"Unknown",s));return st({},r,n)}function lu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,pi=Lt.current,We(Lt,e),We(sr,sr.current),!0}function Xv(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=zw(e,t,pi),n.__reactInternalMemoizedMergedChildContext=e,Qe(sr),Qe(Lt),We(Lt,e)):Qe(sr),We(sr,r)}var wn=null,cd=!1,Tf=!1;function Bw(e){wn===null?wn=[e]:wn.push(e)}function UN(e){cd=!0,Bw(e)}function $s(){if(!Tf&&wn!==null){Tf=!0;var e=0,t=Fe;try{var r=wn;for(Fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}wn=null,cd=!1}catch(s){throw wn!==null&&(wn=wn.slice(e+1)),hw(kp,$s),s}finally{Fe=t,Tf=!1}}return null}var ao=[],lo=0,cu=null,uu=0,kr=[],Cr=0,gi=null,bn=1,_n="";function Gs(e,t){ao[lo++]=uu,ao[lo++]=cu,cu=e,uu=t}function Vw(e,t,r){kr[Cr++]=bn,kr[Cr++]=_n,kr[Cr++]=gi,gi=e;var n=bn;e=_n;var s=32-Vr(n)-1;n&=~(1<<s),r+=1;var i=32-Vr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,bn=1<<32-Vr(t)+s|r<<s|n,_n=i+e}else bn=1<<i|r<<s|n,_n=e}function Ip(e){e.return!==null&&(Gs(e,1),Vw(e,1,0))}function Mp(e){for(;e===cu;)cu=ao[--lo],ao[lo]=null,uu=ao[--lo],ao[lo]=null;for(;e===gi;)gi=kr[--Cr],kr[Cr]=null,_n=kr[--Cr],kr[Cr]=null,bn=kr[--Cr],kr[Cr]=null}var vr=null,gr=null,Ye=!1,Ur=null;function Ww(e,t){var r=Er(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vr=e,gr=vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vr=e,gr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gi!==null?{id:bn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Er(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vr=e,gr=null,!0):!1;default:return!1}}function Wh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qh(e){if(Ye){var t=gr;if(t){var r=t;if(!Jv(e,t)){if(Wh(e))throw Error(F(418));t=vs(r.nextSibling);var n=vr;t&&Jv(e,t)?Ww(n,r):(e.flags=e.flags&-4097|2,Ye=!1,vr=e)}}else{if(Wh(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ye=!1,vr=e}}}function ey(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vr=e}function hc(e){if(e!==vr)return!1;if(!Ye)return ey(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uh(e.type,e.memoizedProps)),t&&(t=gr)){if(Wh(e))throw qw(),Error(F(418));for(;t;)Ww(e,t),t=vs(t.nextSibling)}if(ey(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){gr=vs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}gr=null}}else gr=vr?vs(e.stateNode.nextSibling):null;return!0}function qw(){for(var e=gr;e;)e=vs(e.nextSibling)}function zo(){gr=vr=null,Ye=!1}function Dp(e){Ur===null?Ur=[e]:Ur.push(e)}var zN=Ln.ReactCurrentBatchConfig;function pa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function mc(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ty(e){var t=e._init;return t(e._payload)}function Hw(e){function t(v,g){if(e){var b=v.deletions;b===null?(v.deletions=[g],v.flags|=16):b.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=bs(v,g),v.index=0,v.sibling=null,v}function i(v,g,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<g?(v.flags|=2,g):b):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,b,_){return g===null||g.tag!==6?(g=$f(b,v.mode,_),g.return=v,g):(g=s(g,b),g.return=v,g)}function c(v,g,b,_){var S=b.type;return S===to?d(v,g,b.props.children,_,b.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zn&&ty(S)===g.type)?(_=s(g,b.props),_.ref=pa(v,g,b),_.return=v,_):(_=Hc(b.type,b.key,b.props,null,v.mode,_),_.ref=pa(v,g,b),_.return=v,_)}function u(v,g,b,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Lf(b,v.mode,_),g.return=v,g):(g=s(g,b.children||[]),g.return=v,g)}function d(v,g,b,_,S){return g===null||g.tag!==7?(g=mi(b,v.mode,_,S),g.return=v,g):(g=s(g,b),g.return=v,g)}function f(v,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=$f(""+g,v.mode,b),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case nc:return b=Hc(g.type,g.key,g.props,null,v.mode,b),b.ref=pa(v,null,g),b.return=v,b;case eo:return g=Lf(g,v.mode,b),g.return=v,g;case Zn:var _=g._init;return f(v,_(g._payload),b)}if(Ca(g)||ua(g))return g=mi(g,v.mode,b,null),g.return=v,g;mc(v,g)}return null}function m(v,g,b,_){var S=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(v,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nc:return b.key===S?c(v,g,b,_):null;case eo:return b.key===S?u(v,g,b,_):null;case Zn:return S=b._init,m(v,g,S(b._payload),_)}if(Ca(b)||ua(b))return S!==null?null:d(v,g,b,_,null);mc(v,b)}return null}function y(v,g,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,l(g,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case nc:return v=v.get(_.key===null?b:_.key)||null,c(g,v,_,S);case eo:return v=v.get(_.key===null?b:_.key)||null,u(g,v,_,S);case Zn:var C=_._init;return y(v,g,b,C(_._payload),S)}if(Ca(_)||ua(_))return v=v.get(b)||null,d(g,v,_,S,null);mc(g,_)}return null}function w(v,g,b,_){for(var S=null,C=null,j=g,E=g=0,T=null;j!==null&&E<b.length;E++){j.index>E?(T=j,j=null):T=j.sibling;var A=m(v,j,b[E],_);if(A===null){j===null&&(j=T);break}e&&j&&A.alternate===null&&t(v,j),g=i(A,g,E),C===null?S=A:C.sibling=A,C=A,j=T}if(E===b.length)return r(v,j),Ye&&Gs(v,E),S;if(j===null){for(;E<b.length;E++)j=f(v,b[E],_),j!==null&&(g=i(j,g,E),C===null?S=j:C.sibling=j,C=j);return Ye&&Gs(v,E),S}for(j=n(v,j);E<b.length;E++)T=y(j,v,E,b[E],_),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?E:T.key),g=i(T,g,E),C===null?S=T:C.sibling=T,C=T);return e&&j.forEach(function(U){return t(v,U)}),Ye&&Gs(v,E),S}function p(v,g,b,_){var S=ua(b);if(typeof S!="function")throw Error(F(150));if(b=S.call(b),b==null)throw Error(F(151));for(var C=S=null,j=g,E=g=0,T=null,A=b.next();j!==null&&!A.done;E++,A=b.next()){j.index>E?(T=j,j=null):T=j.sibling;var U=m(v,j,A.value,_);if(U===null){j===null&&(j=T);break}e&&j&&U.alternate===null&&t(v,j),g=i(U,g,E),C===null?S=U:C.sibling=U,C=U,j=T}if(A.done)return r(v,j),Ye&&Gs(v,E),S;if(j===null){for(;!A.done;E++,A=b.next())A=f(v,A.value,_),A!==null&&(g=i(A,g,E),C===null?S=A:C.sibling=A,C=A);return Ye&&Gs(v,E),S}for(j=n(v,j);!A.done;E++,A=b.next())A=y(j,v,E,A.value,_),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?E:A.key),g=i(A,g,E),C===null?S=A:C.sibling=A,C=A);return e&&j.forEach(function(P){return t(v,P)}),Ye&&Gs(v,E),S}function x(v,g,b,_){if(typeof b=="object"&&b!==null&&b.type===to&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case nc:e:{for(var S=b.key,C=g;C!==null;){if(C.key===S){if(S=b.type,S===to){if(C.tag===7){r(v,C.sibling),g=s(C,b.props.children),g.return=v,v=g;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zn&&ty(S)===C.type){r(v,C.sibling),g=s(C,b.props),g.ref=pa(v,C,b),g.return=v,v=g;break e}r(v,C);break}else t(v,C);C=C.sibling}b.type===to?(g=mi(b.props.children,v.mode,_,b.key),g.return=v,v=g):(_=Hc(b.type,b.key,b.props,null,v.mode,_),_.ref=pa(v,g,b),_.return=v,v=_)}return o(v);case eo:e:{for(C=b.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(v,g.sibling),g=s(g,b.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Lf(b,v.mode,_),g.return=v,v=g}return o(v);case Zn:return C=b._init,x(v,g,C(b._payload),_)}if(Ca(b))return w(v,g,b,_);if(ua(b))return p(v,g,b,_);mc(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,b),g.return=v,v=g):(r(v,g),g=$f(b,v.mode,_),g.return=v,v=g),o(v)):r(v,g)}return x}var Bo=Hw(!0),Kw=Hw(!1),du=Ds(null),fu=null,co=null,$p=null;function Lp(){$p=co=fu=null}function Fp(e){var t=du.current;Qe(du),e._currentValue=t}function Hh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vo(e,t){fu=e,$p=co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nr=!0),e.firstContext=null)}function Or(e){var t=e._currentValue;if($p!==e)if(e={context:e,memoizedValue:t,next:null},co===null){if(fu===null)throw Error(F(308));co=e,fu.dependencies={lanes:0,firstContext:e}}else co=co.next=e;return t}var ti=null;function Up(e){ti===null?ti=[e]:ti.push(e)}function Gw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Up(t)):(r.next=s.next,s.next=r),t.interleaved=r,Pn(e,n)}function Pn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xn=!1;function zp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ys(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Pn(e,r)}return s=n.interleaved,s===null?(t.next=t,Up(n)):(t.next=s.next,s.next=t),n.interleaved=t,Pn(e,r)}function Uc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cp(e,r)}}function ry(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hu(e,t,r,n){var s=e.updateQueue;Xn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,p=l;switch(m=t,y=r,p.tag){case 1:if(w=p.payload,typeof w=="function"){f=w.call(y,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=p.payload,m=typeof w=="function"?w.call(y,f,m):w,m==null)break e;f=st({},f,m);break e;case 2:Xn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yi|=o,e.lanes=o,e.memoizedState=f}}function ny(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(F(191,s));s.call(n)}}}var Wl={},cn=Ds(Wl),hl=Ds(Wl),ml=Ds(Wl);function ri(e){if(e===Wl)throw Error(F(174));return e}function Bp(e,t){switch(We(ml,t),We(hl,e),We(cn,Wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ch(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ch(t,e)}Qe(cn),We(cn,t)}function Vo(){Qe(cn),Qe(hl),Qe(ml)}function Yw(e){ri(ml.current);var t=ri(cn.current),r=Ch(t,e.type);t!==r&&(We(hl,e),We(cn,r))}function Vp(e){hl.current===e&&(Qe(cn),Qe(hl))}var tt=Ds(0);function mu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rf=[];function Wp(){for(var e=0;e<Rf.length;e++)Rf[e]._workInProgressVersionPrimary=null;Rf.length=0}var zc=Ln.ReactCurrentDispatcher,Of=Ln.ReactCurrentBatchConfig,vi=0,rt=null,vt=null,St=null,pu=!1,Ba=!1,pl=0,BN=0;function At(){throw Error(F(321))}function qp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Hr(e[r],t[r]))return!1;return!0}function Hp(e,t,r,n,s,i){if(vi=i,rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zc.current=e===null||e.memoizedState===null?HN:KN,e=r(n,s),Ba){i=0;do{if(Ba=!1,pl=0,25<=i)throw Error(F(301));i+=1,St=vt=null,t.updateQueue=null,zc.current=GN,e=r(n,s)}while(Ba)}if(zc.current=gu,t=vt!==null&&vt.next!==null,vi=0,St=vt=rt=null,pu=!1,t)throw Error(F(300));return e}function Kp(){var e=pl!==0;return pl=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?rt.memoizedState=St=e:St=St.next=e,St}function Ar(){if(vt===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=St===null?rt.memoizedState:St.next;if(t!==null)St=t,vt=e;else{if(e===null)throw Error(F(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?rt.memoizedState=St=e:St=St.next=e}return St}function gl(e,t){return typeof t=="function"?t(e):t}function Af(e){var t=Ar(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=vt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((vi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,rt.lanes|=d,yi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Hr(n,t.memoizedState)||(nr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,rt.lanes|=i,yi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function If(e){var t=Ar(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Hr(i,t.memoizedState)||(nr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Zw(){}function Xw(e,t){var r=rt,n=Ar(),s=t(),i=!Hr(n.memoizedState,s);if(i&&(n.memoizedState=s,nr=!0),n=n.queue,Gp(tb.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||St!==null&&St.memoizedState.tag&1){if(r.flags|=2048,vl(9,eb.bind(null,r,n,s,t),void 0,null),jt===null)throw Error(F(349));vi&30||Jw(r,t,s)}return s}function Jw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function eb(e,t,r,n){t.value=r,t.getSnapshot=n,rb(t)&&nb(e)}function tb(e,t,r){return r(function(){rb(t)&&nb(e)})}function rb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hr(e,r)}catch{return!0}}function nb(e){var t=Pn(e,1);t!==null&&Wr(t,e,1,-1)}function sy(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t.queue=e,e=e.dispatch=qN.bind(null,rt,e),[t.memoizedState,e]}function vl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sb(){return Ar().memoizedState}function Bc(e,t,r,n){var s=en();rt.flags|=e,s.memoizedState=vl(1|t,r,void 0,n===void 0?null:n)}function ud(e,t,r,n){var s=Ar();n=n===void 0?null:n;var i=void 0;if(vt!==null){var o=vt.memoizedState;if(i=o.destroy,n!==null&&qp(n,o.deps)){s.memoizedState=vl(t,r,i,n);return}}rt.flags|=e,s.memoizedState=vl(1|t,r,i,n)}function iy(e,t){return Bc(8390656,8,e,t)}function Gp(e,t){return ud(2048,8,e,t)}function ib(e,t){return ud(4,2,e,t)}function ob(e,t){return ud(4,4,e,t)}function ab(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lb(e,t,r){return r=r!=null?r.concat([e]):null,ud(4,4,ab.bind(null,t,e),r)}function Qp(){}function cb(e,t){var r=Ar();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ub(e,t){var r=Ar();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function db(e,t,r){return vi&21?(Hr(r,t)||(r=gw(),rt.lanes|=r,yi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nr=!0),e.memoizedState=r)}function VN(e,t){var r=Fe;Fe=r!==0&&4>r?r:4,e(!0);var n=Of.transition;Of.transition={};try{e(!1),t()}finally{Fe=r,Of.transition=n}}function fb(){return Ar().memoizedState}function WN(e,t,r){var n=ws(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hb(e))mb(t,r);else if(r=Gw(e,t,r,n),r!==null){var s=qt();Wr(r,e,n,s),pb(r,t,n)}}function qN(e,t,r){var n=ws(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hb(e))mb(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Hr(l,o)){var c=t.interleaved;c===null?(s.next=s,Up(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Gw(e,t,s,n),r!==null&&(s=qt(),Wr(r,e,n,s),pb(r,t,n))}}function hb(e){var t=e.alternate;return e===rt||t!==null&&t===rt}function mb(e,t){Ba=pu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cp(e,r)}}var gu={readContext:Or,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},HN={readContext:Or,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Or,useEffect:iy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bc(4194308,4,ab.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bc(4,2,e,t)},useMemo:function(e,t){var r=en();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=en();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=WN.bind(null,rt,e),[n.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:sy,useDebugValue:Qp,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=sy(!1),t=e[0];return e=VN.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=rt,s=en();if(Ye){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),jt===null)throw Error(F(349));vi&30||Jw(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,iy(tb.bind(null,n,i,e),[e]),n.flags|=2048,vl(9,eb.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=en(),t=jt.identifierPrefix;if(Ye){var r=_n,n=bn;r=(n&~(1<<32-Vr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=pl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=BN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},KN={readContext:Or,useCallback:cb,useContext:Or,useEffect:Gp,useImperativeHandle:lb,useInsertionEffect:ib,useLayoutEffect:ob,useMemo:ub,useReducer:Af,useRef:sb,useState:function(){return Af(gl)},useDebugValue:Qp,useDeferredValue:function(e){var t=Ar();return db(t,vt.memoizedState,e)},useTransition:function(){var e=Af(gl)[0],t=Ar().memoizedState;return[e,t]},useMutableSource:Zw,useSyncExternalStore:Xw,useId:fb,unstable_isNewReconciler:!1},GN={readContext:Or,useCallback:cb,useContext:Or,useEffect:Gp,useImperativeHandle:lb,useInsertionEffect:ib,useLayoutEffect:ob,useMemo:ub,useReducer:If,useRef:sb,useState:function(){return If(gl)},useDebugValue:Qp,useDeferredValue:function(e){var t=Ar();return vt===null?t.memoizedState=e:db(t,vt.memoizedState,e)},useTransition:function(){var e=If(gl)[0],t=Ar().memoizedState;return[e,t]},useMutableSource:Zw,useSyncExternalStore:Xw,useId:fb,unstable_isNewReconciler:!1};function Dr(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Kh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dd={isMounted:function(e){return(e=e._reactInternals)?Ri(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qt(),s=ws(e),i=kn(n,s);i.payload=t,r!=null&&(i.callback=r),t=ys(e,i,s),t!==null&&(Wr(t,e,s,n),Uc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qt(),s=ws(e),i=kn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ys(e,i,s),t!==null&&(Wr(t,e,s,n),Uc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qt(),n=ws(e),s=kn(r,n);s.tag=2,t!=null&&(s.callback=t),t=ys(e,s,n),t!==null&&(Wr(t,e,n,r),Uc(t,e,n))}};function oy(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!cl(r,n)||!cl(s,i):!0}function gb(e,t,r){var n=!1,s=Cs,i=t.contextType;return typeof i=="object"&&i!==null?i=Or(i):(s=ir(t)?pi:Lt.current,n=t.contextTypes,i=(n=n!=null)?Uo(e,s):Cs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ay(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&dd.enqueueReplaceState(t,t.state,null)}function Gh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},zp(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Or(i):(i=ir(t)?pi:Lt.current,s.context=Uo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Kh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&dd.enqueueReplaceState(s,s.state,null),hu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wo(e,t){try{var r="",n=t;do r+=_E(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Mf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Qh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var QN=typeof WeakMap=="function"?WeakMap:Map;function vb(e,t,r){r=kn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yu||(yu=!0,im=n),Qh(e,t)},r}function yb(e,t,r){r=kn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Qh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Qh(e,t),typeof n!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ly(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new QN;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=cP.bind(null,e,t,r),t.then(e,e))}function cy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uy(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kn(-1,1),t.tag=2,ys(r,t,1))),r.lanes|=1),e)}var YN=Ln.ReactCurrentOwner,nr=!1;function Bt(e,t,r,n){t.child=e===null?Kw(t,null,r,n):Bo(t,e.child,r,n)}function dy(e,t,r,n,s){r=r.render;var i=t.ref;return vo(t,s),n=Hp(e,t,r,n,i,s),r=Kp(),e!==null&&!nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tn(e,t,s)):(Ye&&r&&Ip(t),t.flags|=1,Bt(e,t,n,s),t.child)}function fy(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ng(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,xb(e,t,i,n,s)):(e=Hc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:cl,r(o,n)&&e.ref===t.ref)return Tn(e,t,s)}return t.flags|=1,e=bs(i,n),e.ref=t.ref,e.return=t,t.child=e}function xb(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(cl(i,n)&&e.ref===t.ref)if(nr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(nr=!0);else return t.lanes=e.lanes,Tn(e,t,s)}return Yh(e,t,r,n,s)}function wb(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(fo,fr),fr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(fo,fr),fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,We(fo,fr),fr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,We(fo,fr),fr|=n;return Bt(e,t,s,r),t.child}function bb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yh(e,t,r,n,s){var i=ir(r)?pi:Lt.current;return i=Uo(t,i),vo(t,s),r=Hp(e,t,r,n,i,s),n=Kp(),e!==null&&!nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tn(e,t,s)):(Ye&&n&&Ip(t),t.flags|=1,Bt(e,t,r,s),t.child)}function hy(e,t,r,n,s){if(ir(r)){var i=!0;lu(t)}else i=!1;if(vo(t,s),t.stateNode===null)Vc(e,t),gb(t,r,n),Gh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Or(u):(u=ir(r)?pi:Lt.current,u=Uo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ay(t,o,n,u),Xn=!1;var m=t.memoizedState;o.state=m,hu(t,n,o,s),c=t.memoizedState,l!==n||m!==c||sr.current||Xn?(typeof d=="function"&&(Kh(t,r,d,n),c=t.memoizedState),(l=Xn||oy(t,r,l,n,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Qw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Dr(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Or(c):(c=ir(r)?pi:Lt.current,c=Uo(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&ay(t,o,n,c),Xn=!1,m=t.memoizedState,o.state=m,hu(t,n,o,s);var w=t.memoizedState;l!==f||m!==w||sr.current||Xn?(typeof y=="function"&&(Kh(t,r,y,n),w=t.memoizedState),(u=Xn||oy(t,r,u,n,m,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Zh(e,t,r,n,i,s)}function Zh(e,t,r,n,s,i){bb(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Xv(t,r,!1),Tn(e,t,i);n=t.stateNode,YN.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Bo(t,e.child,null,i),t.child=Bo(t,null,l,i)):Bt(e,t,l,i),t.memoizedState=n.state,s&&Xv(t,r,!0),t.child}function _b(e){var t=e.stateNode;t.pendingContext?Zv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zv(e,t.context,!1),Bp(e,t.containerInfo)}function my(e,t,r,n,s){return zo(),Dp(s),t.flags|=256,Bt(e,t,r,n),t.child}var Xh={dehydrated:null,treeContext:null,retryLane:0};function Jh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sb(e,t,r){var n=t.pendingProps,s=tt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),We(tt,s&1),e===null)return qh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=md(o,n,0,null),e=mi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jh(r),t.memoizedState=Xh,e):Yp(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ZN(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=bs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=bs(l,i):(i=mi(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Jh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Xh,n}return i=e.child,e=i.sibling,n=bs(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yp(e,t){return t=md({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pc(e,t,r,n){return n!==null&&Dp(n),Bo(t,e.child,null,r),e=Yp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZN(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Mf(Error(F(422))),pc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=md({mode:"visible",children:n.children},s,0,null),i=mi(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Bo(t,e.child,null,o),t.child.memoizedState=Jh(o),t.memoizedState=Xh,i);if(!(t.mode&1))return pc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(F(419)),n=Mf(i,n,void 0),pc(e,t,o,n)}if(l=(o&e.childLanes)!==0,nr||l){if(n=jt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pn(e,s),Wr(n,e,s,-1))}return rg(),n=Mf(Error(F(421))),pc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=uP.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,gr=vs(s.nextSibling),vr=t,Ye=!0,Ur=null,e!==null&&(kr[Cr++]=bn,kr[Cr++]=_n,kr[Cr++]=gi,bn=e.id,_n=e.overflow,gi=t),t=Yp(t,n.children),t.flags|=4096,t)}function py(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Hh(e.return,t,r)}function Df(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function jb(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Bt(e,t,n.children,r),n=tt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,r,t);else if(e.tag===19)py(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(We(tt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&mu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Df(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Df(t,!0,r,null,i);break;case"together":Df(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=bs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function XN(e,t,r){switch(t.tag){case 3:_b(t),zo();break;case 5:Yw(t);break;case 1:ir(t.type)&&lu(t);break;case 4:Bp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;We(du,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(We(tt,tt.current&1),t.flags|=128,null):r&t.child.childLanes?Sb(e,t,r):(We(tt,tt.current&1),e=Tn(e,t,r),e!==null?e.sibling:null);We(tt,tt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jb(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(tt,tt.current),n)break;return null;case 22:case 23:return t.lanes=0,wb(e,t,r)}return Tn(e,t,r)}var kb,em,Cb,Eb;kb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};em=function(){};Cb=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ri(cn.current);var i=null;switch(r){case"input":s=_h(e,s),n=_h(e,n),i=[];break;case"select":s=st({},s,{value:void 0}),n=st({},n,{value:void 0}),i=[];break;case"textarea":s=kh(e,s),n=kh(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ou)}Eh(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ke("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Eb=function(e,t,r,n){r!==n&&(t.flags|=4)};function ga(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function JN(e,t,r){var n=t.pendingProps;switch(Mp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return ir(t.type)&&au(),It(t),null;case 3:return n=t.stateNode,Vo(),Qe(sr),Qe(Lt),Wp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(lm(Ur),Ur=null))),em(e,t),It(t),null;case 5:Vp(t);var s=ri(ml.current);if(r=t.type,e!==null&&t.stateNode!=null)Cb(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return It(t),null}if(e=ri(cn.current),hc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[on]=t,n[fl]=i,e=(t.mode&1)!==0,r){case"dialog":Ke("cancel",n),Ke("close",n);break;case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(s=0;s<Na.length;s++)Ke(Na[s],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"details":Ke("toggle",n);break;case"input":jv(n,i),Ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",n);break;case"textarea":Cv(n,i),Ke("invalid",n)}Eh(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&fc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&fc(n.textContent,l,e),s=["children",""+l]):rl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ke("scroll",n)}switch(r){case"input":sc(n),kv(n,i,!0);break;case"textarea":sc(n),Ev(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ou)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[on]=t,e[fl]=n,kb(e,t,!1,!1),t.stateNode=e;e:{switch(o=Nh(r,n),r){case"dialog":Ke("cancel",e),Ke("close",e),s=n;break;case"iframe":case"object":case"embed":Ke("load",e),s=n;break;case"video":case"audio":for(s=0;s<Na.length;s++)Ke(Na[s],e);s=n;break;case"source":Ke("error",e),s=n;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),s=n;break;case"details":Ke("toggle",e),s=n;break;case"input":jv(e,n),s=_h(e,n),Ke("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=st({},n,{value:void 0}),Ke("invalid",e);break;case"textarea":Cv(e,n),s=kh(e,n),Ke("invalid",e);break;default:s=n}Eh(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?sw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&nl(e,c):typeof c=="number"&&nl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ke("scroll",e):c!=null&&wp(e,i,c,o))}switch(r){case"input":sc(e),kv(e,n,!1);break;case"textarea":sc(e),Ev(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ks(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ho(e,!!n.multiple,i,!1):n.defaultValue!=null&&ho(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ou)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return It(t),null;case 6:if(e&&t.stateNode!=null)Eb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=ri(ml.current),ri(cn.current),hc(t)){if(n=t.stateNode,r=t.memoizedProps,n[on]=t,(i=n.nodeValue!==r)&&(e=vr,e!==null))switch(e.tag){case 3:fc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[on]=t,t.stateNode=n}return It(t),null;case 13:if(Qe(tt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&gr!==null&&t.mode&1&&!(t.flags&128))qw(),zo(),t.flags|=98560,i=!1;else if(i=hc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[on]=t}else zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),i=!1}else Ur!==null&&(lm(Ur),Ur=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?yt===0&&(yt=3):rg())),t.updateQueue!==null&&(t.flags|=4),It(t),null);case 4:return Vo(),em(e,t),e===null&&ul(t.stateNode.containerInfo),It(t),null;case 10:return Fp(t.type._context),It(t),null;case 17:return ir(t.type)&&au(),It(t),null;case 19:if(Qe(tt),i=t.memoizedState,i===null)return It(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ga(i,!1);else{if(yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=mu(e),o!==null){for(t.flags|=128,ga(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return We(tt,tt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ft()>qo&&(t.flags|=128,n=!0,ga(i,!1),t.lanes=4194304)}else{if(!n)if(e=mu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ga(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return It(t),null}else 2*ft()-i.renderingStartTime>qo&&r!==1073741824&&(t.flags|=128,n=!0,ga(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ft(),t.sibling=null,r=tt.current,We(tt,n?r&1|2:r&1),t):(It(t),null);case 22:case 23:return tg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?fr&1073741824&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function eP(e,t){switch(Mp(t),t.tag){case 1:return ir(t.type)&&au(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vo(),Qe(sr),Qe(Lt),Wp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vp(t),null;case 13:if(Qe(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(tt),null;case 4:return Vo(),null;case 10:return Fp(t.type._context),null;case 22:case 23:return tg(),null;case 24:return null;default:return null}}var gc=!1,Dt=!1,tP=typeof WeakSet=="function"?WeakSet:Set,X=null;function uo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lt(e,t,n)}else r.current=null}function tm(e,t,r){try{r()}catch(n){lt(e,t,n)}}var gy=!1;function rP(e,t){if(Lh=nu,e=Ow(),Ap(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===r&&++u===s&&(l=o),m===i&&++d===n&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fh={focusedElem:e,selectionRange:r},nu=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var p=w.memoizedProps,x=w.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:Dr(t.type,p),x);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(_){lt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return w=gy,gy=!1,w}function Va(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&tm(t,r,i)}s=s.next}while(s!==n)}}function fd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function rm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Nb(e){var t=e.alternate;t!==null&&(e.alternate=null,Nb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[on],delete t[fl],delete t[Bh],delete t[LN],delete t[FN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pb(e){return e.tag===5||e.tag===3||e.tag===4}function vy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ou));else if(n!==4&&(e=e.child,e!==null))for(nm(e,t,r),e=e.sibling;e!==null;)nm(e,t,r),e=e.sibling}function sm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sm(e,t,r),e=e.sibling;e!==null;)sm(e,t,r),e=e.sibling}var Ct=null,Lr=!1;function Bn(e,t,r){for(r=r.child;r!==null;)Tb(e,t,r),r=r.sibling}function Tb(e,t,r){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(sd,r)}catch{}switch(r.tag){case 5:Dt||uo(r,t);case 6:var n=Ct,s=Lr;Ct=null,Bn(e,t,r),Ct=n,Lr=s,Ct!==null&&(Lr?(e=Ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ct.removeChild(r.stateNode));break;case 18:Ct!==null&&(Lr?(e=Ct,r=r.stateNode,e.nodeType===8?Pf(e.parentNode,r):e.nodeType===1&&Pf(e,r),al(e)):Pf(Ct,r.stateNode));break;case 4:n=Ct,s=Lr,Ct=r.stateNode.containerInfo,Lr=!0,Bn(e,t,r),Ct=n,Lr=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tm(r,t,o),s=s.next}while(s!==n)}Bn(e,t,r);break;case 1:if(!Dt&&(uo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){lt(r,t,l)}Bn(e,t,r);break;case 21:Bn(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,Bn(e,t,r),Dt=n):Bn(e,t,r);break;default:Bn(e,t,r)}}function yy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tP),t.forEach(function(n){var s=dP.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ir(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,Lr=!1;break e;case 3:Ct=l.stateNode.containerInfo,Lr=!0;break e;case 4:Ct=l.stateNode.containerInfo,Lr=!0;break e}l=l.return}if(Ct===null)throw Error(F(160));Tb(i,o,s),Ct=null,Lr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){lt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rb(t,e),t=t.sibling}function Rb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ir(t,e),Yr(e),n&4){try{Va(3,e,e.return),fd(3,e)}catch(p){lt(e,e.return,p)}try{Va(5,e,e.return)}catch(p){lt(e,e.return,p)}}break;case 1:Ir(t,e),Yr(e),n&512&&r!==null&&uo(r,r.return);break;case 5:if(Ir(t,e),Yr(e),n&512&&r!==null&&uo(r,r.return),e.flags&32){var s=e.stateNode;try{nl(s,"")}catch(p){lt(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&J0(s,i),Nh(l,o);var u=Nh(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?sw(s,f):d==="dangerouslySetInnerHTML"?rw(s,f):d==="children"?nl(s,f):wp(s,d,f,u)}switch(l){case"input":Sh(s,i);break;case"textarea":ew(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ho(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?ho(s,!!i.multiple,i.defaultValue,!0):ho(s,!!i.multiple,i.multiple?[]:"",!1))}s[fl]=i}catch(p){lt(e,e.return,p)}}break;case 6:if(Ir(t,e),Yr(e),n&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){lt(e,e.return,p)}}break;case 3:if(Ir(t,e),Yr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{al(t.containerInfo)}catch(p){lt(e,e.return,p)}break;case 4:Ir(t,e),Yr(e);break;case 13:Ir(t,e),Yr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jp=ft())),n&4&&yy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||d,Ir(t,e),Dt=u):Ir(t,e),Yr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(m=X,y=m.child,m.tag){case 0:case 11:case 14:case 15:Va(4,m,m.return);break;case 1:uo(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(p){lt(n,r,p)}}break;case 5:uo(m,m.return);break;case 22:if(m.memoizedState!==null){wy(f);continue}}y!==null?(y.return=m,X=y):wy(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nw("display",o))}catch(p){lt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){lt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ir(t,e),Yr(e),n&4&&yy(e);break;case 21:break;default:Ir(t,e),Yr(e)}}function Yr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Pb(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(nl(s,""),n.flags&=-33);var i=vy(e);sm(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=vy(e);nm(e,l,o);break;default:throw Error(F(161))}}catch(c){lt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nP(e,t,r){X=e,Ob(e)}function Ob(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||gc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Dt;l=gc;var u=Dt;if(gc=o,(Dt=c)&&!u)for(X=s;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?by(s):c!==null?(c.return=o,X=c):by(s);for(;i!==null;)X=i,Ob(i),i=i.sibling;X=s,gc=l,Dt=u}xy(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):xy(e)}}function xy(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||fd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Dr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ny(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ny(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&al(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Dt||t.flags&512&&rm(t)}catch(m){lt(t,t.return,m)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function wy(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function by(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fd(4,t)}catch(c){lt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){lt(t,s,c)}}var i=t.return;try{rm(t)}catch(c){lt(t,i,c)}break;case 5:var o=t.return;try{rm(t)}catch(c){lt(t,o,c)}}}catch(c){lt(t,t.return,c)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var sP=Math.ceil,vu=Ln.ReactCurrentDispatcher,Zp=Ln.ReactCurrentOwner,Nr=Ln.ReactCurrentBatchConfig,Pe=0,jt=null,pt=null,Nt=0,fr=0,fo=Ds(0),yt=0,yl=null,yi=0,hd=0,Xp=0,Wa=null,tr=null,Jp=0,qo=1/0,yn=null,yu=!1,im=null,xs=null,vc=!1,fs=null,xu=0,qa=0,om=null,Wc=-1,qc=0;function qt(){return Pe&6?ft():Wc!==-1?Wc:Wc=ft()}function ws(e){return e.mode&1?Pe&2&&Nt!==0?Nt&-Nt:zN.transition!==null?(qc===0&&(qc=gw()),qc):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:Sw(e.type)),e):1}function Wr(e,t,r,n){if(50<qa)throw qa=0,om=null,Error(F(185));zl(e,r,n),(!(Pe&2)||e!==jt)&&(e===jt&&(!(Pe&2)&&(hd|=r),yt===4&&ts(e,Nt)),or(e,n),r===1&&Pe===0&&!(t.mode&1)&&(qo=ft()+500,cd&&$s()))}function or(e,t){var r=e.callbackNode;zE(e,t);var n=ru(e,e===jt?Nt:0);if(n===0)r!==null&&Tv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Tv(r),t===1)e.tag===0?UN(_y.bind(null,e)):Bw(_y.bind(null,e)),DN(function(){!(Pe&6)&&$s()}),r=null;else{switch(vw(n)){case 1:r=kp;break;case 4:r=mw;break;case 16:r=tu;break;case 536870912:r=pw;break;default:r=tu}r=Ub(r,Ab.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ab(e,t){if(Wc=-1,qc=0,Pe&6)throw Error(F(327));var r=e.callbackNode;if(yo()&&e.callbackNode!==r)return null;var n=ru(e,e===jt?Nt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=wu(e,n);else{t=n;var s=Pe;Pe|=2;var i=Mb();(jt!==e||Nt!==t)&&(yn=null,qo=ft()+500,hi(e,t));do try{aP();break}catch(l){Ib(e,l)}while(!0);Lp(),vu.current=i,Pe=s,pt!==null?t=0:(jt=null,Nt=0,t=yt)}if(t!==0){if(t===2&&(s=Ah(e),s!==0&&(n=s,t=am(e,s))),t===1)throw r=yl,hi(e,0),ts(e,n),or(e,ft()),r;if(t===6)ts(e,n);else{if(s=e.current.alternate,!(n&30)&&!iP(s)&&(t=wu(e,n),t===2&&(i=Ah(e),i!==0&&(n=i,t=am(e,i))),t===1))throw r=yl,hi(e,0),ts(e,n),or(e,ft()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Qs(e,tr,yn);break;case 3:if(ts(e,n),(n&130023424)===n&&(t=Jp+500-ft(),10<t)){if(ru(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){qt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zh(Qs.bind(null,e,tr,yn),t);break}Qs(e,tr,yn);break;case 4:if(ts(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Vr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sP(n/1960))-n,10<n){e.timeoutHandle=zh(Qs.bind(null,e,tr,yn),n);break}Qs(e,tr,yn);break;case 5:Qs(e,tr,yn);break;default:throw Error(F(329))}}}return or(e,ft()),e.callbackNode===r?Ab.bind(null,e):null}function am(e,t){var r=Wa;return e.current.memoizedState.isDehydrated&&(hi(e,t).flags|=256),e=wu(e,t),e!==2&&(t=tr,tr=r,t!==null&&lm(t)),e}function lm(e){tr===null?tr=e:tr.push.apply(tr,e)}function iP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Hr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ts(e,t){for(t&=~Xp,t&=~hd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vr(t),n=1<<r;e[r]=-1,t&=~n}}function _y(e){if(Pe&6)throw Error(F(327));yo();var t=ru(e,0);if(!(t&1))return or(e,ft()),null;var r=wu(e,t);if(e.tag!==0&&r===2){var n=Ah(e);n!==0&&(t=n,r=am(e,n))}if(r===1)throw r=yl,hi(e,0),ts(e,t),or(e,ft()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qs(e,tr,yn),or(e,ft()),null}function eg(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(qo=ft()+500,cd&&$s())}}function xi(e){fs!==null&&fs.tag===0&&!(Pe&6)&&yo();var t=Pe;Pe|=1;var r=Nr.transition,n=Fe;try{if(Nr.transition=null,Fe=1,e)return e()}finally{Fe=n,Nr.transition=r,Pe=t,!(Pe&6)&&$s()}}function tg(){fr=fo.current,Qe(fo)}function hi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,MN(r)),pt!==null)for(r=pt.return;r!==null;){var n=r;switch(Mp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&au();break;case 3:Vo(),Qe(sr),Qe(Lt),Wp();break;case 5:Vp(n);break;case 4:Vo();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:Fp(n.type._context);break;case 22:case 23:tg()}r=r.return}if(jt=e,pt=e=bs(e.current,null),Nt=fr=t,yt=0,yl=null,Xp=hd=yi=0,tr=Wa=null,ti!==null){for(t=0;t<ti.length;t++)if(r=ti[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ti=null}return e}function Ib(e,t){do{var r=pt;try{if(Lp(),zc.current=gu,pu){for(var n=rt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}pu=!1}if(vi=0,St=vt=rt=null,Ba=!1,pl=0,Zp.current=null,r===null||r.return===null){yt=1,yl=t,pt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=cy(o);if(y!==null){y.flags&=-257,uy(y,o,l,i,t),y.mode&1&&ly(i,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var p=new Set;p.add(c),t.updateQueue=p}else w.add(c);break e}else{if(!(t&1)){ly(i,u,t),rg();break e}c=Error(F(426))}}else if(Ye&&l.mode&1){var x=cy(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),uy(x,o,l,i,t),Dp(Wo(c,l));break e}}i=c=Wo(c,l),yt!==4&&(yt=2),Wa===null?Wa=[i]:Wa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=vb(i,c,t);ry(i,v);break e;case 1:l=c;var g=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xs===null||!xs.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=yb(i,l,t);ry(i,_);break e}}i=i.return}while(i!==null)}$b(r)}catch(S){t=S,pt===r&&r!==null&&(pt=r=r.return);continue}break}while(!0)}function Mb(){var e=vu.current;return vu.current=gu,e===null?gu:e}function rg(){(yt===0||yt===3||yt===2)&&(yt=4),jt===null||!(yi&268435455)&&!(hd&268435455)||ts(jt,Nt)}function wu(e,t){var r=Pe;Pe|=2;var n=Mb();(jt!==e||Nt!==t)&&(yn=null,hi(e,t));do try{oP();break}catch(s){Ib(e,s)}while(!0);if(Lp(),Pe=r,vu.current=n,pt!==null)throw Error(F(261));return jt=null,Nt=0,yt}function oP(){for(;pt!==null;)Db(pt)}function aP(){for(;pt!==null&&!OE();)Db(pt)}function Db(e){var t=Fb(e.alternate,e,fr);e.memoizedProps=e.pendingProps,t===null?$b(e):pt=t,Zp.current=null}function $b(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=eP(r,t),r!==null){r.flags&=32767,pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,pt=null;return}}else if(r=JN(r,t,fr),r!==null){pt=r;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);yt===0&&(yt=5)}function Qs(e,t,r){var n=Fe,s=Nr.transition;try{Nr.transition=null,Fe=1,lP(e,t,r,n)}finally{Nr.transition=s,Fe=n}return null}function lP(e,t,r,n){do yo();while(fs!==null);if(Pe&6)throw Error(F(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(BE(e,i),e===jt&&(pt=jt=null,Nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vc||(vc=!0,Ub(tu,function(){return yo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Nr.transition,Nr.transition=null;var o=Fe;Fe=1;var l=Pe;Pe|=4,Zp.current=null,rP(e,r),Rb(r,e),NN(Fh),nu=!!Lh,Fh=Lh=null,e.current=r,nP(r),AE(),Pe=l,Fe=o,Nr.transition=i}else e.current=r;if(vc&&(vc=!1,fs=e,xu=s),i=e.pendingLanes,i===0&&(xs=null),DE(r.stateNode),or(e,ft()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yu)throw yu=!1,e=im,im=null,e;return xu&1&&e.tag!==0&&yo(),i=e.pendingLanes,i&1?e===om?qa++:(qa=0,om=e):qa=0,$s(),null}function yo(){if(fs!==null){var e=vw(xu),t=Nr.transition,r=Fe;try{if(Nr.transition=null,Fe=16>e?16:e,fs===null)var n=!1;else{if(e=fs,fs=null,xu=0,Pe&6)throw Error(F(331));var s=Pe;for(Pe|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Va(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var m=d.sibling,y=d.return;if(Nb(d),d===u){X=null;break}if(m!==null){m.return=y,X=m;break}X=y}}}var w=i.alternate;if(w!==null){var p=w.child;if(p!==null){w.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Va(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,X=v;break e}X=i.return}}var g=e.current;for(X=g;X!==null;){o=X;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,X=b;else e:for(o=g;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fd(9,l)}}catch(S){lt(l,l.return,S)}if(l===o){X=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,X=_;break e}X=l.return}}if(Pe=s,$s(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(sd,e)}catch{}n=!0}return n}finally{Fe=r,Nr.transition=t}}return!1}function Sy(e,t,r){t=Wo(r,t),t=vb(e,t,1),e=ys(e,t,1),t=qt(),e!==null&&(zl(e,1,t),or(e,t))}function lt(e,t,r){if(e.tag===3)Sy(e,e,r);else for(;t!==null;){if(t.tag===3){Sy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xs===null||!xs.has(n))){e=Wo(r,e),e=yb(t,e,1),t=ys(t,e,1),e=qt(),t!==null&&(zl(t,1,e),or(t,e));break}}t=t.return}}function cP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&r,jt===e&&(Nt&r)===r&&(yt===4||yt===3&&(Nt&130023424)===Nt&&500>ft()-Jp?hi(e,0):Xp|=r),or(e,t)}function Lb(e,t){t===0&&(e.mode&1?(t=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):t=1);var r=qt();e=Pn(e,t),e!==null&&(zl(e,t,r),or(e,r))}function uP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Lb(e,r)}function dP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),Lb(e,r)}var Fb;Fb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||sr.current)nr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nr=!1,XN(e,t,r);nr=!!(e.flags&131072)}else nr=!1,Ye&&t.flags&1048576&&Vw(t,uu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vc(e,t),e=t.pendingProps;var s=Uo(t,Lt.current);vo(t,r),s=Hp(null,t,n,e,s,r);var i=Kp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ir(n)?(i=!0,lu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zp(t),s.updater=dd,t.stateNode=s,s._reactInternals=t,Gh(t,n,e,r),t=Zh(null,t,n,!0,i,r)):(t.tag=0,Ye&&i&&Ip(t),Bt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=hP(n),e=Dr(n,e),s){case 0:t=Yh(null,t,n,e,r);break e;case 1:t=hy(null,t,n,e,r);break e;case 11:t=dy(null,t,n,e,r);break e;case 14:t=fy(null,t,n,Dr(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),Yh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),hy(e,t,n,s,r);case 3:e:{if(_b(t),e===null)throw Error(F(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Qw(e,t),hu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Wo(Error(F(423)),t),t=my(e,t,n,r,s);break e}else if(n!==s){s=Wo(Error(F(424)),t),t=my(e,t,n,r,s);break e}else for(gr=vs(t.stateNode.containerInfo.firstChild),vr=t,Ye=!0,Ur=null,r=Kw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zo(),n===s){t=Tn(e,t,r);break e}Bt(e,t,n,r)}t=t.child}return t;case 5:return Yw(t),e===null&&qh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Uh(n,s)?o=null:i!==null&&Uh(n,i)&&(t.flags|=32),bb(e,t),Bt(e,t,o,r),t.child;case 6:return e===null&&qh(t),null;case 13:return Sb(e,t,r);case 4:return Bp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bo(t,null,n,r):Bt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),dy(e,t,n,s,r);case 7:return Bt(e,t,t.pendingProps,r),t.child;case 8:return Bt(e,t,t.pendingProps.children,r),t.child;case 12:return Bt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,We(du,n._currentValue),n._currentValue=o,i!==null)if(Hr(i.value,o)){if(i.children===s.children&&!sr.current){t=Tn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=kn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Hh(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Hh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Bt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,vo(t,r),s=Or(s),n=n(s),t.flags|=1,Bt(e,t,n,r),t.child;case 14:return n=t.type,s=Dr(n,t.pendingProps),s=Dr(n.type,s),fy(e,t,n,s,r);case 15:return xb(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),Vc(e,t),t.tag=1,ir(n)?(e=!0,lu(t)):e=!1,vo(t,r),gb(t,n,s),Gh(t,n,s,r),Zh(null,t,n,!0,e,r);case 19:return jb(e,t,r);case 22:return wb(e,t,r)}throw Error(F(156,t.tag))};function Ub(e,t){return hw(e,t)}function fP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(e,t,r,n){return new fP(e,t,r,n)}function ng(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hP(e){if(typeof e=="function")return ng(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_p)return 11;if(e===Sp)return 14}return 2}function bs(e,t){var r=e.alternate;return r===null?(r=Er(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ng(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case to:return mi(r.children,s,i,t);case bp:o=8,s|=8;break;case yh:return e=Er(12,r,t,s|2),e.elementType=yh,e.lanes=i,e;case xh:return e=Er(13,r,t,s),e.elementType=xh,e.lanes=i,e;case wh:return e=Er(19,r,t,s),e.elementType=wh,e.lanes=i,e;case Y0:return md(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G0:o=10;break e;case Q0:o=9;break e;case _p:o=11;break e;case Sp:o=14;break e;case Zn:o=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Er(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function mi(e,t,r,n){return e=Er(7,e,n,t),e.lanes=r,e}function md(e,t,r,n){return e=Er(22,e,n,t),e.elementType=Y0,e.lanes=r,e.stateNode={isHidden:!1},e}function $f(e,t,r){return e=Er(6,e,null,t),e.lanes=r,e}function Lf(e,t,r){return t=Er(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mP(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yf(0),this.expirationTimes=yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sg(e,t,r,n,s,i,o,l,c){return e=new mP(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Er(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zp(i),e}function pP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zb(e){if(!e)return Cs;e=e._reactInternals;e:{if(Ri(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(ir(r))return zw(e,r,t)}return t}function Bb(e,t,r,n,s,i,o,l,c){return e=sg(r,n,!0,e,s,i,o,l,c),e.context=zb(null),r=e.current,n=qt(),s=ws(r),i=kn(n,s),i.callback=t??null,ys(r,i,s),e.current.lanes=s,zl(e,s,n),or(e,n),e}function pd(e,t,r,n){var s=t.current,i=qt(),o=ws(s);return r=zb(r),t.context===null?t.context=r:t.pendingContext=r,t=kn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ys(s,t,o),e!==null&&(Wr(e,s,o,i),Uc(e,s,o)),o}function bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ig(e,t){jy(e,t),(e=e.alternate)&&jy(e,t)}function gP(){return null}var Vb=typeof reportError=="function"?reportError:function(e){console.error(e)};function og(e){this._internalRoot=e}gd.prototype.render=og.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));pd(e,t,null,null)};gd.prototype.unmount=og.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xi(function(){pd(null,e,null,null)}),t[Nn]=null}};function gd(e){this._internalRoot=e}gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=ww();e={blockedOn:null,target:e,priority:t};for(var r=0;r<es.length&&t!==0&&t<es[r].priority;r++);es.splice(r,0,e),r===0&&_w(e)}};function ag(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ky(){}function vP(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=bu(o);i.call(u)}}var o=Bb(t,n,e,0,null,!1,!1,"",ky);return e._reactRootContainer=o,e[Nn]=o.current,ul(e.nodeType===8?e.parentNode:e),xi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=bu(c);l.call(u)}}var c=sg(e,0,!1,null,null,!1,!1,"",ky);return e._reactRootContainer=c,e[Nn]=c.current,ul(e.nodeType===8?e.parentNode:e),xi(function(){pd(t,c,r,n)}),c}function yd(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=bu(o);l.call(c)}}pd(t,o,e,s)}else o=vP(r,t,e,s,n);return bu(o)}yw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ea(t.pendingLanes);r!==0&&(Cp(t,r|1),or(t,ft()),!(Pe&6)&&(qo=ft()+500,$s()))}break;case 13:xi(function(){var n=Pn(e,1);if(n!==null){var s=qt();Wr(n,e,1,s)}}),ig(e,1)}};Ep=function(e){if(e.tag===13){var t=Pn(e,134217728);if(t!==null){var r=qt();Wr(t,e,134217728,r)}ig(e,134217728)}};xw=function(e){if(e.tag===13){var t=ws(e),r=Pn(e,t);if(r!==null){var n=qt();Wr(r,e,t,n)}ig(e,t)}};ww=function(){return Fe};bw=function(e,t){var r=Fe;try{return Fe=e,t()}finally{Fe=r}};Th=function(e,t,r){switch(t){case"input":if(Sh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ld(n);if(!s)throw Error(F(90));X0(n),Sh(n,s)}}}break;case"textarea":ew(e,r);break;case"select":t=r.value,t!=null&&ho(e,!!r.multiple,t,!1)}};aw=eg;lw=xi;var yP={usingClientEntryPoint:!1,Events:[Vl,io,ld,iw,ow,eg]},va={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xP={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dw(e),e===null?null:e.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||gP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{sd=yc.inject(xP),ln=yc}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yP;wr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ag(t))throw Error(F(200));return pP(e,t,null,r)};wr.createRoot=function(e,t){if(!ag(e))throw Error(F(299));var r=!1,n="",s=Vb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sg(e,1,!1,null,null,r,!1,n,s),e[Nn]=t.current,ul(e.nodeType===8?e.parentNode:e),new og(t)};wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=dw(t),e=e===null?null:e.stateNode,e};wr.flushSync=function(e){return xi(e)};wr.hydrate=function(e,t,r){if(!vd(t))throw Error(F(200));return yd(null,e,t,!0,r)};wr.hydrateRoot=function(e,t,r){if(!ag(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Vb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Bb(t,null,e,1,r??null,s,!1,i,o),e[Nn]=t.current,ul(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new gd(t)};wr.render=function(e,t,r){if(!vd(t))throw Error(F(200));return yd(null,e,t,!1,r)};wr.unmountComponentAtNode=function(e){if(!vd(e))throw Error(F(40));return e._reactRootContainer?(xi(function(){yd(null,null,e,!1,function(){e._reactRootContainer=null,e[Nn]=null})}),!0):!1};wr.unstable_batchedUpdates=eg;wr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vd(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return yd(e,t,r,!1,n)};wr.version="18.3.1-next-f1338f8080-20240426";function Wb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wb)}catch(e){console.error(e)}}Wb(),W0.exports=wr;var Ls=W0.exports;const qb=O0(Ls);var Hb,Cy=Ls;Hb=Cy.createRoot,Cy.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(this,arguments)}var hs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hs||(hs={}));const Ey="popstate";function wP(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return cm("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:_u(s)}return _P(t,r,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bP(){return Math.random().toString(36).substr(2,8)}function Ny(e,t){return{usr:e.state,key:e.key,idx:t}}function cm(e,t,r,n){return r===void 0&&(r=null),xl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ra(t):t,{state:r,key:t&&t.key||n||bP()})}function _u(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ra(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function _P(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=hs.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(xl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=hs.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:v})}function m(x,v){l=hs.Push;let g=cm(p.location,x,v);u=d()+1;let b=Ny(g,u),_=p.createHref(g);try{o.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function y(x,v){l=hs.Replace;let g=cm(p.location,x,v);u=d();let b=Ny(g,u),_=p.createHref(g);o.replaceState(b,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function w(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:_u(x);return g=g.replace(/ $/,"%20"),ht(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let p={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ey,f),c=x,()=>{s.removeEventListener(Ey,f),c=null}},createHref(x){return t(s,x)},createURL:w,encodeLocation(x){let v=w(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(x){return o.go(x)}};return p}var Py;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Py||(Py={}));function SP(e,t,r){return r===void 0&&(r="/"),jP(e,t,r,!1)}function jP(e,t,r,n){let s=typeof t=="string"?ra(t):t,i=lg(s.pathname||"/",r);if(i==null)return null;let o=Gb(e);kP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=DP(i);l=IP(o[c],u,n)}return l}function Gb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ht(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=_s([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Gb(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:OP(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Qb(i.path))s(i,o,c)}),t}function Qb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Qb(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function kP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:AP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const CP=/^:[\w-]+$/,EP=3,NP=2,PP=1,TP=10,RP=-2,Ty=e=>e==="*";function OP(e,t){let r=e.split("/"),n=r.length;return r.some(Ty)&&(n+=RP),t&&(n+=NP),r.filter(s=>!Ty(s)).reduce((s,i)=>s+(CP.test(i)?EP:i===""?PP:TP),n)}function AP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function IP(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ry({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Ry({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:_s([i,f.pathname]),pathnameBase:UP(_s([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=_s([i,f.pathnameBase]))}return o}function Ry(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=MP(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:y}=d;if(m==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const w=l[f];return y&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function MP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function DP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function $P(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ra(e):e;return{pathname:r?r.startsWith("/")?r:LP(r,t):t,search:zP(n),hash:BP(s)}}function LP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ff(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cg(e,t){let r=FP(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ug(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ra(e):(s=xl({},e),ht(!s.pathname||!s.pathname.includes("?"),Ff("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Ff("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Ff("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=$P(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const _s=e=>e.join("/").replace(/\/\/+/g,"/"),UP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yb=["post","put","patch","delete"];new Set(Yb);const WP=["get",...Yb];new Set(WP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}const dg=h.createContext(null),qP=h.createContext(null),Fs=h.createContext(null),xd=h.createContext(null),Us=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Zb=h.createContext(null);function HP(e,t){let{relative:r}=t===void 0?{}:t;na()||ht(!1);let{basename:n,navigator:s}=h.useContext(Fs),{hash:i,pathname:o,search:l}=Jb(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:_s([n,o])),s.createHref({pathname:c,search:l,hash:i})}function na(){return h.useContext(xd)!=null}function Fn(){return na()||ht(!1),h.useContext(xd).location}function Xb(e){h.useContext(Fs).static||h.useLayoutEffect(e)}function Oi(){let{isDataRoute:e}=h.useContext(Us);return e?iT():KP()}function KP(){na()||ht(!1);let e=h.useContext(dg),{basename:t,future:r,navigator:n}=h.useContext(Fs),{matches:s}=h.useContext(Us),{pathname:i}=Fn(),o=JSON.stringify(cg(s,r.v7_relativeSplatPath)),l=h.useRef(!1);return Xb(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=ug(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:_s([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function Jb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(Fs),{matches:s}=h.useContext(Us),{pathname:i}=Fn(),o=JSON.stringify(cg(s,n.v7_relativeSplatPath));return h.useMemo(()=>ug(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function GP(e,t){return QP(e,t)}function QP(e,t,r,n){na()||ht(!1);let{navigator:s}=h.useContext(Fs),{matches:i}=h.useContext(Us),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Fn(),d;if(t){var f;let x=typeof t=="string"?ra(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||ht(!1),d=x}else d=u;let m=d.pathname||"/",y=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=SP(e,{pathname:y}),p=eT(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:_s([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:_s([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&p?h.createElement(xd.Provider,{value:{location:wl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hs.Pop}},p):p}function YP(){let e=sT(),t=VP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const ZP=h.createElement(YP,null);class XP extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Us.Provider,{value:this.props.routeContext},h.createElement(Zb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JP(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(dg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Us.Provider,{value:t},n)}function eT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:y}=r,w=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let y,w=!1,p=null,x=null;r&&(y=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||ZP,c&&(u<0&&m===0?(w=!0,x=null):u===m&&(w=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,m+1)),g=()=>{let b;return y?b=p:w?b=x:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,h.createElement(JP,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(XP,{location:r.location,revalidation:r.revalidation,component:p,error:y,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var e_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(e_||{}),Su=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Su||{});function tT(e){let t=h.useContext(dg);return t||ht(!1),t}function rT(e){let t=h.useContext(qP);return t||ht(!1),t}function nT(e){let t=h.useContext(Us);return t||ht(!1),t}function t_(e){let t=nT(),r=t.matches[t.matches.length-1];return r.route.id||ht(!1),r.route.id}function sT(){var e;let t=h.useContext(Zb),r=rT(Su.UseRouteError),n=t_(Su.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function iT(){let{router:e}=tT(e_.UseNavigateStable),t=t_(Su.UseNavigateStable),r=h.useRef(!1);return Xb(()=>{r.current=!0}),h.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,wl({fromRouteId:t},i)))},[e,t])}function Oy(e){let{to:t,replace:r,state:n,relative:s}=e;na()||ht(!1);let{future:i,static:o}=h.useContext(Fs),{matches:l}=h.useContext(Us),{pathname:c}=Fn(),u=Oi(),d=ug(t,cg(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function cr(e){ht(!1)}function oT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=hs.Pop,navigator:i,static:o=!1,future:l}=e;na()&&ht(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:i,static:o,future:wl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=ra(n));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:w="default"}=n,p=h.useMemo(()=>{let x=lg(d,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:y,key:w},navigationType:s}},[c,d,f,m,y,w,s]);return p==null?null:h.createElement(Fs.Provider,{value:u},h.createElement(xd.Provider,{children:r,value:p}))}function aT(e){let{children:t,location:r}=e;return GP(um(t),r)}new Promise(()=>{});function um(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let i=[...t,s];if(n.type===h.Fragment){r.push.apply(r,um(n.props.children,i));return}n.type!==cr&&ht(!1),!n.props.index||!n.props.children||ht(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=um(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}function lT(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function cT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uT(e,t){return e.button===0&&(!t||t==="_self")&&!cT(e)}const dT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fT="6";try{window.__reactRouterVersion=fT}catch{}const hT="startTransition",Ay=nd[hT];function mT(e){let{basename:t,children:r,future:n,window:s}=e,i=h.useRef();i.current==null&&(i.current=wP({window:s,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&Ay?Ay(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>o.listen(d),[o,d]),h.createElement(oT,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const pT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ni=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=lT(t,dT),{basename:y}=h.useContext(Fs),w,p=!1;if(typeof u=="string"&&gT.test(u)&&(w=u,pT))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=lg(_.pathname,y);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:p=!0}catch{}let x=HP(u,{relative:s}),v=vT(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(b){n&&n(b),b.defaultPrevented||v(b)}return h.createElement("a",dm({},m,{href:w||x,onClick:p||i?n:g,ref:r,target:c}))});var Iy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Iy||(Iy={}));var My;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(My||(My={}));function vT(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Oi(),u=Fn(),d=Jb(e,{relative:o});return h.useCallback(f=>{if(uT(f,r)){f.preventDefault();let m=n!==void 0?n:_u(u)===_u(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}var ql=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wi=typeof window>"u"||"Deno"in globalThis;function Sr(){}function yT(e,t){return typeof e=="function"?e(t):e}function fm(e){return typeof e=="number"&&e>=0&&e!==1/0}function r_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xo(e,t){return typeof e=="function"?e(t):e}function zr(e,t){return typeof e=="function"?e(t):e}function Dy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==fg(o,t.options))return!1}else if(!_l(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function $y(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(bl(t.options.mutationKey)!==bl(i))return!1}else if(!_l(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function fg(e,t){return((t==null?void 0:t.queryKeyHashFn)||bl)(e)}function bl(e){return JSON.stringify(e,(t,r)=>mm(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function _l(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!_l(e[r],t[r])):!1}function n_(e,t){if(e===t)return e;const r=Ly(e)&&Ly(t);if(r||mm(e)&&mm(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=n_(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function hm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Ly(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mm(e){if(!Fy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Fy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Fy(e){return Object.prototype.toString.call(e)==="[object Object]"}function xT(e){return new Promise(t=>{setTimeout(t,e)})}function pm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?n_(e,t):t}function wT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function bT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var hg=Symbol();function s_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===hg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var oi,ss,Co,S0,_T=(S0=class extends ql{constructor(){super();le(this,oi);le(this,ss);le(this,Co);ee(this,Co,t=>{if(!wi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,ss)||this.setEventListener(N(this,Co))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,ss))==null||t.call(this),ee(this,ss,void 0))}setEventListener(t){var r;ee(this,Co,t),(r=N(this,ss))==null||r.call(this),ee(this,ss,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,oi)!==t&&(ee(this,oi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,oi)=="boolean"?N(this,oi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},oi=new WeakMap,ss=new WeakMap,Co=new WeakMap,S0),mg=new _T,Eo,is,No,j0,ST=(j0=class extends ql{constructor(){super();le(this,Eo,!0);le(this,is);le(this,No);ee(this,No,t=>{if(!wi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,is)||this.setEventListener(N(this,No))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,is))==null||t.call(this),ee(this,is,void 0))}setEventListener(t){var r;ee(this,No,t),(r=N(this,is))==null||r.call(this),ee(this,is,t(this.setOnline.bind(this)))}setOnline(t){N(this,Eo)!==t&&(ee(this,Eo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,Eo)}},Eo=new WeakMap,is=new WeakMap,No=new WeakMap,j0),ju=new ST;function gm(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function jT(e){return Math.min(1e3*2**e,3e4)}function i_(e){return(e??"online")==="online"?ju.isOnline():!0}var o_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Uf(e){return e instanceof o_}function a_(e){let t=!1,r=0,n=!1,s;const i=gm(),o=p=>{var x;n||(m(new o_(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>mg.isFocused()&&(e.networkMode==="always"||ju.isOnline())&&e.canRun(),d=()=>i_(e.networkMode)&&e.canRun(),f=p=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),i.resolve(p))},m=p=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),i.reject(p))},y=()=>new Promise(p=>{var x;s=v=>{(n||u())&&p(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,n||(p=e.onContinue)==null||p.call(e)}),w=()=>{if(n)return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(f).catch(v=>{var C;if(n)return;const g=e.retry??(wi?0:3),b=e.retryDelay??jT,_=typeof b=="function"?b(r,v):b,S=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,v);if(t||!S){m(v);return}r++,(C=e.onFail)==null||C.call(e,r,v),xT(_).then(()=>u()?void 0:y()).then(()=>{t?m(v):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():y().then(w),i)}}function kT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Et=kT(),ai,k0,l_=(k0=class{constructor(){le(this,ai)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fm(this.gcTime)&&ee(this,ai,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(wi?1/0:5*60*1e3))}clearGcTimeout(){N(this,ai)&&(clearTimeout(N(this,ai)),ee(this,ai,void 0))}},ai=new WeakMap,k0),Po,To,_r,Mt,Dl,li,$r,gn,C0,CT=(C0=class extends l_{constructor(t){super();le(this,$r);le(this,Po);le(this,To);le(this,_r);le(this,Mt);le(this,Dl);le(this,li);ee(this,li,!1),ee(this,Dl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ee(this,_r,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ee(this,Po,ET(this.options)),this.state=t.state??N(this,Po),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,Mt))==null?void 0:t.promise}setOptions(t){this.options={...N(this,Dl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,_r).remove(this)}setData(t,r){const n=pm(this.state.data,t,this.options);return Ce(this,$r,gn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ce(this,$r,gn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=N(this,Mt))==null?void 0:n.promise;return(s=N(this,Mt))==null||s.cancel(t),r?r.then(Sr).catch(Sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Po))}isActive(){return this.observers.some(t=>zr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!r_(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,Mt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,Mt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,_r).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,Mt)&&(N(this,li)?N(this,Mt).cancel({revert:!0}):N(this,Mt).cancelRetry()),this.scheduleGc()),N(this,_r).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ce(this,$r,gn).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,Mt))return N(this,Mt).continueRetry(),N(this,Mt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ee(this,li,!0),n.signal)})},i=()=>{const f=s_(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),ee(this,li,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),ee(this,To,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Ce(this,$r,gn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var m,y,w,p;Uf(f)&&f.silent||Ce(this,$r,gn).call(this,{type:"error",error:f}),Uf(f)||((y=(m=N(this,_r).config).onError)==null||y.call(m,f,this),(p=(w=N(this,_r).config).onSettled)==null||p.call(w,this.state.data,f,this)),this.scheduleGc()};return ee(this,Mt,a_({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var m,y,w,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(y=(m=N(this,_r).config).onSuccess)==null||y.call(m,f,this),(p=(w=N(this,_r).config).onSettled)==null||p.call(w,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Ce(this,$r,gn).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Ce(this,$r,gn).call(this,{type:"pause"})},onContinue:()=>{Ce(this,$r,gn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),N(this,Mt).start()}},Po=new WeakMap,To=new WeakMap,_r=new WeakMap,Mt=new WeakMap,Dl=new WeakMap,li=new WeakMap,$r=new WeakSet,gn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...c_(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Uf(s)&&s.revert&&N(this,To)?{...N(this,To),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,_r).notify({query:this,type:"updated",action:t})})},C0);function c_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:i_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ET(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var tn,E0,NT=(E0=class extends ql{constructor(t={}){super();le(this,tn);this.config=t,ee(this,tn,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??fg(s,r);let o=this.get(i);return o||(o=new CT({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){N(this,tn).has(t.queryHash)||(N(this,tn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,tn).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,tn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Et.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,tn).get(t)}getAll(){return[...N(this,tn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Dy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Dy(t,n)):r}notify(t){Et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tn=new WeakMap,E0),rn,Ut,ci,nn,Hn,N0,PT=(N0=class extends l_{constructor(t){super();le(this,nn);le(this,rn);le(this,Ut);le(this,ci);this.mutationId=t.mutationId,ee(this,Ut,t.mutationCache),ee(this,rn,[]),this.state=t.state||TT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,rn).includes(t)||(N(this,rn).push(t),this.clearGcTimeout(),N(this,Ut).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ee(this,rn,N(this,rn).filter(r=>r!==t)),this.scheduleGc(),N(this,Ut).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,rn).length||(this.state.status==="pending"?this.scheduleGc():N(this,Ut).remove(this))}continue(){var t;return((t=N(this,ci))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,l,c,u,d,f,m,y,w,p,x,v,g,b,_,S,C,j;ee(this,ci,a_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,T)=>{Ce(this,nn,Hn).call(this,{type:"failed",failureCount:E,error:T})},onPause:()=>{Ce(this,nn,Hn).call(this,{type:"pause"})},onContinue:()=>{Ce(this,nn,Hn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Ut).canRun(this)}));const r=this.state.status==="pending",n=!N(this,ci).canStart();try{if(!r){Ce(this,nn,Hn).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=N(this,Ut).config).onMutate)==null?void 0:i.call(s,t,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));T!==this.state.context&&Ce(this,nn,Hn).call(this,{type:"pending",context:T,variables:t,isPaused:n})}const E=await N(this,ci).start();return await((u=(c=N(this,Ut).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,t,this.state.context)),await((y=(m=N(this,Ut).config).onSettled)==null?void 0:y.call(m,E,null,this.state.variables,this.state.context,this)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,E,null,t,this.state.context)),Ce(this,nn,Hn).call(this,{type:"success",data:E}),E}catch(E){try{throw await((v=(x=N(this,Ut).config).onError)==null?void 0:v.call(x,E,t,this.state.context,this)),await((b=(g=this.options).onError)==null?void 0:b.call(g,E,t,this.state.context)),await((S=(_=N(this,Ut).config).onSettled)==null?void 0:S.call(_,void 0,E,this.state.variables,this.state.context,this)),await((j=(C=this.options).onSettled)==null?void 0:j.call(C,void 0,E,t,this.state.context)),E}finally{Ce(this,nn,Hn).call(this,{type:"error",error:E})}}finally{N(this,Ut).runNext(this)}}},rn=new WeakMap,Ut=new WeakMap,ci=new WeakMap,nn=new WeakSet,Hn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Et.batch(()=>{N(this,rn).forEach(n=>{n.onMutationUpdate(t)}),N(this,Ut).notify({mutation:this,type:"updated",action:t})})},N0);function TT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dr,$l,P0,RT=(P0=class extends ql{constructor(t={}){super();le(this,dr);le(this,$l);this.config=t,ee(this,dr,new Map),ee(this,$l,Date.now())}build(t,r,n){const s=new PT({mutationCache:this,mutationId:++tc(this,$l)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=xc(t),n=N(this,dr).get(r)??[];n.push(t),N(this,dr).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=xc(t);if(N(this,dr).has(r)){const s=(n=N(this,dr).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?N(this,dr).delete(r):N(this,dr).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=N(this,dr).get(xc(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=N(this,dr).get(xc(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Et.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...N(this,dr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$y(r,n))}findAll(t={}){return this.getAll().filter(r=>$y(t,r))}notify(t){Et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Et.batch(()=>Promise.all(t.map(r=>r.continue().catch(Sr))))}},dr=new WeakMap,$l=new WeakMap,P0);function xc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Uy(e){return{onFetch:(t,r)=>{var d,f,m,y,w;const n=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=s_(t.options,t.fetchOptions),g=async(b,_,S)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};x(C);const j=await v(C),{maxPages:E}=t.options,T=S?bT:wT;return{pages:T(b.pages,j,E),pageParams:T(b.pageParams,_,E)}};if(s&&i.length){const b=s==="backward",_=b?OT:zy,S={pages:i,pageParams:o},C=_(n,S);l=await g(S,C,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:zy(n,l);if(c>0&&_==null)break;l=await g(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function zy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function OT(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var it,os,as,Ro,Oo,ls,Ao,Io,T0,AT=(T0=class{constructor(e={}){le(this,it);le(this,os);le(this,as);le(this,Ro);le(this,Oo);le(this,ls);le(this,Ao);le(this,Io);ee(this,it,e.queryCache||new NT),ee(this,os,e.mutationCache||new RT),ee(this,as,e.defaultOptions||{}),ee(this,Ro,new Map),ee(this,Oo,new Map),ee(this,ls,0)}mount(){tc(this,ls)._++,N(this,ls)===1&&(ee(this,Ao,mg.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,it).onFocus())})),ee(this,Io,ju.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,it).onOnline())})))}unmount(){var e,t;tc(this,ls)._--,N(this,ls)===0&&((e=N(this,Ao))==null||e.call(this),ee(this,Ao,void 0),(t=N(this,Io))==null||t.call(this),ee(this,Io,void 0))}isFetching(e){return N(this,it).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,os).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,it).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=N(this,it).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(xo(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return N(this,it).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=N(this,it).get(n.queryHash),i=s==null?void 0:s.state.data,o=yT(t,i);if(o!==void 0)return N(this,it).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Et.batch(()=>N(this,it).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,it).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,it);Et.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,it),n={type:"active",...e};return Et.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Et.batch(()=>N(this,it).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Sr).catch(Sr)}invalidateQueries(e={},t={}){return Et.batch(()=>{if(N(this,it).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Et.batch(()=>N(this,it).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Sr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Sr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,it).build(this,t);return r.isStaleByTime(xo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sr).catch(Sr)}fetchInfiniteQuery(e){return e.behavior=Uy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sr).catch(Sr)}ensureInfiniteQueryData(e){return e.behavior=Uy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ju.isOnline()?N(this,os).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,it)}getMutationCache(){return N(this,os)}getDefaultOptions(){return N(this,as)}setDefaultOptions(e){ee(this,as,e)}setQueryDefaults(e,t){N(this,Ro).set(bl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,Ro).values()];let r={};return t.forEach(n=>{_l(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){N(this,Oo).set(bl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,Oo).values()];let r={};return t.forEach(n=>{_l(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,as).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===hg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,as).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,it).clear(),N(this,os).clear()}},it=new WeakMap,os=new WeakMap,as=new WeakMap,Ro=new WeakMap,Oo=new WeakMap,ls=new WeakMap,Ao=new WeakMap,Io=new WeakMap,T0),Xt,Ee,Ll,zt,ui,Mo,cs,sn,Fl,Do,$o,di,fi,us,Lo,De,Pa,vm,ym,xm,wm,bm,_m,Sm,u_,R0,IT=(R0=class extends ql{constructor(t,r){super();le(this,De);le(this,Xt);le(this,Ee);le(this,Ll);le(this,zt);le(this,ui);le(this,Mo);le(this,cs);le(this,sn);le(this,Fl);le(this,Do);le(this,$o);le(this,di);le(this,fi);le(this,us);le(this,Lo,new Set);this.options=r,ee(this,Xt,t),ee(this,sn,null),ee(this,cs,gm()),this.options.experimental_prefetchInRender||N(this,cs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Ee).addObserver(this),By(N(this,Ee),this.options)?Ce(this,De,Pa).call(this):this.updateResult(),Ce(this,De,wm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jm(N(this,Ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jm(N(this,Ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ce(this,De,bm).call(this),Ce(this,De,_m).call(this),N(this,Ee).removeObserver(this)}setOptions(t,r){const n=this.options,s=N(this,Ee);if(this.options=N(this,Xt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zr(this.options.enabled,N(this,Ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ce(this,De,Sm).call(this),N(this,Ee).setOptions(this.options),n._defaulted&&!hm(this.options,n)&&N(this,Xt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Ee),observer:this});const i=this.hasListeners();i&&Vy(N(this,Ee),s,this.options,n)&&Ce(this,De,Pa).call(this),this.updateResult(r),i&&(N(this,Ee)!==s||zr(this.options.enabled,N(this,Ee))!==zr(n.enabled,N(this,Ee))||xo(this.options.staleTime,N(this,Ee))!==xo(n.staleTime,N(this,Ee)))&&Ce(this,De,vm).call(this);const o=Ce(this,De,ym).call(this);i&&(N(this,Ee)!==s||zr(this.options.enabled,N(this,Ee))!==zr(n.enabled,N(this,Ee))||o!==N(this,us))&&Ce(this,De,xm).call(this,o)}getOptimisticResult(t){const r=N(this,Xt).getQueryCache().build(N(this,Xt),t),n=this.createResult(r,t);return DT(this,n)&&(ee(this,zt,n),ee(this,Mo,this.options),ee(this,ui,N(this,Ee).state)),n}getCurrentResult(){return N(this,zt)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){N(this,Lo).add(t)}getCurrentQuery(){return N(this,Ee)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=N(this,Xt).defaultQueryOptions(t),n=N(this,Xt).getQueryCache().build(N(this,Xt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ce(this,De,Pa).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,zt)))}createResult(t,r){var E;const n=N(this,Ee),s=this.options,i=N(this,zt),o=N(this,ui),l=N(this,Mo),u=t!==n?t.state:N(this,Ll),{state:d}=t;let f={...d},m=!1,y;if(r._optimisticResults){const T=this.hasListeners(),A=!T&&By(t,r),U=T&&Vy(t,n,r,s);(A||U)&&(f={...f,...c_(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:p,status:x}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===N(this,Fl))y=N(this,Do);else try{ee(this,Fl,r.select),y=r.select(f.data),y=pm(i==null?void 0:i.data,y,r),ee(this,Do,y),ee(this,sn,null)}catch(T){ee(this,sn,T)}else y=f.data;if(r.placeholderData!==void 0&&y===void 0&&x==="pending"){let T;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))T=i.data;else if(T=typeof r.placeholderData=="function"?r.placeholderData((E=N(this,$o))==null?void 0:E.state.data,N(this,$o)):r.placeholderData,r.select&&T!==void 0)try{T=r.select(T),ee(this,sn,null)}catch(A){ee(this,sn,A)}T!==void 0&&(x="success",y=pm(i==null?void 0:i.data,T,r),m=!0)}N(this,sn)&&(w=N(this,sn),y=N(this,Do),p=Date.now(),x="error");const v=f.fetchStatus==="fetching",g=x==="pending",b=x==="error",_=g&&v,S=y!==void 0,j={status:x,fetchStatus:f.fetchStatus,isPending:g,isSuccess:x==="success",isError:b,isInitialLoading:_,isLoading:_,data:y,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!g,isLoadingError:b&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&S,isStale:pg(t,r),refetch:this.refetch,promise:N(this,cs)};if(this.options.experimental_prefetchInRender){const T=P=>{j.status==="error"?P.reject(j.error):j.data!==void 0&&P.resolve(j.data)},A=()=>{const P=ee(this,cs,j.promise=gm());T(P)},U=N(this,cs);switch(U.status){case"pending":t.queryHash===n.queryHash&&T(U);break;case"fulfilled":(j.status==="error"||j.data!==U.value)&&A();break;case"rejected":(j.status!=="error"||j.error!==U.reason)&&A();break}}return j}updateResult(t){const r=N(this,zt),n=this.createResult(N(this,Ee),this.options);if(ee(this,ui,N(this,Ee).state),ee(this,Mo,this.options),N(this,ui).data!==void 0&&ee(this,$o,N(this,Ee)),hm(n,r))return;ee(this,zt,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!N(this,Lo).size)return!0;const c=new Set(l??N(this,Lo));return this.options.throwOnError&&c.add("error"),Object.keys(N(this,zt)).some(u=>{const d=u;return N(this,zt)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),Ce(this,De,u_).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ce(this,De,wm).call(this)}},Xt=new WeakMap,Ee=new WeakMap,Ll=new WeakMap,zt=new WeakMap,ui=new WeakMap,Mo=new WeakMap,cs=new WeakMap,sn=new WeakMap,Fl=new WeakMap,Do=new WeakMap,$o=new WeakMap,di=new WeakMap,fi=new WeakMap,us=new WeakMap,Lo=new WeakMap,De=new WeakSet,Pa=function(t){Ce(this,De,Sm).call(this);let r=N(this,Ee).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Sr)),r},vm=function(){Ce(this,De,bm).call(this);const t=xo(this.options.staleTime,N(this,Ee));if(wi||N(this,zt).isStale||!fm(t))return;const n=r_(N(this,zt).dataUpdatedAt,t)+1;ee(this,di,setTimeout(()=>{N(this,zt).isStale||this.updateResult()},n))},ym=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Ee)):this.options.refetchInterval)??!1},xm=function(t){Ce(this,De,_m).call(this),ee(this,us,t),!(wi||zr(this.options.enabled,N(this,Ee))===!1||!fm(N(this,us))||N(this,us)===0)&&ee(this,fi,setInterval(()=>{(this.options.refetchIntervalInBackground||mg.isFocused())&&Ce(this,De,Pa).call(this)},N(this,us)))},wm=function(){Ce(this,De,vm).call(this),Ce(this,De,xm).call(this,Ce(this,De,ym).call(this))},bm=function(){N(this,di)&&(clearTimeout(N(this,di)),ee(this,di,void 0))},_m=function(){N(this,fi)&&(clearInterval(N(this,fi)),ee(this,fi,void 0))},Sm=function(){const t=N(this,Xt).getQueryCache().build(N(this,Xt),this.options);if(t===N(this,Ee))return;const r=N(this,Ee);ee(this,Ee,t),ee(this,Ll,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},u_=function(t){Et.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(N(this,zt))}),N(this,Xt).getQueryCache().notify({query:N(this,Ee),type:"observerResultsUpdated"})})},R0);function MT(e,t){return zr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function By(e,t){return MT(e,t)||e.state.data!==void 0&&jm(e,t,t.refetchOnMount)}function jm(e,t,r){if(zr(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&pg(e,t)}return!1}function Vy(e,t,r,n){return(e!==t||zr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&pg(e,r)}function pg(e,t){return zr(t.enabled,e)!==!1&&e.isStaleByTime(xo(t.staleTime,e))}function DT(e,t){return!hm(e.getCurrentResult(),t)}var d_=h.createContext(void 0),Hl=e=>{const t=h.useContext(d_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$T=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(d_.Provider,{value:e,children:t})),f_=h.createContext(!1),LT=()=>h.useContext(f_);f_.Provider;function FT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var UT=h.createContext(FT()),zT=()=>h.useContext(UT);function BT(e,t){return typeof e=="function"?e(...t):!!e}function VT(){}var WT=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},qT=e=>{h.useEffect(()=>{e.clearReset()},[e])},HT=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&BT(r,[e.error,n]),KT=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},GT=(e,t)=>e.isLoading&&e.isFetching&&!t,QT=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Wy=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function YT(e,t,r){var d,f,m,y,w;const n=Hl(),s=LT(),i=zT(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",KT(o),WT(o,i),qT(i);const l=!n.getQueryCache().get(o.queryHash),[c]=h.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(h.useSyncExternalStore(h.useCallback(p=>{const x=s?()=>{}:c.subscribe(Et.batchCalls(p));return c.updateResult(),x},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),QT(o,u))throw Wy(o,c,i);if(HT({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((y=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,u),o.experimental_prefetchInRender&&!wi&&GT(u,s)){const p=l?Wy(o,c,i):(w=n.getQueryCache().get(o.queryHash))==null?void 0:w.promise;p==null||p.catch(VT).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Rn(e,t){return YT(e,IT)}const ZT={user:null,loading:!0,signOut:async()=>{}},h_=h.createContext(ZT),Un=()=>h.useContext(h_),XT="modulepreload",JT=function(e){return"/stock2store/"+e},qy={},Ho=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=JT(c),c in qy)return;qy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":XT,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},eR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ho(async()=>{const{default:n}=await Promise.resolve().then(()=>sa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class gg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class tR extends gg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rR extends gg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nR extends gg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var km;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(km||(km={}));var sR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class iR{constructor(t,{headers:r={},customFetch:n,region:s=km.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=eR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return sR(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new tR(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new rR(d);if(!d.ok)throw new nR(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield d.json():m==="application/octet-stream"?y=yield d.blob():m==="text/event-stream"?y=d:m==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var rr={},vg={},wd={},Kl={},bd={},_d={},oR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ko=oR();const aR=Ko.fetch,m_=Ko.fetch.bind(Ko),p_=Ko.Headers,lR=Ko.Request,cR=Ko.Response,sa=Object.freeze(Object.defineProperty({__proto__:null,Headers:p_,Request:lR,Response:cR,default:m_,fetch:aR},Symbol.toStringTag,{value:"Module"})),uR=GC(sa);var Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});let dR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Sd.default=dR;var g_=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_d,"__esModule",{value:!0});const fR=g_(uR),hR=g_(Sd);let mR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=fR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,y="OK")}catch{i.status===404&&p===""?(m=204,y="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&this.shouldThrowOnError)throw new hR.default(u)}return{error:u,data:d,count:f,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};_d.default=mR;var pR=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bd,"__esModule",{value:!0});const gR=pR(_d);let vR=class extends gR.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};bd.default=vR;var yR=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kl,"__esModule",{value:!0});const xR=yR(bd);let wR=class extends xR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Kl.default=wR;var bR=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wd,"__esModule",{value:!0});const ya=bR(Kl);let _R=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new ya.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ya.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ya.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new ya.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ya.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wd.default=_R;var jd={},kd={};Object.defineProperty(kd,"__esModule",{value:!0});kd.version=void 0;kd.version="0.0.0-automated";Object.defineProperty(jd,"__esModule",{value:!0});jd.DEFAULT_HEADERS=void 0;const SR=kd;jd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${SR.version}`};var v_=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vg,"__esModule",{value:!0});const jR=v_(wd),kR=v_(Kl),CR=jd;let ER=class y_{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},CR.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new jR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new y_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new kR.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};vg.default=ER;var ia=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rr,"__esModule",{value:!0});rr.PostgrestError=rr.PostgrestBuilder=rr.PostgrestTransformBuilder=rr.PostgrestFilterBuilder=rr.PostgrestQueryBuilder=rr.PostgrestClient=void 0;const x_=ia(vg);rr.PostgrestClient=x_.default;const w_=ia(wd);rr.PostgrestQueryBuilder=w_.default;const b_=ia(Kl);rr.PostgrestFilterBuilder=b_.default;const __=ia(bd);rr.PostgrestTransformBuilder=__.default;const S_=ia(_d);rr.PostgrestBuilder=S_.default;const j_=ia(Sd);rr.PostgrestError=j_.default;var NR=rr.default={PostgrestClient:x_.default,PostgrestQueryBuilder:w_.default,PostgrestFilterBuilder:b_.default,PostgrestTransformBuilder:__.default,PostgrestBuilder:S_.default,PostgrestError:j_.default};const{PostgrestClient:PR,PostgrestQueryBuilder:X3,PostgrestFilterBuilder:J3,PostgrestTransformBuilder:e5,PostgrestBuilder:t5,PostgrestError:r5}=NR,TR="2.11.2",RR={"X-Client-Info":`realtime-js/${TR}`},OR="1.0.0",k_=1e4,AR=1e3;var wo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wo||(wo={}));var ur;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ur||(ur={}));var Fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fr||(Fr={}));var Cm;(function(e){e.websocket="websocket"})(Cm||(Cm={}));var Xs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xs||(Xs={}));class IR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class C_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const Hy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=MR(o,e,t,s),i),{})},MR=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?E_(i,o):Em(o)},E_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return FR(t,r)}switch(e){case Ve.bool:return DR(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return $R(t);case Ve.json:case Ve.jsonb:return LR(t);case Ve.timestamp:return UR(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Em(t);default:return Em(t)}},Em=e=>e,DR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$R=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},LR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},FR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>E_(t,l))}return e},UR=e=>typeof e=="string"?e.replace(" ","T"):e,N_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class zf{constructor(t,r,n={},s=k_){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ky;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ky||(Ky={}));class Ha{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ha.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ha.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ha.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(x=>x.presence_ref),y=f.map(x=>x.presence_ref),w=d.filter(x=>y.indexOf(x.presence_ref)<0),p=f.filter(x=>m.indexOf(x.presence_ref)<0);w.length>0&&(l[u]=w),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(y=>y.presence_ref),m=d.filter(y=>f.indexOf(y.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gy||(Gy={}));var Qy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qy||(Qy={}));var xn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xn||(xn={}));class yg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zf(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new C_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ur.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ha(this),this.broadcastEndpointURL=N_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(xn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(xn.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(xn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,w=[];for(let p=0;p<y;p++){const x=m[p],{filter:{event:v,schema:g,table:b,filter:_}}=x,S=d&&d[p];if(S&&S.event===v&&S.schema===g&&S.table===b&&S.filter===_)w.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),t==null||t(xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(xn.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ur.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new zf(this,Fr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new zf(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Fr;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,p,x;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(p=y.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(y=>y.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,p,x,v,g,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,S=(w=y.filter)===null||w===void 0?void 0:w.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(g=(v=y==null?void 0:y.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:p,table:x,commit_timestamp:v,type:g,errors:b}=w;m=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:v,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(w))}y.callback(m,n)})}_isClosed(){return this.state===ur.closed}_isJoined(){return this.state===ur.joined}_isJoining(){return this.state===ur.joining}_isLeaving(){return this.state===ur.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&yg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fr.close,{},t)}_onError(t){this._on(Fr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ur.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Hy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Hy(t.columns,t.old_record)),r}}const zR=()=>{},BR=typeof WebSocket<"u",VR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WR{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=RR,this.params={},this.timeout=k_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zR,this.conn=null,this.sendBuffer=[],this.serializer=new IR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Ho(async()=>{const{default:c}=await Promise.resolve().then(()=>sa);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Cm.websocket}`,this.httpEndpoint=N_(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new C_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(BR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qR(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ho(async()=>{const{default:t}=await import("./browser-eyZBvCIG.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wo.connecting:return Xs.Connecting;case wo.open:return Xs.Open;case wo.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}channel(t,r={config:{}}){const n=new yg(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Fr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(AR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([VR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class qR{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class xg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _t(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class HR extends xg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nm extends xg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var KR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const P_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ho(async()=>{const{default:n}=await Promise.resolve().then(()=>sa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},GR=()=>KR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ho(()=>Promise.resolve().then(()=>sa),void 0)).Response:Response}),Pm=e=>{if(Array.isArray(e))return e.map(r=>Pm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Pm(n)}),t};var Ai=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Bf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QR=(e,t,r)=>Ai(void 0,void 0,void 0,function*(){const n=yield GR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new HR(Bf(s),e.status||500))}).catch(s=>{t(new Nm(Bf(s),s))}):t(new Nm(Bf(e),e))}),YR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Gl(e,t,r,n,s,i){return Ai(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,YR(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>QR(c,l,n))})})}function ku(e,t,r,n){return Ai(this,void 0,void 0,function*(){return Gl(e,"GET",t,r,n)})}function Jn(e,t,r,n,s){return Ai(this,void 0,void 0,function*(){return Gl(e,"POST",t,n,s,r)})}function ZR(e,t,r,n,s){return Ai(this,void 0,void 0,function*(){return Gl(e,"PUT",t,n,s,r)})}function XR(e,t,r,n){return Ai(this,void 0,void 0,function*(){return Gl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function T_(e,t,r,n,s){return Ai(this,void 0,void 0,function*(){return Gl(e,"DELETE",t,n,s,r)})}var Yt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const JR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e2{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=P_(s)}uploadOrUpdate(t,r,n,s){return Yt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Yy),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(_t(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Yt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Yy.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(_t(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Yt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Jn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new xg("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}update(t,r,n){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Yt(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Yt(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Yt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Jn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Yt(this,void 0,void 0,function*(){try{const s=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}download(t,r){return Yt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ku(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(_t(l))return{data:null,error:l};throw l}})}info(t){return Yt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ku(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Pm(n),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}exists(t){return Yt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield XR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(_t(n)&&n instanceof Nm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Yt(this,void 0,void 0,function*(){try{return{data:yield T_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}list(t,r,n){return Yt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},JR),r),{prefix:t||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const t2="2.7.1",r2={"X-Client-Info":`storage-js/${t2}`};var zi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class n2{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},r2),r),this.fetch=P_(n)}listBuckets(){return zi(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_t(t))return{data:null,error:t};throw t}})}getBucket(t){return zi(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return zi(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return zi(this,void 0,void 0,function*(){try{return{data:yield ZR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}emptyBucket(t){return zi(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}deleteBucket(t){return zi(this,void 0,void 0,function*(){try{return{data:yield T_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}}class s2 extends n2{constructor(t,r={},n){super(t,r,n)}from(t){return new e2(this.url,this.headers,t,this.fetch)}}const i2="2.49.4";let Ta="";typeof Deno<"u"?Ta="deno":typeof document<"u"?Ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ta="react-native":Ta="node";const o2={"X-Client-Info":`supabase-js-${Ta}/${i2}`},a2={headers:o2},l2={schema:"public"},c2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u2={};var d2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const f2=e=>{let t;return e?t=e:typeof fetch>"u"?t=m_:t=fetch,(...r)=>t(...r)},h2=()=>typeof Headers>"u"?p_:Headers,m2=(e,t,r)=>{const n=f2(r),s=h2();return(i,o)=>d2(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var p2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function g2(e){return e.replace(/\/$/,"")}function v2(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>p2(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const R_="2.69.1",Zi=30*1e3,Tm=3,Vf=Tm*Zi,y2="http://localhost:9999",x2="supabase.auth.token",w2={"X-Client-Info":`gotrue-js/${R_}`},Rm="X-Supabase-Api-Version",O_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_2=6e5;class wg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class S2 extends wg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function j2(e){return me(e)&&e.name==="AuthApiError"}class A_ extends wg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class zs extends wg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Kn extends zs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k2(e){return me(e)&&e.name==="AuthSessionMissingError"}class Wf extends zs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wc extends zs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bc extends zs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function C2(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zy extends zs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Om extends zs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function qf(e){return me(e)&&e.name==="AuthRetryableFetchError"}class Xy extends zs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ka extends zs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ex=` 	
\r=`.split(""),E2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ex.length;t+=1)e[ex[t].charCodeAt(0)]=-2;for(let t=0;t<Jy.length;t+=1)e[Jy[t].charCodeAt(0)]=t;return e})();function I_(e,t,r){const n=E2[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tx(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{T2(o,n,r)};for(let o=0;o<e.length;o+=1)I_(e.charCodeAt(o),s,i);return t.join("")}function N2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function P2(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}N2(n,t)}}function T2(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function R2(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)I_(e.charCodeAt(s),r,n);return new Uint8Array(t)}function O2(e){const t=[];return P2(e,r=>t.push(r)),new Uint8Array(t)}function A2(e){return Math.round(Date.now()/1e3)+e}function I2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Jr=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},Ga=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function M2(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const M_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ho(async()=>{const{default:n}=await Promise.resolve().then(()=>sa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},D2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",D_=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},_c=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Sc=async(e,t)=>{await e.removeItem(t)};class Cd{constructor(){this.promise=new Cd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Cd.promiseConstructor=Promise;function Hf(e){const t=e.split(".");if(t.length!==3)throw new Ka("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!b2.test(t[n]))throw new Ka("JWT not in base64url format");return{header:JSON.parse(tx(t[0])),payload:JSON.parse(tx(t[1])),signature:R2(t[2]),raw:{header:t[0],payload:t[1]}}}async function $2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function L2(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function F2(e){return("0"+e.toString(16)).substr(-2)}function U2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,F2).join("")}async function z2(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function B2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await z2(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bi(e,t,r=!1){const n=U2();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await D_(e,`${t}-code-verifier`,s);const i=await B2(n);return[i,n===i?"plain":"s256"]}const V2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function W2(e){const t=e.headers.get(Rm);if(!t||!t.match(V2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function q2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function H2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var K2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ys=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),G2=[502,503,504];async function rx(e){var t;if(!D2(e))throw new Om(Ys(e),0);if(G2.includes(e.status))throw new Om(Ys(e),e.status);let r;try{r=await e.json()}catch(i){throw new A_(Ys(i),i)}let n;const s=W2(e);if(s&&s.getTime()>=O_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Xy(Ys(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Kn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Xy(Ys(r),e.status,r.weak_password.reasons);throw new S2(Ys(r),e.status||500,n)}const Q2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ke(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Rm]||(i[Rm]=O_["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Y2(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Y2(e,t,r,n,s,i){const o=Q2(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Om(Ys(c),0)}if(l.ok||await rx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await rx(c)}}function Gn(e){var t;let r=null;eO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=A2(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nx(e){const t=Gn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function rs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Z2(e){return{data:e,error:null}}function X2(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=K2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function J2(e){return e}function eO(e){return e.access_token&&e.refresh_token&&e.expires_in}var tO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class rO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=M_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:rs})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=tO(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:X2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rs})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:J2});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const p=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rs})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:rs})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:rs})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}}const nO={getItem:e=>Ga()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ga()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ga()&&globalThis.localStorage.removeItem(e)}};function sx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function sO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vi={debug:!!(globalThis&&Ga()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iO extends $_{}async function oO(e,t,r){Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}sO();const aO={url:y2,storageKey:x2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:w2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ix(e,t,r){return await r()}class Sl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sl.nextInstanceID,Sl.nextInstanceID+=1,this.instanceID>0&&Jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},aO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new rO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=M_(s.fetch),this.lock=s.lock||ix,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Jr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=oO:this.lock=ix,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ga()?this.storage=nO:(this.memoryStorage={},this.storage=sx(this.memoryStorage)):(this.memoryStorage={},this.storage=sx(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=M2(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),C2(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return me(r)?{error:r}:{error:new A_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Bi(this.storage,this.storageKey)),i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:w},xform:Gn})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Gn})}else throw new wc("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nx})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nx})}else throw new wc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Wf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await _c(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Gn});if(await Sc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Wf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(me(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Wf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Bi(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new wc("You must provide either an email or phone number.")}catch(l){if(me(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Gn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Bi(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Z2})}catch(i){if(me(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Kn;const{error:s}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new wc("You must provide either an email or phone number and a type")}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await _c(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Vf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:rs}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kn}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:rs})})}catch(r){if(me(r))return k2(r)&&(await this._removeSession(),await Sc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Kn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Bi(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:rs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Hf(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Kn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Jr())throw new bc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zy("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new bc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const y=m-d;y*1e3<=Zi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const w=m-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await _c(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(j2(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Sc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=I2(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Bi(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(me(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(me(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await L2(async s=>(s>0&&await $2(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&qf(i)&&Date.now()+o-n<Zi})}catch(n){if(this._debug(r,"error",n),me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await _c(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Vf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Vf}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),qf(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Kn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Cd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Kn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),me(i)){const o={session:null,error:i};return qf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await D_(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Sc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Zi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zi}ms, refresh threshold is ${Tm} ticks`),s<=Tm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Bi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Hf(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+_2>Date.now()))return n;const{data:s,error:i}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ka("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Ka("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Hf(n);if(q2(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const u=H2(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,O2(`${l}.${c}`)))throw new Ka("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}Sl.nextInstanceID=0;const lO=Sl;class cO extends lO{constructor(t){super(t)}}var uO=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class dO{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=g2(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:l2,realtime:u2,auth:Object.assign(Object.assign({},c2),{storageKey:c}),global:a2},d=v2(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=m2(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new PR(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new iR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new s2(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return uO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cO({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new WR(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fO=(e,t,r)=>new dO(e,t,r),hO="https://fshdsmmyuvhqwngkzndm.supabase.co",mO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzaGRzbW15dXZocXduZ2t6bmRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczODkzMTIsImV4cCI6MjA2Mjk2NTMxMn0.6sgzv8A8x2nMgLOjAf44lXB72L70FxkhUbtrBml7onM",H=fO(hO,mO,{auth:{persistSession:!0,autoRefreshToken:!0,storage:localStorage}}),pO=1,gO=1e6;let Kf=0;function vO(){return Kf=(Kf+1)%Number.MAX_SAFE_INTEGER,Kf.toString()}const Gf=new Map,ox=e=>{if(Gf.has(e))return;const t=setTimeout(()=>{Gf.delete(e),Qa({type:"REMOVE_TOAST",toastId:e})},gO);Gf.set(e,t)},yO=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,pO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ox(r):e.toasts.forEach(n=>{ox(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Kc=[];let Gc={toasts:[]};function Qa(e){Gc=yO(Gc,e),Kc.forEach(t=>{t(Gc)})}function si({...e}){const t=vO(),r=s=>Qa({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Qa({type:"DISMISS_TOAST",toastId:t});return Qa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Rt(){const[e,t]=h.useState(Gc);return h.useEffect(()=>(Kc.push(t),()=>{const r=Kc.indexOf(t);r>-1&&Kc.splice(r,1)}),[e]),{...e,toast:si,dismiss:r=>Qa({type:"DISMISS_TOAST",toastId:r})}}const xO=async e=>{try{const{data:t,error:r}=await H.from("profiles").select("*").eq("id",e).single();return r?(console.error("Error fetching user profile:",r),null):t?{id:t.id,name:t.name||"User",email:t.email||"",role:t.role||"customer",avatar:"",createdAt:new Date(t.created_at||Date.now()),updatedAt:new Date(t.updated_at||Date.now())}:null}catch(t){return console.error("Error in getUserProfile:",t),null}},qr=()=>{console.log("Cleaning up auth state..."),localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&(console.log(`Removing localStorage key: ${e}`),localStorage.removeItem(e))}),Object.keys(sessionStorage||{}).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&(console.log(`Removing sessionStorage key: ${e}`),sessionStorage.removeItem(e))}),localStorage.removeItem("sb-access-token"),localStorage.removeItem("sb-refresh-token"),sessionStorage.removeItem("sb-access-token"),sessionStorage.removeItem("sb-refresh-token")},ax=async()=>{try{console.log("Fetching current user...");const{data:{session:e},error:t}=await H.auth.getSession();if(t)return console.error("Error getting session:",t),qr(),null;if(!e)return console.log("No active session found"),null;console.log("Active session found, fetching user profile...");const r=await xO(e.user.id);return r||(console.error("User profile not found, cleaning up auth state"),qr(),null)}catch(e){return console.error("Error in fetchCurrentUser:",e),qr(),null}};function wO(){const[e,t]=h.useState(null),[r,n]=h.useState(!0),s=h.useRef(!1),i=h.useRef(null);return h.useEffect(()=>{if(s.current)return;s.current=!0,console.log("Initializing auth state...");const{data:{subscription:o}}=H.auth.onAuthStateChange(async(c,u)=>{console.log("Auth state changed:",c,u?"with session":"no session");const d=u?`${u.user.id}-${u.access_token.substring(0,10)}`:null;if(d===i.current&&c!=="SIGNED_OUT"){console.log("Duplicate session event, skipping...");return}if(i.current=d,c==="SIGNED_OUT"||!u){console.log("User signed out or no session"),t(null),n(!1),c==="SIGNED_OUT"&&qr();return}(c==="SIGNED_IN"||c==="TOKEN_REFRESHED")&&setTimeout(async()=>{try{console.log("Processing sign in/token refresh...");const f=await ax();console.log("User data fetched:",f?"success":"failed"),t(f)}catch(f){console.error("Error fetching user data:",f),t(null),qr()}finally{n(!1)}},100)});return(async()=>{try{console.log("Checking for existing session...");const c=new Promise((f,m)=>{setTimeout(()=>m(new Error("Session check timeout")),5e3)}),u=ax(),d=await Promise.race([u,c]);console.log("Session check result:",d?"user found":"no user"),t(d)}catch(c){console.error("Error checking session:",c),t(null),qr()}finally{n(!1)}})(),()=>{console.log("Cleaning up auth state listener"),o.unsubscribe(),s.current=!1}},[]),[{user:e,loading:r},t]}const bO=async(e,t)=>{try{console.log("Starting sign in process..."),qr();try{console.log("Attempting global sign out before sign in..."),await H.auth.signOut({scope:"global"}),await new Promise(s=>setTimeout(s,500))}catch(s){console.log("Pre-auth signout failed, continuing:",s)}console.log("Attempting to sign in with email/password...");const{data:r,error:n}=await H.auth.signInWithPassword({email:e,password:t});return n?(console.error("Sign in error:",n),n.message.includes("Email not confirmed")?si({title:"Email not confirmed",description:"Please check your email for the confirmation link or request a new one.",variant:"destructive"}):si({title:"Login failed",description:n.message,variant:"destructive"}),{user:null,error:n}):(r.user&&(console.log("Sign in successful, user:",r.user.id),si({title:"Login successful",description:"Welcome back!",variant:"default"})),{user:r.user,error:null})}catch(r){return console.error("Unexpected error during sign in:",r),qr(),si({title:"Login failed",description:"An unexpected error occurred",variant:"destructive"}),{user:null,error:r}}},_O=async(e,t,r)=>{try{qr();const{data:n,error:s}=await H.auth.signUp({email:e,password:t,options:{data:{name:r},emailRedirectTo:window.location.origin+"/stock2store/login"}});return s?(si({title:"Registration failed",description:s.message,variant:"destructive"}),{user:null,error:s}):(await H.auth.signOut(),si({title:"Registration successful",description:"Please check your email for confirmation instructions.",variant:"default"}),{user:n.user,error:null})}catch(n){return console.error("Unexpected error during sign up:",n),{user:null,error:n}}},SO=async()=>{try{console.log("Starting sign out process..."),qr();const{error:e}=await H.auth.signOut({scope:"global"});return e?(console.error("Sign out error:",e),{error:e}):(console.log("Sign out successful"),setTimeout(()=>{window.location.href="/stock2store/login"},200),{error:null})}catch(e){return console.error("Unexpected error during sign out:",e),window.location.href="/stock2store/login",{error:e}}},jO={admin:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"warehouse",action:"manage"},{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"analytics",action:"view"},{resource:"users",action:"view"},{resource:"users",action:"manage"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"},{resource:"cart",action:"view"},{resource:"cart",action:"update"},{resource:"returns",action:"view"},{resource:"returns",action:"manage"}],warehouse:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"warehouse",action:"manage"},{resource:"store",action:"view"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"}],customer:[{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"},{resource:"cart",action:"view"},{resource:"cart",action:"update"},{resource:"returns",action:"view"},{resource:"returns",action:"manage"}],analyst:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"analytics",action:"view"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"cart",action:"view"},{resource:"cart",action:"update"}]},L_=async()=>{try{const{data:e,error:t}=await H.from("roles").select("id").limit(1),{data:r,error:n}=await H.from("permissions").select("id").limit(1);return t||n?(console.log("Error checking RBAC initialization:",t||n),!1):e&&e.length>0&&r&&r.length>0}catch(e){return console.error("Error checking RBAC initialization:",e),!1}},lx=(e,t,r)=>(jO[e]||[]).some(s=>s.resource===t&&s.action===r),kO=async e=>{try{const{data:{session:t}}=await H.auth.getSession();if(!(t!=null&&t.user))return!1;const{data:r}=await H.from("profiles").select("role").eq("id",t.user.id).single();return(r==null?void 0:r.role)===e}catch(t){return console.error("Error checking user role:",t),!1}},CO=async(e,t)=>{try{const{data:{session:r}}=await H.auth.getSession();if(!(r!=null&&r.user))return console.log("No user session found"),!1;const{data:n}=await H.from("profiles").select("role").eq("id",r.user.id).single();if(!(n!=null&&n.role))return console.log("No user role found in profile"),!1;const s=n.role;if(console.log(`Checking permission for ${e}:${t} for role: ${s}`),!await L_()){console.log("RBAC not initialized, using fallback permissions for role:",s);const c=lx(s,e,t);return console.log(`Fallback permission result: ${c}`),c}console.log("Using full RBAC system for permission check");const{data:o,error:l}=await H.rpc("user_has_permission",{user_id:r.user.id,req_resource:e,req_action:t});if(l){console.error("Error checking permissions via RPC:",l),console.log("Falling back to role-based permissions due to RPC error");const c=lx(s,e,t);return console.log(`Fallback permission result after RPC error: ${c}`),c}return console.log(`RPC permission result: ${!!o}`),!!o}catch(r){return console.error("Error checking user permissions:",r),!1}},EO=async()=>{try{return await L_()?(console.log("RBAC system already initialized"),!0):(console.log("RBAC system not initialized, but this should be handled by the SQL migration"),!1)}catch(e){return console.error("Error initializing RBAC system:",e),!1}},NO=async(e,t)=>{try{const{data:{session:r}}=await H.auth.getSession();if(!(r!=null&&r.user))return console.error("No user session found"),!1;if(!await kO("admin"))return console.error("User is not admin, cannot update roles"),!1;const{error:s}=await H.from("profiles").update({role:t}).eq("id",e);return s?(console.error("Error updating user role:",s),!1):(console.log(`Successfully updated user ${e} role to ${t}`),!0)}catch(r){return console.error("Error updating user role:",r),!1}},PO=({children:e})=>{const[{user:t,loading:r},n]=wO(),{toast:s}=Rt();h.useEffect(()=>{t&&t.role==="admin"&&!r&&(async()=>{try{console.log("Initializing RBAC for admin user...");const c=await EO();console.log(c?"RBAC system initialized successfully":"RBAC system was already initialized")}catch(c){console.error("Error initializing RBAC system:",c)}})()},[t==null?void 0:t.id,t==null?void 0:t.role,r]);const o={user:t,loading:r,signOut:async()=>{try{await SO(),n(null)}catch(l){console.error("Error during sign out:",l),s({title:"Sign out failed",description:"An error occurred while signing out. Please try again.",variant:"destructive"})}}};return a.jsx(h_.Provider,{value:o,children:e})},TO={items:[],total:0,itemCount:0,isLoading:!1};function F_(e,t){switch(t.type){case"ADD_ITEM":{const{product:r,quantity:n}=t.payload,s=e.items.find(c=>c.product.id===r.id);let i;if(s)i=e.items.map(c=>c.product.id===r.id?{...c,quantity:Math.min(c.quantity+n,r.stock)}:c);else{const c={id:`cart-${r.id}-${Date.now()}`,product:r,quantity:Math.min(n,r.stock),addedAt:new Date,status:r.stock>0?"available":"unavailable"};i=[...e.items,c]}const o=i.reduce((c,u)=>c+u.product.price*u.quantity,0),l=i.reduce((c,u)=>c+u.quantity,0);return{...e,items:i,total:o,itemCount:l}}case"REMOVE_ITEM":{const r=e.items.filter(i=>i.product.id!==t.payload.productId),n=r.reduce((i,o)=>i+o.product.price*o.quantity,0),s=r.reduce((i,o)=>i+o.quantity,0);return{...e,items:r,total:n,itemCount:s}}case"UPDATE_QUANTITY":{const{productId:r,quantity:n}=t.payload;if(n<=0)return F_(e,{type:"REMOVE_ITEM",payload:{productId:r}});const s=e.items.map(l=>l.product.id===r?{...l,quantity:Math.min(n,l.product.stock)}:l),i=s.reduce((l,c)=>l+c.product.price*c.quantity,0),o=s.reduce((l,c)=>l+c.quantity,0);return{...e,items:s,total:i,itemCount:o}}case"UPDATE_ITEM_STATUS":{const{productId:r,status:n}=t.payload,s=e.items.map(i=>i.product.id===r?{...i,status:n}:i);return{...e,items:s}}case"CLEAR_CART":return{...e,items:[],total:0,itemCount:0};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ITEMS":{const r=t.payload,n=r.reduce((i,o)=>i+o.product.price*o.quantity,0),s=r.reduce((i,o)=>i+o.quantity,0);return{...e,items:r,total:n,itemCount:s}}default:return e}}const U_=h.createContext(void 0);function RO({children:e}){const[t,r]=h.useReducer(F_,TO),{user:n}=Un(),{toast:s}=Rt();h.useEffect(()=>{if(n){const f=localStorage.getItem(`cart-${n.id}`);if(f)try{const m=JSON.parse(f);r({type:"SET_ITEMS",payload:m})}catch(m){console.error("Error loading cart from localStorage:",m)}}},[n]),h.useEffect(()=>{n&&t.items.length>=0&&localStorage.setItem(`cart-${n.id}`,JSON.stringify(t.items))},[t.items,n]);const i=(f,m=1)=>{if(f.stock<=0){s({title:"Product unavailable",description:"This product is currently out of stock.",variant:"destructive"});return}const y=u(f.id);if(y+m>f.stock){s({title:"Insufficient stock",description:`Only ${f.stock} items available. You already have ${y} in your cart.`,variant:"destructive"});return}r({type:"ADD_ITEM",payload:{product:f,quantity:m}}),s({title:"Added to cart",description:`${f.name} has been added to your cart.`})},o=f=>{r({type:"REMOVE_ITEM",payload:{productId:f}}),s({title:"Removed from cart",description:"Item has been removed from your cart."})},l=(f,m)=>{r({type:"UPDATE_QUANTITY",payload:{productId:f,quantity:m}})},c=()=>{r({type:"CLEAR_CART"}),s({title:"Cart cleared",description:"All items have been removed from your cart."})},u=f=>{const m=t.items.find(y=>y.product.id===f);return(m==null?void 0:m.quantity)||0},d={...t,addToCart:i,removeFromCart:o,updateQuantity:l,clearCart:c,getCartItemQuantity:u};return a.jsx(U_.Provider,{value:d,children:e})}function bg(){const e=h.useContext(U_);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}function J(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function OO(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ed(...e){return t=>e.forEach(r=>OO(r,t))}function ze(...e){return h.useCallback(Ed(...e),e)}function AO(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:m,children:y,...w}=f,p=(m==null?void 0:m[e][c])||l,x=h.useMemo(()=>w,Object.values(w));return a.jsx(p.Provider,{value:x,children:y})}function d(f,m){const y=(m==null?void 0:m[e][c])||l,w=h.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,IO(s,...t)]}function IO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Es=h.forwardRef((e,t)=>{const{children:r,...n}=e,s=h.Children.toArray(r),i=s.find(DO);if(i){const o=i.props.children,l=s.map(c=>c===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:c);return a.jsx(Am,{...n,ref:t,children:h.isValidElement(o)?h.cloneElement(o,void 0,l):null})}return a.jsx(Am,{...n,ref:t,children:r})});Es.displayName="Slot";var Am=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const s=LO(r);return h.cloneElement(r,{...$O(n,r.props),ref:t?Ed(t,s):s})}return h.Children.count(r)>1?h.Children.only(null):null});Am.displayName="SlotClone";var MO=({children:e})=>a.jsx(a.Fragment,{children:e});function DO(e){return h.isValidElement(e)&&e.type===MO}function $O(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function LO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Nd(e){const t=e+"CollectionProvider",[r,n]=AO(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:p}=y,x=xe.useRef(null),v=xe.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:v,collectionRef:x,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=xe.forwardRef((y,w)=>{const{scope:p,children:x}=y,v=i(l,p),g=ze(w,v.collectionRef);return a.jsx(Es,{ref:g,children:x})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=xe.forwardRef((y,w)=>{const{scope:p,children:x,...v}=y,g=xe.useRef(null),b=ze(w,g),_=i(u,p);return xe.useEffect(()=>(_.itemMap.set(g,{ref:g,...v}),()=>void _.itemMap.delete(g))),a.jsx(Es,{[d]:"",ref:b,children:x})});f.displayName=u;function m(y){const w=i(e+"CollectionConsumer",y);return xe.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((_,S)=>v.indexOf(_.ref.current)-v.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,n]}function Ii(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:m,children:y,...w}=f,p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=h.useMemo(()=>w,Object.values(w));return a.jsx(p.Provider,{value:x,children:y})};u.displayName=i+"Provider";function d(f,m){var p;const y=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,w=h.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,FO(s,...t)]}function FO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var UO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=UO.reduce((e,t)=>{const r=h.forwardRef((n,s)=>{const{asChild:i,...o}=n,l=i?Es:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function _g(e,t){e&&Ls.flushSync(()=>e.dispatchEvent(t))}function Tt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function zO(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var BO="DismissableLayer",Im="dismissableLayer.update",VO="dismissableLayer.pointerDownOutside",WO="dismissableLayer.focusOutside",cx,z_=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pd=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=h.useContext(z_),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),w=ze(t,j=>f(j)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),g=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=v,S=HO(j=>{const E=j.target,T=[...u.branches].some(A=>A.contains(E));!_||T||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},m),C=KO(j=>{const E=j.target;[...u.branches].some(A=>A.contains(E))||(i==null||i(j),o==null||o(j),j.defaultPrevented||l==null||l())},m);return zO(j=>{g===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(cx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ux(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=cx)}},[d,m,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ux())},[d,u]),h.useEffect(()=>{const j=()=>y({});return document.addEventListener(Im,j),()=>document.removeEventListener(Im,j)},[]),a.jsx(ue.div,{...c,ref:w,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:J(e.onFocusCapture,C.onFocusCapture),onBlurCapture:J(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:J(e.onPointerDownCapture,S.onPointerDownCapture)})});Pd.displayName=BO;var qO="DismissableLayerBranch",B_=h.forwardRef((e,t)=>{const r=h.useContext(z_),n=h.useRef(null),s=ze(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(ue.div,{...e,ref:s})});B_.displayName=qO;function HO(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){V_(VO,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function KO(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e),n=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!n.current&&V_(WO,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ux(){const e=new CustomEvent(Im);document.dispatchEvent(e)}function V_(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?_g(s,i):s.dispatchEvent(i)}var GO=Pd,QO=B_,kt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},YO="Portal",Td=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=h.useState(!1);kt(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?qb.createPortal(a.jsx(ue.div,{...n,ref:t}),o):null});Td.displayName=YO;function ZO(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Bs=e=>{const{present:t,children:r}=e,n=XO(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=ze(n.ref,JO(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:i}):null};Bs.displayName="Presence";function XO(e){const[t,r]=h.useState(),n=h.useRef({}),s=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ZO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=jc(n.current);i.current=l==="mounted"?u:"none"},[l]),kt(()=>{const u=n.current,d=s.current;if(d!==e){const m=i.current,y=jc(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),kt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=y=>{const p=jc(n.current).includes(y.animationName);if(y.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=y=>{y.target===t&&(i.current=jc(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function jc(e){return(e==null?void 0:e.animationName)||"none"}function JO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bi({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=eA({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Tt(r),c=h.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[i,e,s,l]);return[o,c]}function eA({defaultProp:e,onChange:t}){const r=h.useState(e),[n]=r,s=h.useRef(n),i=Tt(t);return h.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var tA="VisuallyHidden",Rd=h.forwardRef((e,t)=>a.jsx(ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Rd.displayName=tA;var Sg="ToastProvider",[jg,rA,nA]=Nd("Toast"),[W_,n5]=Ii("Toast",[nA]),[sA,Od]=W_(Sg),q_=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Sg}\`. Expected non-empty \`string\`.`),a.jsx(jg.Provider,{scope:t,children:a.jsx(sA,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(y=>y+1),[]),onToastRemove:h.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};q_.displayName=Sg;var H_="ToastViewport",iA=["F8"],Mm="toast.viewportPause",Dm="toast.viewportResume",K_=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=iA,label:s="Notifications ({hotkey})",...i}=e,o=Od(H_,r),l=rA(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=ze(t,f,o.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;h.useEffect(()=>{const x=v=>{var b;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),h.useEffect(()=>{const x=c.current,v=f.current;if(w&&x&&v){const g=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Mm);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Dm);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},_=C=>{!x.contains(C.relatedTarget)&&b()},S=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",g),x.addEventListener("focusout",_),x.addEventListener("pointermove",g),x.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",g),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",g),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const p=h.useCallback(({tabbingDirection:x})=>{const g=l().map(b=>{const _=b.ref.current,S=[_,...yA(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?g.reverse():g).flat()},[l]);return h.useEffect(()=>{const x=f.current;if(x){const v=g=>{var S,C,j;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const E=document.activeElement,T=g.shiftKey;if(g.target===x&&T){(S=u.current)==null||S.focus();return}const P=p({tabbingDirection:T?"backwards":"forwards"}),$=P.findIndex(D=>D===E);Qf(P.slice($+1))?g.preventDefault():T?(C=u.current)==null||C.focus():(j=d.current)==null||j.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[l,p]),a.jsxs(QO,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx($m,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});Qf(x)}}),a.jsx(jg.Slot,{scope:r,children:a.jsx(ue.ol,{tabIndex:-1,...i,ref:m})}),w&&a.jsx($m,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});Qf(x)}})]})});K_.displayName=H_;var G_="ToastFocusProxy",$m=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Od(G_,r);return a.jsx(Rd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});$m.displayName=G_;var Ad="Toast",oA="toast.swipeStart",aA="toast.swipeMove",lA="toast.swipeCancel",cA="toast.swipeEnd",Q_=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l=!0,c]=bi({prop:n,defaultProp:s,onChange:i});return a.jsx(Bs,{present:r||l,children:a.jsx(fA,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Tt(e.onPause),onResume:Tt(e.onResume),onSwipeStart:J(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:J(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Q_.displayName=Ad;var[uA,dA]=W_(Ad,{onClose(){}}),fA=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:y,...w}=e,p=Od(Ad,r),[x,v]=h.useState(null),g=ze(t,D=>v(D)),b=h.useRef(null),_=h.useRef(null),S=s||p.duration,C=h.useRef(0),j=h.useRef(S),E=h.useRef(0),{onToastAdd:T,onToastRemove:A}=p,U=Tt(()=>{var K;(x==null?void 0:x.contains(document.activeElement))&&((K=p.viewport)==null||K.focus()),o()}),P=h.useCallback(D=>{!D||D===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(U,D))},[U]);h.useEffect(()=>{const D=p.viewport;if(D){const K=()=>{P(j.current),u==null||u()},L=()=>{const G=new Date().getTime()-C.current;j.current=j.current-G,window.clearTimeout(E.current),c==null||c()};return D.addEventListener(Mm,L),D.addEventListener(Dm,K),()=>{D.removeEventListener(Mm,L),D.removeEventListener(Dm,K)}}},[p.viewport,S,c,u,P]),h.useEffect(()=>{i&&!p.isClosePausedRef.current&&P(S)},[i,S,p.isClosePausedRef,P]),h.useEffect(()=>(T(),()=>A()),[T,A]);const $=h.useMemo(()=>x?r1(x):null,[x]);return p.viewport?a.jsxs(a.Fragment,{children:[$&&a.jsx(hA,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),a.jsx(uA,{scope:r,onClose:U,children:Ls.createPortal(a.jsx(jg.ItemSlot,{scope:r,children:a.jsx(GO,{asChild:!0,onEscapeKeyDown:J(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||U(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:J(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:J(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:J(e.onPointerMove,D=>{if(!b.current)return;const K=D.clientX-b.current.x,L=D.clientY-b.current.y,G=!!_.current,O=["left","right"].includes(p.swipeDirection),I=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,W=O?I(0,K):0,ne=O?0:I(0,L),ge=D.pointerType==="touch"?10:2,ut={x:W,y:ne},Be={originalEvent:D,delta:ut};G?(_.current=ut,kc(aA,f,Be,{discrete:!1})):dx(ut,p.swipeDirection,ge)?(_.current=ut,kc(oA,d,Be,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(K)>ge||Math.abs(L)>ge)&&(b.current=null)}),onPointerUp:J(e.onPointerUp,D=>{const K=_.current,L=D.target;if(L.hasPointerCapture(D.pointerId)&&L.releasePointerCapture(D.pointerId),_.current=null,b.current=null,K){const G=D.currentTarget,O={originalEvent:D,delta:K};dx(K,p.swipeDirection,p.swipeThreshold)?kc(cA,y,O,{discrete:!0}):kc(lA,m,O,{discrete:!0}),G.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),hA=e=>{const{__scopeToast:t,children:r,...n}=e,s=Od(Ad,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return gA(()=>o(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Td,{asChild:!0,children:a.jsx(Rd,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},mA="ToastTitle",Y_=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});Y_.displayName=mA;var pA="ToastDescription",Z_=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});Z_.displayName=pA;var X_="ToastAction",J_=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(t1,{altText:r,asChild:!0,children:a.jsx(kg,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${X_}\`. Expected non-empty \`string\`.`),null)});J_.displayName=X_;var e1="ToastClose",kg=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=dA(e1,r);return a.jsx(t1,{asChild:!0,children:a.jsx(ue.button,{type:"button",...n,ref:t,onClick:J(e.onClick,s.onClose)})})});kg.displayName=e1;var t1=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function r1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),vA(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...r1(n))}}),t}function kc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?_g(s,i):s.dispatchEvent(i)}var dx=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function gA(e=()=>{}){const t=Tt(e);kt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function vA(e){return e.nodeType===e.ELEMENT_NODE}function yA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Qf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var xA=q_,n1=K_,s1=Q_,i1=Y_,o1=Z_,a1=J_,l1=kg;function c1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=c1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function u1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=c1(e))&&(n&&(n+=" "),n+=t);return n}const fx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,hx=u1,Id=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return hx(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const m=fx(d)||fx(f);return s[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...y}=d;return Object.entries(y).every(w=>{let[p,x]=w;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,f,m]:u},[]);return hx(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...bA,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:d1("lucide",s),...l},[...o.map(([u,d])=>h.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const r=h.forwardRef(({className:n,...s},i)=>h.createElement(_A,{ref:i,iconNode:t,className:d1(`lucide-${wA(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=oe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=oe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=oe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=oe("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=oe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=oe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=oe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=oe("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=oe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=oe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=oe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=oe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Pg="-",qA=e=>{const t=KA(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Pg);return l[0]===""&&l.length!==1&&l.shift(),b1(l,t)||HA(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},b1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?b1(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Pg);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},wx=/^\[(.+)\]$/,HA=e=>{if(wx.test(e)){const t=wx.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},KA=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return QA(Object.entries(e.classGroups),r).forEach(([i,o])=>{Um(o,n,i,t)}),n},Um=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:bx(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(GA(s)){Um(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Um(o,bx(t,i),r,n)})})},bx=(e,t)=>{let r=e;return t.split(Pg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},GA=e=>e.isThemeGetter,QA=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,YA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},_1="!",ZA=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let v=l[x];if(u===0){if(v===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const m=c.length===0?l:l.substring(d),y=m.startsWith(_1),w=y?m.substring(1):m,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},XA=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},JA=e=>({cache:YA(e.cacheSize),parseClassName:ZA(e),...qA(e)}),eI=/\s+/,tI=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(eI);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=r(u);let w=!!y,p=n(w?m.substring(0,y):m);if(!p){if(!w){l=u+(l.length>0?" "+l:l);continue}if(p=n(m),!p){l=u+(l.length>0?" "+l:l);continue}w=!1}const x=XA(d).join(":"),v=f?x+_1:x,g=v+p;if(i.includes(g))continue;i.push(g);const b=s(p,w);for(let _=0;_<b.length;++_){const S=b[_];i.push(v+S)}l=u+(l.length>0?" "+l:l)}return l};function rI(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=S1(t))&&(n&&(n+=" "),n+=r);return n}const S1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=S1(e[n]))&&(r&&(r+=" "),r+=t);return r};function nI(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=JA(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=tI(c,r);return s(c,d),d}return function(){return i(rI.apply(null,arguments))}}const He=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},j1=/^\[(?:([a-z-]+):)?(.+)\]$/i,sI=/^\d+\/\d+$/,iI=new Set(["px","full","screen"]),oI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mn=e=>bo(e)||iI.has(e)||sI.test(e),Vn=e=>oa(e,"length",yI),bo=e=>!!e&&!Number.isNaN(Number(e)),Yf=e=>oa(e,"number",bo),xa=e=>!!e&&Number.isInteger(Number(e)),dI=e=>e.endsWith("%")&&bo(e.slice(0,-1)),he=e=>j1.test(e),Wn=e=>oI.test(e),fI=new Set(["length","size","percentage"]),hI=e=>oa(e,fI,k1),mI=e=>oa(e,"position",k1),pI=new Set(["image","url"]),gI=e=>oa(e,pI,wI),vI=e=>oa(e,"",xI),wa=()=>!0,oa=(e,t,r)=>{const n=j1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},yI=e=>aI.test(e)&&!lI.test(e),k1=()=>!1,xI=e=>cI.test(e),wI=e=>uI.test(e),bI=()=>{const e=He("colors"),t=He("spacing"),r=He("blur"),n=He("brightness"),s=He("borderColor"),i=He("borderRadius"),o=He("borderSpacing"),l=He("borderWidth"),c=He("contrast"),u=He("grayscale"),d=He("hueRotate"),f=He("invert"),m=He("gap"),y=He("gradientColorStops"),w=He("gradientColorStopPositions"),p=He("inset"),x=He("margin"),v=He("opacity"),g=He("padding"),b=He("saturate"),_=He("scale"),S=He("sepia"),C=He("skew"),j=He("space"),E=He("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",he,t],P=()=>[he,t],$=()=>["",mn,Vn],D=()=>["auto",bo,he],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",he],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[bo,he];return{cacheSize:500,separator:":",theme:{colors:[wa],spacing:[mn,Vn],blur:["none","",Wn,he],brightness:ne(),borderColor:[e],borderRadius:["none","","full",Wn,he],borderSpacing:P(),borderWidth:$(),contrast:ne(),grayscale:I(),hueRotate:ne(),invert:I(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[dI,Vn],inset:U(),margin:U(),opacity:ne(),padding:P(),saturate:ne(),scale:ne(),sepia:I(),skew:ne(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[Wn]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),he]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xa,he]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",xa,he]}],"grid-cols":[{"grid-cols":[wa]}],"col-start-end":[{col:["auto",{span:["full",xa,he]},he]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[wa]}],"row-start-end":[{row:["auto",{span:[xa,he]},he]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,t]}],"min-w":[{"min-w":[he,t,"min","max","fit"]}],"max-w":[{"max-w":[he,t,"none","full","min","max","fit","prose",{screen:[Wn]},Wn]}],h:[{h:[he,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wn,Vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yf]}],"font-family":[{font:[wa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",bo,Yf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mn,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mn,Vn]}],"underline-offset":[{"underline-offset":["auto",mn,he]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),mI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[mn,he]}],"outline-w":[{outline:[mn,Vn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[mn,Vn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wn,vI]}],"shadow-color":[{shadow:[wa]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Wn,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[xa,he]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mn,Vn,Yf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_I=nI(bI);function re(...e){return _I(u1(e))}const SI=xA,C1=h.forwardRef(({className:e,...t},r)=>a.jsx(n1,{ref:r,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));C1.displayName=n1.displayName;const jI=Id("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),E1=h.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(s1,{ref:n,className:re(jI({variant:t}),e),...r}));E1.displayName=s1.displayName;const kI=h.forwardRef(({className:e,...t},r)=>a.jsx(a1,{ref:r,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));kI.displayName=a1.displayName;const N1=h.forwardRef(({className:e,...t},r)=>a.jsx(l1,{ref:r,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Dd,{className:"h-4 w-4"})}));N1.displayName=l1.displayName;const P1=h.forwardRef(({className:e,...t},r)=>a.jsx(i1,{ref:r,className:re("text-sm font-semibold",e),...t}));P1.displayName=i1.displayName;const T1=h.forwardRef(({className:e,...t},r)=>a.jsx(o1,{ref:r,className:re("text-sm opacity-90",e),...t}));T1.displayName=o1.displayName;function CI(){const{toasts:e}=Rt();return a.jsxs(SI,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(E1,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(P1,{children:r}),n&&a.jsx(T1,{children:n})]}),s,a.jsx(N1,{})]},t)}),a.jsx(C1,{})]})}const Zr=({children:e,resource:t,action:r,fallbackPath:n="/login"})=>{const{user:s,loading:i}=Un(),o=Fn(),{toast:l}=Rt(),[c,u]=h.useState(!1),[d,f]=h.useState(!1);return h.useEffect(()=>{(async()=>{if(!s||i){u(!1),f(!i);return}try{console.log(`Checking permission for ${t}:${r} for user role: ${s.role}`);const y=await CO(t,r);console.log(`Permission result for ${t}:${r}: ${y}`),u(y),y||(console.log(`Access denied for ${t}:${r}, redirecting to ${n}`),l({title:"Access denied",description:"You don't have permission to access this resource.",variant:"destructive"}))}catch(y){console.error("Error checking permission:",y),u(!1)}finally{f(!0)}})()},[s==null?void 0:s.id,s==null?void 0:s.role,i,t,r,l,n]),i||!d?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?c?a.jsx(a.Fragment,{children:e}):a.jsx(Oy,{to:n,state:{from:o},replace:!0}):a.jsx(Oy,{to:"/login",state:{from:o},replace:!0})},de=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));de.displayName="Card";const we=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:re("flex flex-col space-y-1.5 p-6",e),...t}));we.displayName="CardHeader";const be=h.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));be.displayName="CardTitle";const nt=h.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:re("text-sm text-muted-foreground",e),...t}));nt.displayName="CardDescription";const ve=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:re("p-6 pt-0",e),...t}));ve.displayName="CardContent";const R1=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:re("flex items-center p-6 pt-0",e),...t}));R1.displayName="CardFooter";function EI(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:m,children:y,...w}=f,p=(m==null?void 0:m[e][c])||l,x=h.useMemo(()=>w,Object.values(w));return a.jsx(p.Provider,{value:x,children:y})}function d(f,m){const y=(m==null?void 0:m[e][c])||l,w=h.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,NI(s,...t)]}function NI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var PI=nd.useId||(()=>{}),TI=0;function Si(e){const[t,r]=h.useState(PI());return kt(()=>{e||r(n=>n??String(TI++))},[e]),e||(t?`radix-${t}`:"")}var RI=h.createContext(void 0);function $d(e){const t=h.useContext(RI);return e||t||"ltr"}var Zf="rovingFocusGroup.onEntryFocus",OI={bubbles:!1,cancelable:!0},Ld="RovingFocusGroup",[zm,O1,AI]=Nd(Ld),[II,Fd]=EI(Ld,[AI]),[MI,DI]=II(Ld),A1=h.forwardRef((e,t)=>a.jsx(zm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(zm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx($I,{...e,ref:t})})}));A1.displayName=Ld;var $I=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),y=ze(t,m),w=$d(i),[p=null,x]=bi({prop:o,defaultProp:l,onChange:c}),[v,g]=h.useState(!1),b=Tt(u),_=O1(r),S=h.useRef(!1),[C,j]=h.useState(0);return h.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(Zf,b),()=>E.removeEventListener(Zf,b)},[b]),a.jsx(MI,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:p,onItemFocus:h.useCallback(E=>x(E),[x]),onItemShiftTab:h.useCallback(()=>g(!0),[]),onFocusableItemAdd:h.useCallback(()=>j(E=>E+1),[]),onFocusableItemRemove:h.useCallback(()=>j(E=>E-1),[]),children:a.jsx(ue.div,{tabIndex:v||C===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:J(e.onMouseDown,()=>{S.current=!0}),onFocus:J(e.onFocus,E=>{const T=!S.current;if(E.target===E.currentTarget&&T&&!v){const A=new CustomEvent(Zf,OI);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const U=_().filter(L=>L.focusable),P=U.find(L=>L.active),$=U.find(L=>L.id===p),K=[P,$,...U].filter(Boolean).map(L=>L.ref.current);D1(K,d)}}S.current=!1}),onBlur:J(e.onBlur,()=>g(!1))})})}),I1="RovingFocusGroupItem",M1=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,l=Si(),c=i||l,u=DI(I1,r),d=u.currentTabStopId===c,f=O1(r),{onFocusableItemAdd:m,onFocusableItemRemove:y}=u;return h.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),a.jsx(zm.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(ue.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:J(e.onMouseDown,w=>{n?u.onItemFocus(c):w.preventDefault()}),onFocus:J(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:J(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=UI(w,u.orientation,u.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=f().filter(g=>g.focusable).map(g=>g.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const g=v.indexOf(w.currentTarget);v=u.loop?zI(v,g+1):v.slice(g+1)}setTimeout(()=>D1(v))}})})})});M1.displayName=I1;var LI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function UI(e,t,r){const n=FI(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return LI[n]}function D1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function zI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $1=A1,L1=M1,Tg="Tabs",[BI,s5]=Ii(Tg,[Fd]),F1=Fd(),[VI,Rg]=BI(Tg),U1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=$d(l),[f,m]=bi({prop:n,onChange:s,defaultProp:i});return a.jsx(VI,{scope:r,baseId:Si(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:a.jsx(ue.div,{dir:d,"data-orientation":o,...u,ref:t})})});U1.displayName=Tg;var z1="TabsList",B1=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Rg(z1,r),o=F1(r);return a.jsx($1,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(ue.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});B1.displayName=z1;var V1="TabsTrigger",W1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=Rg(V1,r),l=F1(r),c=K1(o.baseId,n),u=G1(o.baseId,n),d=n===o.value;return a.jsx(L1,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(ue.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:J(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:J(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:J(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});W1.displayName=V1;var q1="TabsContent",H1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=Rg(q1,r),c=K1(l.baseId,n),u=G1(l.baseId,n),d=n===l.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Bs,{present:s||d,children:({present:m})=>a.jsx(ue.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});H1.displayName=q1;function K1(e,t){return`${e}-trigger-${t}`}function G1(e,t){return`${e}-content-${t}`}var WI=U1,Q1=B1,Y1=W1,Z1=H1;const Og=WI,Ud=h.forwardRef(({className:e,...t},r)=>a.jsx(Q1,{ref:r,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ud.displayName=Q1.displayName;const hr=h.forwardRef(({className:e,...t},r)=>a.jsx(Y1,{ref:r,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));hr.displayName=Y1.displayName;const mr=h.forwardRef(({className:e,...t},r)=>a.jsx(Z1,{ref:r,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));mr.displayName=Z1.displayName;const qI=Id("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_e=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?Es:"button";return a.jsx(o,{className:re(qI({variant:t,size:r,className:e})),ref:i,...s})});_e.displayName="Button";const pe=h.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));pe.displayName="Input";var HI="Label",X1=h.forwardRef((e,t)=>a.jsx(ue.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));X1.displayName=HI;var J1=X1;const KI=Id("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=h.forwardRef(({className:e,...t},r)=>a.jsx(J1,{ref:r,className:re(KI(),e),...t}));Ge.displayName=J1.displayName;const GI=({email:e,setEmail:t})=>{const[r,n]=h.useState(""),[s,i]=h.useState(!1),{toast:o}=Rt(),l=async c=>{c.preventDefault(),i(!0);try{const{user:u,error:d}=await bO(e,r);d&&console.error("Login error:",d)}catch{o({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(!1)}};return a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"email",children:"Email"}),a.jsx(pe,{id:"email",type:"email",value:e,onChange:c=>t(c.target.value),placeholder:"Your email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ge,{htmlFor:"password",children:"Password"}),a.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})]}),a.jsx(pe,{id:"password",type:"password",value:r,onChange:c=>n(c.target.value),placeholder:"Your password",required:!0})]}),a.jsx(_e,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Ya,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]})},QI=()=>{const[e,t]=h.useState(""),[r,n]=h.useState(""),[s,i]=h.useState(""),[o,l]=h.useState("");h.useState("customer");const[c,u]=h.useState(!1),{toast:d}=Rt();Oi();const f=async m=>{if(m.preventDefault(),!e||!r||!s){d({title:"Missing information",description:"Please fill in all fields",variant:"destructive"});return}if(s!==o){d({title:"Passwords don't match",description:"Please make sure your passwords match",variant:"destructive"});return}u(!0);try{const{user:y,error:w}=await _O(r,s,e);w?d({title:"Registration failed",description:w.message,variant:"destructive"}):(t(""),n(""),i(""),l(""),console.log("Registration successful, redirecting to login page"),window.location.href="/stock2store/login")}catch{d({title:"Registration failed",description:"An unexpected error occurred",variant:"destructive"})}finally{u(!1)}};return a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"name",children:"Name"}),a.jsx(pe,{id:"name",type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"Your name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"email",children:"Email"}),a.jsx(pe,{id:"email",type:"email",value:r,onChange:m=>n(m.target.value),placeholder:"Your email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"password",children:"Password"}),a.jsx(pe,{id:"password",type:"password",value:s,onChange:m=>i(m.target.value),placeholder:"Create a password",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx(pe,{id:"confirmPassword",type:"password",value:o,onChange:m=>l(m.target.value),placeholder:"Confirm your password",required:!0})]}),a.jsx(_e,{type:"submit",className:"w-full",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Ya,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})},YI=()=>{const[e,t]=h.useState("");return a.jsxs(de,{className:"w-full max-w-md",children:[a.jsxs(we,{className:"space-y-1",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"text-3xl font-bold text-blue-700",children:"Stock2Store"})}),a.jsx(be,{className:"text-2xl text-center",children:"Welcome"}),a.jsx(nt,{className:"text-center",children:"Sign in to your account or create a new one"})]}),a.jsx(ve,{children:a.jsxs(Og,{defaultValue:"login",className:"w-full",children:[a.jsxs(Ud,{className:"grid w-full grid-cols-2",children:[a.jsx(hr,{value:"login",children:"Login"}),a.jsx(hr,{value:"register",children:"Register"})]}),a.jsx(mr,{value:"login",children:a.jsx(GI,{email:e,setEmail:t})}),a.jsx(mr,{value:"register",children:a.jsx(QI,{})})]})}),a.jsx(R1,{className:"flex flex-col space-y-4",children:a.jsx("div",{className:"text-sm text-center text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})},_x=({message:e})=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{children:e})]})}),ZI=()=>{const e=Oi(),{user:t,loading:r}=Un(),n=h.useRef(!1);return h.useEffect(()=>{!t&&!r&&(console.log("Cleaning up auth state on login page"),qr())},[t,r]),h.useEffect(()=>{if(t&&!r&&!n.current){n.current=!0,console.log(`User authenticated with role: ${t.role}, redirecting...`);const i={customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"}[t.role]||"/store";console.log(`Redirecting ${t.role} user to ${i}`),e(i,{replace:!0})}},[t,e,r]),h.useEffect(()=>{t||(n.current=!1)},[t]),r?a.jsx(_x,{message:"Checking authentication status..."}):t?a.jsx(_x,{message:"Redirecting..."}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:a.jsx(YI,{})})};var Ag="Avatar",[XI,i5]=Ii(Ag),[JI,eS]=XI(Ag),tS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=h.useState("idle");return a.jsx(JI,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(ue.span,{...n,ref:t})})});tS.displayName=Ag;var rS="AvatarImage",nS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=eS(rS,r),l=eM(n,i.referrerPolicy),c=Tt(u=>{s(u),o.onImageLoadingStatusChange(u)});return kt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(ue.img,{...i,ref:t,src:n}):null});nS.displayName=rS;var sS="AvatarFallback",iS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=eS(sS,r),[o,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(ue.span,{...s,ref:t}):null});iS.displayName=sS;function eM(e,t){const[r,n]=h.useState("idle");return kt(()=>{if(!e){n("error");return}let s=!0;const i=new window.Image,o=l=>()=>{s&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var oS=tS,aS=nS,lS=iS;const zd=h.forwardRef(({className:e,...t},r)=>a.jsx(oS,{ref:r,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));zd.displayName=oS.displayName;const Bd=h.forwardRef(({className:e,...t},r)=>a.jsx(aS,{ref:r,className:re("aspect-square h-full w-full",e),...t}));Bd.displayName=aS.displayName;const Vd=h.forwardRef(({className:e,...t},r)=>a.jsx(lS,{ref:r,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Vd.displayName=lS.displayName;const tM=({user:e})=>{const[t,r]=h.useState("");h.useEffect(()=>{(async()=>{try{const{data:i,error:o}=await H.from("profiles").select("avatar_url").eq("id",e.id).single();!o&&(i!=null&&i.avatar_url)&&r(i.avatar_url)}catch(i){console.error("Error fetching avatar:",i)}})()},[e.id]);const n=e.name?e.name.substring(0,2).toUpperCase():e.email?e.email.substring(0,2).toUpperCase():"US";return a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsxs(zd,{children:[a.jsx(Bd,{src:t||e.avatar,alt:e.name||"User"}),a.jsx(Vd,{children:n})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e.name||e.email||"User"}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.role})]})]})},rM=[{name:"Warehouse",href:"/warehouse",icon:xt,roles:["admin","warehouse"]},{name:"Store",href:"/store",icon:VA,roles:["admin","customer","analyst","warehouse"]},{name:"Analytics",href:"/analytics",icon:Cu,roles:["admin","analyst"]},{name:"Users",href:"/users",icon:Ng,roles:["admin"]},{name:"Shopping Cart",href:"/cart",icon:Eg,roles:["customer","admin"]},{name:"Orders",href:"/orders",icon:AA,roles:["customer","admin"]},{name:"Returns",href:"/returns",icon:jl,roles:["customer","admin"]},{name:"Profile",href:"/profile",icon:w1,roles:["admin","warehouse","analyst","customer"]},{name:"Settings",href:"/settings",icon:FA,roles:["admin","warehouse","analyst","customer"]}];function nM(e){return rM.filter(t=>t.roles.includes(e))}const sM=({name:e,href:t,icon:r,active:n})=>a.jsxs(ni,{to:t,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${n?"bg-blue-50 text-blue-700 dark:bg-blue-900/50 dark:text-blue-200":"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700/50"}`,children:[a.jsx(r,{size:20,className:`mr-3 ${n?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`}),e]}),iM=({userRole:e})=>{const t=Fn(),r=s=>t.pathname===s,n=nM(e);return a.jsx("nav",{className:"space-y-1 mt-4",children:n.map(s=>a.jsx(sM,{name:s.name,href:s.href,icon:s.icon,active:r(s.href)},s.name))})},oM=({user:e,sidebarOpen:t,setSidebarOpen:r,onSignOut:n})=>{const s=()=>({customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"})[e.role]||"/store";return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden ${t?"block":"hidden"}`,onClick:()=>r(!1)}),a.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 shadow-lg transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-50 flex flex-col`,children:[a.jsxs("div",{className:"flex items-center justify-between px-4 h-16 border-b border-gray-200 dark:border-gray-700",children:[a.jsx(ni,{to:s(),className:"flex items-center",children:a.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Stock2Store"})}),a.jsx("button",{className:"lg:hidden",onClick:()=>r(!1),children:a.jsx(Dd,{size:24,className:"text-gray-600 dark:text-gray-300"})})]}),a.jsxs("div",{className:"flex-1 px-4 py-4 overflow-y-auto",children:[a.jsx(tM,{user:e}),a.jsx(iM,{userRole:e.role})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:a.jsxs(_e,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",onClick:n,children:[a.jsx(MA,{size:20,className:"mr-2"}),"Log out"]})})]})]})};var Xf=0;function cS(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Sx()),document.body.insertAdjacentElement("beforeend",e[1]??Sx()),Xf++,()=>{Xf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Xf--}},[])}function Sx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Jf="focusScope.autoFocusOnMount",eh="focusScope.autoFocusOnUnmount",jx={bubbles:!1,cancelable:!0},aM="FocusScope",Ig=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),u=Tt(s),d=Tt(i),f=h.useRef(null),m=ze(t,p=>c(p)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let p=function(b){if(y.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Qn(f.current,{select:!0})},x=function(b){if(y.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Qn(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Qn(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),g.disconnect()}}},[n,l,y.paused]),h.useEffect(()=>{if(l){Cx.add(y);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(Jf,jx);l.addEventListener(Jf,u),l.dispatchEvent(v),v.defaultPrevented||(lM(hM(uS(l)),{select:!0}),document.activeElement===p&&Qn(l))}return()=>{l.removeEventListener(Jf,u),setTimeout(()=>{const v=new CustomEvent(eh,jx);l.addEventListener(eh,d),l.dispatchEvent(v),v.defaultPrevented||Qn(p??document.body,{select:!0}),l.removeEventListener(eh,d),Cx.remove(y)},0)}}},[l,u,d,y]);const w=h.useCallback(p=>{if(!r&&!n||y.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(x&&v){const g=p.currentTarget,[b,_]=cM(g);b&&_?!p.shiftKey&&v===_?(p.preventDefault(),r&&Qn(b,{select:!0})):p.shiftKey&&v===b&&(p.preventDefault(),r&&Qn(_,{select:!0})):v===g&&p.preventDefault()}},[r,n,y.paused]);return a.jsx(ue.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});Ig.displayName=aM;function lM(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qn(n,{select:t}),document.activeElement!==r)return}function cM(e){const t=uS(e),r=kx(t,e),n=kx(t.reverse(),e);return[r,n]}function uS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function kx(e,t){for(const r of e)if(!uM(r,{upTo:t}))return r}function uM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dM(e){return e instanceof HTMLInputElement&&"select"in e}function Qn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&dM(e)&&t&&e.select()}}var Cx=fM();function fM(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ex(e,t),e.unshift(t)},remove(t){var r;e=Ex(e,t),(r=e[0])==null||r.resume()}}}function Ex(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function hM(e){return e.filter(t=>t.tagName!=="A")}const mM=["top","right","bottom","left"],Ns=Math.min,pr=Math.max,Eu=Math.round,Cc=Math.floor,Ps=e=>({x:e,y:e}),pM={left:"right",right:"left",bottom:"top",top:"bottom"},gM={start:"end",end:"start"};function Bm(e,t,r){return pr(e,Ns(t,r))}function On(e,t){return typeof e=="function"?e(t):e}function An(e){return e.split("-")[0]}function aa(e){return e.split("-")[1]}function Mg(e){return e==="x"?"y":"x"}function Dg(e){return e==="y"?"height":"width"}function Ts(e){return["top","bottom"].includes(An(e))?"y":"x"}function $g(e){return Mg(Ts(e))}function vM(e,t,r){r===void 0&&(r=!1);const n=aa(e),s=$g(e),i=Dg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Nu(o)),[o,Nu(o)]}function yM(e){const t=Nu(e);return[Vm(e),t,Vm(t)]}function Vm(e){return e.replace(/start|end/g,t=>gM[t])}function xM(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function wM(e,t,r,n){const s=aa(e);let i=xM(An(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Vm)))),i}function Nu(e){return e.replace(/left|right|bottom|top/g,t=>pM[t])}function bM(e){return{top:0,right:0,bottom:0,left:0,...e}}function dS(e){return typeof e!="number"?bM(e):{top:e,right:e,bottom:e,left:e}}function Pu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Nx(e,t,r){let{reference:n,floating:s}=e;const i=Ts(t),o=$g(t),l=Dg(o),c=An(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:d,y:n.y-s.height};break;case"bottom":y={x:d,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-s.width,y:f};break;default:y={x:n.x,y:n.y}}switch(aa(t)){case"start":y[o]-=m*(r&&u?-1:1);break;case"end":y[o]+=m*(r&&u?-1:1);break}return y}const _M=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Nx(u,n,c),m=n,y={},w=0;for(let p=0;p<l.length;p++){const{name:x,fn:v}=l[p],{x:g,y:b,data:_,reset:S}=await v({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=b??f,y={...y,[x]:{...y[x],..._}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=Nx(u,m,c)),p=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:y}};async function kl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=On(t,e),w=dS(y),x=l[m?f==="floating"?"reference":"floating":f],v=Pu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Pu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(v.top-S.top+w.top)/_.y,bottom:(S.bottom-v.bottom+w.bottom)/_.y,left:(v.left-S.left+w.left)/_.x,right:(S.right-v.right+w.right)/_.x}}const SM=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=On(e,t)||{};if(u==null)return{};const f=dS(d),m={x:r,y:n},y=$g(s),w=Dg(y),p=await o.getDimensions(u),x=y==="y",v=x?"top":"left",g=x?"bottom":"right",b=x?"clientHeight":"clientWidth",_=i.reference[w]+i.reference[y]-m[y]-i.floating[w],S=m[y]-i.reference[y],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=C?C[b]:0;(!j||!await(o.isElement==null?void 0:o.isElement(C)))&&(j=l.floating[b]||i.floating[w]);const E=_/2-S/2,T=j/2-p[w]/2-1,A=Ns(f[v],T),U=Ns(f[g],T),P=A,$=j-p[w]-U,D=j/2-p[w]/2+E,K=Bm(P,D,$),L=!c.arrow&&aa(s)!=null&&D!==K&&i.reference[w]/2-(D<P?A:U)-p[w]/2<0,G=L?D<P?D-P:D-$:0;return{[y]:m[y]+G,data:{[y]:K,centerOffset:D-K-G,...L&&{alignmentOffset:G}},reset:L}}}),jM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:p=!0,...x}=On(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=An(s),g=Ts(l),b=An(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(b||!p?[Nu(l)]:yM(l)),C=w!=="none";!m&&C&&S.push(...wM(l,p,w,_));const j=[l,...S],E=await kl(t,x),T=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(E[v]),f){const D=vM(s,o,_);T.push(E[D[0]],E[D[1]])}if(A=[...A,{placement:s,overflows:T}],!T.every(D=>D<=0)){var U,P;const D=(((U=i.flip)==null?void 0:U.index)||0)+1,K=j[D];if(K)return{data:{index:D,overflows:A},reset:{placement:K}};let L=(P=A.filter(G=>G.overflows[0]<=0).sort((G,O)=>G.overflows[1]-O.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(y){case"bestFit":{var $;const G=($=A.filter(O=>{if(C){const I=Ts(O.placement);return I===g||I==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(I=>I>0).reduce((I,W)=>I+W,0)]).sort((O,I)=>O[1]-I[1])[0])==null?void 0:$[0];G&&(L=G);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Px(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Tx(e){return mM.some(t=>e[t]>=0)}const kM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=On(e,t);switch(n){case"referenceHidden":{const i=await kl(t,{...s,elementContext:"reference"}),o=Px(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Tx(o)}}}case"escaped":{const i=await kl(t,{...s,altBoundary:!0}),o=Px(i,r.floating);return{data:{escapedOffsets:o,escaped:Tx(o)}}}default:return{}}}}};async function CM(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=An(r),l=aa(r),c=Ts(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=On(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*d,y:m*u}:{x:m*u,y:y*d}}const EM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await CM(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},NM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:v,y:g}=x;return{x:v,y:g}}},...c}=On(e,t),u={x:r,y:n},d=await kl(t,c),f=Ts(An(s)),m=Mg(f);let y=u[m],w=u[f];if(i){const x=m==="y"?"top":"left",v=m==="y"?"bottom":"right",g=y+d[x],b=y-d[v];y=Bm(g,y,b)}if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=w+d[x],b=w-d[v];w=Bm(g,w,b)}const p=l.fn({...t,[m]:y,[f]:w});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[m]:i,[f]:o}}}}}},PM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=On(e,t),d={x:r,y:n},f=Ts(s),m=Mg(f);let y=d[m],w=d[f];const p=On(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=m==="y"?"height":"width",_=i.reference[m]-i.floating[b]+x.mainAxis,S=i.reference[m]+i.reference[b]-x.mainAxis;y<_?y=_:y>S&&(y=S)}if(u){var v,g;const b=m==="y"?"width":"height",_=["top","left"].includes(An(s)),S=i.reference[f]-i.floating[b]+(_&&((v=o.offset)==null?void 0:v[f])||0)+(_?0:x.crossAxis),C=i.reference[f]+i.reference[b]+(_?0:((g=o.offset)==null?void 0:g[f])||0)-(_?x.crossAxis:0);w<S?w=S:w>C&&(w=C)}return{[m]:y,[f]:w}}}},TM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=On(e,t),d=await kl(t,u),f=An(s),m=aa(s),y=Ts(s)==="y",{width:w,height:p}=i.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,x=m==="end"?"top":"bottom");const g=p-d.top-d.bottom,b=w-d.left-d.right,_=Ns(p-d[x],g),S=Ns(w-d[v],b),C=!t.middlewareData.shift;let j=_,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=g),C&&!m){const A=pr(d.left,0),U=pr(d.right,0),P=pr(d.top,0),$=pr(d.bottom,0);y?E=w-2*(A!==0||U!==0?A+U:pr(d.left,d.right)):j=p-2*(P!==0||$!==0?P+$:pr(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:j});const T=await o.getDimensions(l.floating);return w!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function Wd(){return typeof window<"u"}function la(e){return fS(e)?(e.nodeName||"").toLowerCase():"#document"}function yr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hn(e){var t;return(t=(fS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fS(e){return Wd()?e instanceof Node||e instanceof yr(e).Node:!1}function Kr(e){return Wd()?e instanceof Element||e instanceof yr(e).Element:!1}function dn(e){return Wd()?e instanceof HTMLElement||e instanceof yr(e).HTMLElement:!1}function Rx(e){return!Wd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof yr(e).ShadowRoot}function Ql(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Gr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function RM(e){return["table","td","th"].includes(la(e))}function qd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Lg(e){const t=Fg(),r=Kr(e)?Gr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function OM(e){let t=Rs(e);for(;dn(t)&&!Go(t);){if(Lg(t))return t;if(qd(t))return null;t=Rs(t)}return null}function Fg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Go(e){return["html","body","#document"].includes(la(e))}function Gr(e){return yr(e).getComputedStyle(e)}function Hd(e){return Kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Rs(e){if(la(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rx(e)&&e.host||hn(e);return Rx(t)?t.host:t}function hS(e){const t=Rs(e);return Go(t)?e.ownerDocument?e.ownerDocument.body:e.body:dn(t)&&Ql(t)?t:hS(t)}function Cl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=hS(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=yr(s);if(i){const l=Wm(o);return t.concat(o,o.visualViewport||[],Ql(s)?s:[],l&&r?Cl(l):[])}return t.concat(s,Cl(s,[],r))}function Wm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mS(e){const t=Gr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=dn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Eu(r)!==i||Eu(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Ug(e){return Kr(e)?e:e.contextElement}function _o(e){const t=Ug(e);if(!dn(t))return Ps(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=mS(t);let o=(i?Eu(r.width):r.width)/n,l=(i?Eu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const AM=Ps(0);function pS(e){const t=yr(e);return!Fg()||!t.visualViewport?AM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function IM(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==yr(e)?!1:t}function ji(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Ug(e);let o=Ps(1);t&&(n?Kr(n)&&(o=_o(n)):o=_o(e));const l=IM(i,r,n)?pS(i):Ps(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=yr(i),y=n&&Kr(n)?yr(n):n;let w=m,p=Wm(w);for(;p&&n&&y!==w;){const x=_o(p),v=p.getBoundingClientRect(),g=Gr(p),b=v.left+(p.clientLeft+parseFloat(g.paddingLeft))*x.x,_=v.top+(p.clientTop+parseFloat(g.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=_,w=yr(p),p=Wm(w)}}return Pu({width:d,height:f,x:c,y:u})}function MM(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=hn(n),l=t?qd(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ps(1);const d=Ps(0),f=dn(n);if((f||!f&&!i)&&((la(n)!=="body"||Ql(o))&&(c=Hd(n)),dn(n))){const m=ji(n);u=_o(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function DM(e){return Array.from(e.getClientRects())}function qm(e,t){const r=Hd(e).scrollLeft;return t?t.left+r:ji(hn(e)).left+r}function $M(e){const t=hn(e),r=Hd(e),n=e.ownerDocument.body,s=pr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=pr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+qm(e);const l=-r.scrollTop;return Gr(n).direction==="rtl"&&(o+=pr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function LM(e,t){const r=yr(e),n=hn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=Fg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function FM(e,t){const r=ji(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=dn(e)?_o(e):Ps(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function Ox(e,t,r){let n;if(t==="viewport")n=LM(e,r);else if(t==="document")n=$M(hn(e));else if(Kr(t))n=FM(t,r);else{const s=pS(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Pu(n)}function gS(e,t){const r=Rs(e);return r===t||!Kr(r)||Go(r)?!1:Gr(r).position==="fixed"||gS(r,t)}function UM(e,t){const r=t.get(e);if(r)return r;let n=Cl(e,[],!1).filter(l=>Kr(l)&&la(l)!=="body"),s=null;const i=Gr(e).position==="fixed";let o=i?Rs(e):e;for(;Kr(o)&&!Go(o);){const l=Gr(o),c=Lg(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ql(o)&&!c&&gS(e,o))?n=n.filter(d=>d!==o):s=l,o=Rs(o)}return t.set(e,n),n}function zM(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?qd(t)?[]:UM(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Ox(t,d,s);return u.top=pr(f.top,u.top),u.right=Ns(f.right,u.right),u.bottom=Ns(f.bottom,u.bottom),u.left=pr(f.left,u.left),u},Ox(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function BM(e){const{width:t,height:r}=mS(e);return{width:t,height:r}}function VM(e,t,r){const n=dn(t),s=hn(t),i=r==="fixed",o=ji(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ps(0);if(n||!n&&!i)if((la(t)!=="body"||Ql(s))&&(l=Hd(t)),n){const y=ji(t,!0,i,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&(c.x=qm(s));let u=0,d=0;if(s&&!n&&!i){const y=s.getBoundingClientRect();d=y.top+l.scrollTop,u=y.left+l.scrollLeft-qm(s,y)}const f=o.left+l.scrollLeft-c.x-u,m=o.top+l.scrollTop-c.y-d;return{x:f,y:m,width:o.width,height:o.height}}function th(e){return Gr(e).position==="static"}function Ax(e,t){if(!dn(e)||Gr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return hn(e)===r&&(r=r.ownerDocument.body),r}function vS(e,t){const r=yr(e);if(qd(e))return r;if(!dn(e)){let s=Rs(e);for(;s&&!Go(s);){if(Kr(s)&&!th(s))return s;s=Rs(s)}return r}let n=Ax(e,t);for(;n&&RM(n)&&th(n);)n=Ax(n,t);return n&&Go(n)&&th(n)&&!Lg(n)?r:n||OM(e)||r}const WM=async function(e){const t=this.getOffsetParent||vS,r=this.getDimensions,n=await r(e.floating);return{reference:VM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qM(e){return Gr(e).direction==="rtl"}const HM={convertOffsetParentRelativeRectToViewportRelativeRect:MM,getDocumentElement:hn,getClippingRect:zM,getOffsetParent:vS,getElementRects:WM,getClientRects:DM,getDimensions:BM,getScale:_o,isElement:Kr,isRTL:qM};function KM(e,t){let r=null,n;const s=hn(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const y=Cc(d),w=Cc(s.clientWidth-(u+f)),p=Cc(s.clientHeight-(d+m)),x=Cc(u),g={rootMargin:-y+"px "+-w+"px "+-p+"px "+-x+"px",threshold:pr(0,Ns(1,c))||1};let b=!0;function _(S){const C=S[0].intersectionRatio;if(C!==c){if(!b)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(_,{...g,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,g)}r.observe(e)}return o(!0),i}function GM(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Ug(e),d=s||i?[...u?Cl(u):[],...Cl(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&l?KM(u,r):null;let m=-1,y=null;o&&(y=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(t)})),r()}),u&&!c&&y.observe(u),y.observe(t));let w,p=c?ji(e):null;c&&x();function x(){const v=ji(e);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&r(),p=v,w=requestAnimationFrame(x)}return r(),()=>{var v;d.forEach(g=>{s&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),f==null||f(),(v=y)==null||v.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const QM=EM,YM=NM,ZM=jM,XM=TM,JM=kM,Ix=SM,eD=PM,tD=(e,t,r)=>{const n=new Map,s={platform:HM,...r},i={...s.platform,_c:n};return _M(e,t,{...s,platform:i})};var Qc=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Tu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Tu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Tu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function yS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Mx(e,t){const r=yS(e);return Math.round(t*r)/r}function rh(e){const t=h.useRef(e);return Qc(()=>{t.current=e}),t}function rD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=h.useState(n);Tu(m,n)||y(n);const[w,p]=h.useState(null),[x,v]=h.useState(null),g=h.useCallback(O=>{O!==C.current&&(C.current=O,p(O))},[]),b=h.useCallback(O=>{O!==j.current&&(j.current=O,v(O))},[]),_=i||w,S=o||x,C=h.useRef(null),j=h.useRef(null),E=h.useRef(d),T=c!=null,A=rh(c),U=rh(s),P=rh(u),$=h.useCallback(()=>{if(!C.current||!j.current)return;const O={placement:t,strategy:r,middleware:m};U.current&&(O.platform=U.current),tD(C.current,j.current,O).then(I=>{const W={...I,isPositioned:P.current!==!1};D.current&&!Tu(E.current,W)&&(E.current=W,Ls.flushSync(()=>{f(W)}))})},[m,t,r,U,P]);Qc(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const D=h.useRef(!1);Qc(()=>(D.current=!0,()=>{D.current=!1}),[]),Qc(()=>{if(_&&(C.current=_),S&&(j.current=S),_&&S){if(A.current)return A.current(_,S,$);$()}},[_,S,$,A,T]);const K=h.useMemo(()=>({reference:C,floating:j,setReference:g,setFloating:b}),[g,b]),L=h.useMemo(()=>({reference:_,floating:S}),[_,S]),G=h.useMemo(()=>{const O={position:r,left:0,top:0};if(!L.floating)return O;const I=Mx(L.floating,d.x),W=Mx(L.floating,d.y);return l?{...O,transform:"translate("+I+"px, "+W+"px)",...yS(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:W}},[r,l,L.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:$,refs:K,elements:L,floatingStyles:G}),[d,$,K,L,G])}const nD=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ix({element:n.current,padding:s}).fn(r):{}:n?Ix({element:n,padding:s}).fn(r):{}}}},sD=(e,t)=>({...QM(e),options:[e,t]}),iD=(e,t)=>({...YM(e),options:[e,t]}),oD=(e,t)=>({...eD(e),options:[e,t]}),aD=(e,t)=>({...ZM(e),options:[e,t]}),lD=(e,t)=>({...XM(e),options:[e,t]}),cD=(e,t)=>({...JM(e),options:[e,t]}),uD=(e,t)=>({...nD(e),options:[e,t]});var dD="Arrow",xS=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(ue.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});xS.displayName=dD;var fD=xS;function hD(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:m,children:y,...w}=f,p=(m==null?void 0:m[e][c])||l,x=h.useMemo(()=>w,Object.values(w));return a.jsx(p.Provider,{value:x,children:y})}function d(f,m){const y=(m==null?void 0:m[e][c])||l,w=h.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,mD(s,...t)]}function mD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function wS(e){const[t,r]=h.useState(void 0);return kt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var zg="Popper",[bS,Kd]=hD(zg),[pD,_S]=bS(zg),SS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return a.jsx(pD,{scope:t,anchor:n,onAnchorChange:s,children:r})};SS.displayName=zg;var jS="PopperAnchor",kS=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=_S(jS,r),o=h.useRef(null),l=ze(t,o);return h.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(ue.div,{...s,ref:l})});kS.displayName=jS;var Bg="PopperContent",[gD,vD]=bS(Bg),CS=h.forwardRef((e,t)=>{var te,Te,$e,Oe,Ae,Ie;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:w,...p}=e,x=_S(Bg,r),[v,g]=h.useState(null),b=ze(t,Ot=>g(Ot)),[_,S]=h.useState(null),C=wS(_),j=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,T=n+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},U=Array.isArray(u)?u:[u],P=U.length>0,$={padding:A,boundary:U.filter(xD),altBoundary:P},{refs:D,floatingStyles:K,placement:L,isPositioned:G,middlewareData:O}=rD({strategy:"fixed",placement:T,whileElementsMounted:(...Ot)=>GM(...Ot,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[sD({mainAxis:s+E,alignmentAxis:o}),c&&iD({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?oD():void 0,...$}),c&&aD({...$}),lD({...$,apply:({elements:Ot,rects:lr,availableWidth:$i,availableHeight:Li})=>{const{width:Fi,height:k}=lr.reference,R=Ot.floating.style;R.setProperty("--radix-popper-available-width",`${$i}px`),R.setProperty("--radix-popper-available-height",`${Li}px`),R.setProperty("--radix-popper-anchor-width",`${Fi}px`),R.setProperty("--radix-popper-anchor-height",`${k}px`)}}),_&&uD({element:_,padding:l}),wD({arrowWidth:j,arrowHeight:E}),m&&cD({strategy:"referenceHidden",...$})]}),[I,W]=PS(L),ne=Tt(w);kt(()=>{G&&(ne==null||ne())},[G,ne]);const ge=(te=O.arrow)==null?void 0:te.x,ut=(Te=O.arrow)==null?void 0:Te.y,Be=(($e=O.arrow)==null?void 0:$e.centerOffset)!==0,[Ft,qe]=h.useState();return kt(()=>{v&&qe(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:G?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ft,"--radix-popper-transform-origin":[(Oe=O.transformOrigin)==null?void 0:Oe.x,(Ae=O.transformOrigin)==null?void 0:Ae.y].join(" "),...((Ie=O.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(gD,{scope:r,placedSide:I,onArrowChange:S,arrowX:ge,arrowY:ut,shouldHideArrow:Be,children:a.jsx(ue.div,{"data-side":I,"data-align":W,...p,ref:b,style:{...p.style,animation:G?void 0:"none"}})})})});CS.displayName=Bg;var ES="PopperArrow",yD={top:"bottom",right:"left",bottom:"top",left:"right"},NS=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=vD(ES,n),o=yD[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(fD,{...s,ref:r,style:{...s.style,display:"block"}})})});NS.displayName=ES;function xD(e){return e!==null}var wD=e=>({name:"transformOrigin",options:e,fn(t){var x,v,g;const{placement:r,rects:n,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=PS(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,y=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",p="";return u==="bottom"?(w=o?f:`${m}px`,p=`${-c}px`):u==="top"?(w=o?f:`${m}px`,p=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,p=o?f:`${y}px`):u==="left"&&(w=`${n.floating.width+c}px`,p=o?f:`${y}px`),{data:{x:w,y:p}}}});function PS(e){const[t,r="center"]=e.split("-");return[t,r]}var TS=SS,RS=kS,OS=CS,AS=NS,bD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wi=new WeakMap,Ec=new WeakMap,Nc={},nh=0,IS=function(e){return e&&(e.host||IS(e.parentNode))},_D=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=IS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},SD=function(e,t,r,n){var s=_D(t,Array.isArray(e)?e:[e]);Nc[r]||(Nc[r]=new WeakMap);var i=Nc[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var y=m.getAttribute(n),w=y!==null&&y!=="false",p=(Wi.get(m)||0)+1,x=(i.get(m)||0)+1;Wi.set(m,p),i.set(m,x),o.push(m),p===1&&w&&Ec.set(m,!0),x===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(t),l.clear(),nh++,function(){o.forEach(function(f){var m=Wi.get(f)-1,y=i.get(f)-1;Wi.set(f,m),i.set(f,y),m||(Ec.has(f)||f.removeAttribute(n),Ec.delete(f)),y||f.removeAttribute(r)}),nh--,nh||(Wi=new WeakMap,Wi=new WeakMap,Ec=new WeakMap,Nc={})}},Vg=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=bD(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),SD(n,s,r,"aria-hidden")):function(){return null}},$t=function(){return $t=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$t.apply(this,arguments)};function Wg(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function MS(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Za="right-scroll-bar-position",Xa="width-before-scroll-bar",jD="with-scroll-bars-hidden",kD="--removed-body-scroll-bar-size";function sh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function CD(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var ED=typeof window<"u"?h.useLayoutEffect:h.useEffect,Dx=new WeakMap;function DS(e,t){var r=CD(null,function(n){return e.forEach(function(s){return sh(s,n)})});return ED(function(){var n=Dx.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||sh(l,null)}),i.forEach(function(l){s.has(l)||sh(l,o)})}Dx.set(r,e)},[e]),r}function ND(e){return e}function PD(e,t){t===void 0&&(t=ND);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function $S(e){e===void 0&&(e={});var t=PD(null);return t.options=$t({async:!0,ssr:!1},e),t}var LS=function(e){var t=e.sideCar,r=Wg(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,$t({},r))};LS.isSideCarExport=!0;function FS(e,t){return e.useMedium(t),LS}var US=$S(),ih=function(){},Gd=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:ih,onWheelCapture:ih,onTouchMoveCapture:ih}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,y=e.noIsolation,w=e.inert,p=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,g=e.gapMode,b=Wg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,S=DS([r,t]),C=$t($t({},b),s);return h.createElement(h.Fragment,null,d&&h.createElement(_,{sideCar:US,removeScrollBar:u,shards:f,noIsolation:y,inert:w,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:g}),o?h.cloneElement(h.Children.only(l),$t($t({},C),{ref:S})):h.createElement(v,$t({},C,{className:c,ref:S}),l))});Gd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gd.classNames={fullWidth:Xa,zeroRight:Za};var TD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=TD();return t&&e.setAttribute("nonce",t),e}function OD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function AD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ID=function(){var e=0,t=null;return{add:function(r){e==0&&(t=RD())&&(OD(t,r),AD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},MD=function(){var e=ID();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},qg=function(){var e=MD(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},DD={left:0,top:0,right:0,gap:0},oh=function(e){return parseInt(e||"",10)||0},$D=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[oh(r),oh(n),oh(s)]},LD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DD;var t=$D(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},FD=qg(),So="data-scroll-locked",UD=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(jD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(So,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Za,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xa,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Za," .").concat(Za,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xa," .").concat(Xa,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(So,`] {
    `).concat(kD,": ").concat(l,`px;
  }
`)},$x=function(){var e=parseInt(document.body.getAttribute(So)||"0",10);return isFinite(e)?e:0},zD=function(){h.useEffect(function(){return document.body.setAttribute(So,($x()+1).toString()),function(){var e=$x()-1;e<=0?document.body.removeAttribute(So):document.body.setAttribute(So,e.toString())}},[])},zS=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;zD();var i=h.useMemo(function(){return LD(s)},[s]);return h.createElement(FD,{styles:UD(i,!t,s,r?"":"!important")})},Hm=!1;if(typeof window<"u")try{var Pc=Object.defineProperty({},"passive",{get:function(){return Hm=!0,!0}});window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{Hm=!1}var qi=Hm?{passive:!1}:!1,BD=function(e){return e.tagName==="TEXTAREA"},BS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!BD(e)&&r[t]==="visible")},VD=function(e){return BS(e,"overflowY")},WD=function(e){return BS(e,"overflowX")},Lx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=VS(e,n);if(s){var i=WS(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},qD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},HD=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},VS=function(e,t){return e==="v"?VD(t):WD(t)},WS=function(e,t){return e==="v"?qD(t):HD(t)},KD=function(e,t){return e==="h"&&t==="rtl"?-1:1},GD=function(e,t,r,n,s){var i=KD(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{var y=WS(e,l),w=y[0],p=y[1],x=y[2],v=p-x-i*w;(w||v)&&VS(e,l)&&(f+=v,m+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},Tc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fx=function(e){return[e.deltaX,e.deltaY]},Ux=function(e){return e&&"current"in e?e.current:e},QD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ZD=0,Hi=[];function XD(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(ZD++)[0],i=h.useState(qg)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=MS([e.lockRef.current],(e.shards||[]).map(Ux),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var v=Tc(p),g=r.current,b="deltaX"in p?p.deltaX:g[0]-v[0],_="deltaY"in p?p.deltaY:g[1]-v[1],S,C=p.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&j==="h"&&C.type==="range")return!1;var E=Lx(j,C);if(!E)return!0;if(E?S=j:(S=j==="v"?"h":"v",E=Lx(j,C)),!E)return!1;if(!n.current&&"changedTouches"in p&&(b||_)&&(n.current=S),!S)return!0;var T=n.current||S;return GD(T,x,p,T==="h"?b:_,!0)},[]),c=h.useCallback(function(p){var x=p;if(!(!Hi.length||Hi[Hi.length-1]!==i)){var v="deltaY"in x?Fx(x):Tc(x),g=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&QD(S.delta,v)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var b=(o.current.shards||[]).map(Ux).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=b.length>0?l(x,b[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=h.useCallback(function(p,x,v,g){var b={name:p,delta:x,target:v,should:g,shadowParent:JD(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=h.useCallback(function(p){r.current=Tc(p),n.current=void 0},[]),f=h.useCallback(function(p){u(p.type,Fx(p),p.target,l(p,e.lockRef.current))},[]),m=h.useCallback(function(p){u(p.type,Tc(p),p.target,l(p,e.lockRef.current))},[]);h.useEffect(function(){return Hi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,qi),document.addEventListener("touchmove",c,qi),document.addEventListener("touchstart",d,qi),function(){Hi=Hi.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,qi),document.removeEventListener("touchmove",c,qi),document.removeEventListener("touchstart",d,qi)}},[]);var y=e.removeScrollBar,w=e.inert;return h.createElement(h.Fragment,null,w?h.createElement(i,{styles:YD(s)}):null,y?h.createElement(zS,{gapMode:e.gapMode}):null)}function JD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const e$=FS(US,XD);var Hg=h.forwardRef(function(e,t){return h.createElement(Gd,$t({},e,{ref:t,sideCar:e$}))});Hg.classNames=Gd.classNames;var Km=["Enter"," "],t$=["ArrowDown","PageUp","Home"],qS=["ArrowUp","PageDown","End"],r$=[...t$,...qS],n$={ltr:[...Km,"ArrowRight"],rtl:[...Km,"ArrowLeft"]},s$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yl="Menu",[El,i$,o$]=Nd(Yl),[Mi,HS]=Ii(Yl,[o$,Kd,Fd]),Qd=Kd(),KS=Fd(),[a$,Di]=Mi(Yl),[l$,Zl]=Mi(Yl),GS=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Qd(t),[c,u]=h.useState(null),d=h.useRef(!1),f=Tt(i),m=$d(s);return h.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(TS,{...l,children:a.jsx(a$,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(l$,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};GS.displayName=Yl;var c$="MenuAnchor",Kg=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Qd(r);return a.jsx(RS,{...s,...n,ref:t})});Kg.displayName=c$;var Gg="MenuPortal",[u$,QS]=Mi(Gg,{forceMount:void 0}),YS=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Di(Gg,t);return a.jsx(u$,{scope:t,forceMount:r,children:a.jsx(Bs,{present:r||i.open,children:a.jsx(Td,{asChild:!0,container:s,children:n})})})};YS.displayName=Gg;var Pr="MenuContent",[d$,Qg]=Mi(Pr),ZS=h.forwardRef((e,t)=>{const r=QS(Pr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Di(Pr,e.__scopeMenu),o=Zl(Pr,e.__scopeMenu);return a.jsx(El.Provider,{scope:e.__scopeMenu,children:a.jsx(Bs,{present:n||i.open,children:a.jsx(El.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(f$,{...s,ref:t}):a.jsx(h$,{...s,ref:t})})})})}),f$=h.forwardRef((e,t)=>{const r=Di(Pr,e.__scopeMenu),n=h.useRef(null),s=ze(t,n);return h.useEffect(()=>{const i=n.current;if(i)return Vg(i)},[]),a.jsx(Yg,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:J(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),h$=h.forwardRef((e,t)=>{const r=Di(Pr,e.__scopeMenu);return a.jsx(Yg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Yg=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:y,disableOutsideScroll:w,...p}=e,x=Di(Pr,r),v=Zl(Pr,r),g=Qd(r),b=KS(r),_=i$(r),[S,C]=h.useState(null),j=h.useRef(null),E=ze(t,j,x.onContentChange),T=h.useRef(0),A=h.useRef(""),U=h.useRef(0),P=h.useRef(null),$=h.useRef("right"),D=h.useRef(0),K=w?Hg:h.Fragment,L=w?{as:Es,allowPinchZoom:!0}:void 0,G=I=>{var te,Te;const W=A.current+I,ne=_().filter($e=>!$e.disabled),ge=document.activeElement,ut=(te=ne.find($e=>$e.ref.current===ge))==null?void 0:te.textValue,Be=ne.map($e=>$e.textValue),Ft=k$(Be,W,ut),qe=(Te=ne.find($e=>$e.textValue===Ft))==null?void 0:Te.ref.current;(function $e(Oe){A.current=Oe,window.clearTimeout(T.current),Oe!==""&&(T.current=window.setTimeout(()=>$e(""),1e3))})(W),qe&&setTimeout(()=>qe.focus())};h.useEffect(()=>()=>window.clearTimeout(T.current),[]),cS();const O=h.useCallback(I=>{var ne,ge;return $.current===((ne=P.current)==null?void 0:ne.side)&&E$(I,(ge=P.current)==null?void 0:ge.area)},[]);return a.jsx(d$,{scope:r,searchRef:A,onItemEnter:h.useCallback(I=>{O(I)&&I.preventDefault()},[O]),onItemLeave:h.useCallback(I=>{var W;O(I)||((W=j.current)==null||W.focus(),C(null))},[O]),onTriggerLeave:h.useCallback(I=>{O(I)&&I.preventDefault()},[O]),pointerGraceTimerRef:U,onPointerGraceIntentChange:h.useCallback(I=>{P.current=I},[]),children:a.jsx(K,{...L,children:a.jsx(Ig,{asChild:!0,trapped:s,onMountAutoFocus:J(i,I=>{var W;I.preventDefault(),(W=j.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Pd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:y,children:a.jsx($1,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:J(c,I=>{v.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(OS,{role:"menu","aria-orientation":"vertical","data-state":hj(x.open),"data-radix-menu-content":"",dir:v.dir,...g,...p,ref:E,style:{outline:"none",...p.style},onKeyDown:J(p.onKeyDown,I=>{const ne=I.target.closest("[data-radix-menu-content]")===I.currentTarget,ge=I.ctrlKey||I.altKey||I.metaKey,ut=I.key.length===1;ne&&(I.key==="Tab"&&I.preventDefault(),!ge&&ut&&G(I.key));const Be=j.current;if(I.target!==Be||!r$.includes(I.key))return;I.preventDefault();const qe=_().filter(te=>!te.disabled).map(te=>te.ref.current);qS.includes(I.key)&&qe.reverse(),S$(qe)}),onBlur:J(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(T.current),A.current="")}),onPointerMove:J(e.onPointerMove,Nl(I=>{const W=I.target,ne=D.current!==I.clientX;if(I.currentTarget.contains(W)&&ne){const ge=I.clientX>D.current?"right":"left";$.current=ge,D.current=I.clientX}}))})})})})})})});ZS.displayName=Pr;var m$="MenuGroup",Zg=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{role:"group",...n,ref:t})});Zg.displayName=m$;var p$="MenuLabel",XS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});XS.displayName=p$;var Ru="MenuItem",zx="menu.itemSelect",Yd=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=h.useRef(null),o=Zl(Ru,e.__scopeMenu),l=Qg(Ru,e.__scopeMenu),c=ze(t,i),u=h.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(zx,{bubbles:!0,cancelable:!0});f.addEventListener(zx,y=>n==null?void 0:n(y),{once:!0}),_g(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(JS,{...s,ref:c,disabled:r,onClick:J(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:J(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:J(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||Km.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Yd.displayName=Ru;var JS=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=Qg(Ru,r),l=KS(r),c=h.useRef(null),u=ze(t,c),[d,f]=h.useState(!1),[m,y]=h.useState("");return h.useEffect(()=>{const w=c.current;w&&y((w.textContent??"").trim())},[i.children]),a.jsx(El.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:a.jsx(L1,{asChild:!0,...l,focusable:!n,children:a.jsx(ue.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:J(e.onPointerMove,Nl(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(e.onPointerLeave,Nl(w=>o.onItemLeave(w))),onFocus:J(e.onFocus,()=>f(!0)),onBlur:J(e.onBlur,()=>f(!1))})})})}),g$="MenuCheckboxItem",ej=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(ij,{scope:e.__scopeMenu,checked:r,children:a.jsx(Yd,{role:"menuitemcheckbox","aria-checked":Ou(r)?"mixed":r,...s,ref:t,"data-state":Jg(r),onSelect:J(s.onSelect,()=>n==null?void 0:n(Ou(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ej.displayName=g$;var tj="MenuRadioGroup",[v$,y$]=Mi(tj,{value:void 0,onValueChange:()=>{}}),rj=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Tt(n);return a.jsx(v$,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(Zg,{...s,ref:t})})});rj.displayName=tj;var nj="MenuRadioItem",sj=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=y$(nj,e.__scopeMenu),i=r===s.value;return a.jsx(ij,{scope:e.__scopeMenu,checked:i,children:a.jsx(Yd,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Jg(i),onSelect:J(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});sj.displayName=nj;var Xg="MenuItemIndicator",[ij,x$]=Mi(Xg,{checked:!1}),oj=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=x$(Xg,r);return a.jsx(Bs,{present:n||Ou(i.checked)||i.checked===!0,children:a.jsx(ue.span,{...s,ref:t,"data-state":Jg(i.checked)})})});oj.displayName=Xg;var w$="MenuSeparator",aj=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});aj.displayName=w$;var b$="MenuArrow",lj=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Qd(r);return a.jsx(AS,{...s,...n,ref:t})});lj.displayName=b$;var _$="MenuSub",[o5,cj]=Mi(_$),Oa="MenuSubTrigger",uj=h.forwardRef((e,t)=>{const r=Di(Oa,e.__scopeMenu),n=Zl(Oa,e.__scopeMenu),s=cj(Oa,e.__scopeMenu),i=Qg(Oa,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Kg,{asChild:!0,...u,children:a.jsx(JS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":hj(r.open),...e,ref:Ed(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:J(e.onPointerMove,Nl(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:J(e.onPointerLeave,Nl(f=>{var y,w;d();const m=(y=r.content)==null?void 0:y.getBoundingClientRect();if(m){const p=(w=r.content)==null?void 0:w.dataset.side,x=p==="right",v=x?-5:5,g=m[x?"left":"right"],b=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:g,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:g,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:J(e.onKeyDown,f=>{var y;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||n$[n.dir].includes(f.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),f.preventDefault())})})})});uj.displayName=Oa;var dj="MenuSubContent",fj=h.forwardRef((e,t)=>{const r=QS(Pr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Di(Pr,e.__scopeMenu),o=Zl(Pr,e.__scopeMenu),l=cj(dj,e.__scopeMenu),c=h.useRef(null),u=ze(t,c);return a.jsx(El.Provider,{scope:e.__scopeMenu,children:a.jsx(Bs,{present:n||i.open,children:a.jsx(El.Slot,{scope:e.__scopeMenu,children:a.jsx(Yg,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:J(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:J(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:J(e.onKeyDown,d=>{var y;const f=d.currentTarget.contains(d.target),m=s$[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),d.preventDefault())})})})})})});fj.displayName=dj;function hj(e){return e?"open":"closed"}function Ou(e){return e==="indeterminate"}function Jg(e){return Ou(e)?"indeterminate":e?"checked":"unchecked"}function S$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function j$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function k$(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=j$(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function C$(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function E$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return C$(r,t)}function Nl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var N$=GS,P$=Kg,T$=YS,R$=ZS,O$=Zg,A$=XS,I$=Yd,M$=ej,D$=rj,$$=sj,L$=oj,F$=aj,U$=lj,z$=uj,B$=fj,ev="DropdownMenu",[V$,a5]=Ii(ev,[HS]),Qt=HS(),[W$,mj]=V$(ev),pj=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Qt(t),u=h.useRef(null),[d=!1,f]=bi({prop:s,defaultProp:i,onChange:o});return a.jsx(W$,{scope:t,triggerId:Si(),triggerRef:u,contentId:Si(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(N$,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};pj.displayName=ev;var gj="DropdownMenuTrigger",vj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=mj(gj,r),o=Qt(r);return a.jsx(P$,{asChild:!0,...o,children:a.jsx(ue.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Ed(t,i.triggerRef),onPointerDown:J(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:J(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});vj.displayName=gj;var q$="DropdownMenuPortal",yj=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Qt(t);return a.jsx(T$,{...n,...r})};yj.displayName=q$;var xj="DropdownMenuContent",wj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mj(xj,r),i=Qt(r),o=h.useRef(!1);return a.jsx(R$,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:J(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:J(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wj.displayName=xj;var H$="DropdownMenuGroup",K$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qt(r);return a.jsx(O$,{...s,...n,ref:t})});K$.displayName=H$;var G$="DropdownMenuLabel",bj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qt(r);return a.jsx(A$,{...s,...n,ref:t})});bj.displayName=G$;var Q$="DropdownMenuItem",_j=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qt(r);return a.jsx(I$,{...s,...n,ref:t})});_j.displayName=Q$;var Y$="DropdownMenuCheckboxItem",Sj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qt(r);return a.jsx(M$,{...s,...n,ref:t})});Sj.displayName=Y$;var Z$="DropdownMenuRadioGroup",X$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qt(r);return a.jsx(D$,{...s,...n,ref:t})});X$.displayName=Z$;var J$="DropdownMenuRadioItem",jj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qt(r);return a.jsx($$,{...s,...n,ref:t})});jj.displayName=J$;var eL="DropdownMenuItemIndicator",kj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qt(r);return a.jsx(L$,{...s,...n,ref:t})});kj.displayName=eL;var tL="DropdownMenuSeparator",Cj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qt(r);return a.jsx(F$,{...s,...n,ref:t})});Cj.displayName=tL;var rL="DropdownMenuArrow",nL=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qt(r);return a.jsx(U$,{...s,...n,ref:t})});nL.displayName=rL;var sL="DropdownMenuSubTrigger",Ej=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qt(r);return a.jsx(z$,{...s,...n,ref:t})});Ej.displayName=sL;var iL="DropdownMenuSubContent",Nj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qt(r);return a.jsx(B$,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Nj.displayName=iL;var oL=pj,aL=vj,lL=yj,Pj=wj,Tj=bj,Rj=_j,Oj=Sj,Aj=jj,Ij=kj,Mj=Cj,Dj=Ej,$j=Nj;const cL=oL,uL=aL,dL=h.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(Dj,{ref:s,className:re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(CA,{className:"ml-auto h-4 w-4"})]}));dL.displayName=Dj.displayName;const fL=h.forwardRef(({className:e,...t},r)=>a.jsx($j,{ref:r,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));fL.displayName=$j.displayName;const Lj=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(lL,{children:a.jsx(Pj,{ref:n,sideOffset:t,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Lj.displayName=Pj.displayName;const Xi=h.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(Rj,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Xi.displayName=Rj.displayName;const hL=h.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(Oj,{ref:s,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Ij,{children:a.jsx(Md,{className:"h-4 w-4"})})}),t]}));hL.displayName=Oj.displayName;const mL=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Aj,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Ij,{children:a.jsx(PA,{className:"h-2 w-2 fill-current"})})}),t]}));mL.displayName=Aj.displayName;const Fj=h.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(Tj,{ref:n,className:re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Fj.displayName=Tj.displayName;const Gm=h.forwardRef(({className:e,...t},r)=>a.jsx(Mj,{ref:r,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));Gm.displayName=Mj.displayName;const pL=({user:e,setSidebarOpen:t,onSignOut:r})=>a.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 w-full",children:a.jsxs("div",{className:"w-full flex justify-between items-center h-16 px-4 md:px-6",children:[a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsx("button",{className:"lg:hidden text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 mr-4",onClick:()=>t(!0),children:a.jsx(DA,{size:24})}),a.jsx("div",{className:"flex items-center flex-1 max-w-md",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:a.jsx(g1,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 py-2 pl-10 pr-3 text-sm placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Search..."})]})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_e,{variant:"ghost",size:"icon",className:"text-gray-500 dark:text-gray-400",children:a.jsx(jA,{size:20})}),a.jsxs(cL,{children:[a.jsx(uL,{asChild:!0,children:a.jsx(_e,{variant:"ghost",className:"relative h-8 w-8 rounded-full flex items-center justify-center",children:a.jsxs(zd,{className:"h-8 w-8",children:[a.jsx(Bd,{src:e.avatar,alt:e.name}),a.jsx(Vd,{className:"bg-blue-500 text-white",children:e.name.substring(0,2).toUpperCase()})]})})}),a.jsxs(Lj,{align:"end",className:"w-56",children:[a.jsx(Fj,{children:"My Account"}),a.jsx(Gm,{}),a.jsx(Xi,{children:a.jsx(ni,{to:"/profile",className:"flex w-full",children:"Profile"})}),a.jsx(Xi,{children:a.jsx(ni,{to:"/settings",className:"flex w-full",children:"Settings"})}),e.role==="customer"&&a.jsxs(a.Fragment,{children:[a.jsx(Xi,{children:a.jsx(ni,{to:"/cart",className:"flex w-full",children:"Shopping Cart"})}),a.jsx(Xi,{children:a.jsx(ni,{to:"/returns",className:"flex w-full",children:"Returns"})})]}),a.jsx(Gm,{}),a.jsx(Xi,{className:"text-red-600",onClick:r,children:"Log out"})]})]})]})]})}),Xr=({children:e})=>{const[t,r]=h.useState(!1),{user:n,signOut:s}=Un(),i=Oi(),o=Fn();if(h.useEffect(()=>{if(!n)return;const c=o.pathname;if(c==="/"||c==="/stock2store"||c==="/stock2store/"){const d={customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"}[n.role]||"/store";console.log(`Redirecting ${n.role} user from ${c} to ${d}`),i(d,{replace:!0})}},[n,i,o.pathname]),h.useEffect(()=>{const c=()=>{window.innerWidth>=1024&&r(!1)};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),!n)return a.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading..."})]});const l=async()=>{await s(),i("/login")};return a.jsxs("div",{className:"min-h-screen w-full bg-gray-50 dark:bg-gray-900 flex",children:[a.jsx(oM,{user:n,sidebarOpen:t,setSidebarOpen:r,onSignOut:l}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-64",children:[a.jsx(pL,{user:n,setSidebarOpen:r,onSignOut:l}),a.jsx("main",{className:"flex-1 w-full",children:a.jsx("div",{className:"w-full h-full",children:e})})]})]})},gL=Id("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...r}){return a.jsx("div",{className:re(gL({variant:t}),e),...r})}const vL=({products:e,inventoryMovements:t})=>a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Warehouse Overview"}),a.jsx(nt,{children:"Current inventory status"})]}),a.jsxs(ve,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-md",children:a.jsx(kA,{size:20,className:"text-blue-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Total Products"})]}),a.jsx("span",{className:"font-semibold",children:e.length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-md",children:a.jsx(xt,{size:20,className:"text-green-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Total Inventory"})]}),a.jsx("span",{className:"font-semibold",children:e.reduce((r,n)=>r+n.stock,0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-md",children:a.jsx(Ra,{size:20,className:"text-red-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Low Stock Items"})]}),a.jsx("span",{className:"font-semibold",children:e.filter(r=>r.stock<=5).length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-yellow-100 p-2 rounded-md",children:a.jsx(Lm,{size:20,className:"text-yellow-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Movements Today"})]}),a.jsx("span",{className:"font-semibold",children:t.filter(r=>{const n=new Date;return new Date(r.timestamp).toDateString()===n.toDateString()}).length})]})]})]}),yL=({products:e,onProductSelect:t,onViewAllInventory:r})=>{const n=e.filter(i=>i.stock<10).sort((i,o)=>i.stock-o.stock),s=n.length;return a.jsxs(de,{children:[a.jsx(we,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(be,{className:"text-lg font-medium flex items-center",children:[a.jsx(_i,{size:18,className:"text-amber-500 mr-2"}),"Low Stock Alert"]}),a.jsxs("div",{className:"bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded",children:[s," items"]})]})}),a.jsx(ve,{className:"pt-1",children:n.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3 mb-3 max-h-[200px] overflow-y-auto",children:n.slice(0,5).map(i=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>t(i),children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:i.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[i.category,"  ID: ",i.id.slice(0,8)]})]}),a.jsxs("div",{className:`text-sm font-medium px-2.5 py-0.5 rounded 
                    ${i.stock===0?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"}`,children:[i.stock," left"]})]},i.id))}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[a.jsx("p",{className:"text-xs text-gray-500",children:n.length>5&&`+${n.length-5} more items`}),a.jsxs(_e,{variant:"ghost",size:"sm",className:"text-xs",onClick:r,children:["View All ",a.jsx(RA,{size:14,className:"ml-1"})]})]})]}):a.jsx("div",{className:"text-center py-6",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"All products have sufficient stock."})})})]})};function Ue(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Os(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Uj=6048e5,xL=864e5,Rc=43200,Bx=1440;let wL={};function Xl(){return wL}function Pl(e,t){var l,c,u,d;const r=Xl(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ue(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Au(e){return Pl(e,{weekStartsOn:1})}function zj(e){const t=Ue(e),r=t.getFullYear(),n=Os(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Au(n),i=Os(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Au(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Vx(e){const t=Ue(e);return t.setHours(0,0,0,0),t}function Iu(e){const t=Ue(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function bL(e,t){const r=Vx(e),n=Vx(t),s=+r-Iu(r),i=+n-Iu(n);return Math.round((s-i)/xL)}function _L(e){const t=zj(e),r=Os(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Au(r)}function Yc(e,t){const r=Ue(e),n=Ue(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function SL(e){return Os(e,Date.now())}function jL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kL(e){if(!jL(e)&&typeof e!="number")return!1;const t=Ue(e);return!isNaN(Number(t))}function CL(e,t){const r=Ue(e),n=Ue(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function EL(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function NL(e,t){return+Ue(e)-+Ue(t)}function PL(e){const t=Ue(e);return t.setHours(23,59,59,999),t}function TL(e){const t=Ue(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function RL(e){const t=Ue(e);return+PL(t)==+TL(t)}function OL(e,t){const r=Ue(e),n=Ue(t),s=Yc(r,n),i=Math.abs(CL(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Yc(r,n)===-s;RL(Ue(e))&&i===1&&Yc(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function AL(e,t,r){const n=NL(e,t)/1e3;return EL(r==null?void 0:r.roundingMethod)(n)}function IL(e){const t=Ue(e),r=Os(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ML={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DL=(e,t,r)=>{let n;const s=ML[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ah(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const $L={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},LL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UL={date:ah({formats:$L,defaultWidth:"full"}),time:ah({formats:LL,defaultWidth:"full"}),dateTime:ah({formats:FL,defaultWidth:"full"})},zL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BL=(e,t,r,n)=>zL[e];function ba(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const VL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},KL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},GL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QL=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},YL={ordinalNumber:QL,era:ba({values:VL,defaultWidth:"wide"}),quarter:ba({values:WL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ba({values:qL,defaultWidth:"wide"}),day:ba({values:HL,defaultWidth:"wide"}),dayPeriod:ba({values:KL,defaultWidth:"wide",formattingValues:GL,defaultFormattingWidth:"wide"})};function _a(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?XL(l,f=>f.test(o)):ZL(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function ZL(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function XL(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function JL(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const eF=/^(\d+)(th|st|nd|rd)?/i,tF=/\d+/i,rF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nF={any:[/^b/i,/^(a|c)/i]},sF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iF={any:[/1/i,/2/i,/3/i,/4/i]},oF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fF={ordinalNumber:JL({matchPattern:eF,parsePattern:tF,valueCallback:e=>parseInt(e,10)}),era:_a({matchPatterns:rF,defaultMatchWidth:"wide",parsePatterns:nF,defaultParseWidth:"any"}),quarter:_a({matchPatterns:sF,defaultMatchWidth:"wide",parsePatterns:iF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_a({matchPatterns:oF,defaultMatchWidth:"wide",parsePatterns:aF,defaultParseWidth:"any"}),day:_a({matchPatterns:lF,defaultMatchWidth:"wide",parsePatterns:cF,defaultParseWidth:"any"}),dayPeriod:_a({matchPatterns:uF,defaultMatchWidth:"any",parsePatterns:dF,defaultParseWidth:"any"})},Bj={code:"en-US",formatDistance:DL,formatLong:UL,formatRelative:BL,localize:YL,match:fF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hF(e){const t=Ue(e);return bL(t,IL(t))+1}function mF(e){const t=Ue(e),r=+Au(t)-+_L(t);return Math.round(r/Uj)+1}function Vj(e,t){var d,f,m,y;const r=Ue(e),n=r.getFullYear(),s=Xl(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(m=s.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=Os(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Pl(o,t),c=Os(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Pl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function pF(e,t){var l,c,u,d;const r=Xl(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Vj(e,t),i=Os(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Pl(i,t)}function gF(e,t){const r=Ue(e),n=+Pl(r,t)-+pF(r,t);return Math.round(n/Uj)+1}function Le(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const qn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Le(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Le(r+1,2)},d(e,t){return Le(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Le(e.getHours()%12||12,t.length)},H(e,t){return Le(e.getHours(),t.length)},m(e,t){return Le(e.getMinutes(),t.length)},s(e,t){return Le(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Le(s,t.length)}},Ki={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wx={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return qn.y(e,t)},Y:function(e,t,r,n){const s=Vj(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Le(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Le(i,t.length)},R:function(e,t){const r=zj(e);return Le(r,t.length)},u:function(e,t){const r=e.getFullYear();return Le(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Le(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Le(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return qn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Le(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=gF(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Le(s,t.length)},I:function(e,t,r){const n=mF(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Le(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):qn.d(e,t)},D:function(e,t,r){const n=hF(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Le(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Le(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Le(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Le(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Ki.noon:n===0?s=Ki.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Ki.evening:n>=12?s=Ki.afternoon:n>=4?s=Ki.morning:s=Ki.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return qn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):qn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):qn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):qn.s(e,t)},S:function(e,t){return qn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Hx(n);case"XXXX":case"XX":return Zs(n);case"XXXXX":case"XXX":default:return Zs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Hx(n);case"xxxx":case"xx":return Zs(n);case"xxxxx":case"xxx":default:return Zs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qx(n,":");case"OOOO":default:return"GMT"+Zs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qx(n,":");case"zzzz":default:return"GMT"+Zs(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Le(n,t.length)},T:function(e,t,r){const n=e.getTime();return Le(n,t.length)}};function qx(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Le(i,2)}function Hx(e,t){return e%60===0?(e>0?"-":"+")+Le(Math.abs(e)/60,2):Zs(e,t)}function Zs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Le(Math.trunc(n/60),2),i=Le(n%60,2);return r+s+t+i}const Kx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Wj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},vF=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Kx(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Kx(n,t)).replace("{{time}}",Wj(s,t))},yF={p:Wj,P:vF},xF=/^D+$/,wF=/^Y+$/,bF=["D","DD","YY","YYYY"];function _F(e){return xF.test(e)}function SF(e){return wF.test(e)}function jF(e,t,r){const n=kF(e,t,r);if(console.warn(n),bF.includes(e))throw new RangeError(n)}function kF(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NF=/^'([^]*?)'?$/,PF=/''/g,TF=/[a-zA-Z]/;function Qm(e,t,r){var d,f,m,y;const n=Xl(),s=n.locale??Bj,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,l=Ue(e);if(!kL(l))throw new RangeError("Invalid time value");let c=t.match(EF).map(w=>{const p=w[0];if(p==="p"||p==="P"){const x=yF[p];return x(w,s.formatLong)}return w}).join("").match(CF).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const p=w[0];if(p==="'")return{isToken:!1,value:RF(w)};if(Wx[p])return{isToken:!0,value:w};if(p.match(TF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const p=w.value;(SF(p)||_F(p))&&jF(p,t,String(e));const x=Wx[p[0]];return x(l,p,s.localize,u)}).join("")}function RF(e){const t=e.match(NF);return t?t[1].replace(PF,"'"):e}function OF(e,t,r){const n=Xl(),s=(r==null?void 0:r.locale)??n.locale??Bj,i=2520,o=Yc(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Ue(t),u=Ue(e)):(c=Ue(e),u=Ue(t));const d=AL(u,c),f=(Iu(u)-Iu(c))/1e3,m=Math.round((d-f)/60);let y;if(m<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<Bx){const w=Math.round(m/60);return s.formatDistance("aboutXHours",w,l)}else{if(m<i)return s.formatDistance("xDays",1,l);if(m<Rc){const w=Math.round(m/Bx);return s.formatDistance("xDays",w,l)}else if(m<Rc*2)return y=Math.round(m/Rc),s.formatDistance("aboutXMonths",y,l)}if(y=OL(u,c),y<12){const w=Math.round(m/Rc);return s.formatDistance("xMonths",w,l)}else{const w=y%12,p=Math.trunc(y/12);return w<3?s.formatDistance("aboutXYears",p,l):w<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function AF(e,t){return OF(e,SL(e),t)}const tv=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:re("w-full caption-bottom text-sm",e),...t})}));tv.displayName="Table";const rv=h.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:re("[&_tr]:border-b",e),...t}));rv.displayName="TableHeader";const nv=h.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:re("[&_tr:last-child]:border-0",e),...t}));nv.displayName="TableBody";const IF=h.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));IF.displayName="TableFooter";const jo=h.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));jo.displayName="TableRow";const er=h.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));er.displayName="TableHead";const Vt=h.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Vt.displayName="TableCell";const MF=h.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:re("mt-4 text-sm text-muted-foreground",e),...t}));MF.displayName="TableCaption";const DF=({movements:e,getProductById:t})=>{const r=s=>AF(s,{addSuffix:!0}),n=s=>{const i=s.reason.toLowerCase();return i.includes("sale")||s.type==="out"?{label:"Sale",color:"bg-red-500",icon:Lm,description:"Item sold to customer"}:i.includes("refund")?{label:"Refund",color:"bg-yellow-500",icon:jl,description:"Item returned due to refund"}:i.includes("repair")||i.includes("damaged")?{label:"Repair",color:"bg-orange-500",icon:Ra,description:"Item sent for repair"}:i.includes("available")||i.includes("restored")?{label:"Restored",color:"bg-green-500",icon:Ra,description:"Item restored to available status"}:i.includes("damage")?{label:"Damage",color:"bg-red-600",icon:Ra,description:"Item marked as damaged"}:{label:s.type==="in"?"Entry":"Exit",color:s.type==="in"?"bg-green-500":"bg-red-500",icon:s.type==="in"?Ra:Lm,description:s.type==="in"?"Item added to inventory":"Item removed from inventory"}};return a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(xt,{className:"h-5 w-5"}),"Inventory Movements"]}),a.jsx(nt,{children:"Recent inventory transactions including sales, refunds, and status changes"})]}),a.jsx(ve,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(xt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No inventory movements recorded yet."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(tv,{children:[a.jsx(rv,{children:a.jsxs(jo,{children:[a.jsx(er,{className:"w-[140px]",children:"Type"}),a.jsx(er,{children:"Product"}),a.jsx(er,{children:"Serial ID"}),a.jsx(er,{children:"Quantity"}),a.jsx(er,{children:"Details"}),a.jsx(er,{children:"Order"}),a.jsx(er,{children:"Date"}),a.jsx(er,{children:"By"})]})}),a.jsx(nv,{children:e.map(s=>{const i=t(s.productId),o=n(s),l=o.icon;return a.jsxs(jo,{className:"hover:bg-gray-50",children:[a.jsx(Vt,{children:a.jsxs(Ze,{variant:"outline",className:`text-white border-none ${o.color}`,title:o.description,children:[a.jsx(l,{size:12,className:"mr-1"}),o.label]})}),a.jsx(Vt,{className:"font-medium",children:a.jsxs("div",{children:[a.jsx("div",{children:(i==null?void 0:i.name)||s.productName||"Unknown Product"}),(i==null?void 0:i.category)&&a.jsx("div",{className:"text-xs text-gray-500",children:i.category})]})}),a.jsx(Vt,{className:"text-sm text-gray-600 font-mono",children:s.serialId||"N/A"}),a.jsx(Vt,{children:a.jsx("span",{className:"font-medium",children:s.quantity})}),a.jsx(Vt,{className:"max-w-xs",children:a.jsx("div",{className:"truncate",title:s.reason,children:s.reason})}),a.jsx(Vt,{className:"text-sm text-gray-600",children:s.orderNumber?a.jsx("span",{className:"font-mono",children:s.orderNumber}):"N/A"}),a.jsx(Vt,{className:"text-gray-500 text-sm",children:a.jsx("div",{title:new Date(s.timestamp).toLocaleString(),children:r(s.timestamp)})}),a.jsx(Vt,{className:"text-gray-500 text-sm",children:s.userName||"System"})]},s.id)})})]})})})]})},$F=({products:e,onProductSelect:t})=>{const[r,n]=h.useState("A"),[s,i]=h.useState(null),{toast:o}=Rt(),l=Hl(),{data:c=[],isLoading:u}=Rn({queryKey:["detailed-products",e],queryFn:async()=>{if(e.length===0)return[];const{data:v,error:g}=await H.from("items").select(`
          serial_id,
          status,
          inventory_id,
          location_id,
          inventory!inner (
            id,
            name,
            description,
            quantity
          ),
          locations (
            shelf_number,
            slot_number
          )
        `);if(g)throw console.error("Error fetching items:",g),g;console.log("Raw items data:",v);const b=new Map;v==null||v.forEach(S=>{const C=S.inventory_id,j=S.inventory;if(!b.has(C)){const T=e.find(A=>A.id===C);b.set(C,{id:C,name:j.name,description:j.description||"",category:(T==null?void 0:T.category)||"Unknown",stock:j.quantity,location:(T==null?void 0:T.location)||"",price:(T==null?void 0:T.price)||0,image:(T==null?void 0:T.image)||"",createdAt:(T==null?void 0:T.createdAt)||new Date,updatedAt:(T==null?void 0:T.updatedAt)||new Date,itemStatuses:{available:0,sold:0,damaged:0,in_repair:0,unavailable:0},items:[]})}const E=b.get(C);E&&(E.itemStatuses[S.status]++,E.items.push({serial_id:S.serial_id,status:S.status,location_id:S.location_id,location:S.locations}))});const _=Array.from(b.values());return console.log("Processed detailed products:",_),_},enabled:e.length>0}),d=["A","B","C","D"],f=12,m=v=>{const g=[];return c.forEach(b=>{const _=b.items.filter(S=>{var C;return((C=S.location)==null?void 0:C.shelf_number)===v});if(_.length>0){const S=_[0];if(S.location){const[C,j]=S.location.slot_number.split("-"),E=(parseInt(C)-1)*4+parseInt(j)-1;g.push({product:b,slotPosition:E,itemCount:_.length})}}}),g},y=(v,g)=>{i({productId:g.id,product_name:g.name}),v.dataTransfer.setData("text/plain",g.id)},w=v=>{v.preventDefault()},p=async(v,g,b)=>{var _;if(v.preventDefault(),!!s)try{const{data:{user:S}}=await H.auth.getUser();if(!S)throw new Error("User not authenticated");const C=Math.floor(b/4)+1,j=b%4+1,E=`${g}${C}-${j.toString().padStart(2,"0")}`;let{data:T}=await H.from("locations").select("id").eq("shelf_number",g).eq("slot_number",`${C}-${j.toString().padStart(2,"0")}`).single();if(!T){const{data:G,error:O}=await H.from("locations").insert({shelf_number:g,slot_number:`${C}-${j.toString().padStart(2,"0")}`,capacity:100,status:!0}).select("id").single();if(O)throw O;T=G}const{data:A,error:U}=await H.from("items").select("serial_id, location_id, locations(shelf_number, slot_number)").eq("inventory_id",s.productId);if(U)throw U;if(!A||A.length===0){o({title:"No Items Found",description:`No items found for product ${s.product_name}`,variant:"destructive"});return}const P=(_=A[0])!=null&&_.locations?`${A[0].locations.shelf_number}${A[0].locations.slot_number}`:"Unassigned",$=A.map(G=>G.serial_id),{error:D}=await H.from("items").update({location_id:T.id}).in("serial_id",$);if(D)throw D;const K=$.map(G=>{var O;return{item_serial:G,user_id:S.id,transaction_type:"location_change",notes:`Product ${s.product_name} moved from ${P} to ${E}`,source_location_id:(O=A.find(I=>I.serial_id===G))==null?void 0:O.location_id,destination_location_id:T.id}}),{error:L}=await H.from("transactions").insert(K);if(L)throw L;o({title:"Product Location Updated",description:`All ${$.length} items of ${s.product_name} moved to ${E}`}),await l.invalidateQueries({queryKey:["detailed-products"]}),await l.invalidateQueries({queryKey:["inventory-movements"]})}catch(S){console.error("Error updating location:",S),o({title:"Error",description:S instanceof Error?S.message:"Failed to update location",variant:"destructive"})}finally{i(null)}};if(u)return a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Shelf Mapping"}),a.jsx(nt,{children:"Loading shelf layout..."})]}),a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})})})]});const x=m(r);return a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(yx,{className:"h-5 w-5"}),"Warehouse Shelf Mapping"]}),a.jsx(nt,{children:"Drag and drop products to change their location. All items of a product move together."})]}),a.jsxs(ve,{className:"space-y-6",children:[a.jsx("div",{className:"flex gap-2",children:d.map(v=>a.jsxs(_e,{variant:r===v?"default":"outline",onClick:()=>n(v),className:"min-w-[60px]",children:["Shelf ",v]},v))}),a.jsxs("div",{className:"border-2 border-gray-300 rounded-lg p-6 bg-gray-50",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Shelf ",r]}),a.jsx("p",{className:"text-sm text-gray-600",children:"3 rows  4 columns (drag products to move all items together)"})]}),a.jsx("div",{className:"grid grid-cols-4 gap-4 max-w-4xl mx-auto",children:Array.from({length:f},(v,g)=>{const b=Math.floor(g/4)+1,_=g%4+1,S=`${r}${b}-${_.toString().padStart(2,"0")}`,C=x.find(j=>j.slotPosition===g);return a.jsxs("div",{className:`
                    border-2 rounded-lg p-3 h-32 flex flex-col justify-between transition-colors
                    ${C?"border-blue-300 bg-blue-50 cursor-move":"border-gray-200 bg-white border-dashed"}
                    ${s?"hover:border-green-400 hover:bg-green-50":""}
                  `,onDragOver:w,onDrop:j=>p(j,r,g),children:[a.jsx("div",{className:"text-xs font-mono text-gray-500 text-center",children:S}),C?a.jsx("div",{className:"flex-1 flex flex-col justify-center cursor-move",draggable:!0,onDragStart:j=>y(j,C.product),children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:C.product.name}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[C.itemCount," items"]}),a.jsxs("div",{className:"flex justify-center gap-1 mt-2",children:[C.product.itemStatuses.available>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(xt,{className:"h-3 w-3 text-green-600"}),a.jsx("span",{className:"text-xs",children:C.product.itemStatuses.available})]}),C.product.itemStatuses.damaged>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_i,{className:"h-3 w-3 text-red-600"}),a.jsx("span",{className:"text-xs",children:C.product.itemStatuses.damaged})]})]}),a.jsx(Ze,{variant:"outline",className:"mt-2 text-xs",children:C.product.category})]})}):a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-gray-400 text-center",children:[a.jsx(xt,{className:"h-6 w-6 mx-auto mb-1 opacity-50"}),a.jsx("p",{className:"text-xs",children:"Empty"})]})})]},g)})})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Status Legend & Instructions"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xt,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{children:"Available"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_i,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{children:"Damaged"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(WA,{className:"h-4 w-4 text-yellow-600"}),a.jsx("span",{children:"In Repair"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(SA,{className:"h-4 w-4 text-gray-600"}),a.jsx("span",{children:"Unavailable"})]})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(yx,{className:"h-4 w-4 inline mr-1"}),"Drag products to move all items of that product together to a new location."]})]}),c.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(xt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No products found for shelf mapping."})]})]})]})},Qo=h.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Qo.displayName="Textarea";const LF=async e=>{console.log("Processing order:",e);try{const t=`ORD-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r=e.items.reduce((i,o)=>i+o.price*o.quantity,0),{data:n,error:s}=await H.from("orders").insert({user_id:e.userId,order_number:t,total_amount:r,status:"pending"}).select("id").single();if(s)throw console.error("Error creating order:",s),s;console.log("Order created:",n);for(const i of e.items){console.log(`Processing ${i.quantity} items for product ${i.productId}`);const{data:o,error:l}=await H.from("inventory").select("id, name, quantity").eq("id",i.productId).single();if(l)throw console.error("Error checking inventory:",l),new Error(`Product ${i.productId} not found`);console.log("Inventory check:",o);const{data:c,error:u}=await H.from("items").select("serial_id, inventory_id").eq("inventory_id",i.productId).eq("status","available").order("serial_id",{ascending:!0}).limit(i.quantity);if(u)throw console.error("Error fetching available items:",u),u;if(console.log(`Found ${(c==null?void 0:c.length)||0} available items for product ${i.productId}`),!c||c.length<i.quantity)throw new Error(`Insufficient stock for product ${o.name}. Available: ${(c==null?void 0:c.length)||0}, Required: ${i.quantity}`);console.log("Available items to mark as sold:",c);const d=c.map(x=>x.serial_id),{error:f}=await H.from("items").update({status:"sold"}).in("serial_id",d);if(f)throw console.error("Error updating item status:",f),f;console.log(`Successfully marked ${d.length} items as sold:`,d);const m=c.map(x=>({order_id:n.id,item_serial:x.serial_id,price:i.price})),{error:y}=await H.from("order_items").insert(m);if(y)throw console.error("Error creating order items:",y),y;const w=c.map(x=>({item_serial:x.serial_id,user_id:e.userId,transaction_type:"sale",order_id:n.id,notes:`Item sold through order ${t}`})),{error:p}=await H.from("transactions").insert(w);if(p)throw console.error("Error creating transaction records:",p),p;console.log(`Successfully created ${w.length} transaction records for sold items`),console.log(`Successfully processed ${i.quantity} items for product ${i.productId}`)}return console.log("Order processing completed successfully"),{success:!0,orderId:n.id}}catch(t){return console.error("Error processing order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},FF=async e=>{try{const{error:t}=await H.from("orders").update({status:"completed"}).eq("id",e);if(t)throw console.error("Error completing order:",t),t;return console.log("Order completed successfully:",e),{success:!0}}catch(t){return console.error("Error completing order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},UF=async(e,t)=>{try{console.log("Processing refund for order:",e);const{data:r,error:n}=await H.from("order_items").select("item_serial").eq("order_id",e);if(n)throw console.error("Error fetching order items:",n),n;if(!r||r.length===0)throw new Error("No items found for this order");const s=r.map(c=>c.item_serial),{error:i}=await H.from("items").update({status:"damaged"}).in("serial_id",s);if(i)throw console.error("Error updating item status to damaged:",i),i;const o=s.map(c=>({item_serial:c,user_id:t,transaction_type:"refund",order_id:e,notes:"Item returned due to approved refund request - status set to damaged"})),{error:l}=await H.from("transactions").insert(o);if(l)throw console.error("Error creating refund transaction records:",l),l;return console.log(`Successfully processed refund for ${s.length} items - marked as damaged`),{success:!0}}catch(r){return console.error("Error processing refund:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}},zF=()=>{const[e,t]=h.useState({}),[r,n]=h.useState(null),{toast:s}=Rt(),i=Hl(),{data:o=[],isLoading:l}=Rn({queryKey:["refund-requests"],queryFn:async()=>{const{data:f,error:m}=await H.from("refund_requests").select(`
          id,
          order_id,
          user_id,
          description,
          status,
          photo_url,
          created_at,
          admin_notes,
          reviewed_at,
          reviewed_by,
          orders (
            order_number,
            total_amount
          ),
          profiles!user_id (
            name,
            email
          )
        `).order("created_at",{ascending:!1});if(m)throw m;return f}}),c=async(f,m,y)=>{try{m==="approved"&&n(f);const{data:{user:w}}=await H.auth.getUser();if(!w)throw new Error("User not authenticated");const{error:p}=await H.from("refund_requests").update({status:m,reviewed_by:w.id,reviewed_at:new Date().toISOString(),admin_notes:e[f]||null}).eq("id",f);if(p)throw p;if(m==="approved"&&y){const x=await UF(y,w.id);if(!x.success)throw new Error(x.error||"Failed to process refund")}i.invalidateQueries({queryKey:["refund-requests"]}),i.invalidateQueries({queryKey:["inventory-movements"]}),i.invalidateQueries({queryKey:["warehouse-products"]}),s({title:"Success",description:`Refund request ${m} successfully${m==="approved"?" and items marked for repair":""}`}),t(x=>{const v={...x};return delete v[f],v})}catch(w){console.error("Error updating refund request:",w),s({title:"Error",description:w instanceof Error?w.message:"Failed to update refund request",variant:"destructive"})}finally{n(null)}},u=f=>{switch(f){case"pending":return a.jsx(TA,{className:"h-4 w-4 text-yellow-500"});case"approved":return a.jsx(gx,{className:"h-4 w-4 text-green-500"});case"rejected":return a.jsx(vx,{className:"h-4 w-4 text-red-500"});default:return a.jsx(NA,{className:"h-4 w-4 text-gray-500"})}},d=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?a.jsx(de,{children:a.jsxs(ve,{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3",children:"Loading refund requests..."})]})}):a.jsx("div",{className:"space-y-4",children:a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(xt,{className:"h-5 w-5"}),"Refund Requests Management"]}),a.jsx(nt,{children:"Review and process customer refund requests"})]}),a.jsx(ve,{children:o.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(xt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No refund requests found."})]}):a.jsx("div",{className:"space-y-4",children:o.map(f=>{var m,y,w,p;return a.jsx(de,{className:"border-l-4 border-l-blue-500",children:a.jsxs(ve,{className:"p-6",children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ze,{className:d(f.status),children:[u(f.status),a.jsx("span",{className:"ml-1 capitalize",children:f.status})]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Order #",((m=f.orders)==null?void 0:m.order_number)||"Unknown"]})]}),a.jsxs("h3",{className:"font-semibold",children:["Refund Request from ",((y=f.profiles)==null?void 0:y.name)||"Unknown User"]}),a.jsx("p",{className:"text-sm text-gray-600",children:((w=f.profiles)==null?void 0:w.email)||"No email"}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Amount:"})," $",((p=f.orders)==null?void 0:p.total_amount)||0]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Submitted:"})," ",new Date(f.created_at).toLocaleDateString()]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Customer Description:"}),a.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded",children:f.description})]}),f.photo_url&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Attached Photo:"}),a.jsx("img",{src:f.photo_url,alt:"Refund request",className:"max-w-xs rounded border"})]}),f.admin_notes&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Admin Notes:"}),a.jsx("p",{className:"text-sm text-gray-700 bg-blue-50 p-3 rounded",children:f.admin_notes})]}),f.status==="pending"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Notes (Optional):"}),a.jsx(Qo,{placeholder:"Add any notes about this refund decision...",value:e[f.id]||"",onChange:x=>t(v=>({...v,[f.id]:x.target.value})),className:"min-h-20"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(_e,{onClick:()=>c(f.id,"approved",f.order_id),className:"bg-green-600 hover:bg-green-700",disabled:r===f.id,children:r===f.id?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-white mr-2"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gx,{className:"h-4 w-4 mr-2"}),"Approve Refund"]})}),a.jsxs(_e,{onClick:()=>c(f.id,"rejected"),variant:"destructive",disabled:r===f.id,children:[a.jsx(vx,{className:"h-4 w-4 mr-2"}),"Reject Refund"]})]})]})]})},f.id)})})})]})})};function Gx(e,[t,r]){return Math.min(r,Math.max(t,e))}function qj(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var BF=[" ","Enter","ArrowUp","ArrowDown"],VF=[" ","Enter"],Jl="Select",[Zd,Xd,WF]=Nd(Jl),[ca,l5]=Ii(Jl,[WF,Kd]),Jd=Kd(),[qF,Vs]=ca(Jl),[HF,KF]=ca(Jl),Hj=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:y,form:w}=e,p=Jd(t),[x,v]=h.useState(null),[g,b]=h.useState(null),[_,S]=h.useState(!1),C=$d(u),[j=!1,E]=bi({prop:n,defaultProp:s,onChange:i}),[T,A]=bi({prop:o,defaultProp:l,onChange:c}),U=h.useRef(null),P=x?w||!!x.closest("form"):!0,[$,D]=h.useState(new Set),K=Array.from($).map(L=>L.props.value).join(";");return a.jsx(TS,{...p,children:a.jsxs(qF,{required:y,scope:t,trigger:x,onTriggerChange:v,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Si(),value:T,onValueChange:A,open:j,onOpenChange:E,dir:C,triggerPointerDownPosRef:U,disabled:m,children:[a.jsx(Zd.Provider,{scope:t,children:a.jsx(HF,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(L=>{D(G=>new Set(G).add(L))},[]),onNativeOptionRemove:h.useCallback(L=>{D(G=>{const O=new Set(G);return O.delete(L),O})},[]),children:r})}),P?a.jsxs(vk,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:L=>A(L.target.value),disabled:m,form:w,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from($)]},K):null]})})};Hj.displayName=Jl;var Kj="SelectTrigger",Gj=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Jd(r),o=Vs(Kj,r),l=o.disabled||n,c=ze(t,o.onTriggerChange),u=Xd(r),d=h.useRef("touch"),[f,m,y]=yk(p=>{const x=u().filter(b=>!b.disabled),v=x.find(b=>b.value===o.value),g=xk(x,p,v);g!==void 0&&o.onValueChange(g.value)}),w=p=>{l||(o.onOpenChange(!0),y()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(RS,{asChild:!0,...i,children:a.jsx(ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gk(o.value)?"":void 0,...s,ref:c,onClick:J(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&w(p)}),onPointerDown:J(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(w(p),p.preventDefault())}),onKeyDown:J(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(x&&p.key===" ")&&BF.includes(p.key)&&(w(),p.preventDefault())})})})});Gj.displayName=Kj;var Qj="SelectValue",Yj=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Vs(Qj,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=ze(t,c.onValueNodeChange);return kt(()=>{u(d)},[u,d]),a.jsx(ue.span,{...l,ref:f,style:{pointerEvents:"none"},children:gk(c.value)?a.jsx(a.Fragment,{children:o}):i})});Yj.displayName=Qj;var GF="SelectIcon",Zj=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Zj.displayName=GF;var QF="SelectPortal",Xj=e=>a.jsx(Td,{asChild:!0,...e});Xj.displayName=QF;var ki="SelectContent",Jj=h.forwardRef((e,t)=>{const r=Vs(ki,e.__scopeSelect),[n,s]=h.useState();if(kt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Ls.createPortal(a.jsx(ek,{scope:e.__scopeSelect,children:a.jsx(Zd.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(tk,{...e,ref:t})});Jj.displayName=ki;var Mr=10,[ek,Ws]=ca(ki),YF="SelectContentImpl",tk=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:p,avoidCollisions:x,...v}=e,g=Vs(ki,r),[b,_]=h.useState(null),[S,C]=h.useState(null),j=ze(t,te=>_(te)),[E,T]=h.useState(null),[A,U]=h.useState(null),P=Xd(r),[$,D]=h.useState(!1),K=h.useRef(!1);h.useEffect(()=>{if(b)return Vg(b)},[b]),cS();const L=h.useCallback(te=>{const[Te,...$e]=P().map(Ie=>Ie.ref.current),[Oe]=$e.slice(-1),Ae=document.activeElement;for(const Ie of te)if(Ie===Ae||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===Te&&S&&(S.scrollTop=0),Ie===Oe&&S&&(S.scrollTop=S.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==Ae))return},[P,S]),G=h.useCallback(()=>L([E,b]),[L,E,b]);h.useEffect(()=>{$&&G()},[$,G]);const{onOpenChange:O,triggerPointerDownPosRef:I}=g;h.useEffect(()=>{if(b){let te={x:0,y:0};const Te=Oe=>{var Ae,Ie;te={x:Math.abs(Math.round(Oe.pageX)-(((Ae=I.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Ie=I.current)==null?void 0:Ie.y)??0))}},$e=Oe=>{te.x<=10&&te.y<=10?Oe.preventDefault():b.contains(Oe.target)||O(!1),document.removeEventListener("pointermove",Te),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",$e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",$e,{capture:!0})}}},[b,O,I]),h.useEffect(()=>{const te=()=>O(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[O]);const[W,ne]=yk(te=>{const Te=P().filter(Ae=>!Ae.disabled),$e=Te.find(Ae=>Ae.ref.current===document.activeElement),Oe=xk(Te,te,$e);Oe&&setTimeout(()=>Oe.ref.current.focus())}),ge=h.useCallback((te,Te,$e)=>{const Oe=!K.current&&!$e;(g.value!==void 0&&g.value===Te||Oe)&&(T(te),Oe&&(K.current=!0))},[g.value]),ut=h.useCallback(()=>b==null?void 0:b.focus(),[b]),Be=h.useCallback((te,Te,$e)=>{const Oe=!K.current&&!$e;(g.value!==void 0&&g.value===Te||Oe)&&U(te)},[g.value]),Ft=n==="popper"?Ym:rk,qe=Ft===Ym?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(ek,{scope:r,content:b,viewport:S,onViewportChange:C,itemRefCallback:ge,selectedItem:E,onItemLeave:ut,itemTextRefCallback:Be,focusSelectedItem:G,selectedItemText:A,position:n,isPositioned:$,searchRef:W,children:a.jsx(Hg,{as:Es,allowPinchZoom:!0,children:a.jsx(Ig,{asChild:!0,trapped:g.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:J(s,te=>{var Te;(Te=g.trigger)==null||Te.focus({preventScroll:!0}),te.preventDefault()}),children:a.jsx(Pd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(Ft,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:te=>te.preventDefault(),...v,...qe,onPlaced:()=>D(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:J(v.onKeyDown,te=>{const Te=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Te&&te.key.length===1&&ne(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Oe=P().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ae=te.target,Ie=Oe.indexOf(Ae);Oe=Oe.slice(Ie+1)}setTimeout(()=>L(Oe)),te.preventDefault()}})})})})})})});tk.displayName=YF;var ZF="SelectItemAlignedPosition",rk=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Vs(ki,r),o=Ws(ki,r),[l,c]=h.useState(null),[u,d]=h.useState(null),f=ze(t,j=>d(j)),m=Xd(r),y=h.useRef(!1),w=h.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:v,focusSelectedItem:g}=o,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&v){const j=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),A=v.getBoundingClientRect();if(i.dir!=="rtl"){const Ae=A.left-E.left,Ie=T.left-Ae,Ot=j.left-Ie,lr=j.width+Ot,$i=Math.max(lr,E.width),Li=window.innerWidth-Mr,Fi=Gx(Ie,[Mr,Math.max(Mr,Li-$i)]);l.style.minWidth=lr+"px",l.style.left=Fi+"px"}else{const Ae=E.right-A.right,Ie=window.innerWidth-T.right-Ae,Ot=window.innerWidth-j.right-Ie,lr=j.width+Ot,$i=Math.max(lr,E.width),Li=window.innerWidth-Mr,Fi=Gx(Ie,[Mr,Math.max(Mr,Li-$i)]);l.style.minWidth=lr+"px",l.style.right=Fi+"px"}const U=m(),P=window.innerHeight-Mr*2,$=p.scrollHeight,D=window.getComputedStyle(u),K=parseInt(D.borderTopWidth,10),L=parseInt(D.paddingTop,10),G=parseInt(D.borderBottomWidth,10),O=parseInt(D.paddingBottom,10),I=K+L+$+O+G,W=Math.min(x.offsetHeight*5,I),ne=window.getComputedStyle(p),ge=parseInt(ne.paddingTop,10),ut=parseInt(ne.paddingBottom,10),Be=j.top+j.height/2-Mr,Ft=P-Be,qe=x.offsetHeight/2,te=x.offsetTop+qe,Te=K+L+te,$e=I-Te;if(Te<=Be){const Ae=U.length>0&&x===U[U.length-1].ref.current;l.style.bottom="0px";const Ie=u.clientHeight-p.offsetTop-p.offsetHeight,Ot=Math.max(Ft,qe+(Ae?ut:0)+Ie+G),lr=Te+Ot;l.style.height=lr+"px"}else{const Ae=U.length>0&&x===U[0].ref.current;l.style.top="0px";const Ot=Math.max(Be,K+p.offsetTop+(Ae?ge:0)+qe)+$e;l.style.height=Ot+"px",p.scrollTop=Te-Be+p.offsetTop}l.style.margin=`${Mr}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,u,p,x,v,i.dir,n]);kt(()=>b(),[b]);const[_,S]=h.useState();kt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=h.useCallback(j=>{j&&w.current===!0&&(b(),g==null||g(),w.current=!1)},[b,g]);return a.jsx(JF,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});rk.displayName=ZF;var XF="SelectPopperPosition",Ym=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Mr,...i}=e,o=Jd(r);return a.jsx(OS,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ym.displayName=XF;var[JF,sv]=ca(ki,{}),Zm="SelectViewport",nk=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Ws(Zm,r),o=sv(Zm,r),l=ze(t,i.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Zd.Slot,{scope:r,children:a.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:J(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const y=Math.abs(c.current-d.scrollTop);if(y>0){const w=window.innerHeight-Mr*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(p,x);if(v<w){const g=v+y,b=Math.min(w,g),_=g-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});nk.displayName=Zm;var sk="SelectGroup",[e4,t4]=ca(sk),r4=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Si();return a.jsx(e4,{scope:r,id:s,children:a.jsx(ue.div,{role:"group","aria-labelledby":s,...n,ref:t})})});r4.displayName=sk;var ik="SelectLabel",ok=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=t4(ik,r);return a.jsx(ue.div,{id:s.id,...n,ref:t})});ok.displayName=ik;var Mu="SelectItem",[n4,ak]=ca(Mu),lk=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Vs(Mu,r),c=Ws(Mu,r),u=l.value===n,[d,f]=h.useState(i??""),[m,y]=h.useState(!1),w=ze(t,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,n,s)}),p=Si(),x=h.useRef("touch"),v=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(n4,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:h.useCallback(g=>{f(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(Zd.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(ue.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:J(o.onFocus,()=>y(!0)),onBlur:J(o.onBlur,()=>y(!1)),onClick:J(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:J(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:J(o.onPointerDown,g=>{x.current=g.pointerType}),onPointerMove:J(o.onPointerMove,g=>{var b;x.current=g.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(o.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:J(o.onKeyDown,g=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(VF.includes(g.key)&&v(),g.key===" "&&g.preventDefault())})})})})});lk.displayName=Mu;var Aa="SelectItemText",ck=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Vs(Aa,r),l=Ws(Aa,r),c=ak(Aa,r),u=KF(Aa,r),[d,f]=h.useState(null),m=ze(t,v=>f(v),c.onItemTextChange,v=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,v,c.value,c.disabled)}),y=d==null?void 0:d.textContent,w=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return kt(()=>(p(w),()=>x(w)),[p,x,w]),a.jsxs(a.Fragment,{children:[a.jsx(ue.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ls.createPortal(i.children,o.valueNode):null]})});ck.displayName=Aa;var uk="SelectItemIndicator",dk=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return ak(uk,r).isSelected?a.jsx(ue.span,{"aria-hidden":!0,...n,ref:t}):null});dk.displayName=uk;var Xm="SelectScrollUpButton",fk=h.forwardRef((e,t)=>{const r=Ws(Xm,e.__scopeSelect),n=sv(Xm,e.__scopeSelect),[s,i]=h.useState(!1),o=ze(t,n.onScrollButtonChange);return kt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(mk,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});fk.displayName=Xm;var Jm="SelectScrollDownButton",hk=h.forwardRef((e,t)=>{const r=Ws(Jm,e.__scopeSelect),n=sv(Jm,e.__scopeSelect),[s,i]=h.useState(!1),o=ze(t,n.onScrollButtonChange);return kt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(mk,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});hk.displayName=Jm;var mk=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Ws("SelectScrollButton",r),o=h.useRef(null),l=Xd(r),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),kt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:J(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:J(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:J(s.onPointerLeave,()=>{c()})})}),s4="SelectSeparator",pk=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(ue.div,{"aria-hidden":!0,...n,ref:t})});pk.displayName=s4;var ep="SelectArrow",i4=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Jd(r),i=Vs(ep,r),o=Ws(ep,r);return i.open&&o.position==="popper"?a.jsx(AS,{...s,...n,ref:t}):null});i4.displayName=ep;function gk(e){return e===""||e===void 0}var vk=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=h.useRef(null),i=ze(t,s),o=qj(r);return h.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),a.jsx(Rd,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});vk.displayName="BubbleSelect";function yk(e){const t=Tt(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function xk(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=o4(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function o4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var a4=Hj,wk=Gj,l4=Yj,c4=Zj,u4=Xj,bk=Jj,d4=nk,_k=ok,Sk=lk,f4=ck,h4=dk,jk=fk,kk=hk,Ck=pk;const As=a4,Ci=l4,In=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(wk,{ref:n,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(c4,{asChild:!0,children:a.jsx(h1,{className:"h-4 w-4 opacity-50"})})]}));In.displayName=wk.displayName;const Ek=h.forwardRef(({className:e,...t},r)=>a.jsx(jk,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(EA,{className:"h-4 w-4"})}));Ek.displayName=jk.displayName;const Nk=h.forwardRef(({className:e,...t},r)=>a.jsx(kk,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(h1,{className:"h-4 w-4"})}));Nk.displayName=kk.displayName;const Mn=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(u4,{children:a.jsxs(bk,{ref:s,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(Ek,{}),a.jsx(d4,{className:re("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(Nk,{})]})}));Mn.displayName=bk.displayName;const m4=h.forwardRef(({className:e,...t},r)=>a.jsx(_k,{ref:r,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));m4.displayName=_k.displayName;const Re=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Sk,{ref:n,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(h4,{children:a.jsx(Md,{className:"h-4 w-4"})})}),a.jsx(f4,{children:t})]}));Re.displayName=Sk.displayName;const p4=h.forwardRef(({className:e,...t},r)=>a.jsx(Ck,{ref:r,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));p4.displayName=Ck.displayName;var iv="Checkbox",[g4,c5]=Ii(iv),[v4,y4]=g4(iv),Pk=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,y]=h.useState(null),w=ze(t,_=>y(_)),p=h.useRef(!1),x=m?d||!!m.closest("form"):!0,[v=!1,g]=bi({prop:s,defaultProp:i,onChange:u}),b=h.useRef(v);return h.useEffect(()=>{const _=m==null?void 0:m.form;if(_){const S=()=>g(b.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[m,g]),a.jsxs(v4,{scope:r,state:v,disabled:l,children:[a.jsx(ue.button,{type:"button",role:"checkbox","aria-checked":Ss(v)?"mixed":v,"aria-required":o,"data-state":Ok(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onKeyDown:J(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:J(e.onClick,_=>{g(S=>Ss(S)?!0:!S),x&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})}),x&&a.jsx(x4,{control:m,bubbles:!p.current,name:n,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ss(i)?!1:i})]})});Pk.displayName=iv;var Tk="CheckboxIndicator",Rk=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=y4(Tk,r);return a.jsx(Bs,{present:n||Ss(i.state)||i.state===!0,children:a.jsx(ue.span,{"data-state":Ok(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Rk.displayName=Tk;var x4=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...i}=e,o=h.useRef(null),l=qj(r),c=wS(t);h.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&y){const w=new Event("click",{bubbles:n});d.indeterminate=Ss(r),y.call(d,Ss(r)?!1:r),d.dispatchEvent(w)}},[l,r,n]);const u=h.useRef(Ss(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ss(e){return e==="indeterminate"}function Ok(e){return Ss(e)?"indeterminate":e?"checked":"unchecked"}var Ak=Pk,w4=Rk;const tp=h.forwardRef(({className:e,...t},r)=>a.jsx(Ak,{ref:r,className:re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(w4,{className:re("flex items-center justify-center text-current"),children:a.jsx(Md,{className:"h-4 w-4"})})}));tp.displayName=Ak.displayName;const b4=async()=>{console.log("Fetching detailed inventory with item statuses...");try{const{data:e,error:t}=await H.from("inventory").select(`
        id,
        name,
        description,
        quantity,
        status,
        product_type_id,
        items!inner (
          serial_id,
          status
        )
      `);if(t)throw console.error("Error fetching detailed inventory:",t),t;if(console.log("Detailed inventory data:",e),!e||e.length===0)return console.log("No detailed inventory data found"),[];const{data:r,error:n}=await H.from("product_types").select("id, name");n&&console.error("Error fetching product types:",n);const s=new Map;r&&r.forEach(l=>{s.set(l.id,l.name)});const i=new Map;e.forEach(l=>{const c=l.id;i.has(c)||i.set(c,{id:l.id,name:l.name,description:l.description||"",quantity:l.quantity,status:l.status,category:s.get(l.product_type_id)||"Uncategorized",serial_items:[]}),l.items&&Array.isArray(l.items)&&l.items.forEach(u=>{i.get(c).serial_items.push({serial_id:u.serial_id,status:u.status})})});const o=Array.from(i.values());return console.log("Processed detailed inventory:",o),o}catch(e){throw console.error("Error in getDetailedInventory:",e),e}},Qx=async(e,t,r,n)=>{try{console.log(`Updating item ${e} status to ${t} by user ${r}`);const{data:s,error:i}=await H.from("items").select("status").eq("serial_id",e).single();if(i)throw console.error("Error fetching current item status:",i),i;const o=s.status,{error:l}=await H.from("items").update({status:t}).eq("serial_id",e);if(l)throw console.error("Error updating item status:",l),l;const c=_4(o,t),u=n||`Manual status change from ${o} to ${t}`,{error:d}=await H.from("transactions").insert({item_serial:e,user_id:r,transaction_type:c,notes:u});if(d)throw console.error("Error creating transaction record:",d),d;return console.log(`Successfully updated item ${e} to status ${t} and logged transaction`),!0}catch(s){return console.error("Error in updateItemStatus:",s),!1}},_4=(e,t)=>t==="available"&&e!=="available"?"status_change":t==="damaged"?"damage":t==="in_repair"?"repair":"status_change",S4=e=>{const t={available:0,sold:0,damaged:0,in_repair:0,unavailable:0};return e.forEach(r=>{t[r.status]++}),t},j4=()=>{const[e,t]=h.useState(null),[r,n]=h.useState({}),[s,i]=h.useState({}),[o,l]=h.useState({}),[c,u]=h.useState({}),[d,f]=h.useState({}),{toast:m}=Rt(),y=Hl(),{data:w=[],isLoading:p,refetch:x}=Rn({queryKey:["detailed-inventory"],queryFn:b4}),v=async(j,E)=>{try{t(j);const{data:{user:T}}=await H.auth.getUser();if(!T)throw new Error("User not authenticated");const A=s[j]||void 0;if(await Qx(j,E,T.id,A))m({title:"Status Updated",description:`Item ${j} status updated to ${E}`}),n(P=>{const $={...P};return delete $[j],$}),i(P=>{const $={...P};return delete $[j],$}),y.invalidateQueries({queryKey:["detailed-inventory"]}),y.invalidateQueries({queryKey:["inventory-movements"]}),y.invalidateQueries({queryKey:["warehouse-products"]});else throw new Error("Failed to update item status")}catch(T){console.error("Error updating item status:",T),m({title:"Error",description:T instanceof Error?T.message:"Failed to update item status",variant:"destructive"})}finally{t(null)}},g=async j=>{const E=o[j]||[],T=c[j],A=d[j];if(E.length===0||!T){m({title:"Error",description:"Please select items and a new status",variant:"destructive"});return}try{t(j);const{data:{user:U}}=await H.auth.getUser();if(!U)throw new Error("User not authenticated");const P=E.map(K=>Qx(K,T,U.id,A)),D=(await Promise.all(P)).filter(Boolean).length;D===E.length?m({title:"Bulk Status Update Complete",description:`Updated ${D} items to ${T}`}):m({title:"Partial Success",description:`Updated ${D} out of ${E.length} items`,variant:"destructive"}),l(K=>({...K,[j]:[]})),u(K=>{const L={...K};return delete L[j],L}),f(K=>{const L={...K};return delete L[j],L}),y.invalidateQueries({queryKey:["detailed-inventory"]}),y.invalidateQueries({queryKey:["inventory-movements"]}),y.invalidateQueries({queryKey:["warehouse-products"]})}catch(U){console.error("Error updating bulk item status:",U),m({title:"Error",description:U instanceof Error?U.message:"Failed to update item statuses",variant:"destructive"})}finally{t(null)}},b=(j,E,T)=>{l(A=>{const U=A[j]||[];return T?{...A,[j]:[...U,E]}:{...A,[j]:U.filter(P=>P!==E)}})},_=(j,E,T)=>{const A=E.filter(U=>U.status!=="sold");l(T?U=>({...U,[j]:A.map(P=>P.serial_id)}):U=>({...U,[j]:[]}))},S=j=>{switch(j){case"available":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"damaged":return"bg-red-100 text-red-800";case"in_repair":return"bg-yellow-100 text-yellow-800";case"unavailable":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},C=j=>j!=="sold";return p?a.jsx(de,{children:a.jsxs(ve,{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3",children:"Loading inventory items..."})]})}):a.jsx("div",{className:"space-y-6",children:a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(xt,{className:"h-5 w-5"}),"Item Status Management"]}),a.jsx(nt,{children:"View and update individual item statuses or change multiple items at once. Items marked as sold cannot be changed."}),a.jsxs(_e,{onClick:()=>x(),variant:"outline",size:"sm",className:"w-fit",children:[a.jsx(LA,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),a.jsx(ve,{children:w.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(xt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No inventory items found."})]}):a.jsx("div",{className:"space-y-4",children:w.map(j=>{const E=S4(j.serial_items),T=j.serial_items.filter(P=>C(P.status)),A=o[j.id]||[],U=T.length>0&&T.every(P=>A.includes(P.serial_id));return a.jsx(de,{className:"border-l-4 border-l-blue-500",children:a.jsxs(ve,{className:"p-6",children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:j.name}),a.jsx("p",{className:"text-sm text-gray-600",children:j.description}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Category: ",j.category]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsxs(Ze,{variant:"outline",children:["Available: ",E.available]}),a.jsxs(Ze,{variant:"outline",children:["Sold: ",E.sold]}),a.jsxs(Ze,{variant:"outline",children:["Damaged: ",E.damaged]}),a.jsxs(Ze,{variant:"outline",children:["In Repair: ",E.in_repair]}),a.jsxs(Ze,{variant:"outline",children:["Unavailable: ",E.unavailable]})]})]})}),T.length>0&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Bulk Actions"}),a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tp,{id:`select-all-${j.id}`,checked:U,onCheckedChange:P=>_(j.id,T,P)}),a.jsxs("label",{htmlFor:`select-all-${j.id}`,className:"text-sm",children:["Select All (",T.length,")"]})]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[A.length," selected"]})]}),A.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(As,{value:c[j.id]||"",onValueChange:P=>u($=>({...$,[j.id]:P})),children:[a.jsx(In,{className:"w-40",children:a.jsx(Ci,{placeholder:"New status"})}),a.jsxs(Mn,{children:[a.jsx(Re,{value:"available",children:"Available"}),a.jsx(Re,{value:"damaged",children:"Damaged"}),a.jsx(Re,{value:"in_repair",children:"In Repair"}),a.jsx(Re,{value:"unavailable",children:"Unavailable"})]})]}),a.jsx(Qo,{placeholder:"Reason for status change (optional)",value:d[j.id]||"",onChange:P=>f($=>({...$,[j.id]:P.target.value})),className:"min-h-8 w-48"}),a.jsx(_e,{onClick:()=>g(j.id),disabled:e===j.id||!c[j.id],size:"sm",children:e===j.id?"Updating...":`Update ${A.length} Items`})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium",children:"Individual Items:"}),j.serial_items.map(P=>a.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded",children:[C(P.status)&&a.jsx(tp,{checked:A.includes(P.serial_id),onCheckedChange:$=>b(j.id,P.serial_id,$)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-mono text-sm",children:P.serial_id}),a.jsx(Ze,{className:`ml-2 ${S(P.status)}`,children:P.status}),P.status==="sold"&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Cannot be changed)"})]}),C(P.status)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(As,{value:r[P.serial_id]||"",onValueChange:$=>n(D=>({...D,[P.serial_id]:$})),children:[a.jsx(In,{className:"w-40",children:a.jsx(Ci,{placeholder:"Change status"})}),a.jsxs(Mn,{children:[a.jsx(Re,{value:"available",children:"Available"}),a.jsx(Re,{value:"damaged",children:"Damaged"}),a.jsx(Re,{value:"in_repair",children:"In Repair"}),a.jsx(Re,{value:"unavailable",children:"Unavailable"})]})]}),r[P.serial_id]&&a.jsxs(a.Fragment,{children:[a.jsx(Qo,{placeholder:"Reason for status change (optional)",value:s[P.serial_id]||"",onChange:$=>i(D=>({...D,[P.serial_id]:$.target.value})),className:"min-h-8 w-48"}),a.jsx(_e,{onClick:()=>v(P.serial_id,r[P.serial_id]),disabled:e===P.serial_id,size:"sm",children:e===P.serial_id?"Updating...":"Update"})]})]})]},P.serial_id))]})]})},j.id)})})})]})})};var ec=e=>e.type==="checkbox",ii=e=>e instanceof Date,Wt=e=>e==null;const Ik=e=>typeof e=="object";var mt=e=>!Wt(e)&&!Array.isArray(e)&&Ik(e)&&!ii(e),Mk=e=>mt(e)&&e.target?ec(e.target)?e.target.checked:e.target.value:e,k4=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Dk=(e,t)=>e.has(k4(t)),C4=e=>{const t=e.constructor&&e.constructor.prototype;return mt(t)&&t.hasOwnProperty("isPrototypeOf")},ov=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Zt(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(ov&&(e instanceof Blob||e instanceof FileList))&&(r||mt(e)))if(t=r?[]:{},!r&&!C4(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Zt(e[n]));else return e;return t}var ef=e=>Array.isArray(e)?e.filter(Boolean):[],ct=e=>e===void 0,V=(e,t,r)=>{if(!t||!mt(e))return r;const n=ef(t.split(/[,[\].]+?/)).reduce((s,i)=>Wt(s)?s:s[i],e);return ct(n)||n===e?ct(e[t])?r:e[t]:n},jr=e=>typeof e=="boolean",av=e=>/^\w*$/.test(e),$k=e=>ef(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(e,t,r)=>{let n=-1;const s=av(t)?[t]:$k(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=mt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const Du={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Br={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Lk=xe.createContext(null),tf=()=>xe.useContext(Lk),E4=e=>{const{children:t,...r}=e;return xe.createElement(Lk.Provider,{value:r},t)};var Fk=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Br.all&&(t._proxyFormState[o]=!n||Br.all),r&&(r[o]=!0),e[o]}});return s},Jt=e=>mt(e)&&!Object.keys(e).length,Uk=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Jt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Br.all))},Ja=e=>Array.isArray(e)?e:[e],zk=(e,t,r)=>!e||!t||e===t||Ja(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function lv(e){const t=xe.useRef(e);t.current=e,xe.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function N4(e){const t=tf(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,l]=xe.useState(r._formState),c=xe.useRef(!0),u=xe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=xe.useRef(s);return d.current=s,lv({disabled:n,next:f=>c.current&&zk(d.current,f.name,i)&&Uk(f,u.current,r._updateFormState)&&l({...r._formState,...f}),subject:r._subjects.state}),xe.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),Fk(o,r,u.current,!1)}var an=e=>typeof e=="string",Bk=(e,t,r,n,s)=>an(e)?(n&&t.watch.add(e),V(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),V(r,i))):(n&&(t.watchAll=!0),r);function P4(e){const t=tf(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o}=e||{},l=xe.useRef(n);l.current=n,lv({disabled:i,subject:r._subjects.values,next:d=>{zk(l.current,d.name,o)&&u(Zt(Bk(l.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=xe.useState(r._getWatch(n,s));return xe.useEffect(()=>r._removeUnmounted()),c}function T4(e){const t=tf(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i}=e,o=Dk(s._names.array,r),l=P4({control:s,name:r,defaultValue:V(s._formValues,r,V(s._defaultValues,r,e.defaultValue)),exact:!0}),c=N4({control:s,name:r,exact:!0}),u=xe.useRef(s.register(r,{...e.rules,value:l,...jr(e.disabled)?{disabled:e.disabled}:{}}));return xe.useEffect(()=>{const d=s._options.shouldUnregister||i,f=(m,y)=>{const w=V(s._fields,m);w&&w._f&&(w._f.mount=y)};if(f(r,!0),d){const m=Zt(V(s._options.defaultValues,r));Me(s._defaultValues,r,m),ct(V(s._formValues,r))&&Me(s._formValues,r,m)}return()=>{(o?d&&!s._state.action:d)?s.unregister(r):f(r,!1)}},[r,s,o,i]),xe.useEffect(()=>{V(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:V(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...jr(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:xe.useCallback(d=>u.current.onChange({target:{value:Mk(d),name:r},type:Du.CHANGE}),[r]),onBlur:xe.useCallback(()=>u.current.onBlur({target:{value:V(s._formValues,r),name:r},type:Du.BLUR}),[r,s]),ref:xe.useCallback(d=>{const f=V(s._fields,r);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:m=>d.setCustomValidity(m),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!V(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!V(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!V(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!V(c.validatingFields,r)},error:{enumerable:!0,get:()=>V(c.errors,r)}})}}const R4=e=>e.render(T4(e));var Vk=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Yx=e=>({isOnSubmit:!e||e===Br.onSubmit,isOnBlur:e===Br.onBlur,isOnChange:e===Br.onChange,isOnAll:e===Br.all,isOnTouch:e===Br.onTouched}),Zx=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const el=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=V(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(el(l,t))break}else if(mt(l)&&el(l,t))break}}};var O4=(e,t,r)=>{const n=Ja(V(e,r));return Me(n,"root",t[r]),Me(e,r,n),e},cv=e=>e.type==="file",Sn=e=>typeof e=="function",$u=e=>{if(!ov)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Zc=e=>an(e),uv=e=>e.type==="radio",Lu=e=>e instanceof RegExp;const Xx={value:!1,isValid:!1},Jx={value:!0,isValid:!0};var Wk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ct(e[0].attributes.value)?ct(e[0].value)||e[0].value===""?Jx:{value:e[0].value,isValid:!0}:Jx:Xx}return Xx};const e0={isValid:!1,value:null};var qk=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,e0):e0;function t0(e,t,r="validate"){if(Zc(e)||Array.isArray(e)&&e.every(Zc)||jr(e)&&!e)return{type:r,message:Zc(e)?e:"",ref:t}}var Gi=e=>mt(e)&&!Lu(e)?e:{value:e,message:""},r0=async(e,t,r,n,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:m,validate:y,name:w,valueAsNumber:p,mount:x,disabled:v}=e._f,g=V(t,w);if(!x||v)return{};const b=o?o[0]:i,_=P=>{n&&b.reportValidity&&(b.setCustomValidity(jr(P)?"":P||""),b.reportValidity())},S={},C=uv(i),j=ec(i),E=C||j,T=(p||cv(i))&&ct(i.value)&&ct(g)||$u(i)&&i.value===""||g===""||Array.isArray(g)&&!g.length,A=Vk.bind(null,w,r,S),U=(P,$,D,K=pn.maxLength,L=pn.minLength)=>{const G=P?$:D;S[w]={type:P?K:L,message:G,ref:i,...A(P?K:L,G)}};if(s?!Array.isArray(g)||!g.length:l&&(!E&&(T||Wt(g))||jr(g)&&!g||j&&!Wk(o).isValid||C&&!qk(o).isValid)){const{value:P,message:$}=Zc(l)?{value:!!l,message:l}:Gi(l);if(P&&(S[w]={type:pn.required,message:$,ref:b,...A(pn.required,$)},!r))return _($),S}if(!T&&(!Wt(d)||!Wt(f))){let P,$;const D=Gi(f),K=Gi(d);if(!Wt(g)&&!isNaN(g)){const L=i.valueAsNumber||g&&+g;Wt(D.value)||(P=L>D.value),Wt(K.value)||($=L<K.value)}else{const L=i.valueAsDate||new Date(g),G=W=>new Date(new Date().toDateString()+" "+W),O=i.type=="time",I=i.type=="week";an(D.value)&&g&&(P=O?G(g)>G(D.value):I?g>D.value:L>new Date(D.value)),an(K.value)&&g&&($=O?G(g)<G(K.value):I?g<K.value:L<new Date(K.value))}if((P||$)&&(U(!!P,D.message,K.message,pn.max,pn.min),!r))return _(S[w].message),S}if((c||u)&&!T&&(an(g)||s&&Array.isArray(g))){const P=Gi(c),$=Gi(u),D=!Wt(P.value)&&g.length>+P.value,K=!Wt($.value)&&g.length<+$.value;if((D||K)&&(U(D,P.message,$.message),!r))return _(S[w].message),S}if(m&&!T&&an(g)){const{value:P,message:$}=Gi(m);if(Lu(P)&&!g.match(P)&&(S[w]={type:pn.pattern,message:$,ref:i,...A(pn.pattern,$)},!r))return _($),S}if(y){if(Sn(y)){const P=await y(g,t),$=t0(P,b);if($&&(S[w]={...$,...A(pn.validate,$.message)},!r))return _($.message),S}else if(mt(y)){let P={};for(const $ in y){if(!Jt(P)&&!r)break;const D=t0(await y[$](g,t),b,$);D&&(P={...D,...A($,D.message)},_(D.message),r&&(S[w]=P))}if(!Jt(P)&&(S[w]={ref:b,...P},!r))return S}}return _(!0),S};function A4(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ct(e)?n++:e[t[n++]];return e}function I4(e){for(const t in e)if(e.hasOwnProperty(t)&&!ct(e[t]))return!1;return!0}function gt(e,t){const r=Array.isArray(t)?t:av(t)?[t]:$k(t),n=r.length===1?e:A4(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(mt(n)&&Jt(n)||Array.isArray(n)&&I4(n))&&gt(e,r.slice(0,-1)),e}var lh=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},rp=e=>Wt(e)||!Ik(e);function ns(e,t){if(rp(e)||rp(t))return e===t;if(ii(e)&&ii(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(ii(i)&&ii(o)||mt(i)&&mt(o)||Array.isArray(i)&&Array.isArray(o)?!ns(i,o):i!==o)return!1}}return!0}var Hk=e=>e.type==="select-multiple",M4=e=>uv(e)||ec(e),ch=e=>$u(e)&&e.isConnected,Kk=e=>{for(const t in e)if(Sn(e[t]))return!0;return!1};function Fu(e,t={}){const r=Array.isArray(e);if(mt(e)||r)for(const n in e)Array.isArray(e[n])||mt(e[n])&&!Kk(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Fu(e[n],t[n])):Wt(e[n])||(t[n]=!0);return t}function Gk(e,t,r){const n=Array.isArray(e);if(mt(e)||n)for(const s in e)Array.isArray(e[s])||mt(e[s])&&!Kk(e[s])?ct(t)||rp(r[s])?r[s]=Array.isArray(e[s])?Fu(e[s],[]):{...Fu(e[s])}:Gk(e[s],Wt(t)?{}:t[s],r[s]):r[s]=!ns(e[s],t[s]);return r}var Sa=(e,t)=>Gk(e,t,Fu(t)),Qk=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ct(e)?e:t?e===""?NaN:e&&+e:r&&an(e)?new Date(e):n?n(e):e;function uh(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return cv(t)?t.files:uv(t)?qk(e.refs).value:Hk(t)?[...t.selectedOptions].map(({value:r})=>r):ec(t)?Wk(e.refs).value:Qk(ct(t.value)?e.ref.value:t.value,e)}var D4=(e,t,r,n)=>{const s={};for(const i of e){const o=V(t,i);o&&Me(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ja=e=>ct(e)?e:Lu(e)?e.source:mt(e)?Lu(e.value)?e.value.source:e.value:e;const n0="AsyncFunction";var $4=e=>(!e||!e.validate)&&!!(Sn(e.validate)&&e.validate.constructor.name===n0||mt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===n0)),L4=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function s0(e,t,r){const n=V(e,r);if(n||av(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=V(t,i),l=V(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var F4=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,U4=(e,t)=>!ef(V(e,t)).length&&gt(e,t);const z4={mode:Br.onSubmit,reValidateMode:Br.onChange,shouldFocusError:!0};function B4(e={}){let t={...z4,...e},r={submitCount:0,isDirty:!1,isLoading:Sn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=mt(t.defaultValues)||mt(t.values)?Zt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Zt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:lh(),array:lh(),state:lh()},m=Yx(t.mode),y=Yx(t.reValidateMode),w=t.criteriaMode===Br.all,p=k=>R=>{clearTimeout(u),u=setTimeout(k,R)},x=async k=>{if(!e.disabled&&(d.isValid||k)){const R=t.resolver?Jt((await E()).errors):await A(n,!0);R!==r.isValid&&f.state.next({isValid:R})}},v=(k,R)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((k||Array.from(l.mount)).forEach(M=>{M&&(R?Me(r.validatingFields,M,R):gt(r.validatingFields,M))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Jt(r.validatingFields)}))},g=(k,R=[],M,Y,q=!0,B=!0)=>{if(Y&&M&&!e.disabled){if(o.action=!0,B&&Array.isArray(V(n,k))){const ie=M(V(n,k),Y.argA,Y.argB);q&&Me(n,k,ie)}if(B&&Array.isArray(V(r.errors,k))){const ie=M(V(r.errors,k),Y.argA,Y.argB);q&&Me(r.errors,k,ie),U4(r.errors,k)}if(d.touchedFields&&B&&Array.isArray(V(r.touchedFields,k))){const ie=M(V(r.touchedFields,k),Y.argA,Y.argB);q&&Me(r.touchedFields,k,ie)}d.dirtyFields&&(r.dirtyFields=Sa(s,i)),f.state.next({name:k,isDirty:P(k,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Me(i,k,R)},b=(k,R)=>{Me(r.errors,k,R),f.state.next({errors:r.errors})},_=k=>{r.errors=k,f.state.next({errors:r.errors,isValid:!1})},S=(k,R,M,Y)=>{const q=V(n,k);if(q){const B=V(i,k,ct(M)?V(s,k):M);ct(B)||Y&&Y.defaultChecked||R?Me(i,k,R?B:uh(q._f)):K(k,B),o.mount&&x()}},C=(k,R,M,Y,q)=>{let B=!1,ie=!1;const ye={name:k};if(!e.disabled){const wt=!!(V(n,k)&&V(n,k)._f&&V(n,k)._f.disabled);if(!M||Y){d.isDirty&&(ie=r.isDirty,r.isDirty=ye.isDirty=P(),B=ie!==ye.isDirty);const bt=wt||ns(V(s,k),R);ie=!!(!wt&&V(r.dirtyFields,k)),bt||wt?gt(r.dirtyFields,k):Me(r.dirtyFields,k,!0),ye.dirtyFields=r.dirtyFields,B=B||d.dirtyFields&&ie!==!bt}if(M){const bt=V(r.touchedFields,k);bt||(Me(r.touchedFields,k,M),ye.touchedFields=r.touchedFields,B=B||d.touchedFields&&bt!==M)}B&&q&&f.state.next(ye)}return B?ye:{}},j=(k,R,M,Y)=>{const q=V(r.errors,k),B=d.isValid&&jr(R)&&r.isValid!==R;if(e.delayError&&M?(c=p(()=>b(k,M)),c(e.delayError)):(clearTimeout(u),c=null,M?Me(r.errors,k,M):gt(r.errors,k)),(M?!ns(q,M):q)||!Jt(Y)||B){const ie={...Y,...B&&jr(R)?{isValid:R}:{},errors:r.errors,name:k};r={...r,...ie},f.state.next(ie)}},E=async k=>{v(k,!0);const R=await t.resolver(i,t.context,D4(k||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(k),R},T=async k=>{const{errors:R}=await E(k);if(k)for(const M of k){const Y=V(R,M);Y?Me(r.errors,M,Y):gt(r.errors,M)}else r.errors=R;return R},A=async(k,R,M={valid:!0})=>{for(const Y in k){const q=k[Y];if(q){const{_f:B,...ie}=q;if(B){const ye=l.array.has(B.name),wt=q._f&&$4(q._f);wt&&d.validatingFields&&v([Y],!0);const bt=await r0(q,i,w,t.shouldUseNativeValidation&&!R,ye);if(wt&&d.validatingFields&&v([Y]),bt[B.name]&&(M.valid=!1,R))break;!R&&(V(bt,B.name)?ye?O4(r.errors,bt,B.name):Me(r.errors,B.name,bt[B.name]):gt(r.errors,B.name))}!Jt(ie)&&await A(ie,R,M)}}return M.valid},U=()=>{for(const k of l.unMount){const R=V(n,k);R&&(R._f.refs?R._f.refs.every(M=>!ch(M)):!ch(R._f.ref))&&qe(k)}l.unMount=new Set},P=(k,R)=>!e.disabled&&(k&&R&&Me(i,k,R),!ns(ne(),s)),$=(k,R,M)=>Bk(k,l,{...o.mount?i:ct(R)?s:an(k)?{[k]:R}:R},M,R),D=k=>ef(V(o.mount?i:s,k,e.shouldUnregister?V(s,k,[]):[])),K=(k,R,M={})=>{const Y=V(n,k);let q=R;if(Y){const B=Y._f;B&&(!B.disabled&&Me(i,k,Qk(R,B)),q=$u(B.ref)&&Wt(R)?"":R,Hk(B.ref)?[...B.ref.options].forEach(ie=>ie.selected=q.includes(ie.value)):B.refs?ec(B.ref)?B.refs.length>1?B.refs.forEach(ie=>(!ie.defaultChecked||!ie.disabled)&&(ie.checked=Array.isArray(q)?!!q.find(ye=>ye===ie.value):q===ie.value)):B.refs[0]&&(B.refs[0].checked=!!q):B.refs.forEach(ie=>ie.checked=ie.value===q):cv(B.ref)?B.ref.value="":(B.ref.value=q,B.ref.type||f.values.next({name:k,values:{...i}})))}(M.shouldDirty||M.shouldTouch)&&C(k,q,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&W(k)},L=(k,R,M)=>{for(const Y in R){const q=R[Y],B=`${k}.${Y}`,ie=V(n,B);(l.array.has(k)||mt(q)||ie&&!ie._f)&&!ii(q)?L(B,q,M):K(B,q,M)}},G=(k,R,M={})=>{const Y=V(n,k),q=l.array.has(k),B=Zt(R);Me(i,k,B),q?(f.array.next({name:k,values:{...i}}),(d.isDirty||d.dirtyFields)&&M.shouldDirty&&f.state.next({name:k,dirtyFields:Sa(s,i),isDirty:P(k,B)})):Y&&!Y._f&&!Wt(B)?L(k,B,M):K(k,B,M),Zx(k,l)&&f.state.next({...r}),f.values.next({name:o.mount?k:void 0,values:{...i}})},O=async k=>{o.mount=!0;const R=k.target;let M=R.name,Y=!0;const q=V(n,M),B=()=>R.type?uh(q._f):Mk(k),ie=ye=>{Y=Number.isNaN(ye)||ii(ye)&&isNaN(ye.getTime())||ns(ye,V(i,M,ye))};if(q){let ye,wt;const bt=B(),Hs=k.type===Du.BLUR||k.type===Du.FOCUS_OUT,WC=!L4(q._f)&&!t.resolver&&!V(r.errors,M)&&!q._f.deps||F4(Hs,V(r.touchedFields,M),r.isSubmitted,y,m),uf=Zx(M,l,Hs);Me(i,M,bt),Hs?(q._f.onBlur&&q._f.onBlur(k),c&&c(0)):q._f.onChange&&q._f.onChange(k);const df=C(M,bt,Hs,!1),qC=!Jt(df)||uf;if(!Hs&&f.values.next({name:M,type:k.type,values:{...i}}),WC)return d.isValid&&(e.mode==="onBlur"?Hs&&x():x()),qC&&f.state.next({name:M,...uf?{}:df});if(!Hs&&uf&&f.state.next({...r}),t.resolver){const{errors:pv}=await E([M]);if(ie(bt),Y){const HC=s0(r.errors,n,M),gv=s0(pv,n,HC.name||M);ye=gv.error,M=gv.name,wt=Jt(pv)}}else v([M],!0),ye=(await r0(q,i,w,t.shouldUseNativeValidation))[M],v([M]),ie(bt),Y&&(ye?wt=!1:d.isValid&&(wt=await A(n,!0)));Y&&(q._f.deps&&W(q._f.deps),j(M,wt,ye,df))}},I=(k,R)=>{if(V(r.errors,R)&&k.focus)return k.focus(),1},W=async(k,R={})=>{let M,Y;const q=Ja(k);if(t.resolver){const B=await T(ct(k)?k:q);M=Jt(B),Y=k?!q.some(ie=>V(B,ie)):M}else k?(Y=(await Promise.all(q.map(async B=>{const ie=V(n,B);return await A(ie&&ie._f?{[B]:ie}:ie)}))).every(Boolean),!(!Y&&!r.isValid)&&x()):Y=M=await A(n);return f.state.next({...!an(k)||d.isValid&&M!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:M}:{},errors:r.errors}),R.shouldFocus&&!Y&&el(n,I,k?q:l.mount),Y},ne=k=>{const R={...o.mount?i:s};return ct(k)?R:an(k)?V(R,k):k.map(M=>V(R,M))},ge=(k,R)=>({invalid:!!V((R||r).errors,k),isDirty:!!V((R||r).dirtyFields,k),error:V((R||r).errors,k),isValidating:!!V(r.validatingFields,k),isTouched:!!V((R||r).touchedFields,k)}),ut=k=>{k&&Ja(k).forEach(R=>gt(r.errors,R)),f.state.next({errors:k?r.errors:{}})},Be=(k,R,M)=>{const Y=(V(n,k,{_f:{}})._f||{}).ref,q=V(r.errors,k)||{},{ref:B,message:ie,type:ye,...wt}=q;Me(r.errors,k,{...wt,...R,ref:Y}),f.state.next({name:k,errors:r.errors,isValid:!1}),M&&M.shouldFocus&&Y&&Y.focus&&Y.focus()},Ft=(k,R)=>Sn(k)?f.values.subscribe({next:M=>k($(void 0,R),M)}):$(k,R,!0),qe=(k,R={})=>{for(const M of k?Ja(k):l.mount)l.mount.delete(M),l.array.delete(M),R.keepValue||(gt(n,M),gt(i,M)),!R.keepError&&gt(r.errors,M),!R.keepDirty&&gt(r.dirtyFields,M),!R.keepTouched&&gt(r.touchedFields,M),!R.keepIsValidating&&gt(r.validatingFields,M),!t.shouldUnregister&&!R.keepDefaultValue&&gt(s,M);f.values.next({values:{...i}}),f.state.next({...r,...R.keepDirty?{isDirty:P()}:{}}),!R.keepIsValid&&x()},te=({disabled:k,name:R,field:M,fields:Y,value:q})=>{if(jr(k)&&o.mount||k){const B=k?void 0:ct(q)?uh(M?M._f:V(Y,R)._f):q;Me(i,R,B),C(R,B,!1,!1,!0)}},Te=(k,R={})=>{let M=V(n,k);const Y=jr(R.disabled)||jr(e.disabled);return Me(n,k,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:k}},name:k,mount:!0,...R}}),l.mount.add(k),M?te({field:M,disabled:jr(R.disabled)?R.disabled:e.disabled,name:k,value:R.value}):S(k,!0,R.value),{...Y?{disabled:R.disabled||e.disabled}:{},...t.progressive?{required:!!R.required,min:ja(R.min),max:ja(R.max),minLength:ja(R.minLength),maxLength:ja(R.maxLength),pattern:ja(R.pattern)}:{},name:k,onChange:O,onBlur:O,ref:q=>{if(q){Te(k,R),M=V(n,k);const B=ct(q.value)&&q.querySelectorAll&&q.querySelectorAll("input,select,textarea")[0]||q,ie=M4(B),ye=M._f.refs||[];if(ie?ye.find(wt=>wt===B):B===M._f.ref)return;Me(n,k,{_f:{...M._f,...ie?{refs:[...ye.filter(ch),B,...Array.isArray(V(s,k))?[{}]:[]],ref:{type:B.type,name:k}}:{ref:B}}}),S(k,!1,void 0,B)}else M=V(n,k,{}),M._f&&(M._f.mount=!1),(t.shouldUnregister||R.shouldUnregister)&&!(Dk(l.array,k)&&o.action)&&l.unMount.add(k)}}},$e=()=>t.shouldFocusError&&el(n,I,l.mount),Oe=k=>{jr(k)&&(f.state.next({disabled:k}),el(n,(R,M)=>{const Y=V(n,M);Y&&(R.disabled=Y._f.disabled||k,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(q=>{q.disabled=Y._f.disabled||k}))},0,!1))},Ae=(k,R)=>async M=>{let Y;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let q=Zt(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:B,values:ie}=await E();r.errors=B,q=ie}else await A(n);if(gt(r.errors,"root"),Jt(r.errors)){f.state.next({errors:{}});try{await k(q,M)}catch(B){Y=B}}else R&&await R({...r.errors},M),$e(),setTimeout($e);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jt(r.errors)&&!Y,submitCount:r.submitCount+1,errors:r.errors}),Y)throw Y},Ie=(k,R={})=>{V(n,k)&&(ct(R.defaultValue)?G(k,Zt(V(s,k))):(G(k,R.defaultValue),Me(s,k,Zt(R.defaultValue))),R.keepTouched||gt(r.touchedFields,k),R.keepDirty||(gt(r.dirtyFields,k),r.isDirty=R.defaultValue?P(k,Zt(V(s,k))):P()),R.keepError||(gt(r.errors,k),d.isValid&&x()),f.state.next({...r}))},Ot=(k,R={})=>{const M=k?Zt(k):s,Y=Zt(M),q=Jt(k),B=q?s:Y;if(R.keepDefaultValues||(s=M),!R.keepValues){if(R.keepDirtyValues){const ie=new Set([...l.mount,...Object.keys(Sa(s,i))]);for(const ye of Array.from(ie))V(r.dirtyFields,ye)?Me(B,ye,V(i,ye)):G(ye,V(B,ye))}else{if(ov&&ct(k))for(const ie of l.mount){const ye=V(n,ie);if(ye&&ye._f){const wt=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if($u(wt)){const bt=wt.closest("form");if(bt){bt.reset();break}}}}n={}}i=e.shouldUnregister?R.keepDefaultValues?Zt(s):{}:Zt(B),f.array.next({values:{...B}}),f.values.next({values:{...B}})}l={mount:R.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!R.keepIsValid||!!R.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:q?!1:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!ns(k,s)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:q?{}:R.keepDirtyValues?R.keepDefaultValues&&i?Sa(s,i):r.dirtyFields:R.keepDefaultValues&&k?Sa(s,k):R.keepDirty?r.dirtyFields:{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},lr=(k,R)=>Ot(Sn(k)?k(i):k,R);return{control:{register:Te,unregister:qe,getFieldState:ge,handleSubmit:Ae,setError:Be,_executeSchema:E,_getWatch:$,_getDirty:P,_updateValid:x,_removeUnmounted:U,_updateFieldArray:g,_updateDisabledField:te,_getFieldArray:D,_reset:Ot,_resetDefaultValues:()=>Sn(t.defaultValues)&&t.defaultValues().then(k=>{lr(k,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:k=>{r={...r,...k}},_disableForm:Oe,_subjects:f,_proxyFormState:d,_setErrors:_,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return l},set _names(k){l=k},get _formState(){return r},set _formState(k){r=k},get _options(){return t},set _options(k){t={...t,...k}}},trigger:W,register:Te,handleSubmit:Ae,watch:Ft,setValue:G,getValues:ne,reset:lr,resetField:Ie,clearErrors:ut,unregister:qe,setError:Be,setFocus:(k,R={})=>{const M=V(n,k),Y=M&&M._f;if(Y){const q=Y.refs?Y.refs[0]:Y.ref;q.focus&&(q.focus(),R.shouldSelect&&q.select())}},getFieldState:ge}}function rf(e={}){const t=xe.useRef(),r=xe.useRef(),[n,s]=xe.useState({isDirty:!1,isValidating:!1,isLoading:Sn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Sn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...B4(e),formState:n});const i=t.current.control;return i._options=e,lv({subject:i._subjects.state,next:o=>{Uk(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),xe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),xe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),xe.useEffect(()=>{e.values&&!ns(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),xe.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),xe.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),xe.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),xe.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=Fk(n,i),t.current}function js(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function i0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function V4(...e){return t=>{let r=!1;const n=e.map(s=>{const i=i0(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():i0(e[s],null)}}}}function qs(...e){return h.useCallback(V4(...e),e)}function W4(e,t){const r=h.createContext(t),n=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=h.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function q4(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:m,children:y,...w}=f,p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=h.useMemo(()=>w,Object.values(w));return a.jsx(p.Provider,{value:x,children:y})};u.displayName=i+"Provider";function d(f,m){var p;const y=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,w=h.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,H4(s,...t)]}function H4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Tl=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},K4=nd[" useId ".trim().toString()]||(()=>{}),G4=0;function dh(e){const[t,r]=h.useState(K4());return Tl(()=>{e||r(n=>n??String(G4++))},[e]),e||(t?`radix-${t}`:"")}var Q4=nd[" useInsertionEffect ".trim().toString()]||Tl;function Y4({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=Z4({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=h.useCallback(d=>{var f;if(l){const m=X4(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else i(d)},[l,e,i,o]);return[c,u]}function Z4({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),i=h.useRef(t);return Q4(()=>{i.current=t},[t]),h.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function X4(e){return typeof e=="function"}function Yk(e){const t=J4(e),r=h.forwardRef((n,s)=>{const{children:i,...o}=n,l=h.Children.toArray(i),c=l.find(tU);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function J4(e){const t=h.forwardRef((r,n)=>{const{children:s,...i}=r,o=h.isValidElement(s)?nU(s):void 0,l=qs(o,n);if(h.isValidElement(s)){const c=rU(i,s.props);return s.type!==h.Fragment&&(c.ref=l),h.cloneElement(s,c)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eU=Symbol("radix.slottable");function tU(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eU}function rU(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function nU(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zn=sU.reduce((e,t)=>{const r=Yk(`Primitive.${t}`),n=h.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function iU(e,t){e&&Ls.flushSync(()=>e.dispatchEvent(t))}function Rl(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function oU(e,t=globalThis==null?void 0:globalThis.document){const r=Rl(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var aU="DismissableLayer",np="dismissableLayer.update",lU="dismissableLayer.pointerDownOutside",cU="dismissableLayer.focusOutside",o0,Zk=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xk=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=h.useContext(Zk),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),w=qs(t,j=>f(j)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),g=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=v,S=fU(j=>{const E=j.target,T=[...u.branches].some(A=>A.contains(E));!_||T||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},m),C=hU(j=>{const E=j.target;[...u.branches].some(A=>A.contains(E))||(i==null||i(j),o==null||o(j),j.defaultPrevented||l==null||l())},m);return oU(j=>{g===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(o0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),a0(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=o0)}},[d,m,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),a0())},[d,u]),h.useEffect(()=>{const j=()=>y({});return document.addEventListener(np,j),()=>document.removeEventListener(np,j)},[]),a.jsx(zn.div,{...c,ref:w,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:js(e.onFocusCapture,C.onFocusCapture),onBlurCapture:js(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:js(e.onPointerDownCapture,S.onPointerDownCapture)})});Xk.displayName=aU;var uU="DismissableLayerBranch",dU=h.forwardRef((e,t)=>{const r=h.useContext(Zk),n=h.useRef(null),s=qs(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(zn.div,{...e,ref:s})});dU.displayName=uU;function fU(e,t=globalThis==null?void 0:globalThis.document){const r=Rl(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){Jk(lU,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function hU(e,t=globalThis==null?void 0:globalThis.document){const r=Rl(e),n=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!n.current&&Jk(cU,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function a0(){const e=new CustomEvent(np);document.dispatchEvent(e)}function Jk(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?iU(s,i):s.dispatchEvent(i)}var fh="focusScope.autoFocusOnMount",hh="focusScope.autoFocusOnUnmount",l0={bubbles:!1,cancelable:!0},mU="FocusScope",eC=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),u=Rl(s),d=Rl(i),f=h.useRef(null),m=qs(t,p=>c(p)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let p=function(b){if(y.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Yn(f.current,{select:!0})},x=function(b){if(y.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Yn(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Yn(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),g.disconnect()}}},[n,l,y.paused]),h.useEffect(()=>{if(l){u0.add(y);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(fh,l0);l.addEventListener(fh,u),l.dispatchEvent(v),v.defaultPrevented||(pU(wU(tC(l)),{select:!0}),document.activeElement===p&&Yn(l))}return()=>{l.removeEventListener(fh,u),setTimeout(()=>{const v=new CustomEvent(hh,l0);l.addEventListener(hh,d),l.dispatchEvent(v),v.defaultPrevented||Yn(p??document.body,{select:!0}),l.removeEventListener(hh,d),u0.remove(y)},0)}}},[l,u,d,y]);const w=h.useCallback(p=>{if(!r&&!n||y.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(x&&v){const g=p.currentTarget,[b,_]=gU(g);b&&_?!p.shiftKey&&v===_?(p.preventDefault(),r&&Yn(b,{select:!0})):p.shiftKey&&v===b&&(p.preventDefault(),r&&Yn(_,{select:!0})):v===g&&p.preventDefault()}},[r,n,y.paused]);return a.jsx(zn.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});eC.displayName=mU;function pU(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Yn(n,{select:t}),document.activeElement!==r)return}function gU(e){const t=tC(e),r=c0(t,e),n=c0(t.reverse(),e);return[r,n]}function tC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function c0(e,t){for(const r of e)if(!vU(r,{upTo:t}))return r}function vU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function yU(e){return e instanceof HTMLInputElement&&"select"in e}function Yn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&yU(e)&&t&&e.select()}}var u0=xU();function xU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=d0(e,t),e.unshift(t)},remove(t){var r;e=d0(e,t),(r=e[0])==null||r.resume()}}}function d0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function wU(e){return e.filter(t=>t.tagName!=="A")}var bU="Portal",rC=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=h.useState(!1);Tl(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?qb.createPortal(a.jsx(zn.div,{...n,ref:t}),o):null});rC.displayName=bU;function _U(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var nf=e=>{const{present:t,children:r}=e,n=SU(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=qs(n.ref,jU(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:i}):null};nf.displayName="Presence";function SU(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=_U(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Oc(n.current);i.current=l==="mounted"?u:"none"},[l]),Tl(()=>{const u=n.current,d=s.current;if(d!==e){const m=i.current,y=Oc(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Tl(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=y=>{const p=Oc(n.current).includes(y.animationName);if(y.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=y=>{y.target===t&&(i.current=Oc(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Oc(e){return(e==null?void 0:e.animationName)||"none"}function jU(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mh=0;function kU(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??f0()),document.body.insertAdjacentElement("beforeend",e[1]??f0()),mh++,()=>{mh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mh--}},[])}function f0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nC=$S(),ph=function(){},sf=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:ph,onWheelCapture:ph,onTouchMoveCapture:ph}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,y=e.noRelative,w=e.noIsolation,p=e.inert,x=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,b=e.gapMode,_=Wg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,C=DS([r,t]),j=$t($t({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:nC,removeScrollBar:u,shards:f,noRelative:y,noIsolation:w,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:b}),o?h.cloneElement(h.Children.only(l),$t($t({},j),{ref:C})):h.createElement(g,$t({},j,{className:c,ref:C}),l))});sf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sf.classNames={fullWidth:Xa,zeroRight:Za};var sp=!1;if(typeof window<"u")try{var Ac=Object.defineProperty({},"passive",{get:function(){return sp=!0,!0}});window.addEventListener("test",Ac,Ac),window.removeEventListener("test",Ac,Ac)}catch{sp=!1}var Qi=sp?{passive:!1}:!1,CU=function(e){return e.tagName==="TEXTAREA"},sC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!CU(e)&&r[t]==="visible")},EU=function(e){return sC(e,"overflowY")},NU=function(e){return sC(e,"overflowX")},h0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=iC(e,n);if(s){var i=oC(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},PU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},TU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},iC=function(e,t){return e==="v"?EU(t):NU(t)},oC=function(e,t){return e==="v"?PU(t):TU(t)},RU=function(e,t){return e==="h"&&t==="rtl"?-1:1},OU=function(e,t,r,n,s){var i=RU(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{var y=oC(e,l),w=y[0],p=y[1],x=y[2],v=p-x-i*w;(w||v)&&iC(e,l)&&(f+=v,m+=w),l=l.parentNode.host||l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},Ic=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},m0=function(e){return[e.deltaX,e.deltaY]},p0=function(e){return e&&"current"in e?e.current:e},AU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},IU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MU=0,Yi=[];function DU(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(MU++)[0],i=h.useState(qg)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=MS([e.lockRef.current],(e.shards||[]).map(p0),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var v=Ic(p),g=r.current,b="deltaX"in p?p.deltaX:g[0]-v[0],_="deltaY"in p?p.deltaY:g[1]-v[1],S,C=p.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&j==="h"&&C.type==="range")return!1;var E=h0(j,C);if(!E)return!0;if(E?S=j:(S=j==="v"?"h":"v",E=h0(j,C)),!E)return!1;if(!n.current&&"changedTouches"in p&&(b||_)&&(n.current=S),!S)return!0;var T=n.current||S;return OU(T,x,p,T==="h"?b:_,!0)},[]),c=h.useCallback(function(p){var x=p;if(!(!Yi.length||Yi[Yi.length-1]!==i)){var v="deltaY"in x?m0(x):Ic(x),g=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&AU(S.delta,v)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var b=(o.current.shards||[]).map(p0).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=b.length>0?l(x,b[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=h.useCallback(function(p,x,v,g){var b={name:p,delta:x,target:v,should:g,shadowParent:$U(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=h.useCallback(function(p){r.current=Ic(p),n.current=void 0},[]),f=h.useCallback(function(p){u(p.type,m0(p),p.target,l(p,e.lockRef.current))},[]),m=h.useCallback(function(p){u(p.type,Ic(p),p.target,l(p,e.lockRef.current))},[]);h.useEffect(function(){return Yi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Qi),document.addEventListener("touchmove",c,Qi),document.addEventListener("touchstart",d,Qi),function(){Yi=Yi.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Qi),document.removeEventListener("touchmove",c,Qi),document.removeEventListener("touchstart",d,Qi)}},[]);var y=e.removeScrollBar,w=e.inert;return h.createElement(h.Fragment,null,w?h.createElement(i,{styles:IU(s)}):null,y?h.createElement(zS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $U(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const LU=FS(nC,DU);var aC=h.forwardRef(function(e,t){return h.createElement(sf,$t({},e,{ref:t,sideCar:LU}))});aC.classNames=sf.classNames;var of="Dialog",[lC,u5]=q4(of),[FU,Qr]=lC(of),cC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=Y4({prop:n,defaultProp:s??!1,onChange:i,caller:of});return a.jsx(FU,{scope:t,triggerRef:l,contentRef:c,contentId:dh(),titleId:dh(),descriptionId:dh(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};cC.displayName=of;var uC="DialogTrigger",dC=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(uC,r),i=qs(t,s.triggerRef);return a.jsx(zn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hv(s.open),...n,ref:i,onClick:js(e.onClick,s.onOpenToggle)})});dC.displayName=uC;var dv="DialogPortal",[UU,fC]=lC(dv,{forceMount:void 0}),hC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Qr(dv,t);return a.jsx(UU,{scope:t,forceMount:r,children:h.Children.map(n,o=>a.jsx(nf,{present:r||i.open,children:a.jsx(rC,{asChild:!0,container:s,children:o})}))})};hC.displayName=dv;var Uu="DialogOverlay",mC=h.forwardRef((e,t)=>{const r=fC(Uu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Qr(Uu,e.__scopeDialog);return i.modal?a.jsx(nf,{present:n||i.open,children:a.jsx(BU,{...s,ref:t})}):null});mC.displayName=Uu;var zU=Yk("DialogOverlay.RemoveScroll"),BU=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(Uu,r);return a.jsx(aC,{as:zU,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(zn.div,{"data-state":hv(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ei="DialogContent",pC=h.forwardRef((e,t)=>{const r=fC(Ei,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Qr(Ei,e.__scopeDialog);return a.jsx(nf,{present:n||i.open,children:i.modal?a.jsx(VU,{...s,ref:t}):a.jsx(WU,{...s,ref:t})})});pC.displayName=Ei;var VU=h.forwardRef((e,t)=>{const r=Qr(Ei,e.__scopeDialog),n=h.useRef(null),s=qs(t,r.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return Vg(i)},[]),a.jsx(gC,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:js(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:js(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:js(e.onFocusOutside,i=>i.preventDefault())})}),WU=h.forwardRef((e,t)=>{const r=Qr(Ei,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(gC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),gC=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Qr(Ei,r),c=h.useRef(null),u=qs(t,c);return kU(),a.jsxs(a.Fragment,{children:[a.jsx(eC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Xk,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":hv(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(qU,{titleId:l.titleId}),a.jsx(KU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),fv="DialogTitle",vC=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(fv,r);return a.jsx(zn.h2,{id:s.titleId,...n,ref:t})});vC.displayName=fv;var yC="DialogDescription",xC=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(yC,r);return a.jsx(zn.p,{id:s.descriptionId,...n,ref:t})});xC.displayName=yC;var wC="DialogClose",bC=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(wC,r);return a.jsx(zn.button,{type:"button",...n,ref:t,onClick:js(e.onClick,()=>s.onOpenChange(!1))})});bC.displayName=wC;function hv(e){return e?"open":"closed"}var _C="DialogTitleWarning",[d5,SC]=W4(_C,{contentName:Ei,titleName:fv,docsSlug:"dialog"}),qU=({titleId:e})=>{const t=SC(_C),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},HU="DialogDescriptionWarning",KU=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SC(HU).contentName}}.`;return h.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},GU=cC,QU=dC,YU=hC,jC=mC,kC=pC,CC=vC,EC=xC,ZU=bC;const XU=GU,JU=QU,e3=YU,NC=h.forwardRef(({className:e,...t},r)=>a.jsx(jC,{ref:r,className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));NC.displayName=jC.displayName;const PC=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(e3,{children:[a.jsx(NC,{}),a.jsxs(kC,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(ZU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Dd,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));PC.displayName=kC.displayName;const TC=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});TC.displayName="DialogHeader";const RC=h.forwardRef(({className:e,...t},r)=>a.jsx(CC,{ref:r,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));RC.displayName=CC.displayName;const OC=h.forwardRef(({className:e,...t},r)=>a.jsx(EC,{ref:r,className:re("text-sm text-muted-foreground",e),...t}));OC.displayName=EC.displayName;const af=E4,AC=h.createContext({}),ot=({...e})=>a.jsx(AC.Provider,{value:{name:e.name},children:a.jsx(R4,{...e})}),lf=()=>{const e=h.useContext(AC),t=h.useContext(IC),{getFieldState:r,formState:n}=tf(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},IC=h.createContext({}),Xe=h.forwardRef(({className:e,...t},r)=>{const n=h.useId();return a.jsx(IC.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:re("space-y-2",e),...t})})});Xe.displayName="FormItem";const dt=h.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=lf();return a.jsx(Ge,{ref:r,className:re(n&&"text-destructive",e),htmlFor:s,...t})});dt.displayName="FormLabel";const Je=h.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=lf();return a.jsx(Es,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});Je.displayName="FormControl";const ip=h.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=lf();return a.jsx("p",{ref:r,id:n,className:re("text-sm text-muted-foreground",e),...t})});ip.displayName="FormDescription";const et=h.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=lf(),o=s?String(s==null?void 0:s.message):t;return o?a.jsx("p",{ref:n,id:i,className:re("text-sm font-medium text-destructive",e),...r,children:o}):null});et.displayName="FormMessage";const t3=({existingCategories:e})=>{const[t,r]=h.useState(!1),[n,s]=h.useState(!1),[i,o]=h.useState("existing"),{toast:l}=Rt(),c=Hl(),{data:u=[]}=Rn({queryKey:["product-types"],queryFn:async()=>{const{data:p,error:x}=await H.from("product_types").select("id, name").order("name");if(x)throw console.error("Error fetching product types:",x),x;return p||[]}}),d=rf({defaultValues:{name:"",description:"",category:"",newCategory:"",quantity:1,price:0}}),f=(p,x)=>{const v=p.trim().split(" "),g=x.trim().split(" ");let b="",_="";return v.forEach(S=>{S.length>0&&(b+=S.substring(0,1).toUpperCase())}),g.forEach(S=>{S.length>0&&(_+=S.substring(0,1).toUpperCase())}),b=b.padEnd(2,"X").substring(0,2),_=_.padEnd(2,"X").substring(0,2),`${b}-${_}`},m=async()=>{const{data:p}=await H.from("items").select("location_id, locations(shelf_number, slot_number)").not("location_id","is",null),x=["A","B","C","D"],v=[1,2,3],g=[1,2,3,4],b=[];for(const S of x)for(const C of v)for(const j of g)b.push(`${S}${C}-${j.toString().padStart(2,"0")}`);const _=new Set;p&&p.forEach(S=>{if(S.locations){const C=`${S.locations.shelf_number}${S.locations.slot_number}`;_.add(C)}});for(const S of b)if(!_.has(S))return S;return null},y=async p=>{const[x,v]=p.split(/(\d)/),g=x,b=p.substring(1),{data:_}=await H.from("locations").select("id").eq("shelf_number",g).eq("slot_number",b).single();if(_)return _.id;const{data:S,error:C}=await H.from("locations").insert({shelf_number:g,slot_number:b,capacity:100,status:!0}).select("id").single();if(C)throw C;return S.id},w=async p=>{try{s(!0);const{data:{user:x}}=await H.auth.getUser();if(!x)throw new Error("User not authenticated");const v=i==="new"?p.newCategory:p.category;let g;const{data:b}=await H.from("product_types").select("id").eq("name",v).single();if(b)g=b.id;else{const{data:L,error:G}=await H.from("product_types").insert({name:v,description:`Auto-generated product type for ${v}`,tax_type:.1}).select("id").single();if(G)throw G;g=L.id}const{data:_,error:S}=await H.from("inventory").insert({name:p.name,description:p.description,quantity:p.quantity,product_type_id:g,status:!0}).select("id").single();if(S)throw S;const{data:C}=await H.from("price").select("id").eq("inventory_id",_.id).eq("status",!0).single();if(C){const{error:L}=await H.from("price").update({amount:p.price}).eq("id",C.id);if(L)throw L}else{const{error:L}=await H.from("price").insert({inventory_id:_.id,amount:p.price,status:!0});if(L)throw L}const j=f(p.name,v),{data:E}=await H.from("items").select("serial_id").like("serial_id",`${j}-%`);let T=1;if(E&&E.length>0){const L=E.map(G=>{const O=G.serial_id.split("-"),I=O[O.length-1];return parseInt(I,10)}).filter(G=>!isNaN(G));L.length>0&&(T=Math.max(...L)+1)}const A=await m();let U=null;A&&(U=await y(A));const P=[];for(let L=0;L<p.quantity;L++){const G=(T+L).toString().padStart(2,"0");P.push({serial_id:`${j}-${G}`,inventory_id:_.id,status:"available",location_id:U})}const{error:$}=await H.from("items").insert(P);if($)throw $;const D=P.map(L=>({item_serial:L.serial_id,user_id:x.id,transaction_type:"stock_in",notes:`New product added to inventory: ${p.name}${L.location_id?` at ${A}`:""}`,destination_location_id:L.location_id})),{error:K}=await H.from("transactions").insert(D);if(K)throw K;l({title:"Product Added Successfully",description:`Added ${p.quantity} units of ${p.name} to inventory${A?` at location ${A}`:""}`}),d.reset(),r(!1),c.invalidateQueries({queryKey:["warehouse-products"]}),c.invalidateQueries({queryKey:["detailed-inventory"]}),c.invalidateQueries({queryKey:["inventory-products"]}),c.invalidateQueries({queryKey:["detailed-products"]}),c.invalidateQueries({queryKey:["product-types"]})}catch(x){console.error("Error adding product:",x),l({title:"Error",description:x instanceof Error?x.message:"Failed to add product",variant:"destructive"})}finally{s(!1)}};return a.jsxs(XU,{open:t,onOpenChange:r,children:[a.jsx(JU,{asChild:!0,children:a.jsxs(_e,{children:[a.jsx(p1,{className:"h-4 w-4 mr-2"}),"Add Product"]})}),a.jsxs(PC,{className:"sm:max-w-[425px]",children:[a.jsxs(TC,{children:[a.jsx(RC,{children:"Add New Product"}),a.jsx(OC,{children:"Add a new product to your inventory. All items will be grouped together at the same location."})]}),a.jsx(af,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(w),className:"space-y-4",children:[a.jsx(ot,{control:d.control,name:"name",rules:{required:"Product name is required"},render:({field:p})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Product Name"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"e.g., ThinkPad X1",...p})}),a.jsx(et,{})]})}),a.jsx(ot,{control:d.control,name:"description",render:({field:p})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Description"}),a.jsx(Je,{children:a.jsx(Qo,{placeholder:"Product description...",...p})}),a.jsx(et,{})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ge,{children:"Category"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",value:"existing",checked:i==="existing",onChange:()=>o("existing")}),a.jsx("span",{children:"Existing"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",value:"new",checked:i==="new",onChange:()=>o("new")}),a.jsx("span",{children:"New"})]})]}),i==="existing"?a.jsx(ot,{control:d.control,name:"category",rules:{required:"Category is required"},render:({field:p})=>a.jsxs(Xe,{children:[a.jsx(Je,{children:a.jsxs(As,{onValueChange:p.onChange,value:p.value,children:[a.jsx(In,{children:a.jsx(Ci,{placeholder:"Select category"})}),a.jsx(Mn,{children:u.map(x=>a.jsx(Re,{value:x.name,children:x.name},x.id))})]})}),a.jsx(et,{})]})}):a.jsx(ot,{control:d.control,name:"newCategory",rules:{required:"New category name is required"},render:({field:p})=>a.jsxs(Xe,{children:[a.jsx(Je,{children:a.jsx(pe,{placeholder:"Enter new category name",...p})}),a.jsx(et,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ot,{control:d.control,name:"quantity",rules:{required:"Quantity is required",min:{value:1,message:"Quantity must be at least 1"}},render:({field:p})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Quantity"}),a.jsx(Je,{children:a.jsx(pe,{type:"number",min:"1",...p,onChange:x=>p.onChange(parseInt(x.target.value))})}),a.jsx(et,{})]})}),a.jsx(ot,{control:d.control,name:"price",rules:{required:"Price is required",min:{value:0,message:"Price must be non-negative"}},render:({field:p})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Price ($)"}),a.jsx(Je,{children:a.jsx(pe,{type:"number",step:"0.01",min:"0",...p,onChange:x=>p.onChange(parseFloat(x.target.value))})}),a.jsx(et,{})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(_e,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:n,children:"Cancel"}),a.jsx(_e,{type:"submit",disabled:n,children:n?"Adding...":"Add Product"})]})]})})]})]})},MC=async()=>{console.log("Fetching products from database...");try{const{data:e,error:t}=await H.from("inventory").select(`
        id, 
        name, 
        description, 
        quantity, 
        created_at, 
        updated_at, 
        product_type_id,
        product_types (
          name
        )
      `);if(t)throw console.error("Error fetching inventory:",t),t;if(console.log("Inventory data:",e),!e||e.length===0)return console.log("No inventory data found"),[];const r=e.map(l=>l.id);console.log("Fetching prices for inventory IDs:",r);const{data:n,error:s}=await H.from("price").select("inventory_id, amount, effective_from, status").in("inventory_id",r).eq("status",!0).order("effective_from",{ascending:!1});s&&console.error("Error fetching prices:",s),console.log("Price data fetched:",n);const i=new Map;n&&n.forEach(l=>{i.has(l.inventory_id)||(i.set(l.inventory_id,l.amount),console.log(`Setting price for inventory ${l.inventory_id}: $${l.amount}`))}),console.log("Price map created:",Array.from(i.entries()));const o=e.map(l=>{var d;const c=i.get(l.id)||0,u=((d=l.product_types)==null?void 0:d.name)||"Uncategorized";return console.log(`Product ${l.name} (ID: ${l.id}) - Price: $${c}, Category: ${u}`),{id:l.id||"",name:l.name||"Unnamed Product",description:l.description||"",price:c,stock:l.quantity||0,image:"",category:u,location:"",barcode:"",createdAt:new Date(l.created_at||Date.now()),updatedAt:new Date(l.updated_at||Date.now())}});return console.log("Final products with prices and categories:",o),o}catch(e){throw console.error("Error in getProducts method:",e),e}},r3=()=>{const[e,t]=h.useState(""),[r,n]=h.useState("all"),[s,i]=h.useState("overview"),{data:o=[],isLoading:l,error:c}=Rn({queryKey:["warehouse-products"],queryFn:MC}),{data:u=[]}=Rn({queryKey:["inventory-movements"],queryFn:async()=>{const{data:p,error:x}=await H.from("transactions").select(`
          *,
          items!inner (
            serial_id,
            inventory (
              name,
              id
            )
          ),
          profiles!transactions_user_id_fkey (
            name,
            email
          ),
          orders (
            order_number
          )
        `).order("created_at",{ascending:!1});if(x)throw x;return p.map(v=>{var g,b,_;return{id:v.id,productId:v.items.inventory.id,productName:v.items.inventory.name,quantity:1,type:v.transaction_type==="sale"?"out":"in",reason:v.notes||v.transaction_type,performedBy:((g=v.profiles)==null?void 0:g.name)||"System",timestamp:new Date(v.created_at),userId:v.user_id,userName:((b=v.profiles)==null?void 0:b.name)||"Unknown",serialId:v.item_serial,orderNumber:(_=v.orders)==null?void 0:_.order_number}})}}),d=[...new Set(o.map(p=>p.category))],f=p=>{console.log("Product selected:",p)},m=()=>{i("inventory")},y=p=>o.find(x=>x.id===p);if(l)return a.jsxs("div",{className:"container mx-auto px-4 py-8 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3",children:"Loading warehouse data..."})]});if(c)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center text-red-600",children:["Error loading warehouse data: ",c.message]})});const w=o.filter(p=>p.name.toLowerCase().includes(e.toLowerCase())&&(r==="all"||p.category===r));return a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Warehouse Management"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your inventory, track stock levels, and analyze warehouse operations."})]}),a.jsx(t3,{existingCategories:d})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(pe,{type:"search",placeholder:"Search products...",value:e,onChange:p=>t(p.target.value)}),a.jsxs("div",{className:"md:col-span-2 flex items-center space-x-4",children:[a.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:r,onChange:p=>n(p.target.value),children:[a.jsx("option",{value:"all",children:"All Categories"}),d.map(p=>a.jsx("option",{value:p,children:p},p))]}),a.jsxs(_e,{variant:"outline",children:[a.jsx(OA,{size:16,className:"mr-2"}),"Filter"]})]})]}),a.jsxs(Og,{value:s,onValueChange:i,className:"space-y-4",children:[a.jsxs(Ud,{children:[a.jsx(hr,{value:"overview",children:"Overview"}),a.jsx(hr,{value:"analytics",children:"Analytics"}),a.jsx(hr,{value:"inventory",children:"Inventory"}),a.jsx(hr,{value:"movements",children:"Movements"}),a.jsx(hr,{value:"refunds",children:"Refund Requests"}),a.jsx(hr,{value:"item-status",children:"Item Status"}),a.jsx(hr,{value:"shelf",children:"Shelf Mapping"})]}),a.jsx(mr,{value:"overview",className:"space-y-4",children:a.jsx(vL,{products:o,inventoryMovements:u})}),a.jsx(mr,{value:"analytics",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Total Products"}),a.jsx(xt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ve,{children:a.jsx("div",{className:"text-2xl font-bold",children:o.length})})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Low Stock Items"}),a.jsx(_i,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ve,{children:a.jsx("div",{className:"text-2xl font-bold",children:o.filter(p=>p.stock<=5).length})})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Total Stock"}),a.jsx(y1,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ve,{children:a.jsx("div",{className:"text-2xl font-bold",children:o.reduce((p,x)=>p+x.stock,0)})})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Categories"}),a.jsx(Cu,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ve,{children:a.jsx("div",{className:"text-2xl font-bold",children:d.length})})]})]})}),a.jsx(mr,{value:"inventory",className:"space-y-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(p=>a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:p.name}),a.jsx(nt,{children:p.description})]}),a.jsxs(ve,{children:[a.jsxs("p",{children:["Category: ",p.category]}),a.jsxs("p",{children:["Stock: ",p.stock]}),a.jsxs("p",{children:["Location: ",p.location||"A1-01"]}),a.jsx(Ze,{variant:p.stock>5?"default":"destructive",children:p.stock>5?"In Stock":"Low Stock"})]})]},p.id))})}),a.jsx(mr,{value:"movements",className:"space-y-4",children:a.jsx(DF,{movements:u,getProductById:y})}),a.jsx(mr,{value:"refunds",className:"space-y-4",children:a.jsx(zF,{})}),a.jsx(mr,{value:"item-status",className:"space-y-4",children:a.jsx(j4,{})}),a.jsx(mr,{value:"shelf",className:"space-y-4",children:a.jsx($F,{products:o,onProductSelect:f})})]}),a.jsx(yL,{products:o,onProductSelect:f,onViewAllInventory:m})]})},g0=()=>{const[e,t]=h.useState(""),[r,n]=h.useState("all"),[s,i]=h.useState("name-asc"),{toast:o}=Rt(),{addToCart:l,getCartItemQuantity:c}=bg(),{data:u=[],isLoading:d,error:f}=Rn({queryKey:["store-products"],queryFn:MC});console.log("Products in Store component:",u),xe.useEffect(()=>{f&&(console.error("Error in Store page:",f),o({title:"Error",description:"Failed to load products. Please try again later.",variant:"destructive"}))},[f,o]);const m=[...new Set(u.map(x=>x.category||"Uncategorized"))],w=[...u.filter(x=>{const v=x.name.toLowerCase().includes(e.toLowerCase())||(x.description||"").toLowerCase().includes(e.toLowerCase()),g=r==="all"||x.category===r;return v&&g})].sort((x,v)=>{switch(s){case"name-asc":return x.name.localeCompare(v.name);case"name-desc":return v.name.localeCompare(x.name);case"price-asc":return x.price-v.price;case"price-desc":return v.price-x.price;case"stock-asc":return x.stock-v.stock;case"stock-desc":return v.stock-x.stock;default:return 0}}),p=x=>{l(x,1)};return a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Online Store"}),a.jsx("p",{className:"text-muted-foreground",children:"Explore our wide range of products and find the perfect fit for your needs."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"flex items-center space-x-2 w-full md:w-auto",children:a.jsxs("div",{className:"relative flex-1 md:w-64",children:[a.jsx(pe,{type:"search",placeholder:"Search for products...",className:"pl-10",value:e,onChange:x=>t(x.target.value)}),a.jsx(g1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[a.jsxs(As,{value:r,onValueChange:n,children:[a.jsx(In,{className:"w-full md:w-[180px]",children:a.jsx(Ci,{placeholder:"Category"})}),a.jsxs(Mn,{children:[a.jsx(Re,{value:"all",children:"All Categories"}),m.map(x=>a.jsx(Re,{value:x,children:x},x))]})]}),a.jsxs(As,{value:s,onValueChange:i,children:[a.jsx(In,{className:"w-full md:w-[180px]",children:a.jsx(Ci,{placeholder:"Sort by"})}),a.jsxs(Mn,{children:[a.jsx(Re,{value:"name-asc",children:"Name (A-Z)"}),a.jsx(Re,{value:"name-desc",children:"Name (Z-A)"}),a.jsx(Re,{value:"price-asc",children:"Price (Low to High)"}),a.jsx(Re,{value:"price-desc",children:"Price (High to Low)"}),a.jsx(Re,{value:"stock-asc",children:"Stock (Low to High)"}),a.jsx(Re,{value:"stock-desc",children:"Stock (High to Low)"})]})]})]})]}),d?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading products..."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:w.map(x=>{const v=c(x.id),g=v>0,b=x.stock<=0;return a.jsxs(de,{className:"bg-white dark:bg-gray-800 shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200 dark:border-gray-700",children:[a.jsxs(we,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx(be,{className:"text-lg font-semibold truncate text-gray-900 dark:text-gray-100",children:x.name}),g&&a.jsxs(Ze,{variant:"secondary",className:"ml-2",children:[v," in cart"]})]}),a.jsx(nt,{className:"text-gray-500 dark:text-gray-400 text-sm line-clamp-2",children:x.description})]}),a.jsxs(ve,{className:"p-4 pt-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(Ze,{variant:"secondary",className:"text-xs",children:x.category||"Uncategorized"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(BA,{className:"h-4 w-4 text-yellow-500 fill-current"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"4.5"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["$",x.price]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm ${b?"text-red-600":"text-gray-600 dark:text-gray-400"}`,children:b?"Out of Stock":`Stock: ${x.stock}`}),b&&a.jsx(Ze,{variant:"destructive",children:"Unavailable"})]})]}),a.jsx("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx(_e,{variant:g?"secondary":"default",size:"sm",className:"flex-1 mr-2",onClick:()=>p(x),disabled:b,children:g?a.jsxs(a.Fragment,{children:[a.jsx(Md,{className:"h-4 w-4 mr-2"}),"Added"]}):a.jsxs(a.Fragment,{children:[a.jsx(Eg,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})})})]})]},x.id)})}),w.length===0&&!d&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products found matching your criteria."})})]})})};var n3="Separator",v0="horizontal",s3=["horizontal","vertical"],DC=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=v0,...s}=e,i=i3(n)?n:v0,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(ue.div,{"data-orientation":i,...l,...s,ref:t})});DC.displayName=n3;function i3(e){return s3.includes(e)}var $C=DC;const zu=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx($C,{ref:s,decorative:r,orientation:t,className:re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));zu.displayName=$C.displayName;const o3=()=>{const{items:e,total:t,itemCount:r,removeFromCart:n,updateQuantity:s,clearCart:i}=bg(),{toast:o}=Rt(),l=Oi(),c=()=>{if(e.filter(m=>m.status==="unavailable"||m.product.stock<m.quantity).length>0){o({title:"Cannot proceed to checkout",description:"Some items in your cart are no longer available or have insufficient stock.",variant:"destructive"});return}l("/checkout")},u=f=>f.product.stock<=0?"unavailable":f.quantity>f.product.stock?"insufficient":"available",d=f=>{switch(f){case"unavailable":return a.jsx(Ze,{variant:"destructive",children:"Out of Stock"});case"insufficient":return a.jsx(Ze,{variant:"destructive",children:"Insufficient Stock"});default:return a.jsx(Ze,{variant:"secondary",children:"Available"})}};return e.length===0?a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(UA,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start shopping to add items to your cart."}),a.jsx(_e,{onClick:()=>l("/store"),children:"Continue Shopping"})]})})}):a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Shopping Cart"}),a.jsxs("p",{className:"text-muted-foreground",children:[r," ",r===1?"item":"items"," in your cart"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(f=>{const m=u(f);return a.jsx(de,{className:"relative",children:a.jsx(ve,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:f.product.name}),d(m)]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:f.product.description}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:["Category: ",f.product.category]}),m==="insufficient"&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm mb-4",children:[a.jsx(_i,{className:"h-4 w-4"}),a.jsxs("span",{children:["Only ",f.product.stock," available (you have ",f.quantity," in cart)"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(_e,{variant:"outline",size:"icon",onClick:()=>s(f.product.id,f.quantity-1),disabled:f.quantity<=1,children:a.jsx($A,{className:"h-4 w-4"})}),a.jsx("span",{className:"font-medium text-lg w-8 text-center",children:f.quantity}),a.jsx(_e,{variant:"outline",size:"icon",onClick:()=>s(f.product.id,f.quantity+1),disabled:f.quantity>=f.product.stock,children:a.jsx(p1,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["$",(f.product.price*f.quantity).toFixed(2)]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["$",f.product.price.toFixed(2)," each"]})]})]})]}),a.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>n(f.product.id),className:"ml-4 text-red-500 hover:text-red-700 hover:bg-red-50",children:a.jsx(v1,{className:"h-4 w-4"})})]})})},f.id)})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(de,{children:[a.jsx(we,{children:a.jsx(be,{children:"Order Summary"})}),a.jsxs(ve,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Subtotal (",r," items)"]}),a.jsxs("span",{children:["$",t.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{className:"text-green-600",children:"Free"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{children:["$",(t*.08).toFixed(2)]})]}),a.jsx(zu,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",(t*1.08).toFixed(2)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{onClick:c,className:"w-full",disabled:e.some(f=>u(f)!=="available"),children:"Proceed to Checkout"}),a.jsx(_e,{variant:"outline",onClick:i,className:"w-full",children:"Clear Cart"}),a.jsx(_e,{variant:"ghost",onClick:()=>l("/store"),className:"w-full",children:"Continue Shopping"})]})]})]}),e.some(f=>u(f)!=="available")&&a.jsxs(de,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-800",children:[a.jsx(we,{children:a.jsxs(be,{className:"text-amber-800 dark:text-amber-200 flex items-center gap-2",children:[a.jsx(_i,{className:"h-5 w-5"}),"Stock Issues"]})}),a.jsx(ve,{children:a.jsx("p",{className:"text-amber-700 dark:text-amber-300 text-sm",children:"Some items in your cart have stock issues. Please review and adjust quantities before proceeding."})})]})]})]})]})})},a3=({initialData:e,onSubmit:t})=>{const r=rf({defaultValues:e}),n=s=>{t(s)};return a.jsxs(de,{children:[a.jsx(we,{children:a.jsx(be,{children:"Invoice Information"})}),a.jsx(ve,{children:a.jsx(af,{...r,children:a.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ot,{control:r.control,name:"firstName",rules:{required:"First name is required"},render:({field:s})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"First Name"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"John",...s})}),a.jsx(et,{})]})}),a.jsx(ot,{control:r.control,name:"lastName",rules:{required:"Last name is required"},render:({field:s})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Last Name"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"Doe",...s})}),a.jsx(et,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ot,{control:r.control,name:"email",rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:s})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Email"}),a.jsx(Je,{children:a.jsx(pe,{type:"email",placeholder:"john@example.com",...s})}),a.jsx(et,{})]})}),a.jsx(ot,{control:r.control,name:"phone",rules:{required:"Phone number is required"},render:({field:s})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Phone"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"+1 (555) 123-4567",...s})}),a.jsx(et,{})]})})]}),a.jsx(ot,{control:r.control,name:"company",render:({field:s})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Company (Optional)"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"Company Name",...s})}),a.jsx(et,{})]})}),a.jsx(ot,{control:r.control,name:"address",rules:{required:"Address is required"},render:({field:s})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Address"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"123 Main Street",...s})}),a.jsx(et,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ot,{control:r.control,name:"city",rules:{required:"City is required"},render:({field:s})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"City"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"New York",...s})}),a.jsx(et,{})]})}),a.jsx(ot,{control:r.control,name:"state",rules:{required:"State is required"},render:({field:s})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"State"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"NY",...s})}),a.jsx(et,{})]})}),a.jsx(ot,{control:r.control,name:"postalCode",rules:{required:"Postal code is required"},render:({field:s})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Postal Code"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"10001",...s})}),a.jsx(et,{})]})})]}),a.jsx(ot,{control:r.control,name:"country",rules:{required:"Country is required"},render:({field:s})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Country"}),a.jsxs(As,{onValueChange:s.onChange,value:s.value,children:[a.jsx(Je,{children:a.jsx(In,{children:a.jsx(Ci,{placeholder:"Select a country"})})}),a.jsxs(Mn,{children:[a.jsx(Re,{value:"United States",children:"United States"}),a.jsx(Re,{value:"Canada",children:"Canada"}),a.jsx(Re,{value:"United Kingdom",children:"United Kingdom"}),a.jsx(Re,{value:"Germany",children:"Germany"}),a.jsx(Re,{value:"France",children:"France"}),a.jsx(Re,{value:"Australia",children:"Australia"})]})]}),a.jsx(et,{})]})}),a.jsx(_e,{type:"submit",className:"w-full",children:"Continue to Payment"})]})})})]})},l3=({initialData:e,onSubmit:t,onBack:r,isProcessing:n})=>{const s=rf({defaultValues:e}),i=c=>{t(c)},o=c=>{const u=c.replace(/\s+/g,"").replace(/[^0-9]/gi,""),d=u.match(/\d{4,16}/g),f=d&&d[0]||"",m=[];for(let y=0,w=f.length;y<w;y+=4)m.push(f.substring(y,y+4));return m.length?m.join(" "):u},l=c=>{const u=c.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return u.length>=2?u.substring(0,2)+(u.length>2?"/"+u.substring(2,4):""):u};return a.jsxs(de,{children:[a.jsx(we,{children:a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(m1,{className:"h-5 w-5"}),"Payment Details"]})}),a.jsx(ve,{children:a.jsx(af,{...s,children:a.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[a.jsx(ot,{control:s.control,name:"cardholderName",rules:{required:"Cardholder name is required"},render:({field:c})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Cardholder Name"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"John Doe",...c})}),a.jsx(et,{})]})}),a.jsx(ot,{control:s.control,name:"cardNumber",rules:{required:"Card number is required",minLength:{value:19,message:"Card number must be complete"}},render:({field:c})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Card Number"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"1234 5678 9012 3456",...c,onChange:u=>{const d=o(u.target.value);c.onChange(d)},maxLength:19})}),a.jsx(et,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ot,{control:s.control,name:"expiryDate",rules:{required:"Expiry date is required",pattern:{value:/^(0[1-9]|1[0-2])\/\d{2}$/,message:"Invalid expiry date format (MM/YY)"}},render:({field:c})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Expiry Date"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"MM/YY",...c,onChange:u=>{const d=l(u.target.value);c.onChange(d)},maxLength:5})}),a.jsx(et,{})]})}),a.jsx(ot,{control:s.control,name:"cvv",rules:{required:"CVV is required",minLength:{value:3,message:"CVV must be 3-4 digits"},maxLength:{value:4,message:"CVV must be 3-4 digits"}},render:({field:c})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"CVV"}),a.jsx(Je,{children:a.jsx(pe,{placeholder:"123",type:"password",...c,onChange:u=>{const d=u.target.value.replace(/[^0-9]/g,"");c.onChange(d)},maxLength:4})}),a.jsx(et,{})]})})]}),a.jsxs("div",{className:"pt-4 space-y-3",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Test Card Information:"}),a.jsx("p",{children:" Card Number: 4242 4242 4242 4242"}),a.jsx("p",{children:" Expiry: Any future date (e.g., 12/25)"}),a.jsx("p",{children:" CVV: Any 3-4 digits (e.g., 123)"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(_e,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:[a.jsx(f1,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsx(_e,{type:"submit",disabled:n,className:"flex-1",children:n?"Processing...":"Complete Order"})]})]})]})})})]})},c3=({items:e,total:t,currentStep:r})=>{const n=t,s=n*.08,i=n+s,o=e.some(l=>l.product.stock<=0||l.quantity>l.product.stock);return a.jsx("div",{className:"space-y-4",children:a.jsxs(de,{className:"sticky top-4",children:[a.jsx(we,{children:a.jsx(be,{children:"Order Summary"})}),a.jsxs(ve,{className:"space-y-4",children:[a.jsx("div",{className:"space-y-3",children:e.map(l=>{const c=l.product.stock<=0||l.quantity>l.product.stock;return a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-sm",children:l.product.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",l.quantity]}),c&&a.jsx(Ze,{variant:"destructive",className:"text-xs",children:"Stock Issue"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["$",l.product.price.toFixed(2)," each"]})]}),a.jsxs("span",{className:"font-medium text-sm",children:["$",(l.product.price*l.quantity).toFixed(2)]})]},l.id)})}),a.jsx(zu,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",n.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{className:"text-green-600",children:"Free"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tax (8%)"}),a.jsxs("span",{children:["$",s.toFixed(2)]})]}),a.jsx(zu,{}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",i.toFixed(2)]})]})]}),o&&a.jsx("div",{className:"mt-4 p-3 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(_i,{className:"h-4 w-4 text-amber-600 mt-0.5 shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Stock Issues Detected"}),a.jsx("p",{className:"text-amber-700 dark:text-amber-300 mt-1",children:"Some items may not be available. Please review your cart."})]})]})}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Step ",r," of 2"]}),a.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r/2*100}%`}})})]})]})]})})},u3=()=>{const e=Oi(),{items:t,total:r,clearCart:n}=bg(),{user:s}=Un(),{toast:i}=Rt(),[o,l]=h.useState(1),[c,u]=h.useState({firstName:"",lastName:"",email:"",phone:"",company:"",address:"",city:"",state:"",postalCode:"",country:"United States"}),[d,f]=h.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[m,y]=h.useState(!1);h.useEffect(()=>{t.length===0&&(e("/store"),i({title:"Cart is empty",description:"Add items to your cart before checking out.",variant:"destructive"}))},[t,e,i]),h.useEffect(()=>{s&&u(v=>({...v,firstName:s.name.split(" ")[0]||"",lastName:s.name.split(" ").slice(1).join(" ")||"",email:s.email||""}))},[s]);const w=v=>{u(v),l(2)},p=async v=>{f(v),y(!0);try{if(!s)throw new Error("User not authenticated");const g=t.map(_=>({productId:_.product.id,quantity:_.quantity,price:_.product.price})),b=await LF({userId:s.id,items:g,invoiceData:c,paymentData:v});if(!b.success)throw new Error(b.error||"Failed to process order");if(await new Promise(_=>setTimeout(_,2e3)),b.orderId){const _=await FF(b.orderId);_.success||console.warn("Order created but failed to mark as delivered:",_.error)}i({title:"Order placed successfully!",description:`Your order has been confirmed. Order total: $${(r*1.08).toFixed(2)}`}),n(),e("/store")}catch(g){console.error("Payment processing error:",g),i({title:"Payment failed",description:g instanceof Error?g.message:"There was an error processing your payment. Please try again.",variant:"destructive"})}finally{y(!1)}},x=[{number:1,title:"Invoice Information",icon:w1},{number:2,title:"Payment Details",icon:m1}];return t.length===0?null:a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>e("/cart"),className:"shrink-0",children:a.jsx(f1,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Checkout"}),a.jsx("p",{className:"text-muted-foreground",children:"Complete your purchase securely"})]})]}),a.jsx("div",{className:"flex items-center justify-center mb-8",children:x.map((v,g)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${o>=v.number?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:a.jsx(v.icon,{className:"h-5 w-5"})}),a.jsx("div",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-100",children:v.title}),g<x.length-1&&a.jsx("div",{className:`mx-6 h-0.5 w-16 ${o>v.number?"bg-blue-600":"bg-gray-300"}`})]},v.number))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o===1&&a.jsx(a3,{initialData:c,onSubmit:w}),o===2&&a.jsx(l3,{initialData:d,onSubmit:p,onBack:()=>l(1),isProcessing:m})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(c3,{items:t,total:r,currentStep:o})})]}),a.jsxs("div",{className:"mt-8 flex items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(IA,{className:"h-4 w-4 mr-2"}),"Your payment information is secure and encrypted"]})]})})},d3=()=>a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Comprehensive insights and performance metrics for your business"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(Cg,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ve,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"$45,231"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(y1,{className:"inline h-3 w-3 mr-1 text-green-600"}),"+20.1% from last month"]})]})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Products Sold"}),a.jsx(xt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ve,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"2,350"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+180 from last month"})]})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Total Orders"}),a.jsx(Eg,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ve,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"1,234"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+19% from last month"})]})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Active Users"}),a.jsx(Ng,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ve,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"573"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+201 since last hour"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Analytics Overview"}),a.jsx(nt,{children:"Performance metrics and trends over time"})]}),a.jsx(ve,{children:a.jsxs(Og,{defaultValue:"revenue",className:"w-full",children:[a.jsxs(Ud,{className:"grid w-full grid-cols-3",children:[a.jsx(hr,{value:"revenue",children:"Revenue"}),a.jsx(hr,{value:"products",children:"Products"}),a.jsx(hr,{value:"customers",children:"Customers"})]}),a.jsx(mr,{value:"revenue",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mx,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold",children:"Revenue Trends"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(mx,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Revenue Chart"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly revenue trends"})]})})]})}),a.jsx(mr,{value:"products",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(px,{className:"h-5 w-5 text-green-600"}),a.jsx("h3",{className:"font-semibold",children:"Product Performance"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(px,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Product Sales Chart"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sales by category"})]})})]})}),a.jsx(mr,{value:"customers",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cu,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"font-semibold",children:"Customer Analytics"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Cu,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Customer Demographics"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"User engagement data"})]})})]})})]})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{className:"text-lg",children:"Top Performing Products"}),a.jsx(nt,{children:"Best sellers this month"})]}),a.jsxs(ve,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(xt,{size:16,className:"text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Premium Headphones"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Electronics"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$12,450"})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(xt,{size:16,className:"text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Smart Watch"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Wearables"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$8,920"})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx(xt,{size:16,className:"text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Wireless Speaker"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Audio"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$6,750"})]})]})]}),a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{className:"text-lg",children:"Recent Activity"}),a.jsx(nt,{children:"Latest system events"})]}),a.jsxs(ve,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"New order processed"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"2 minutes ago"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Inventory updated"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"15 minutes ago"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Low stock alert"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"1 hour ago"})]})]})]})]})]})]})]}),f3=()=>{const{user:e}=Un(),{toast:t}=Rt(),[r,n]=h.useState(!1),[s,i]=h.useState(!1),[o,l]=h.useState({name:"",email:"",phone:"",company_name:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",tax_id:"",avatar_url:""});h.useEffect(()=>{e&&(l({name:e.name||"",email:e.email||"",phone:"",company_name:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",tax_id:"",avatar_url:e.avatar||""}),c())},[e]);const c=async()=>{if(e)try{const{data:y,error:w}=await H.from("profiles").select("*").eq("id",e.id).single();if(w){console.error("Error fetching profile:",w);return}y&&l(p=>({...p,phone:y.phone||"",company_name:y.company_name||"",address_line1:y.address_line1||"",address_line2:y.address_line2||"",city:y.city||"",state:y.state||"",postal_code:y.postal_code||"",country:y.country||"",tax_id:y.tax_id||"",avatar_url:y.avatar_url||""}))}catch(y){console.error("Error fetching profile data:",y)}},u=y=>{const{name:w,value:p}=y.target;l(x=>({...x,[w]:p}))},d=async y=>{try{if(i(!0),!y.target.files||y.target.files.length===0)throw new Error("You must select an image to upload.");const w=y.target.files[0],p=w.name.split(".").pop(),x=`${e==null?void 0:e.id}/avatar.${p}`,{error:v}=await H.storage.from("avatars").upload(x,w,{upsert:!0});if(v)throw v;const{data:g}=H.storage.from("avatars").getPublicUrl(x);l(b=>({...b,avatar_url:g.publicUrl})),t({title:"Avatar uploaded",description:"Your profile picture has been updated successfully."})}catch(w){t({title:"Error uploading avatar",description:w.message,variant:"destructive"})}finally{i(!1)}},f=async y=>{if(y.preventDefault(),!!e){n(!0);try{const{error:w}=await H.from("profiles").update({name:o.name,phone:o.phone,company_name:o.company_name,address_line1:o.address_line1,address_line2:o.address_line2,city:o.city,state:o.state,postal_code:o.postal_code,country:o.country,tax_id:o.tax_id,avatar_url:o.avatar_url,updated_at:new Date().toISOString()}).eq("id",e.id);if(w)throw w;t({title:"Profile updated",description:"Your profile has been updated successfully."})}catch(w){t({title:"Error updating profile",description:w.message,variant:"destructive"})}finally{n(!1)}}};if(!e)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})});const m=o.name?o.name.substring(0,2).toUpperCase():o.email.substring(0,2).toUpperCase();return a.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Profile Settings"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your account information and invoice details"})]}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Profile Picture"}),a.jsx(nt,{children:"Upload a profile picture to personalize your account"})]}),a.jsx(ve,{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(zd,{className:"h-20 w-20",children:[a.jsx(Bd,{src:o.avatar_url,alt:o.name}),a.jsx(Vd,{children:m})]}),a.jsxs("div",{children:[a.jsxs(Ge,{htmlFor:"avatar",className:"cursor-pointer",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:[a.jsx(x1,{className:"h-4 w-4"}),a.jsx("span",{children:s?"Uploading...":"Upload Picture"})]}),a.jsx(pe,{id:"avatar",type:"file",accept:"image/*",onChange:d,disabled:s,className:"hidden"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"JPG, PNG or GIF. Max size 2MB."})]})]})})]}),a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Personal Information"}),a.jsx(nt,{children:"Update your personal details"})]}),a.jsx(ve,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"name",children:"Full Name"}),a.jsx(pe,{id:"name",name:"name",value:o.name,onChange:u,placeholder:"Enter your full name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"email",children:"Email"}),a.jsx(pe,{id:"email",name:"email",type:"email",value:o.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"phone",children:"Phone Number"}),a.jsx(pe,{id:"phone",name:"phone",value:o.phone,onChange:u,placeholder:"Enter your phone number"})]})]})})]}),a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Invoice Information"}),a.jsx(nt,{children:"This information will be used for billing and invoices"})]}),a.jsx(ve,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Ge,{htmlFor:"company_name",children:"Company Name"}),a.jsx(pe,{id:"company_name",name:"company_name",value:o.company_name,onChange:u,placeholder:"Enter company name (optional)"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Ge,{htmlFor:"address_line1",children:"Address Line 1"}),a.jsx(pe,{id:"address_line1",name:"address_line1",value:o.address_line1,onChange:u,placeholder:"Street address"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Ge,{htmlFor:"address_line2",children:"Address Line 2"}),a.jsx(pe,{id:"address_line2",name:"address_line2",value:o.address_line2,onChange:u,placeholder:"Apartment, suite, etc. (optional)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"city",children:"City"}),a.jsx(pe,{id:"city",name:"city",value:o.city,onChange:u,placeholder:"City"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"state",children:"State/Province"}),a.jsx(pe,{id:"state",name:"state",value:o.state,onChange:u,placeholder:"State or Province"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"postal_code",children:"Postal Code"}),a.jsx(pe,{id:"postal_code",name:"postal_code",value:o.postal_code,onChange:u,placeholder:"Postal code"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"country",children:"Country"}),a.jsx(pe,{id:"country",name:"country",value:o.country,onChange:u,placeholder:"Country"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Ge,{htmlFor:"tax_id",children:"Tax ID"}),a.jsx(pe,{id:"tax_id",name:"tax_id",value:o.tax_id,onChange:u,placeholder:"Tax identification number (optional)"})]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(_e,{type:"submit",disabled:r,children:r?"Saving...":"Save Changes"})})]})]})})},h3=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,i]=h.useState(!1),[o,l]=h.useState(null),[c,u]=h.useState(null);h.useState("customer");const[d,f]=h.useState({name:"",email:"",password:"",role:"customer"}),{toast:m}=Rt(),y=async()=>{try{const{data:g,error:b}=await H.from("profiles").select("*").order("created_at",{ascending:!1});if(b){console.error("Error fetching users:",b),m({title:"Error fetching users",description:b.message,variant:"destructive"});return}const _=g.map(S=>({id:S.id,name:S.name||"User",email:S.email||"",role:S.role||"customer",avatar:S.avatar_url||"",createdAt:new Date(S.created_at||Date.now()),updatedAt:new Date(S.updated_at||Date.now())}));t(_)}catch(g){console.error("Error in fetchUsers:",g),m({title:"Error",description:"Failed to fetch users",variant:"destructive"})}finally{n(!1)}},w=async g=>{if(g.preventDefault(),!d.name||!d.email||!d.password){m({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}i(!0);try{const{data:{session:b}}=await H.auth.getSession();if(!b){m({title:"Authentication required",description:"Please log in to create users",variant:"destructive"});return}console.log("Calling create-user edge function...");const{data:_,error:S}=await H.functions.invoke("create-user",{body:{name:d.name,email:d.email,password:d.password,role:d.role},headers:{Authorization:`Bearer ${b.access_token}`}});if(S){console.error("Edge function error:",S),m({title:"Error creating user",description:S.message||"Failed to create user",variant:"destructive"});return}console.log("User creation response:",_),m({title:"User created successfully",description:`${d.name} has been added to the system`,variant:"default"}),f({name:"",email:"",password:"",role:"customer"}),y()}catch(b){console.error("Error in handleCreateUser:",b),m({title:"Error",description:"Failed to create user. Please try again.",variant:"destructive"})}finally{i(!1)}},p=async(g,b)=>{if(confirm(`Are you sure you want to delete ${b}? This action cannot be undone.`)){l(g);try{const{data:{session:_}}=await H.auth.getSession();if(!_){m({title:"Authentication required",description:"Please log in to delete users",variant:"destructive"});return}console.log("Calling delete-user edge function...");const{data:S,error:C}=await H.functions.invoke("delete-user",{body:{userId:g},headers:{Authorization:`Bearer ${_.access_token}`}});if(C){console.error("Edge function error:",C),m({title:"Error deleting user",description:C.message||"Failed to delete user",variant:"destructive"});return}console.log("User deletion response:",S),m({title:"User deleted successfully",description:`${b} has been removed from the system`,variant:"default"}),y()}catch(_){console.error("Error in handleDeleteUser:",_),m({title:"Error",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{l(null)}}},x=async(g,b)=>{u(g);try{await NO(g,b)?(m({title:"Role updated successfully",description:`User role has been changed to ${b}`,variant:"default"}),y()):m({title:"Error updating role",description:"Failed to update user role. Please try again.",variant:"destructive"})}catch(_){console.error("Error in handleUpdateRole:",_),m({title:"Error",description:"Failed to update user role. Please try again.",variant:"destructive"})}finally{u(null)}},v=g=>{switch(g){case"admin":return"destructive";case"warehouse":return"default";case"analyst":return"secondary";case"customer":return"outline";default:return"outline"}};return h.useEffect(()=>{y()},[]),a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts and permissions"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Ng,{className:"h-8 w-8 text-muted-foreground"})})]}),a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(xx,{className:"h-5 w-5"}),a.jsx("span",{children:"Create New User"})]}),a.jsx(nt,{children:"Add a new user account to the system"})]}),a.jsx(ve,{children:a.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"name",children:"Full Name *"}),a.jsx(pe,{id:"name",type:"text",value:d.name,onChange:g=>f({...d,name:g.target.value}),placeholder:"Enter full name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"email",children:"Email Address *"}),a.jsx(pe,{id:"email",type:"email",value:d.email,onChange:g=>f({...d,email:g.target.value}),placeholder:"Enter email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"password",children:"Password *"}),a.jsx(pe,{id:"password",type:"password",value:d.password,onChange:g=>f({...d,password:g.target.value}),placeholder:"Enter password",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"role",children:"Role *"}),a.jsxs(As,{value:d.role,onValueChange:g=>f({...d,role:g}),children:[a.jsx(In,{children:a.jsx(Ci,{placeholder:"Select role"})}),a.jsxs(Mn,{children:[a.jsx(Re,{value:"customer",children:"Customer"}),a.jsx(Re,{value:"warehouse",children:"Warehouse"}),a.jsx(Re,{value:"analyst",children:"Analyst"}),a.jsx(Re,{value:"admin",children:"Admin"})]})]})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(_e,{type:"submit",disabled:s,className:"w-full md:w-auto",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Ya,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating User..."]}):a.jsxs(a.Fragment,{children:[a.jsx(xx,{className:"mr-2 h-4 w-4"}),"Create User"]})})})]})})]}),a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Existing Users"}),a.jsx(nt,{children:"View and manage all user accounts"})]}),a.jsx(ve,{children:r?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Ya,{className:"h-8 w-8 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Loading users..."})]}):a.jsxs(tv,{children:[a.jsx(rv,{children:a.jsxs(jo,{children:[a.jsx(er,{children:"Name"}),a.jsx(er,{children:"Email"}),a.jsx(er,{children:"Role"}),a.jsx(er,{children:"Created At"}),a.jsx(er,{children:"Actions"})]})}),a.jsxs(nv,{children:[e.map(g=>a.jsxs(jo,{children:[a.jsx(Vt,{className:"font-medium",children:g.name}),a.jsx(Vt,{children:g.email}),a.jsx(Vt,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ze,{variant:v(g.role),children:g.role}),a.jsxs(As,{value:g.role,onValueChange:b=>x(g.id,b),disabled:c===g.id,children:[a.jsx(In,{className:"w-24 h-8",children:a.jsx(zA,{className:"h-3 w-3"})}),a.jsxs(Mn,{children:[a.jsx(Re,{value:"customer",children:"Customer"}),a.jsx(Re,{value:"warehouse",children:"Warehouse"}),a.jsx(Re,{value:"analyst",children:"Analyst"}),a.jsx(Re,{value:"admin",children:"Admin"})]})]})]})}),a.jsx(Vt,{children:g.createdAt.toLocaleDateString()}),a.jsx(Vt,{children:a.jsx(_e,{variant:"destructive",size:"sm",onClick:()=>p(g.id,g.name),disabled:o===g.id,children:o===g.id?a.jsx(Ya,{className:"h-4 w-4 animate-spin"}):a.jsx(v1,{className:"h-4 w-4"})})})]},g.id)),e.length===0&&a.jsx(jo,{children:a.jsx(Vt,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No users found"})})]})]})})]})]})},y0=(e,t,r)=>{if(e&&"reportValidity"in e){const n=V(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},LC=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?y0(n.ref,r,e):n.refs&&n.refs.forEach(s=>y0(s,r,e))}},m3=(e,t)=>{t.shouldUseNativeValidation&&LC(e,t);const r={};for(const n in e){const s=V(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(p3(t.names||Object.keys(e),n)){const o=Object.assign({},V(r,n));Me(o,"root",i),Me(r,n,o)}else Me(r,n,i)}return r},p3=(e,t)=>e.some(r=>r.startsWith(t+"."));var g3=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=Vk(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},v3=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&LC({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:m3(g3(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ne;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ne||(Ne={}));var x0;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(x0||(x0={}));const Z=Ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Js=e=>{switch(typeof e){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(e)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(e)?Z.array:e===null?Z.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Z.promise:typeof Map<"u"&&e instanceof Map?Z.map:typeof Set<"u"&&e instanceof Set?Z.set:typeof Date<"u"&&e instanceof Date?Z.date:Z.object;default:return Z.unknown}},z=Ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Tr extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Tr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Tr.create=e=>new Tr(e);const Ol=(e,t)=>{let r;switch(e.code){case z.invalid_type:e.received===Z.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ne.jsonStringifyReplacer)}`;break;case z.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ne.joinValues(e.keys,", ")}`;break;case z.invalid_union:r="Invalid input";break;case z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ne.joinValues(e.options)}`;break;case z.invalid_enum_value:r=`Invalid enum value. Expected ${Ne.joinValues(e.options)}, received '${e.received}'`;break;case z.invalid_arguments:r="Invalid function arguments";break;case z.invalid_return_type:r="Invalid function return type";break;case z.invalid_date:r="Invalid date";break;case z.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ne.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case z.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case z.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case z.custom:r="Invalid input";break;case z.invalid_intersection_types:r="Intersection results could not be merged";break;case z.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case z.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ne.assertNever(e)}return{message:r}};let y3=Ol;function op(){return y3}const ap=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Q(e,t){const r=op(),n=ap({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ol?void 0:Ol].filter(s=>!!s)});e.common.issues.push(n)}class Ht{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ce;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Ht.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ce;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const ce=Object.freeze({status:"aborted"}),Ia=e=>({status:"dirty",value:e}),ar=e=>({status:"valid",value:e}),w0=e=>e.status==="aborted",b0=e=>e.status==="dirty",Bu=e=>e.status==="valid",Vu=e=>typeof Promise<"u"&&e instanceof Promise;function Wu(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function FC(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(se||(se={}));var Ma,Da;class fn{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _0=(e,t)=>{if(Bu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Tr(e.common.issues);return this._error=r,this._error}}};function fe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Se{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Js(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Js(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ht,ctx:{common:t.parent.common,data:t.data,parsedType:Js(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Vu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Js(t)},i=this._parseSync({data:t,path:s.path,parent:s});return _0(s,i)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Js(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Vu(s)?s:Promise.resolve(s));return _0(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:z.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new $n({schema:this,typeName:ae.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Cn.create(this,this._def)}nullable(){return Pi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return un.create(this,this._def)}promise(){return Ml.create(this,this._def)}or(t){return Ku.create([this,t],this._def)}and(t){return Gu.create(this,t,this._def)}transform(t){return new $n({...fe(this._def),schema:this,typeName:ae.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Ju({...fe(this._def),innerType:this,defaultValue:r,typeName:ae.ZodDefault})}brand(){return new VC({typeName:ae.ZodBranded,type:this,...fe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ed({...fe(this._def),innerType:this,catchValue:r,typeName:ae.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return cf.create(this,t)}readonly(){return td.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const x3=/^c[^\s-]{8,}$/i,w3=/^[0-9a-z]+$/,b3=/^[0-9A-HJKMNP-TV-Z]{26}$/,_3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,S3=/^[a-z0-9_-]{21}$/i,j3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,k3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,C3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let gh;const E3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,N3=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,P3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,UC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",T3=new RegExp(`^${UC}$`);function zC(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function R3(e){return new RegExp(`^${zC(e)}$`)}function O3(e){let t=`${UC}T${zC(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function A3(e,t){return!!((t==="v4"||!t)&&E3.test(e)||(t==="v6"||!t)&&N3.test(e))}class jn extends Se{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Z.string){const i=this._getOrReturnCtx(t);return Q(i,{code:z.invalid_type,expected:Z.string,received:i.parsedType}),ce}const n=new Ht;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Q(s,{code:z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Q(s,{code:z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")k3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"email",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")gh||(gh=new RegExp(C3,"u")),gh.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"emoji",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")_3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"uuid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")S3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"nanoid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")x3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"cuid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")w3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"cuid2",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")b3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"ulid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Q(s,{validation:"url",code:z.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"regex",code:z.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?O3(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?T3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?R3(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?j3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"duration",code:z.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?A3(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"ip",code:z.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?P3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"base64",code:z.invalid_string,message:i.message}),n.dirty()):Ne.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:z.invalid_string,...se.errToObj(n)})}_addCheck(t){return new jn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...se.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...se.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...se.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...se.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...se.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...se.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...se.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...se.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...se.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...se.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...se.errToObj(r)})}nonempty(t){return this.min(1,se.errToObj(t))}trim(){return new jn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}jn.create=e=>{var t;return new jn({checks:[],typeName:ae.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...fe(e)})};function I3(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Yo extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Z.number){const i=this._getOrReturnCtx(t);return Q(i,{code:z.invalid_type,expected:Z.number,received:i.parsedType}),ce}let n;const s=new Ht;for(const i of this._def.checks)i.kind==="int"?Ne.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Q(n,{code:z.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?I3(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Q(n,{code:z.not_finite,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,se.toString(r))}setLimit(t,r,n,s){return new Yo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(t){return new Yo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ne.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Yo.create=e=>new Yo({checks:[],typeName:ae.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class Zo extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Z.bigint){const i=this._getOrReturnCtx(t);return Q(i,{code:z.invalid_type,expected:Z.bigint,received:i.parsedType}),ce}let n;const s=new Ht;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,se.toString(r))}setLimit(t,r,n,s){return new Zo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(t){return new Zo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zo.create=e=>{var t;return new Zo({checks:[],typeName:ae.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...fe(e)})};class lp extends Se{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Z.boolean){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:Z.boolean,received:n.parsedType}),ce}return ar(t.data)}}lp.create=e=>new lp({typeName:ae.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class Al extends Se{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Z.date){const i=this._getOrReturnCtx(t);return Q(i,{code:z.invalid_type,expected:Z.date,received:i.parsedType}),ce}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Q(i,{code:z.invalid_date}),ce}const n=new Ht;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:z.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:z.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ne.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Al({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:se.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:se.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Al.create=e=>new Al({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ae.ZodDate,...fe(e)});class cp extends Se{_parse(t){if(this._getType(t)!==Z.symbol){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:Z.symbol,received:n.parsedType}),ce}return ar(t.data)}}cp.create=e=>new cp({typeName:ae.ZodSymbol,...fe(e)});class qu extends Se{_parse(t){if(this._getType(t)!==Z.undefined){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:Z.undefined,received:n.parsedType}),ce}return ar(t.data)}}qu.create=e=>new qu({typeName:ae.ZodUndefined,...fe(e)});class Hu extends Se{_parse(t){if(this._getType(t)!==Z.null){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:Z.null,received:n.parsedType}),ce}return ar(t.data)}}Hu.create=e=>new Hu({typeName:ae.ZodNull,...fe(e)});class Il extends Se{constructor(){super(...arguments),this._any=!0}_parse(t){return ar(t.data)}}Il.create=e=>new Il({typeName:ae.ZodAny,...fe(e)});class ko extends Se{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ar(t.data)}}ko.create=e=>new ko({typeName:ae.ZodUnknown,...fe(e)});class Is extends Se{_parse(t){const r=this._getOrReturnCtx(t);return Q(r,{code:z.invalid_type,expected:Z.never,received:r.parsedType}),ce}}Is.create=e=>new Is({typeName:ae.ZodNever,...fe(e)});class up extends Se{_parse(t){if(this._getType(t)!==Z.undefined){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:Z.void,received:n.parsedType}),ce}return ar(t.data)}}up.create=e=>new up({typeName:ae.ZodVoid,...fe(e)});class un extends Se{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Z.array)return Q(r,{code:z.invalid_type,expected:Z.array,received:r.parsedType}),ce;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Q(r,{code:o?z.too_big:z.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Q(r,{code:z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Q(r,{code:z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new fn(r,o,r.path,l)))).then(o=>Ht.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new fn(r,o,r.path,l)));return Ht.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new un({...this._def,minLength:{value:t,message:se.toString(r)}})}max(t,r){return new un({...this._def,maxLength:{value:t,message:se.toString(r)}})}length(t,r){return new un({...this._def,exactLength:{value:t,message:se.toString(r)}})}nonempty(t){return this.min(1,t)}}un.create=(e,t)=>new un({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ae.ZodArray,...fe(t)});function Ji(e){if(e instanceof at){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Cn.create(Ji(n))}return new at({...e._def,shape:()=>t})}else return e instanceof un?new un({...e._def,type:Ji(e.element)}):e instanceof Cn?Cn.create(Ji(e.unwrap())):e instanceof Pi?Pi.create(Ji(e.unwrap())):e instanceof Dn?Dn.create(e.items.map(t=>Ji(t))):e}class at extends Se{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ne.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Z.object){const u=this._getOrReturnCtx(t);return Q(u,{code:z.invalid_type,expected:Z.object,received:u.parsedType}),ce}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Is&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new fn(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Is){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Q(s,{code:z.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new fn(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Ht.mergeObjectSync(n,u)):Ht.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return se.errToObj,new at({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=se.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new at({...this._def,unknownKeys:"strip"})}passthrough(){return new at({...this._def,unknownKeys:"passthrough"})}extend(t){return new at({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new at({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ae.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new at({...this._def,catchall:t})}pick(t){const r={};return Ne.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new at({...this._def,shape:()=>r})}omit(t){const r={};return Ne.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new at({...this._def,shape:()=>r})}deepPartial(){return Ji(this)}partial(t){const r={};return Ne.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new at({...this._def,shape:()=>r})}required(t){const r={};return Ne.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Cn;)i=i._def.innerType;r[n]=i}}),new at({...this._def,shape:()=>r})}keyof(){return BC(Ne.objectKeys(this.shape))}}at.create=(e,t)=>new at({shape:()=>e,unknownKeys:"strip",catchall:Is.create(),typeName:ae.ZodObject,...fe(t)});at.strictCreate=(e,t)=>new at({shape:()=>e,unknownKeys:"strict",catchall:Is.create(),typeName:ae.ZodObject,...fe(t)});at.lazycreate=(e,t)=>new at({shape:e,unknownKeys:"strip",catchall:Is.create(),typeName:ae.ZodObject,...fe(t)});class Ku extends Se{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Tr(l.ctx.common.issues));return Q(r,{code:z.invalid_union,unionErrors:o}),ce}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Tr(c));return Q(r,{code:z.invalid_union,unionErrors:l}),ce}}get options(){return this._def.options}}Ku.create=(e,t)=>new Ku({options:e,typeName:ae.ZodUnion,...fe(t)});const vn=e=>e instanceof Yu?vn(e.schema):e instanceof $n?vn(e.innerType()):e instanceof Zu?[e.value]:e instanceof Ni?e.options:e instanceof Xu?Ne.objectValues(e.enum):e instanceof Ju?vn(e._def.innerType):e instanceof qu?[void 0]:e instanceof Hu?[null]:e instanceof Cn?[void 0,...vn(e.unwrap())]:e instanceof Pi?[null,...vn(e.unwrap())]:e instanceof VC||e instanceof td?vn(e.unwrap()):e instanceof ed?vn(e._def.innerType):[];class mv extends Se{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.object)return Q(r,{code:z.invalid_type,expected:Z.object,received:r.parsedType}),ce;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Q(r,{code:z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=vn(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new mv({typeName:ae.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...fe(n)})}}function dp(e,t){const r=Js(e),n=Js(t);if(e===t)return{valid:!0,data:e};if(r===Z.object&&n===Z.object){const s=Ne.objectKeys(t),i=Ne.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=dp(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Z.array&&n===Z.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=dp(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Z.date&&n===Z.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Gu extends Se{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(w0(i)||w0(o))return ce;const l=dp(i.value,o.value);return l.valid?((b0(i)||b0(o))&&r.dirty(),{status:r.value,value:l.data}):(Q(n,{code:z.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Gu.create=(e,t,r)=>new Gu({left:e,right:t,typeName:ae.ZodIntersection,...fe(r)});class Dn extends Se{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.array)return Q(n,{code:z.invalid_type,expected:Z.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return Q(n,{code:z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(Q(n,{code:z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new fn(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ht.mergeArray(r,o)):Ht.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Dn({...this._def,rest:t})}}Dn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Dn({items:e,typeName:ae.ZodTuple,rest:null,...fe(t)})};class Qu extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.object)return Q(n,{code:z.invalid_type,expected:Z.object,received:n.parsedType}),ce;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:i._parse(new fn(n,l,n.path,l)),value:o._parse(new fn(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Ht.mergeObjectAsync(r,s):Ht.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Se?new Qu({keyType:t,valueType:r,typeName:ae.ZodRecord,...fe(n)}):new Qu({keyType:jn.create(),valueType:t,typeName:ae.ZodRecord,...fe(r)})}}class fp extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.map)return Q(n,{code:z.invalid_type,expected:Z.map,received:n.parsedType}),ce;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new fn(n,l,n.path,[u,"key"])),value:i._parse(new fn(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}fp.create=(e,t,r)=>new fp({valueType:t,keyType:e,typeName:ae.ZodMap,...fe(r)});class Xo extends Se{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.set)return Q(n,{code:z.invalid_type,expected:Z.set,received:n.parsedType}),ce;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Q(n,{code:z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Q(n,{code:z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ce;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new fn(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Xo({...this._def,minSize:{value:t,message:se.toString(r)}})}max(t,r){return new Xo({...this._def,maxSize:{value:t,message:se.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Xo.create=(e,t)=>new Xo({valueType:e,minSize:null,maxSize:null,typeName:ae.ZodSet,...fe(t)});class tl extends Se{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.function)return Q(r,{code:z.invalid_type,expected:Z.function,received:r.parsedType}),ce;function n(l,c){return ap({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,op(),Ol].filter(u=>!!u),issueData:{code:z.invalid_arguments,argumentsError:c}})}function s(l,c){return ap({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,op(),Ol].filter(u=>!!u),issueData:{code:z.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Ml){const l=this;return ar(async function(...c){const u=new Tr([]),d=await l._def.args.parseAsync(c,i).catch(y=>{throw u.addIssue(n(c,y)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(y=>{throw u.addIssue(s(f,y)),u})})}else{const l=this;return ar(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new Tr([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new Tr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new tl({...this._def,args:Dn.create(t).rest(ko.create())})}returns(t){return new tl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new tl({args:t||Dn.create([]).rest(ko.create()),returns:r||ko.create(),typeName:ae.ZodFunction,...fe(n)})}}class Yu extends Se{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Yu.create=(e,t)=>new Yu({getter:e,typeName:ae.ZodLazy,...fe(t)});class Zu extends Se{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Q(r,{received:r.data,code:z.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:t.data}}get value(){return this._def.value}}Zu.create=(e,t)=>new Zu({value:e,typeName:ae.ZodLiteral,...fe(t)});function BC(e,t){return new Ni({values:e,typeName:ae.ZodEnum,...fe(t)})}class Ni extends Se{constructor(){super(...arguments),Ma.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Q(r,{expected:Ne.joinValues(n),received:r.parsedType,code:z.invalid_type}),ce}if(Wu(this,Ma)||FC(this,Ma,new Set(this._def.values)),!Wu(this,Ma).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Q(r,{received:r.data,code:z.invalid_enum_value,options:n}),ce}return ar(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ni.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ni.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ma=new WeakMap;Ni.create=BC;class Xu extends Se{constructor(){super(...arguments),Da.set(this,void 0)}_parse(t){const r=Ne.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Z.string&&n.parsedType!==Z.number){const s=Ne.objectValues(r);return Q(n,{expected:Ne.joinValues(s),received:n.parsedType,code:z.invalid_type}),ce}if(Wu(this,Da)||FC(this,Da,new Set(Ne.getValidEnumValues(this._def.values))),!Wu(this,Da).has(t.data)){const s=Ne.objectValues(r);return Q(n,{received:n.data,code:z.invalid_enum_value,options:s}),ce}return ar(t.data)}get enum(){return this._def.values}}Da=new WeakMap;Xu.create=(e,t)=>new Xu({values:e,typeName:ae.ZodNativeEnum,...fe(t)});class Ml extends Se{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.promise&&r.common.async===!1)return Q(r,{code:z.invalid_type,expected:Z.promise,received:r.parsedType}),ce;const n=r.parsedType===Z.promise?r.data:Promise.resolve(r.data);return ar(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ml.create=(e,t)=>new Ml({type:e,typeName:ae.ZodPromise,...fe(t)});class $n extends Se{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Q(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ce;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ce:c.status==="dirty"||r.value==="dirty"?Ia(c.value):c});{if(r.value==="aborted")return ce;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ce:l.status==="dirty"||r.value==="dirty"?Ia(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Bu(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Bu(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);Ne.assertNever(s)}}$n.create=(e,t,r)=>new $n({schema:e,typeName:ae.ZodEffects,effect:t,...fe(r)});$n.createWithPreprocess=(e,t,r)=>new $n({schema:t,effect:{type:"preprocess",transform:e},typeName:ae.ZodEffects,...fe(r)});class Cn extends Se{_parse(t){return this._getType(t)===Z.undefined?ar(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Cn.create=(e,t)=>new Cn({innerType:e,typeName:ae.ZodOptional,...fe(t)});class Pi extends Se{_parse(t){return this._getType(t)===Z.null?ar(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Pi.create=(e,t)=>new Pi({innerType:e,typeName:ae.ZodNullable,...fe(t)});class Ju extends Se{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Z.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ju.create=(e,t)=>new Ju({innerType:e,typeName:ae.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...fe(t)});class ed extends Se{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Vu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Tr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Tr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ed.create=(e,t)=>new ed({innerType:e,typeName:ae.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...fe(t)});class hp extends Se{_parse(t){if(this._getType(t)!==Z.nan){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:Z.nan,received:n.parsedType}),ce}return{status:"valid",value:t.data}}}hp.create=e=>new hp({typeName:ae.ZodNaN,...fe(e)});class VC extends Se{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class cf extends Se{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ce:i.status==="dirty"?(r.dirty(),Ia(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ce:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new cf({in:t,out:r,typeName:ae.ZodPipeline})}}class td extends Se{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Bu(s)&&(s.value=Object.freeze(s.value)),s);return Vu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}td.create=(e,t)=>new td({innerType:e,typeName:ae.ZodReadonly,...fe(t)});function M3(e,t={},r){return e?Il.create().superRefine((n,s)=>{var i,o;if(!e(n)){const l=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...u,fatal:c})}}):Il.create()}at.lazycreate;var ae;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ae||(ae={}));const D3=(e,t={message:`Input not instance of ${e.name}`})=>M3(r=>r instanceof e,t),$3=jn.create;Yo.create;hp.create;Zo.create;lp.create;Al.create;cp.create;qu.create;Hu.create;Il.create;ko.create;Is.create;up.create;un.create;const L3=at.create;at.strictCreate;Ku.create;mv.create;Gu.create;Dn.create;Qu.create;fp.create;Xo.create;tl.create;Yu.create;Zu.create;Ni.create;Xu.create;Ml.create;$n.create;Cn.create;Pi.create;$n.createWithPreprocess;cf.create;const F3=L3({description:$3().min(10,"Description must be at least 10 characters"),photo:D3(File).optional()}),U3=({orderId:e,orderNumber:t,onSuccess:r,onCancel:n})=>{const{user:s}=Un(),{toast:i}=Rt(),[o,l]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState(null),m=rf({resolver:v3(F3),defaultValues:{description:""}}),y=x=>{var g;const v=(g=x.target.files)==null?void 0:g[0];if(v){if(v.size>5*1024*1024){i({title:"File too large",description:"Please select a file smaller than 5MB.",variant:"destructive"});return}if(!v.type.startsWith("image/")){i({title:"Invalid file type",description:"Please select an image file.",variant:"destructive"});return}u(v);const b=URL.createObjectURL(v);f(b),m.setValue("photo",v)}},w=()=>{u(null),d&&(URL.revokeObjectURL(d),f(null)),m.setValue("photo",void 0)},p=async x=>{if(s){l(!0);try{let v=null;if(c){const b=c.name.split(".").pop(),_=`${e}_${Date.now()}.${b}`,{error:S}=await H.storage.from("refund-photos").upload(_,c);if(S)throw S;const{data:C}=H.storage.from("refund-photos").getPublicUrl(_);v=C.publicUrl}const{error:g}=await H.from("refund_requests").insert({order_id:e,user_id:s.id,description:x.description,photo_url:v});if(g)throw g;i({title:"Refund request submitted",description:`Your refund request for order ${t} has been submitted successfully.`}),r()}catch(v){console.error("Error submitting refund request:",v),i({title:"Error",description:"Failed to submit refund request. Please try again.",variant:"destructive"})}finally{l(!1)}}};return a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsxs(be,{children:["Request Refund for Order #",t]}),a.jsx(nt,{children:"Please provide details about the issue and upload a photo if applicable."})]}),a.jsx(ve,{children:a.jsx(af,{...m,children:a.jsxs("form",{onSubmit:m.handleSubmit(p),className:"space-y-6",children:[a.jsx(ot,{control:m.control,name:"description",render:({field:x})=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Description of Issue"}),a.jsx(Je,{children:a.jsx(Qo,{placeholder:"Please describe the issue with your order in detail...",className:"min-h-[100px]",...x})}),a.jsx(ip,{children:"Provide a detailed description of the problem (minimum 10 characters)"}),a.jsx(et,{})]})}),a.jsx(ot,{control:m.control,name:"photo",render:()=>a.jsxs(Xe,{children:[a.jsx(dt,{children:"Photo Evidence (Optional)"}),a.jsx(Je,{children:a.jsx("div",{className:"space-y-4",children:c?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:d,alt:"Preview",className:"max-w-full h-48 object-cover rounded-lg"}),a.jsx(_e,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:w,children:a.jsx(Dd,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx(x1,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("div",{className:"mt-2",children:a.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:[a.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:"Click to upload a photo"}),a.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:y})]})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF up to 5MB"})]})})}),a.jsx(ip,{children:"Upload a photo showing the issue (optional but recommended)"}),a.jsx(et,{})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(_e,{type:"submit",disabled:o,children:o?"Submitting...":"Submit Refund Request"}),a.jsx(_e,{type:"button",variant:"outline",onClick:n,children:"Cancel"})]})]})})})]})},z3=()=>{const{user:e}=Un(),{toast:t}=Rt(),[r,n]=h.useState(null),{data:s,isLoading:i,refetch:o}=Rn({queryKey:["orders",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const{data:f,error:m}=await H.from("orders").select(`
          id,
          order_number,
          status,
          total_amount,
          created_at,
          order_items (
            id,
            item_serial,
            price,
            items (
              inventory (
                name,
                description
              )
            )
          ),
          refund_requests (
            id,
            status,
            created_at
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(m)throw console.error("Error fetching orders:",m),m;return f},enabled:!!e}),l=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},c=f=>f.refund_requests.length===0?null:f.refund_requests.sort((y,w)=>new Date(w.created_at).getTime()-new Date(y.created_at).getTime())[0].status,u=f=>f.status==="completed"&&f.refund_requests.length===0,d=()=>{n(null),o(),t({title:"Refund request submitted",description:"Your refund request has been submitted and will be reviewed."})};if(i)return a.jsxs("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading orders..."})]});if(r){const f=s==null?void 0:s.find(m=>m.id===r);if(f)return a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx(U3,{orderId:f.id,orderNumber:f.order_number,onSuccess:d,onCancel:()=>n(null)})})})}return a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"My Orders"}),a.jsx("p",{className:"text-muted-foreground",children:"Track your orders and request refunds"})]}),!s||s.length===0?a.jsx(de,{children:a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(xt,{className:"h-5 w-5"}),"No Orders Found"]}),a.jsx(nt,{children:"You haven't placed any orders yet. Start shopping to see your orders here."})]})}):a.jsx("div",{className:"space-y-4",children:s.map(f=>{const m=c(f);return a.jsxs(de,{children:[a.jsx(we,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(xt,{className:"h-5 w-5"}),"Order #",f.order_number]}),a.jsxs(nt,{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Fm,{className:"h-4 w-4"}),Qm(new Date(f.created_at),"PPP")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Cg,{className:"h-4 w-4"}),"$",f.total_amount.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ze,{className:l(f.status),children:f.status.charAt(0).toUpperCase()+f.status.slice(1)}),m&&a.jsxs(Ze,{variant:"outline",className:m==="pending"?"bg-yellow-100 text-yellow-800":m==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:["Refund ",m]}),u(f)&&a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>n(f.id),className:"flex items-center gap-2",children:[a.jsx(jl,{className:"h-4 w-4"}),"Request Refund"]})]})]})}),a.jsx(ve,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Order Items:"}),a.jsx("div",{className:"space-y-2",children:f.order_items.map(y=>{var w,p,x,v;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((p=(w=y.items)==null?void 0:w.inventory)==null?void 0:p.name)||"Unknown Product"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Serial: ",y.item_serial]}),((v=(x=y.items)==null?void 0:x.inventory)==null?void 0:v.description)&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.items.inventory.description})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["$",y.price.toFixed(2)]})})]},y.id)})})]})})]},f.id)})})]})})})},B3=()=>{const{user:e}=Un(),{data:t,isLoading:r}=Rn({queryKey:["user-refund-requests",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const{data:s,error:i}=await H.from("refund_requests").select(`
          id,
          description,
          photo_url,
          status,
          admin_notes,
          created_at,
          reviewed_at,
          orders (
            order_number,
            total_amount
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(i)throw i;return s},enabled:!!e}),n=s=>{switch(s){case"pending":return a.jsx(Ze,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"Pending Review"});case"approved":return a.jsx(Ze,{variant:"outline",className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return a.jsx(Ze,{variant:"outline",className:"bg-red-100 text-red-800",children:"Rejected"});default:return a.jsx(Ze,{variant:"outline",children:s})}};return r?a.jsxs("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading refund requests..."})]}):a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Returns & Refunds"}),a.jsx("p",{className:"text-muted-foreground",children:"Track your refund requests and their status"})]}),!t||t.length===0?a.jsx(de,{children:a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(jl,{className:"h-5 w-5"}),"No Refund Requests"]}),a.jsx(nt,{children:"You haven't submitted any refund requests yet. You can request refunds for delivered orders from the Orders page."})]})}):a.jsx("div",{className:"space-y-4",children:t.map(s=>a.jsxs(de,{children:[a.jsx(we,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(jl,{className:"h-5 w-5"}),"Refund Request - Order #",s.orders.order_number]}),a.jsxs(nt,{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Fm,{className:"h-4 w-4"}),"Submitted: ",Qm(new Date(s.created_at),"PPP")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Cg,{className:"h-4 w-4"}),"Order Amount: $",s.orders.total_amount.toFixed(2)]}),s.reviewed_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Fm,{className:"h-4 w-4"}),"Reviewed: ",Qm(new Date(s.reviewed_at),"PPP")]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:n(s.status)})]})}),a.jsx(ve,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Your Description:"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded",children:s.description})]}),s.photo_url&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Photo Evidence:"}),a.jsx("img",{src:s.photo_url,alt:"Refund evidence",className:"max-w-sm h-32 object-cover rounded border"})]}),s.admin_notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:s.status==="approved"?"Approval Notes:":"Rejection Reason:"}),a.jsx("p",{className:`text-sm p-3 rounded ${s.status==="approved"?"text-green-700 bg-green-50 dark:bg-green-900 dark:text-green-300":"text-red-700 bg-red-50 dark:bg-red-900 dark:text-red-300"}`,children:s.admin_notes})]}),s.status==="pending"&&a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-900 p-3 rounded",children:[a.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Your refund request is being reviewed"}),a.jsx("p",{className:"text-blue-600 dark:text-blue-400",children:"Our team will review your request and get back to you soon."})]})]})})]},s.id))})]})})})},V3=()=>{const e=Fn();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center max-w-md px-4",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Oops! The page you're looking for doesn't exist."}),a.jsx("p",{className:"text-gray-500 mb-8",children:"The page may have been moved, deleted, or never existed in the first place."}),a.jsx(_e,{asChild:!0,children:a.jsx(ni,{to:"/login",children:"Go to Login"})})]})})},W3=new AT;function q3(){return a.jsx("div",{className:"min-h-screen w-full bg-gray-50 dark:bg-gray-900",children:a.jsx($T,{client:W3,children:a.jsxs(PO,{children:[a.jsx(RO,{children:a.jsx(mT,{basename:"/stock2store",children:a.jsxs(aT,{children:[a.jsx(cr,{path:"/",element:a.jsx(Zr,{resource:"store",action:"view",fallbackPath:"/login",children:a.jsx(Xr,{children:a.jsx(g0,{})})})}),a.jsx(cr,{path:"/login",element:a.jsx(ZI,{})}),a.jsx(cr,{path:"/warehouse",element:a.jsx(Zr,{resource:"warehouse",action:"view",fallbackPath:"/store",children:a.jsx(Xr,{children:a.jsx(r3,{})})})}),a.jsx(cr,{path:"/store",element:a.jsx(Zr,{resource:"store",action:"view",fallbackPath:"/login",children:a.jsx(Xr,{children:a.jsx(g0,{})})})}),a.jsx(cr,{path:"/cart",element:a.jsx(Zr,{resource:"cart",action:"view",fallbackPath:"/store",children:a.jsx(Xr,{children:a.jsx(o3,{})})})}),a.jsx(cr,{path:"/checkout",element:a.jsx(Zr,{resource:"checkout",action:"view",fallbackPath:"/store",children:a.jsx(Xr,{children:a.jsx(u3,{})})})}),a.jsx(cr,{path:"/analytics",element:a.jsx(Zr,{resource:"analytics",action:"view",fallbackPath:"/store",children:a.jsx(Xr,{children:a.jsx(d3,{})})})}),a.jsx(cr,{path:"/users",element:a.jsx(Zr,{resource:"users",action:"view",fallbackPath:"/store",children:a.jsx(Xr,{children:a.jsx(h3,{})})})}),a.jsx(cr,{path:"/orders",element:a.jsx(Zr,{resource:"orders",action:"view",fallbackPath:"/store",children:a.jsx(Xr,{children:a.jsx(z3,{})})})}),a.jsx(cr,{path:"/returns",element:a.jsx(Zr,{resource:"returns",action:"view",fallbackPath:"/store",children:a.jsx(Xr,{children:a.jsx(B3,{})})})}),a.jsx(cr,{path:"/profile",element:a.jsx(Zr,{resource:"profile",action:"view",fallbackPath:"/store",children:a.jsx(Xr,{children:a.jsx(f3,{})})})}),a.jsx(cr,{path:"*",element:a.jsx(V3,{})})]})})}),a.jsx(CI,{})]})})})}Hb(document.getElementById("root")).render(a.jsx(q3,{}));export{O0 as g};
