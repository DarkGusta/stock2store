var Lg=e=>{throw TypeError(e)};var zd=(e,t,r)=>t.has(e)||Lg("Cannot "+r);var k=(e,t,r)=>(zd(e,t,"read from private field"),r?r.call(e):t.get(e)),le=(e,t,r)=>t.has(e)?Lg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Y=(e,t,r,n)=>(zd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ke=(e,t,r)=>(zd(e,t,"access private method"),r);var Ul=(e,t,r,n)=>({set _(s){Y(e,t,s,r)},get _(){return k(e,t,n)}});function ck(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Vx={exports:{}},$u={},Bx={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),dk=Symbol.for("react.portal"),fk=Symbol.for("react.fragment"),hk=Symbol.for("react.strict_mode"),mk=Symbol.for("react.profiler"),pk=Symbol.for("react.provider"),gk=Symbol.for("react.context"),vk=Symbol.for("react.forward_ref"),yk=Symbol.for("react.suspense"),xk=Symbol.for("react.memo"),wk=Symbol.for("react.lazy"),Fg=Symbol.iterator;function bk(e){return e===null||typeof e!="object"?null:(e=Fg&&e[Fg]||e["@@iterator"],typeof e=="function"?e:null)}var Wx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qx=Object.assign,Hx={};function zo(e,t,r){this.props=e,this.context=t,this.refs=Hx,this.updater=r||Wx}zo.prototype.isReactComponent={};zo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kx(){}Kx.prototype=zo.prototype;function Dm(e,t,r){this.props=e,this.context=t,this.refs=Hx,this.updater=r||Wx}var Lm=Dm.prototype=new Kx;Lm.constructor=Dm;qx(Lm,zo.prototype);Lm.isPureReactComponent=!0;var $g=Array.isArray,Gx=Object.prototype.hasOwnProperty,Fm={current:null},Qx={key:!0,ref:!0,__self:!0,__source:!0};function Yx(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Gx.call(t,n)&&!Qx.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Cl,type:e,key:i,ref:o,props:s,_owner:Fm.current}}function _k(e,t){return{$$typeof:Cl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $m(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cl}function Sk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ug=/\/+/g;function Vd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sk(""+e.key):t.toString(36)}function vc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cl:case dk:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Vd(o,0):n,$g(s)?(r="",e!=null&&(r=e.replace(Ug,"$&/")+"/"),vc(s,t,r,"",function(u){return u})):s!=null&&($m(s)&&(s=_k(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ug,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",$g(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Vd(i,l);o+=vc(i,t,r,c,s)}else if(c=bk(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Vd(i,l++),o+=vc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zl(e,t,r){if(e==null)return e;var n=[],s=0;return vc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function jk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qt={current:null},yc={transition:null},kk={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:yc,ReactCurrentOwner:Fm};function Zx(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:zl,forEach:function(e,t,r){zl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zl(e,function(){t++}),t},toArray:function(e){return zl(e,function(t){return t})||[]},only:function(e){if(!$m(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=zo;Se.Fragment=fk;Se.Profiler=mk;Se.PureComponent=Dm;Se.StrictMode=hk;Se.Suspense=yk;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kk;Se.act=Zx;Se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qx({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Fm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gx.call(t,c)&&!Qx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Cl,type:e.type,key:s,ref:i,props:n,_owner:o}};Se.createContext=function(e){return e={$$typeof:gk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pk,_context:e},e.Consumer=e};Se.createElement=Yx;Se.createFactory=function(e){var t=Yx.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:vk,render:e}};Se.isValidElement=$m;Se.lazy=function(e){return{$$typeof:wk,_payload:{_status:-1,_result:e},_init:jk}};Se.memo=function(e,t){return{$$typeof:xk,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=yc.transition;yc.transition={};try{e()}finally{yc.transition=t}};Se.unstable_act=Zx;Se.useCallback=function(e,t){return qt.current.useCallback(e,t)};Se.useContext=function(e){return qt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return qt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return qt.current.useEffect(e,t)};Se.useId=function(){return qt.current.useId()};Se.useImperativeHandle=function(e,t,r){return qt.current.useImperativeHandle(e,t,r)};Se.useInsertionEffect=function(e,t){return qt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return qt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return qt.current.useMemo(e,t)};Se.useReducer=function(e,t,r){return qt.current.useReducer(e,t,r)};Se.useRef=function(e){return qt.current.useRef(e)};Se.useState=function(e){return qt.current.useState(e)};Se.useSyncExternalStore=function(e,t,r){return qt.current.useSyncExternalStore(e,t,r)};Se.useTransition=function(){return qt.current.useTransition()};Se.version="18.3.1";Bx.exports=Se;var m=Bx.exports;const ye=zx(m),Xx=ck({__proto__:null,default:ye},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ck=m,Ek=Symbol.for("react.element"),Nk=Symbol.for("react.fragment"),Pk=Object.prototype.hasOwnProperty,Tk=Ck.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rk={key:!0,ref:!0,__self:!0,__source:!0};function Jx(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Pk.call(t,n)&&!Rk.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Ek,type:e,key:i,ref:o,props:s,_owner:Tk.current}}$u.Fragment=Nk;$u.jsx=Jx;$u.jsxs=Jx;Vx.exports=$u;var a=Vx.exports,e0={exports:{}},xr={},t0={exports:{}},r0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,R){var V=T.length;T.push(R);e:for(;0<V;){var re=V-1>>>1,pe=T[re];if(0<s(pe,R))T[re]=R,T[V]=pe,V=re;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var R=T[0],V=T.pop();if(V!==R){T[0]=V;e:for(var re=0,pe=T.length,ot=pe>>>1;re<ot;){var ze=2*(re+1)-1,Lt=T[ze],qe=ze+1,J=T[qe];if(0>s(Lt,V))qe<pe&&0>s(J,Lt)?(T[re]=J,T[qe]=V,re=qe):(T[re]=Lt,T[ze]=V,re=ze);else if(qe<pe&&0>s(J,V))T[re]=J,T[qe]=V,re=qe;else break e}}return R}function s(T,R){var V=T.sortIndex-R.sortIndex;return V!==0?V:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,g=!1,x=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=T)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function _(T){if(p=!1,b(T),!x)if(r(c)!==null)x=!0,W(S);else{var R=r(u);R!==null&&te(_,R.startTime-T)}}function S(T,R){x=!1,p&&(p=!1,y(P),P=-1),g=!0;var V=h;try{for(b(R),d=r(c);d!==null&&(!(d.expirationTime>R)||T&&!G());){var re=d.callback;if(typeof re=="function"){d.callback=null,h=d.priorityLevel;var pe=re(d.expirationTime<=R);R=e.unstable_now(),typeof pe=="function"?d.callback=pe:d===r(c)&&n(c),b(R)}else n(c);d=r(c)}if(d!==null)var ot=!0;else{var ze=r(u);ze!==null&&te(_,ze.startTime-R),ot=!1}return ot}finally{d=null,h=V,g=!1}}var E=!1,C=null,P=-1,M=5,I=-1;function G(){return!(e.unstable_now()-I<M)}function A(){if(C!==null){var T=e.unstable_now();I=T;var R=!0;try{R=C(!0,T)}finally{R?z():(E=!1,C=null)}}else E=!1}var z;if(typeof v=="function")z=function(){v(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,X=D.port2;D.port1.onmessage=A,z=function(){X.postMessage(null)}}else z=function(){w(A,0)};function W(T){C=T,E||(E=!0,z())}function te(T,R){P=w(function(){T(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,W(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var V=h;h=R;try{return T()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var V=h;h=T;try{return R()}finally{h=V}},e.unstable_scheduleCallback=function(T,R,V){var re=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?re+V:re):V=re,T){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=V+pe,T={id:f++,callback:R,priorityLevel:T,startTime:V,expirationTime:pe,sortIndex:-1},V>re?(T.sortIndex=V,t(u,T),r(c)===null&&T===r(u)&&(p?(y(P),P=-1):p=!0,te(_,V-re))):(T.sortIndex=pe,t(c,T),x||g||(x=!0,W(S))),T},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(T){var R=h;return function(){var V=h;h=R;try{return T.apply(this,arguments)}finally{h=V}}}})(r0);t0.exports=r0;var Ok=t0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak=m,yr=Ok;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n0=new Set,Ba={};function yi(e,t){Co(e,t),Co(e+"Capture",t)}function Co(e,t){for(Ba[e]=t,e=0;e<t.length;e++)n0.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vf=Object.prototype.hasOwnProperty,Ik=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zg={},Vg={};function Mk(e){return Vf.call(Vg,e)?!0:Vf.call(zg,e)?!1:Ik.test(e)?Vg[e]=!0:(zg[e]=!0,!1)}function Dk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lk(e,t,r,n){if(t===null||typeof t>"u"||Dk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nt[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var Um=/[\-:]([a-z])/g;function zm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Um,zm);Nt[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Um,zm);Nt[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Um,zm);Nt[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vm(e,t,r,n){var s=Nt.hasOwnProperty(t)?Nt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lk(t,r,s,n)&&(r=null),n||s===null?Mk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var In=Ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vl=Symbol.for("react.element"),zi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),s0=Symbol.for("react.provider"),i0=Symbol.for("react.context"),Wm=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),qf=Symbol.for("react.suspense_list"),qm=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),o0=Symbol.for("react.offscreen"),Bg=Symbol.iterator;function Jo(e){return e===null||typeof e!="object"?null:(e=Bg&&e[Bg]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Bd;function ma(e){if(Bd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bd=t&&t[1]||""}return`
`+Bd+e}var Wd=!1;function qd(e,t){if(!e||Wd)return"";Wd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Wd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ma(e):""}function Fk(e){switch(e.tag){case 5:return ma(e.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 2:case 15:return e=qd(e.type,!1),e;case 11:return e=qd(e.type.render,!1),e;case 1:return e=qd(e.type,!0),e;default:return""}}function Hf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vi:return"Fragment";case zi:return"Portal";case Bf:return"Profiler";case Bm:return"StrictMode";case Wf:return"Suspense";case qf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i0:return(e.displayName||"Context")+".Consumer";case s0:return(e._context.displayName||"Context")+".Provider";case Wm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qm:return t=e.displayName||null,t!==null?t:Hf(e.type)||"Memo";case qn:t=e._payload,e=e._init;try{return Hf(e(t))}catch{}}return null}function $k(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hf(t);case 8:return t===Bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function a0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uk(e){var t=a0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bl(e){e._valueTracker||(e._valueTracker=Uk(e))}function l0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=a0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Dc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kf(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c0(e,t){t=t.checked,t!=null&&Vm(e,"checked",t,!1)}function Gf(e,t){c0(e,t);var r=vs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qf(e,t.type,vs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qf(e,t,r){(t!=="number"||Dc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pa=Array.isArray;function Ji(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(pa(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vs(r)}}function u0(e,t){var r=vs(t.value),n=vs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Kg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wl,f0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zk=["Webkit","ms","Moz","O"];Object.keys(Ca).forEach(function(e){zk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ca[t]=Ca[e]})});function h0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ca.hasOwnProperty(e)&&Ca[e]?(""+t).trim():t+"px"}function m0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=h0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Vk=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xf(e,t){if(t){if(Vk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Jf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=null;function Hm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var th=null,eo=null,to=null;function Gg(e){if(e=Pl(e)){if(typeof th!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Wu(t),th(e.stateNode,e.type,t))}}function p0(e){eo?to?to.push(e):to=[e]:eo=e}function g0(){if(eo){var e=eo,t=to;if(to=eo=null,Gg(e),t)for(e=0;e<t.length;e++)Gg(t[e])}}function v0(e,t){return e(t)}function y0(){}var Hd=!1;function x0(e,t,r){if(Hd)return e(t,r);Hd=!0;try{return v0(e,t,r)}finally{Hd=!1,(eo!==null||to!==null)&&(y0(),g0())}}function qa(e,t){var r=e.stateNode;if(r===null)return null;var n=Wu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var rh=!1;if(Cn)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){rh=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{rh=!1}function Bk(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Ea=!1,Lc=null,Fc=!1,nh=null,Wk={onError:function(e){Ea=!0,Lc=e}};function qk(e,t,r,n,s,i,o,l,c){Ea=!1,Lc=null,Bk.apply(Wk,arguments)}function Hk(e,t,r,n,s,i,o,l,c){if(qk.apply(this,arguments),Ea){if(Ea){var u=Lc;Ea=!1,Lc=null}else throw Error(L(198));Fc||(Fc=!0,nh=u)}}function xi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function w0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qg(e){if(xi(e)!==e)throw Error(L(188))}function Kk(e){var t=e.alternate;if(!t){if(t=xi(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Qg(s),e;if(i===n)return Qg(s),t;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function b0(e){return e=Kk(e),e!==null?_0(e):null}function _0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_0(e);if(t!==null)return t;e=e.sibling}return null}var S0=yr.unstable_scheduleCallback,Yg=yr.unstable_cancelCallback,Gk=yr.unstable_shouldYield,Qk=yr.unstable_requestPaint,at=yr.unstable_now,Yk=yr.unstable_getCurrentPriorityLevel,Km=yr.unstable_ImmediatePriority,j0=yr.unstable_UserBlockingPriority,$c=yr.unstable_NormalPriority,Zk=yr.unstable_LowPriority,k0=yr.unstable_IdlePriority,Uu=null,an=null;function Xk(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Uu,e,void 0,(e.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:tC,Jk=Math.log,eC=Math.LN2;function tC(e){return e>>>=0,e===0?32:31-(Jk(e)/eC|0)|0}var ql=64,Hl=4194304;function ga(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Uc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=ga(l):(i&=o,i!==0&&(n=ga(i)))}else o=r&~s,o!==0?n=ga(o):i!==0&&(n=ga(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Vr(t),s=1<<r,n|=e[r],t&=~s;return n}function rC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Vr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=rC(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function sh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function C0(){var e=ql;return ql<<=1,!(ql&4194240)&&(ql=64),e}function Kd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function El(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vr(t),e[t]=r}function sC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Vr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Gm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Vr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Fe=0;function E0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var N0,Qm,P0,T0,R0,ih=!1,Kl=[],ls=null,cs=null,us=null,Ha=new Map,Ka=new Map,Gn=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zg(e,t){switch(e){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(t.pointerId)}}function ta(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Pl(t),t!==null&&Qm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function oC(e,t,r,n,s){switch(t){case"focusin":return ls=ta(ls,e,t,r,n,s),!0;case"dragenter":return cs=ta(cs,e,t,r,n,s),!0;case"mouseover":return us=ta(us,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ha.set(i,ta(Ha.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ka.set(i,ta(Ka.get(i)||null,e,t,r,n,s)),!0}return!1}function O0(e){var t=Bs(e.target);if(t!==null){var r=xi(t);if(r!==null){if(t=r.tag,t===13){if(t=w0(r),t!==null){e.blockedOn=t,R0(e.priority,function(){P0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=oh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);eh=n,r.target.dispatchEvent(n),eh=null}else return t=Pl(r),t!==null&&Qm(t),e.blockedOn=r,!1;t.shift()}return!0}function Xg(e,t,r){xc(e)&&r.delete(t)}function aC(){ih=!1,ls!==null&&xc(ls)&&(ls=null),cs!==null&&xc(cs)&&(cs=null),us!==null&&xc(us)&&(us=null),Ha.forEach(Xg),Ka.forEach(Xg)}function ra(e,t){e.blockedOn===t&&(e.blockedOn=null,ih||(ih=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,aC)))}function Ga(e){function t(s){return ra(s,e)}if(0<Kl.length){ra(Kl[0],e);for(var r=1;r<Kl.length;r++){var n=Kl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ls!==null&&ra(ls,e),cs!==null&&ra(cs,e),us!==null&&ra(us,e),Ha.forEach(t),Ka.forEach(t),r=0;r<Gn.length;r++)n=Gn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Gn.length&&(r=Gn[0],r.blockedOn===null);)O0(r),r.blockedOn===null&&Gn.shift()}var ro=In.ReactCurrentBatchConfig,zc=!0;function lC(e,t,r,n){var s=Fe,i=ro.transition;ro.transition=null;try{Fe=1,Ym(e,t,r,n)}finally{Fe=s,ro.transition=i}}function cC(e,t,r,n){var s=Fe,i=ro.transition;ro.transition=null;try{Fe=4,Ym(e,t,r,n)}finally{Fe=s,ro.transition=i}}function Ym(e,t,r,n){if(zc){var s=oh(e,t,r,n);if(s===null)nf(e,t,n,Vc,r),Zg(e,n);else if(oC(s,e,t,r,n))n.stopPropagation();else if(Zg(e,n),t&4&&-1<iC.indexOf(e)){for(;s!==null;){var i=Pl(s);if(i!==null&&N0(i),i=oh(e,t,r,n),i===null&&nf(e,t,n,Vc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else nf(e,t,n,null,r)}}var Vc=null;function oh(e,t,r,n){if(Vc=null,e=Hm(n),e=Bs(e),e!==null)if(t=xi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=w0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vc=e,null}function A0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yk()){case Km:return 1;case j0:return 4;case $c:case Zk:return 16;case k0:return 536870912;default:return 16}default:return 16}}var is=null,Zm=null,wc=null;function I0(){if(wc)return wc;var e,t=Zm,r=t.length,n,s="value"in is?is.value:is.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return wc=s.slice(e,1<n?1-n:void 0)}function bc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function Jg(){return!1}function wr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gl:Jg,this.isPropagationStopped=Jg,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xm=wr(Vo),Nl=tt({},Vo,{view:0,detail:0}),uC=wr(Nl),Gd,Qd,na,zu=tt({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==na&&(na&&e.type==="mousemove"?(Gd=e.screenX-na.screenX,Qd=e.screenY-na.screenY):Qd=Gd=0,na=e),Gd)},movementY:function(e){return"movementY"in e?e.movementY:Qd}}),ev=wr(zu),dC=tt({},zu,{dataTransfer:0}),fC=wr(dC),hC=tt({},Nl,{relatedTarget:0}),Yd=wr(hC),mC=tt({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),pC=wr(mC),gC=tt({},Vo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vC=wr(gC),yC=tt({},Vo,{data:0}),tv=wr(yC),xC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _C(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bC[e])?!!t[e]:!1}function Jm(){return _C}var SC=tt({},Nl,{key:function(e){if(e.key){var t=xC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jm,charCode:function(e){return e.type==="keypress"?bc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jC=wr(SC),kC=tt({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rv=wr(kC),CC=tt({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jm}),EC=wr(CC),NC=tt({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),PC=wr(NC),TC=tt({},zu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RC=wr(TC),OC=[9,13,27,32],ep=Cn&&"CompositionEvent"in window,Na=null;Cn&&"documentMode"in document&&(Na=document.documentMode);var AC=Cn&&"TextEvent"in window&&!Na,M0=Cn&&(!ep||Na&&8<Na&&11>=Na),nv=" ",sv=!1;function D0(e,t){switch(e){case"keyup":return OC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bi=!1;function IC(e,t){switch(e){case"compositionend":return L0(t);case"keypress":return t.which!==32?null:(sv=!0,nv);case"textInput":return e=t.data,e===nv&&sv?null:e;default:return null}}function MC(e,t){if(Bi)return e==="compositionend"||!ep&&D0(e,t)?(e=I0(),wc=Zm=is=null,Bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M0&&t.locale!=="ko"?null:t.data;default:return null}}var DC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DC[e.type]:t==="textarea"}function F0(e,t,r,n){p0(n),t=Bc(t,"onChange"),0<t.length&&(r=new Xm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pa=null,Qa=null;function LC(e){Q0(e,0)}function Vu(e){var t=Hi(e);if(l0(t))return e}function FC(e,t){if(e==="change")return t}var $0=!1;if(Cn){var Zd;if(Cn){var Xd="oninput"in document;if(!Xd){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),Xd=typeof ov.oninput=="function"}Zd=Xd}else Zd=!1;$0=Zd&&(!document.documentMode||9<document.documentMode)}function av(){Pa&&(Pa.detachEvent("onpropertychange",U0),Qa=Pa=null)}function U0(e){if(e.propertyName==="value"&&Vu(Qa)){var t=[];F0(t,Qa,e,Hm(e)),x0(LC,t)}}function $C(e,t,r){e==="focusin"?(av(),Pa=t,Qa=r,Pa.attachEvent("onpropertychange",U0)):e==="focusout"&&av()}function UC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(Qa)}function zC(e,t){if(e==="click")return Vu(t)}function VC(e,t){if(e==="input"||e==="change")return Vu(t)}function BC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qr=typeof Object.is=="function"?Object.is:BC;function Ya(e,t){if(qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vf.call(t,s)||!qr(e[s],t[s]))return!1}return!0}function lv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cv(e,t){var r=lv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lv(r)}}function z0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?z0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function V0(){for(var e=window,t=Dc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Dc(e.document)}return t}function tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WC(e){var t=V0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&z0(r.ownerDocument.documentElement,r)){if(n!==null&&tp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=cv(r,i);var o=cv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qC=Cn&&"documentMode"in document&&11>=document.documentMode,Wi=null,ah=null,Ta=null,lh=!1;function uv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lh||Wi==null||Wi!==Dc(n)||(n=Wi,"selectionStart"in n&&tp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ta&&Ya(Ta,n)||(Ta=n,n=Bc(ah,"onSelect"),0<n.length&&(t=new Xm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wi)))}function Ql(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qi={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},Jd={},B0={};Cn&&(B0=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function Bu(e){if(Jd[e])return Jd[e];if(!qi[e])return e;var t=qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in B0)return Jd[e]=t[r];return e}var W0=Bu("animationend"),q0=Bu("animationiteration"),H0=Bu("animationstart"),K0=Bu("transitionend"),G0=new Map,dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(e,t){G0.set(e,t),yi(t,[e])}for(var ef=0;ef<dv.length;ef++){var tf=dv[ef],HC=tf.toLowerCase(),KC=tf[0].toUpperCase()+tf.slice(1);Es(HC,"on"+KC)}Es(W0,"onAnimationEnd");Es(q0,"onAnimationIteration");Es(H0,"onAnimationStart");Es("dblclick","onDoubleClick");Es("focusin","onFocus");Es("focusout","onBlur");Es(K0,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GC=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function fv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Hk(n,t,void 0,e),e.currentTarget=null}function Q0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;fv(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;fv(s,l,u),i=c}}}if(Fc)throw e=nh,Fc=!1,nh=null,e}function Ke(e,t){var r=t[hh];r===void 0&&(r=t[hh]=new Set);var n=e+"__bubble";r.has(n)||(Y0(t,e,2,!1),r.add(n))}function rf(e,t,r){var n=0;t&&(n|=4),Y0(r,e,n,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Za(e){if(!e[Yl]){e[Yl]=!0,n0.forEach(function(r){r!=="selectionchange"&&(GC.has(r)||rf(r,!1,e),rf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,rf("selectionchange",!1,t))}}function Y0(e,t,r,n){switch(A0(t)){case 1:var s=lC;break;case 4:s=cC;break;default:s=Ym}r=s.bind(null,t,r,e),s=void 0,!rh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function nf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Bs(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}x0(function(){var u=i,f=Hm(r),d=[];e:{var h=G0.get(e);if(h!==void 0){var g=Xm,x=e;switch(e){case"keypress":if(bc(r)===0)break e;case"keydown":case"keyup":g=jC;break;case"focusin":x="focus",g=Yd;break;case"focusout":x="blur",g=Yd;break;case"beforeblur":case"afterblur":g=Yd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=fC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=EC;break;case W0:case q0:case H0:g=pC;break;case K0:g=PC;break;case"scroll":g=uC;break;case"wheel":g=RC;break;case"copy":case"cut":case"paste":g=vC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=rv}var p=(t&4)!==0,w=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var v=u,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=qa(v,y),_!=null&&p.push(Xa(v,_,b)))),w)break;v=v.return}0<p.length&&(h=new g(h,x,null,r,f),d.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==eh&&(x=r.relatedTarget||r.fromElement)&&(Bs(x)||x[En]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(x=r.relatedTarget||r.toElement,g=u,x=x?Bs(x):null,x!==null&&(w=xi(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(p=ev,_="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=rv,_="onPointerLeave",y="onPointerEnter",v="pointer"),w=g==null?h:Hi(g),b=x==null?h:Hi(x),h=new p(_,v+"leave",g,r,f),h.target=w,h.relatedTarget=b,_=null,Bs(f)===u&&(p=new p(y,v+"enter",x,r,f),p.target=b,p.relatedTarget=w,_=p),w=_,g&&x)t:{for(p=g,y=x,v=0,b=p;b;b=Pi(b))v++;for(b=0,_=y;_;_=Pi(_))b++;for(;0<v-b;)p=Pi(p),v--;for(;0<b-v;)y=Pi(y),b--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=Pi(p),y=Pi(y)}p=null}else p=null;g!==null&&hv(d,h,g,p,!1),x!==null&&w!==null&&hv(d,w,x,p,!0)}}e:{if(h=u?Hi(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=FC;else if(iv(h))if($0)S=VC;else{S=UC;var E=$C}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=zC);if(S&&(S=S(e,u))){F0(d,S,r,f);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Qf(h,"number",h.value)}switch(E=u?Hi(u):window,e){case"focusin":(iv(E)||E.contentEditable==="true")&&(Wi=E,ah=u,Ta=null);break;case"focusout":Ta=ah=Wi=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,uv(d,r,f);break;case"selectionchange":if(qC)break;case"keydown":case"keyup":uv(d,r,f)}var C;if(ep)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Bi?D0(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(M0&&r.locale!=="ko"&&(Bi||P!=="onCompositionStart"?P==="onCompositionEnd"&&Bi&&(C=I0()):(is=f,Zm="value"in is?is.value:is.textContent,Bi=!0)),E=Bc(u,P),0<E.length&&(P=new tv(P,e,null,r,f),d.push({event:P,listeners:E}),C?P.data=C:(C=L0(r),C!==null&&(P.data=C)))),(C=AC?IC(e,r):MC(e,r))&&(u=Bc(u,"onBeforeInput"),0<u.length&&(f=new tv("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=C))}Q0(d,t)})}function Xa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qa(e,r),i!=null&&n.unshift(Xa(e,i,s)),i=qa(e,t),i!=null&&n.push(Xa(e,i,s))),e=e.return}return n}function Pi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hv(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=qa(r,i),c!=null&&o.unshift(Xa(r,c,l))):s||(c=qa(r,i),c!=null&&o.push(Xa(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var QC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function mv(e){return(typeof e=="string"?e:""+e).replace(QC,`
`).replace(YC,"")}function Zl(e,t,r){if(t=mv(t),mv(e)!==t&&r)throw Error(L(425))}function Wc(){}var ch=null,uh=null;function dh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,ZC=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,XC=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(e){return pv.resolve(null).then(e).catch(JC)}:fh;function JC(e){setTimeout(function(){throw e})}function sf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ga(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ga(t)}function ds(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),nn="__reactFiber$"+Bo,Ja="__reactProps$"+Bo,En="__reactContainer$"+Bo,hh="__reactEvents$"+Bo,eE="__reactListeners$"+Bo,tE="__reactHandles$"+Bo;function Bs(e){var t=e[nn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[En]||r[nn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gv(e);e!==null;){if(r=e[nn])return r;e=gv(e)}return t}e=r,r=e.parentNode}return null}function Pl(e){return e=e[nn]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Wu(e){return e[Ja]||null}var mh=[],Ki=-1;function Ns(e){return{current:e}}function Ge(e){0>Ki||(e.current=mh[Ki],mh[Ki]=null,Ki--)}function Be(e,t){Ki++,mh[Ki]=e.current,e.current=t}var ys={},Dt=Ns(ys),nr=Ns(!1),si=ys;function Eo(e,t){var r=e.type.contextTypes;if(!r)return ys;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function sr(e){return e=e.childContextTypes,e!=null}function qc(){Ge(nr),Ge(Dt)}function vv(e,t,r){if(Dt.current!==ys)throw Error(L(168));Be(Dt,t),Be(nr,r)}function Z0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,$k(e)||"Unknown",s));return tt({},r,n)}function Hc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ys,si=Dt.current,Be(Dt,e),Be(nr,nr.current),!0}function yv(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=Z0(e,t,si),n.__reactInternalMemoizedMergedChildContext=e,Ge(nr),Ge(Dt),Be(Dt,e)):Ge(nr),Be(nr,r)}var xn=null,qu=!1,of=!1;function X0(e){xn===null?xn=[e]:xn.push(e)}function rE(e){qu=!0,X0(e)}function Ps(){if(!of&&xn!==null){of=!0;var e=0,t=Fe;try{var r=xn;for(Fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xn=null,qu=!1}catch(s){throw xn!==null&&(xn=xn.slice(e+1)),S0(Km,Ps),s}finally{Fe=t,of=!1}}return null}var Gi=[],Qi=0,Kc=null,Gc=0,jr=[],kr=0,ii=null,wn=1,bn="";function Ls(e,t){Gi[Qi++]=Gc,Gi[Qi++]=Kc,Kc=e,Gc=t}function J0(e,t,r){jr[kr++]=wn,jr[kr++]=bn,jr[kr++]=ii,ii=e;var n=wn;e=bn;var s=32-Vr(n)-1;n&=~(1<<s),r+=1;var i=32-Vr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,wn=1<<32-Vr(t)+s|r<<s|n,bn=i+e}else wn=1<<i|r<<s|n,bn=e}function rp(e){e.return!==null&&(Ls(e,1),J0(e,1,0))}function np(e){for(;e===Kc;)Kc=Gi[--Qi],Gi[Qi]=null,Gc=Gi[--Qi],Gi[Qi]=null;for(;e===ii;)ii=jr[--kr],jr[kr]=null,bn=jr[--kr],jr[kr]=null,wn=jr[--kr],jr[kr]=null}var gr=null,pr=null,Ye=!1,$r=null;function ew(e,t){var r=Cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gr=e,pr=ds(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gr=e,pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ii!==null?{id:wn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gr=e,pr=null,!0):!1;default:return!1}}function ph(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gh(e){if(Ye){var t=pr;if(t){var r=t;if(!xv(e,t)){if(ph(e))throw Error(L(418));t=ds(r.nextSibling);var n=gr;t&&xv(e,t)?ew(n,r):(e.flags=e.flags&-4097|2,Ye=!1,gr=e)}}else{if(ph(e))throw Error(L(418));e.flags=e.flags&-4097|2,Ye=!1,gr=e}}}function wv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gr=e}function Xl(e){if(e!==gr)return!1;if(!Ye)return wv(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dh(e.type,e.memoizedProps)),t&&(t=pr)){if(ph(e))throw tw(),Error(L(418));for(;t;)ew(e,t),t=ds(t.nextSibling)}if(wv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pr=ds(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pr=null}}else pr=gr?ds(e.stateNode.nextSibling):null;return!0}function tw(){for(var e=pr;e;)e=ds(e.nextSibling)}function No(){pr=gr=null,Ye=!1}function sp(e){$r===null?$r=[e]:$r.push(e)}var nE=In.ReactCurrentBatchConfig;function sa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function Jl(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bv(e){var t=e._init;return t(e._payload)}function rw(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=ps(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,_){return v===null||v.tag!==6?(v=hf(b,y.mode,_),v.return=y,v):(v=s(v,b),v.return=y,v)}function c(y,v,b,_){var S=b.type;return S===Vi?f(y,v,b.props.children,_,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qn&&bv(S)===v.type)?(_=s(v,b.props),_.ref=sa(y,v,b),_.return=y,_):(_=Nc(b.type,b.key,b.props,null,y.mode,_),_.ref=sa(y,v,b),_.return=y,_)}function u(y,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=mf(b,y.mode,_),v.return=y,v):(v=s(v,b.children||[]),v.return=y,v)}function f(y,v,b,_,S){return v===null||v.tag!==7?(v=ni(b,y.mode,_,S),v.return=y,v):(v=s(v,b),v.return=y,v)}function d(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=hf(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vl:return b=Nc(v.type,v.key,v.props,null,y.mode,b),b.ref=sa(y,null,v),b.return=y,b;case zi:return v=mf(v,y.mode,b),v.return=y,v;case qn:var _=v._init;return d(y,_(v._payload),b)}if(pa(v)||Jo(v))return v=ni(v,y.mode,b,null),v.return=y,v;Jl(y,v)}return null}function h(y,v,b,_){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(y,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vl:return b.key===S?c(y,v,b,_):null;case zi:return b.key===S?u(y,v,b,_):null;case qn:return S=b._init,h(y,v,S(b._payload),_)}if(pa(b)||Jo(b))return S!==null?null:f(y,v,b,_,null);Jl(y,b)}return null}function g(y,v,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(v,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vl:return y=y.get(_.key===null?b:_.key)||null,c(v,y,_,S);case zi:return y=y.get(_.key===null?b:_.key)||null,u(v,y,_,S);case qn:var E=_._init;return g(y,v,b,E(_._payload),S)}if(pa(_)||Jo(_))return y=y.get(b)||null,f(v,y,_,S,null);Jl(v,_)}return null}function x(y,v,b,_){for(var S=null,E=null,C=v,P=v=0,M=null;C!==null&&P<b.length;P++){C.index>P?(M=C,C=null):M=C.sibling;var I=h(y,C,b[P],_);if(I===null){C===null&&(C=M);break}e&&C&&I.alternate===null&&t(y,C),v=i(I,v,P),E===null?S=I:E.sibling=I,E=I,C=M}if(P===b.length)return r(y,C),Ye&&Ls(y,P),S;if(C===null){for(;P<b.length;P++)C=d(y,b[P],_),C!==null&&(v=i(C,v,P),E===null?S=C:E.sibling=C,E=C);return Ye&&Ls(y,P),S}for(C=n(y,C);P<b.length;P++)M=g(C,y,P,b[P],_),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?P:M.key),v=i(M,v,P),E===null?S=M:E.sibling=M,E=M);return e&&C.forEach(function(G){return t(y,G)}),Ye&&Ls(y,P),S}function p(y,v,b,_){var S=Jo(b);if(typeof S!="function")throw Error(L(150));if(b=S.call(b),b==null)throw Error(L(151));for(var E=S=null,C=v,P=v=0,M=null,I=b.next();C!==null&&!I.done;P++,I=b.next()){C.index>P?(M=C,C=null):M=C.sibling;var G=h(y,C,I.value,_);if(G===null){C===null&&(C=M);break}e&&C&&G.alternate===null&&t(y,C),v=i(G,v,P),E===null?S=G:E.sibling=G,E=G,C=M}if(I.done)return r(y,C),Ye&&Ls(y,P),S;if(C===null){for(;!I.done;P++,I=b.next())I=d(y,I.value,_),I!==null&&(v=i(I,v,P),E===null?S=I:E.sibling=I,E=I);return Ye&&Ls(y,P),S}for(C=n(y,C);!I.done;P++,I=b.next())I=g(C,y,P,I.value,_),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?P:I.key),v=i(I,v,P),E===null?S=I:E.sibling=I,E=I);return e&&C.forEach(function(A){return t(y,A)}),Ye&&Ls(y,P),S}function w(y,v,b,_){if(typeof b=="object"&&b!==null&&b.type===Vi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vl:e:{for(var S=b.key,E=v;E!==null;){if(E.key===S){if(S=b.type,S===Vi){if(E.tag===7){r(y,E.sibling),v=s(E,b.props.children),v.return=y,y=v;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qn&&bv(S)===E.type){r(y,E.sibling),v=s(E,b.props),v.ref=sa(y,E,b),v.return=y,y=v;break e}r(y,E);break}else t(y,E);E=E.sibling}b.type===Vi?(v=ni(b.props.children,y.mode,_,b.key),v.return=y,y=v):(_=Nc(b.type,b.key,b.props,null,y.mode,_),_.ref=sa(y,v,b),_.return=y,y=_)}return o(y);case zi:e:{for(E=b.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=s(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=mf(b,y.mode,_),v.return=y,y=v}return o(y);case qn:return E=b._init,w(y,v,E(b._payload),_)}if(pa(b))return x(y,v,b,_);if(Jo(b))return p(y,v,b,_);Jl(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,b),v.return=y,y=v):(r(y,v),v=hf(b,y.mode,_),v.return=y,y=v),o(y)):r(y,v)}return w}var Po=rw(!0),nw=rw(!1),Qc=Ns(null),Yc=null,Yi=null,ip=null;function op(){ip=Yi=Yc=null}function ap(e){var t=Qc.current;Ge(Qc),e._currentValue=t}function vh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function no(e,t){Yc=e,ip=Yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rr=!0),e.firstContext=null)}function Rr(e){var t=e._currentValue;if(ip!==e)if(e={context:e,memoizedValue:t,next:null},Yi===null){if(Yc===null)throw Error(L(308));Yi=e,Yc.dependencies={lanes:0,firstContext:e}}else Yi=Yi.next=e;return t}var Ws=null;function lp(e){Ws===null?Ws=[e]:Ws.push(e)}function sw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,lp(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nn(e,n)}function Nn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hn=!1;function cp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nn(e,r)}return s=n.interleaved,s===null?(t.next=t,lp(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nn(e,r)}function _c(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gm(e,r)}}function _v(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zc(e,t,r,n){var s=e.updateQueue;Hn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,f=u=c=null,l=i;do{var h=l.lane,g=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(h=t,g=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){d=x.call(g,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,h=typeof x=="function"?x.call(g,d,h):x,h==null)break e;d=tt({},d,h);break e;case 2:Hn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=g,c=d):f=f.next=g,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ai|=o,e.lanes=o,e.memoizedState=d}}function Sv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Tl={},ln=Ns(Tl),el=Ns(Tl),tl=Ns(Tl);function qs(e){if(e===Tl)throw Error(L(174));return e}function up(e,t){switch(Be(tl,t),Be(el,e),Be(ln,Tl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zf(t,e)}Ge(ln),Be(ln,t)}function To(){Ge(ln),Ge(el),Ge(tl)}function ow(e){qs(tl.current);var t=qs(ln.current),r=Zf(t,e.type);t!==r&&(Be(el,e),Be(ln,r))}function dp(e){el.current===e&&(Ge(ln),Ge(el))}var Xe=Ns(0);function Xc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var af=[];function fp(){for(var e=0;e<af.length;e++)af[e]._workInProgressVersionPrimary=null;af.length=0}var Sc=In.ReactCurrentDispatcher,lf=In.ReactCurrentBatchConfig,oi=0,Je=null,ht=null,yt=null,Jc=!1,Ra=!1,rl=0,sE=0;function Rt(){throw Error(L(321))}function hp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qr(e[r],t[r]))return!1;return!0}function mp(e,t,r,n,s,i){if(oi=i,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sc.current=e===null||e.memoizedState===null?lE:cE,e=r(n,s),Ra){i=0;do{if(Ra=!1,rl=0,25<=i)throw Error(L(301));i+=1,yt=ht=null,t.updateQueue=null,Sc.current=uE,e=r(n,s)}while(Ra)}if(Sc.current=eu,t=ht!==null&&ht.next!==null,oi=0,yt=ht=Je=null,Jc=!1,t)throw Error(L(300));return e}function pp(){var e=rl!==0;return rl=0,e}function Xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Je.memoizedState=yt=e:yt=yt.next=e,yt}function Or(){if(ht===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=yt===null?Je.memoizedState:yt.next;if(t!==null)yt=t,ht=e;else{if(e===null)throw Error(L(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Je.memoizedState=yt=e:yt=yt.next=e}return yt}function nl(e,t){return typeof t=="function"?t(e):t}function cf(e){var t=Or(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=ht,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((oi&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,Je.lanes|=f,ai|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,qr(n,t.memoizedState)||(rr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Je.lanes|=i,ai|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function uf(e){var t=Or(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);qr(i,t.memoizedState)||(rr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function aw(){}function lw(e,t){var r=Je,n=Or(),s=t(),i=!qr(n.memoizedState,s);if(i&&(n.memoizedState=s,rr=!0),n=n.queue,gp(dw.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||yt!==null&&yt.memoizedState.tag&1){if(r.flags|=2048,sl(9,uw.bind(null,r,n,s,t),void 0,null),xt===null)throw Error(L(349));oi&30||cw(r,t,s)}return s}function cw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function uw(e,t,r,n){t.value=r,t.getSnapshot=n,fw(t)&&hw(e)}function dw(e,t,r){return r(function(){fw(t)&&hw(e)})}function fw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qr(e,r)}catch{return!0}}function hw(e){var t=Nn(e,1);t!==null&&Br(t,e,1,-1)}function jv(e){var t=Xr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:e},t.queue=e,e=e.dispatch=aE.bind(null,Je,e),[t.memoizedState,e]}function sl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function mw(){return Or().memoizedState}function jc(e,t,r,n){var s=Xr();Je.flags|=e,s.memoizedState=sl(1|t,r,void 0,n===void 0?null:n)}function Hu(e,t,r,n){var s=Or();n=n===void 0?null:n;var i=void 0;if(ht!==null){var o=ht.memoizedState;if(i=o.destroy,n!==null&&hp(n,o.deps)){s.memoizedState=sl(t,r,i,n);return}}Je.flags|=e,s.memoizedState=sl(1|t,r,i,n)}function kv(e,t){return jc(8390656,8,e,t)}function gp(e,t){return Hu(2048,8,e,t)}function pw(e,t){return Hu(4,2,e,t)}function gw(e,t){return Hu(4,4,e,t)}function vw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yw(e,t,r){return r=r!=null?r.concat([e]):null,Hu(4,4,vw.bind(null,t,e),r)}function vp(){}function xw(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ww(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bw(e,t,r){return oi&21?(qr(r,t)||(r=C0(),Je.lanes|=r,ai|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rr=!0),e.memoizedState=r)}function iE(e,t){var r=Fe;Fe=r!==0&&4>r?r:4,e(!0);var n=lf.transition;lf.transition={};try{e(!1),t()}finally{Fe=r,lf.transition=n}}function _w(){return Or().memoizedState}function oE(e,t,r){var n=ms(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sw(e))jw(t,r);else if(r=sw(e,t,r,n),r!==null){var s=Bt();Br(r,e,n,s),kw(r,t,n)}}function aE(e,t,r){var n=ms(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sw(e))jw(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,qr(l,o)){var c=t.interleaved;c===null?(s.next=s,lp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=sw(e,t,s,n),r!==null&&(s=Bt(),Br(r,e,n,s),kw(r,t,n))}}function Sw(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function jw(e,t){Ra=Jc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gm(e,r)}}var eu={readContext:Rr,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},lE={readContext:Rr,useCallback:function(e,t){return Xr().memoizedState=[e,t===void 0?null:t],e},useContext:Rr,useEffect:kv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jc(4194308,4,vw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jc(4194308,4,e,t)},useInsertionEffect:function(e,t){return jc(4,2,e,t)},useMemo:function(e,t){var r=Xr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=oE.bind(null,Je,e),[n.memoizedState,e]},useRef:function(e){var t=Xr();return e={current:e},t.memoizedState=e},useState:jv,useDebugValue:vp,useDeferredValue:function(e){return Xr().memoizedState=e},useTransition:function(){var e=jv(!1),t=e[0];return e=iE.bind(null,e[1]),Xr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Je,s=Xr();if(Ye){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),xt===null)throw Error(L(349));oi&30||cw(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,kv(dw.bind(null,n,i,e),[e]),n.flags|=2048,sl(9,uw.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Xr(),t=xt.identifierPrefix;if(Ye){var r=bn,n=wn;r=(n&~(1<<32-Vr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=rl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cE={readContext:Rr,useCallback:xw,useContext:Rr,useEffect:gp,useImperativeHandle:yw,useInsertionEffect:pw,useLayoutEffect:gw,useMemo:ww,useReducer:cf,useRef:mw,useState:function(){return cf(nl)},useDebugValue:vp,useDeferredValue:function(e){var t=Or();return bw(t,ht.memoizedState,e)},useTransition:function(){var e=cf(nl)[0],t=Or().memoizedState;return[e,t]},useMutableSource:aw,useSyncExternalStore:lw,useId:_w,unstable_isNewReconciler:!1},uE={readContext:Rr,useCallback:xw,useContext:Rr,useEffect:gp,useImperativeHandle:yw,useInsertionEffect:pw,useLayoutEffect:gw,useMemo:ww,useReducer:uf,useRef:mw,useState:function(){return uf(nl)},useDebugValue:vp,useDeferredValue:function(e){var t=Or();return ht===null?t.memoizedState=e:bw(t,ht.memoizedState,e)},useTransition:function(){var e=uf(nl)[0],t=Or().memoizedState;return[e,t]},useMutableSource:aw,useSyncExternalStore:lw,useId:_w,unstable_isNewReconciler:!1};function Mr(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function yh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ku={isMounted:function(e){return(e=e._reactInternals)?xi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Bt(),s=ms(e),i=jn(n,s);i.payload=t,r!=null&&(i.callback=r),t=fs(e,i,s),t!==null&&(Br(t,e,s,n),_c(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Bt(),s=ms(e),i=jn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fs(e,i,s),t!==null&&(Br(t,e,s,n),_c(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Bt(),n=ms(e),s=jn(r,n);s.tag=2,t!=null&&(s.callback=t),t=fs(e,s,n),t!==null&&(Br(t,e,n,r),_c(t,e,n))}};function Cv(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ya(r,n)||!Ya(s,i):!0}function Cw(e,t,r){var n=!1,s=ys,i=t.contextType;return typeof i=="object"&&i!==null?i=Rr(i):(s=sr(t)?si:Dt.current,n=t.contextTypes,i=(n=n!=null)?Eo(e,s):ys),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ku,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ev(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ku.enqueueReplaceState(t,t.state,null)}function xh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},cp(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Rr(i):(i=sr(t)?si:Dt.current,s.context=Eo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(yh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ku.enqueueReplaceState(s,s.state,null),Zc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ro(e,t){try{var r="",n=t;do r+=Fk(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function df(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dE=typeof WeakMap=="function"?WeakMap:Map;function Ew(e,t,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ru||(ru=!0,Th=n),wh(e,t)},r}function Nw(e,t,r){r=jn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){wh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){wh(e,t),typeof n!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Nv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dE;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=kE.bind(null,e,t,r),t.then(e,e))}function Pv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jn(-1,1),t.tag=2,fs(r,t,1))),r.lanes|=1),e)}var fE=In.ReactCurrentOwner,rr=!1;function Ut(e,t,r,n){t.child=e===null?nw(t,null,r,n):Po(t,e.child,r,n)}function Rv(e,t,r,n,s){r=r.render;var i=t.ref;return no(t,s),n=mp(e,t,r,n,i,s),r=pp(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pn(e,t,s)):(Ye&&r&&rp(t),t.flags|=1,Ut(e,t,n,s),t.child)}function Ov(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!kp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Pw(e,t,i,n,s)):(e=Nc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ya,r(o,n)&&e.ref===t.ref)return Pn(e,t,s)}return t.flags|=1,e=ps(i,n),e.ref=t.ref,e.return=t,t.child=e}function Pw(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ya(i,n)&&e.ref===t.ref)if(rr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(rr=!0);else return t.lanes=e.lanes,Pn(e,t,s)}return bh(e,t,r,n,s)}function Tw(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Xi,dr),dr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(Xi,dr),dr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Be(Xi,dr),dr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Be(Xi,dr),dr|=n;return Ut(e,t,s,r),t.child}function Rw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bh(e,t,r,n,s){var i=sr(r)?si:Dt.current;return i=Eo(t,i),no(t,s),r=mp(e,t,r,n,i,s),n=pp(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pn(e,t,s)):(Ye&&n&&rp(t),t.flags|=1,Ut(e,t,r,s),t.child)}function Av(e,t,r,n,s){if(sr(r)){var i=!0;Hc(t)}else i=!1;if(no(t,s),t.stateNode===null)kc(e,t),Cw(t,r,n),xh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Rr(u):(u=sr(r)?si:Dt.current,u=Eo(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Ev(t,o,n,u),Hn=!1;var h=t.memoizedState;o.state=h,Zc(t,n,o,s),c=t.memoizedState,l!==n||h!==c||nr.current||Hn?(typeof f=="function"&&(yh(t,r,f,n),c=t.memoizedState),(l=Hn||Cv(t,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,iw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Mr(t.type,l),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Rr(c):(c=sr(r)?si:Dt.current,c=Eo(t,c));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&Ev(t,o,n,c),Hn=!1,h=t.memoizedState,o.state=h,Zc(t,n,o,s);var x=t.memoizedState;l!==d||h!==x||nr.current||Hn?(typeof g=="function"&&(yh(t,r,g,n),x=t.memoizedState),(u=Hn||Cv(t,r,u,n,h,x,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return _h(e,t,r,n,i,s)}function _h(e,t,r,n,s,i){Rw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&yv(t,r,!1),Pn(e,t,i);n=t.stateNode,fE.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Po(t,e.child,null,i),t.child=Po(t,null,l,i)):Ut(e,t,l,i),t.memoizedState=n.state,s&&yv(t,r,!0),t.child}function Ow(e){var t=e.stateNode;t.pendingContext?vv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vv(e,t.context,!1),up(e,t.containerInfo)}function Iv(e,t,r,n,s){return No(),sp(s),t.flags|=256,Ut(e,t,r,n),t.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function jh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Aw(e,t,r){var n=t.pendingProps,s=Xe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Be(Xe,s&1),e===null)return gh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yu(o,n,0,null),e=ni(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=jh(r),t.memoizedState=Sh,e):yp(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return hE(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ps(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ps(l,i):(i=ni(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?jh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Sh,n}return i=e.child,e=i.sibling,n=ps(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yp(e,t){return t=Yu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ec(e,t,r,n){return n!==null&&sp(n),Po(t,e.child,null,r),e=yp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hE(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=df(Error(L(422))),ec(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Yu({mode:"visible",children:n.children},s,0,null),i=ni(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Po(t,e.child,null,o),t.child.memoizedState=jh(o),t.memoizedState=Sh,i);if(!(t.mode&1))return ec(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(L(419)),n=df(i,n,void 0),ec(e,t,o,n)}if(l=(o&e.childLanes)!==0,rr||l){if(n=xt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nn(e,s),Br(n,e,s,-1))}return jp(),n=df(Error(L(421))),ec(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=CE.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,pr=ds(s.nextSibling),gr=t,Ye=!0,$r=null,e!==null&&(jr[kr++]=wn,jr[kr++]=bn,jr[kr++]=ii,wn=e.id,bn=e.overflow,ii=t),t=yp(t,n.children),t.flags|=4096,t)}function Mv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vh(e.return,t,r)}function ff(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Iw(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ut(e,t,n.children,r),n=Xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mv(e,r,t);else if(e.tag===19)Mv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Be(Xe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Xc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ff(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Xc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ff(t,!0,r,null,i);break;case"together":ff(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=ps(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ps(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mE(e,t,r){switch(t.tag){case 3:Ow(t),No();break;case 5:ow(t);break;case 1:sr(t.type)&&Hc(t);break;case 4:up(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Be(Qc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Be(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?Aw(e,t,r):(Be(Xe,Xe.current&1),e=Pn(e,t,r),e!==null?e.sibling:null);Be(Xe,Xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Iw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,Tw(e,t,r)}return Pn(e,t,r)}var Mw,kh,Dw,Lw;Mw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kh=function(){};Dw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,qs(ln.current);var i=null;switch(r){case"input":s=Kf(e,s),n=Kf(e,n),i=[];break;case"select":s=tt({},s,{value:void 0}),n=tt({},n,{value:void 0}),i=[];break;case"textarea":s=Yf(e,s),n=Yf(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wc)}Xf(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ba.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ba.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ke("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Lw=function(e,t,r,n){r!==n&&(t.flags|=4)};function ia(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function pE(e,t,r){var n=t.pendingProps;switch(np(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return sr(t.type)&&qc(),Ot(t),null;case 3:return n=t.stateNode,To(),Ge(nr),Ge(Dt),fp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$r!==null&&(Ah($r),$r=null))),kh(e,t),Ot(t),null;case 5:dp(t);var s=qs(tl.current);if(r=t.type,e!==null&&t.stateNode!=null)Dw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return Ot(t),null}if(e=qs(ln.current),Xl(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[nn]=t,n[Ja]=i,e=(t.mode&1)!==0,r){case"dialog":Ke("cancel",n),Ke("close",n);break;case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(s=0;s<va.length;s++)Ke(va[s],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"details":Ke("toggle",n);break;case"input":Wg(n,i),Ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",n);break;case"textarea":Hg(n,i),Ke("invalid",n)}Xf(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Zl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Zl(n.textContent,l,e),s=["children",""+l]):Ba.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ke("scroll",n)}switch(r){case"input":Bl(n),qg(n,i,!0);break;case"textarea":Bl(n),Kg(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Wc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[nn]=t,e[Ja]=n,Mw(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jf(r,n),r){case"dialog":Ke("cancel",e),Ke("close",e),s=n;break;case"iframe":case"object":case"embed":Ke("load",e),s=n;break;case"video":case"audio":for(s=0;s<va.length;s++)Ke(va[s],e);s=n;break;case"source":Ke("error",e),s=n;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),s=n;break;case"details":Ke("toggle",e),s=n;break;case"input":Wg(e,n),s=Kf(e,n),Ke("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=tt({},n,{value:void 0}),Ke("invalid",e);break;case"textarea":Hg(e,n),s=Yf(e,n),Ke("invalid",e);break;default:s=n}Xf(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?m0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&f0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wa(e,c):typeof c=="number"&&Wa(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ba.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ke("scroll",e):c!=null&&Vm(e,i,c,o))}switch(r){case"input":Bl(e),qg(e,n,!1);break;case"textarea":Bl(e),Kg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ji(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ji(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)Lw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=qs(tl.current),qs(ln.current),Xl(t)){if(n=t.stateNode,r=t.memoizedProps,n[nn]=t,(i=n.nodeValue!==r)&&(e=gr,e!==null))switch(e.tag){case 3:Zl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nn]=t,t.stateNode=n}return Ot(t),null;case 13:if(Ge(Xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&pr!==null&&t.mode&1&&!(t.flags&128))tw(),No(),t.flags|=98560,i=!1;else if(i=Xl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[nn]=t}else No(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ot(t),i=!1}else $r!==null&&(Ah($r),$r=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?mt===0&&(mt=3):jp())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return To(),kh(e,t),e===null&&Za(t.stateNode.containerInfo),Ot(t),null;case 10:return ap(t.type._context),Ot(t),null;case 17:return sr(t.type)&&qc(),Ot(t),null;case 19:if(Ge(Xe),i=t.memoizedState,i===null)return Ot(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ia(i,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xc(e),o!==null){for(t.flags|=128,ia(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Be(Xe,Xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&at()>Oo&&(t.flags|=128,n=!0,ia(i,!1),t.lanes=4194304)}else{if(!n)if(e=Xc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ia(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return Ot(t),null}else 2*at()-i.renderingStartTime>Oo&&r!==1073741824&&(t.flags|=128,n=!0,ia(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=at(),t.sibling=null,r=Xe.current,Be(Xe,n?r&1|2:r&1),t):(Ot(t),null);case 22:case 23:return Sp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?dr&1073741824&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function gE(e,t){switch(np(t),t.tag){case 1:return sr(t.type)&&qc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return To(),Ge(nr),Ge(Dt),fp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dp(t),null;case 13:if(Ge(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));No()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Xe),null;case 4:return To(),null;case 10:return ap(t.type._context),null;case 22:case 23:return Sp(),null;case 24:return null;default:return null}}var tc=!1,Mt=!1,vE=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Zi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(e,t,n)}else r.current=null}function Ch(e,t,r){try{r()}catch(n){st(e,t,n)}}var Dv=!1;function yE(e,t){if(ch=zc,e=V0(),tp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var g;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++f===n&&(c=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(uh={focusedElem:e,selectionRange:r},zc=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,w=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Mr(t.type,p),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){st(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return x=Dv,Dv=!1,x}function Oa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ch(t,r,i)}s=s.next}while(s!==n)}}function Gu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Eh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Fw(e){var t=e.alternate;t!==null&&(e.alternate=null,Fw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nn],delete t[Ja],delete t[hh],delete t[eE],delete t[tE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $w(e){return e.tag===5||e.tag===3||e.tag===4}function Lv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$w(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wc));else if(n!==4&&(e=e.child,e!==null))for(Nh(e,t,r),e=e.sibling;e!==null;)Nh(e,t,r),e=e.sibling}function Ph(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ph(e,t,r),e=e.sibling;e!==null;)Ph(e,t,r),e=e.sibling}var bt=null,Lr=!1;function Ln(e,t,r){for(r=r.child;r!==null;)Uw(e,t,r),r=r.sibling}function Uw(e,t,r){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Uu,r)}catch{}switch(r.tag){case 5:Mt||Zi(r,t);case 6:var n=bt,s=Lr;bt=null,Ln(e,t,r),bt=n,Lr=s,bt!==null&&(Lr?(e=bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bt.removeChild(r.stateNode));break;case 18:bt!==null&&(Lr?(e=bt,r=r.stateNode,e.nodeType===8?sf(e.parentNode,r):e.nodeType===1&&sf(e,r),Ga(e)):sf(bt,r.stateNode));break;case 4:n=bt,s=Lr,bt=r.stateNode.containerInfo,Lr=!0,Ln(e,t,r),bt=n,Lr=s;break;case 0:case 11:case 14:case 15:if(!Mt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ch(r,t,o),s=s.next}while(s!==n)}Ln(e,t,r);break;case 1:if(!Mt&&(Zi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){st(r,t,l)}Ln(e,t,r);break;case 21:Ln(e,t,r);break;case 22:r.mode&1?(Mt=(n=Mt)||r.memoizedState!==null,Ln(e,t,r),Mt=n):Ln(e,t,r);break;default:Ln(e,t,r)}}function Fv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vE),t.forEach(function(n){var s=EE.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ar(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,Lr=!1;break e;case 3:bt=l.stateNode.containerInfo,Lr=!0;break e;case 4:bt=l.stateNode.containerInfo,Lr=!0;break e}l=l.return}if(bt===null)throw Error(L(160));Uw(i,o,s),bt=null,Lr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){st(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zw(t,e),t=t.sibling}function zw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ar(t,e),Gr(e),n&4){try{Oa(3,e,e.return),Gu(3,e)}catch(p){st(e,e.return,p)}try{Oa(5,e,e.return)}catch(p){st(e,e.return,p)}}break;case 1:Ar(t,e),Gr(e),n&512&&r!==null&&Zi(r,r.return);break;case 5:if(Ar(t,e),Gr(e),n&512&&r!==null&&Zi(r,r.return),e.flags&32){var s=e.stateNode;try{Wa(s,"")}catch(p){st(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&c0(s,i),Jf(l,o);var u=Jf(l,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?m0(s,d):f==="dangerouslySetInnerHTML"?f0(s,d):f==="children"?Wa(s,d):Vm(s,f,d,u)}switch(l){case"input":Gf(s,i);break;case"textarea":u0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ji(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ji(s,!!i.multiple,i.defaultValue,!0):Ji(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ja]=i}catch(p){st(e,e.return,p)}}break;case 6:if(Ar(t,e),Gr(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){st(e,e.return,p)}}break;case 3:if(Ar(t,e),Gr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ga(t.containerInfo)}catch(p){st(e,e.return,p)}break;case 4:Ar(t,e),Gr(e);break;case 13:Ar(t,e),Gr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(bp=at())),n&4&&Fv(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Mt=(u=Mt)||f,Ar(t,e),Mt=u):Ar(t,e),Gr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Q=e,f=e.child;f!==null;){for(d=Q=f;Q!==null;){switch(h=Q,g=h.child,h.tag){case 0:case 11:case 14:case 15:Oa(4,h,h.return);break;case 1:Zi(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){st(n,r,p)}}break;case 5:Zi(h,h.return);break;case 22:if(h.memoizedState!==null){Uv(d);continue}}g!==null?(g.return=h,Q=g):Uv(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=h0("display",o))}catch(p){st(e,e.return,p)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){st(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ar(t,e),Gr(e),n&4&&Fv(e);break;case 21:break;default:Ar(t,e),Gr(e)}}function Gr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($w(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Wa(s,""),n.flags&=-33);var i=Lv(e);Ph(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Lv(e);Nh(e,l,o);break;default:throw Error(L(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xE(e,t,r){Q=e,Vw(e)}function Vw(e,t,r){for(var n=(e.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||tc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Mt;l=tc;var u=Mt;if(tc=o,(Mt=c)&&!u)for(Q=s;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?zv(s):c!==null?(c.return=o,Q=c):zv(s);for(;i!==null;)Q=i,Vw(i),i=i.sibling;Q=s,tc=l,Mt=u}$v(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):$v(e)}}function $v(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mt||Gu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Mr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Sv(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ga(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Mt||t.flags&512&&Eh(t)}catch(h){st(t,t.return,h)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function Uv(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function zv(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gu(4,t)}catch(c){st(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){st(t,s,c)}}var i=t.return;try{Eh(t)}catch(c){st(t,i,c)}break;case 5:var o=t.return;try{Eh(t)}catch(c){st(t,o,c)}}}catch(c){st(t,t.return,c)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var wE=Math.ceil,tu=In.ReactCurrentDispatcher,xp=In.ReactCurrentOwner,Er=In.ReactCurrentBatchConfig,Pe=0,xt=null,ut=null,Et=0,dr=0,Xi=Ns(0),mt=0,il=null,ai=0,Qu=0,wp=0,Aa=null,er=null,bp=0,Oo=1/0,vn=null,ru=!1,Th=null,hs=null,rc=!1,os=null,nu=0,Ia=0,Rh=null,Cc=-1,Ec=0;function Bt(){return Pe&6?at():Cc!==-1?Cc:Cc=at()}function ms(e){return e.mode&1?Pe&2&&Et!==0?Et&-Et:nE.transition!==null?(Ec===0&&(Ec=C0()),Ec):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:A0(e.type)),e):1}function Br(e,t,r,n){if(50<Ia)throw Ia=0,Rh=null,Error(L(185));El(e,r,n),(!(Pe&2)||e!==xt)&&(e===xt&&(!(Pe&2)&&(Qu|=r),mt===4&&Qn(e,Et)),ir(e,n),r===1&&Pe===0&&!(t.mode&1)&&(Oo=at()+500,qu&&Ps()))}function ir(e,t){var r=e.callbackNode;nC(e,t);var n=Uc(e,e===xt?Et:0);if(n===0)r!==null&&Yg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yg(r),t===1)e.tag===0?rE(Vv.bind(null,e)):X0(Vv.bind(null,e)),XC(function(){!(Pe&6)&&Ps()}),r=null;else{switch(E0(n)){case 1:r=Km;break;case 4:r=j0;break;case 16:r=$c;break;case 536870912:r=k0;break;default:r=$c}r=Yw(r,Bw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Bw(e,t){if(Cc=-1,Ec=0,Pe&6)throw Error(L(327));var r=e.callbackNode;if(so()&&e.callbackNode!==r)return null;var n=Uc(e,e===xt?Et:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=su(e,n);else{t=n;var s=Pe;Pe|=2;var i=qw();(xt!==e||Et!==t)&&(vn=null,Oo=at()+500,ri(e,t));do try{SE();break}catch(l){Ww(e,l)}while(!0);op(),tu.current=i,Pe=s,ut!==null?t=0:(xt=null,Et=0,t=mt)}if(t!==0){if(t===2&&(s=sh(e),s!==0&&(n=s,t=Oh(e,s))),t===1)throw r=il,ri(e,0),Qn(e,n),ir(e,at()),r;if(t===6)Qn(e,n);else{if(s=e.current.alternate,!(n&30)&&!bE(s)&&(t=su(e,n),t===2&&(i=sh(e),i!==0&&(n=i,t=Oh(e,i))),t===1))throw r=il,ri(e,0),Qn(e,n),ir(e,at()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Fs(e,er,vn);break;case 3:if(Qn(e,n),(n&130023424)===n&&(t=bp+500-at(),10<t)){if(Uc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Bt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=fh(Fs.bind(null,e,er,vn),t);break}Fs(e,er,vn);break;case 4:if(Qn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Vr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wE(n/1960))-n,10<n){e.timeoutHandle=fh(Fs.bind(null,e,er,vn),n);break}Fs(e,er,vn);break;case 5:Fs(e,er,vn);break;default:throw Error(L(329))}}}return ir(e,at()),e.callbackNode===r?Bw.bind(null,e):null}function Oh(e,t){var r=Aa;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=su(e,t),e!==2&&(t=er,er=r,t!==null&&Ah(t)),e}function Ah(e){er===null?er=e:er.push.apply(er,e)}function bE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!qr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~wp,t&=~Qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vr(t),n=1<<r;e[r]=-1,t&=~n}}function Vv(e){if(Pe&6)throw Error(L(327));so();var t=Uc(e,0);if(!(t&1))return ir(e,at()),null;var r=su(e,t);if(e.tag!==0&&r===2){var n=sh(e);n!==0&&(t=n,r=Oh(e,n))}if(r===1)throw r=il,ri(e,0),Qn(e,t),ir(e,at()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fs(e,er,vn),ir(e,at()),null}function _p(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(Oo=at()+500,qu&&Ps())}}function li(e){os!==null&&os.tag===0&&!(Pe&6)&&so();var t=Pe;Pe|=1;var r=Er.transition,n=Fe;try{if(Er.transition=null,Fe=1,e)return e()}finally{Fe=n,Er.transition=r,Pe=t,!(Pe&6)&&Ps()}}function Sp(){dr=Xi.current,Ge(Xi)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ZC(r)),ut!==null)for(r=ut.return;r!==null;){var n=r;switch(np(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qc();break;case 3:To(),Ge(nr),Ge(Dt),fp();break;case 5:dp(n);break;case 4:To();break;case 13:Ge(Xe);break;case 19:Ge(Xe);break;case 10:ap(n.type._context);break;case 22:case 23:Sp()}r=r.return}if(xt=e,ut=e=ps(e.current,null),Et=dr=t,mt=0,il=null,wp=Qu=ai=0,er=Aa=null,Ws!==null){for(t=0;t<Ws.length;t++)if(r=Ws[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ws=null}return e}function Ww(e,t){do{var r=ut;try{if(op(),Sc.current=eu,Jc){for(var n=Je.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Jc=!1}if(oi=0,yt=ht=Je=null,Ra=!1,rl=0,xp.current=null,r===null||r.return===null){mt=1,il=t,ut=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Et,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Pv(o);if(g!==null){g.flags&=-257,Tv(g,o,l,i,t),g.mode&1&&Nv(i,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){Nv(i,u,t),jp();break e}c=Error(L(426))}}else if(Ye&&l.mode&1){var w=Pv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Tv(w,o,l,i,t),sp(Ro(c,l));break e}}i=c=Ro(c,l),mt!==4&&(mt=2),Aa===null?Aa=[i]:Aa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Ew(i,c,t);_v(i,y);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(hs===null||!hs.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Nw(i,l,t);_v(i,_);break e}}i=i.return}while(i!==null)}Kw(r)}catch(S){t=S,ut===r&&r!==null&&(ut=r=r.return);continue}break}while(!0)}function qw(){var e=tu.current;return tu.current=eu,e===null?eu:e}function jp(){(mt===0||mt===3||mt===2)&&(mt=4),xt===null||!(ai&268435455)&&!(Qu&268435455)||Qn(xt,Et)}function su(e,t){var r=Pe;Pe|=2;var n=qw();(xt!==e||Et!==t)&&(vn=null,ri(e,t));do try{_E();break}catch(s){Ww(e,s)}while(!0);if(op(),Pe=r,tu.current=n,ut!==null)throw Error(L(261));return xt=null,Et=0,mt}function _E(){for(;ut!==null;)Hw(ut)}function SE(){for(;ut!==null&&!Gk();)Hw(ut)}function Hw(e){var t=Qw(e.alternate,e,dr);e.memoizedProps=e.pendingProps,t===null?Kw(e):ut=t,xp.current=null}function Kw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gE(r,t),r!==null){r.flags&=32767,ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ut=null;return}}else if(r=pE(r,t,dr),r!==null){ut=r;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);mt===0&&(mt=5)}function Fs(e,t,r){var n=Fe,s=Er.transition;try{Er.transition=null,Fe=1,jE(e,t,r,n)}finally{Er.transition=s,Fe=n}return null}function jE(e,t,r,n){do so();while(os!==null);if(Pe&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(sC(e,i),e===xt&&(ut=xt=null,Et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rc||(rc=!0,Yw($c,function(){return so(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Er.transition,Er.transition=null;var o=Fe;Fe=1;var l=Pe;Pe|=4,xp.current=null,yE(e,r),zw(r,e),WC(uh),zc=!!ch,uh=ch=null,e.current=r,xE(r),Qk(),Pe=l,Fe=o,Er.transition=i}else e.current=r;if(rc&&(rc=!1,os=e,nu=s),i=e.pendingLanes,i===0&&(hs=null),Xk(r.stateNode),ir(e,at()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ru)throw ru=!1,e=Th,Th=null,e;return nu&1&&e.tag!==0&&so(),i=e.pendingLanes,i&1?e===Rh?Ia++:(Ia=0,Rh=e):Ia=0,Ps(),null}function so(){if(os!==null){var e=E0(nu),t=Er.transition,r=Fe;try{if(Er.transition=null,Fe=16>e?16:e,os===null)var n=!1;else{if(e=os,os=null,nu=0,Pe&6)throw Error(L(331));var s=Pe;for(Pe|=4,Q=e.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Q=u;Q!==null;){var f=Q;switch(f.tag){case 0:case 11:case 15:Oa(8,f,i)}var d=f.child;if(d!==null)d.return=f,Q=d;else for(;Q!==null;){f=Q;var h=f.sibling,g=f.return;if(Fw(f),f===u){Q=null;break}if(h!==null){h.return=g,Q=h;break}Q=g}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oa(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Q=y;break e}Q=i.return}}var v=e.current;for(Q=v;Q!==null;){o=Q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Q=b;else e:for(o=v;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gu(9,l)}}catch(S){st(l,l.return,S)}if(l===o){Q=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Q=_;break e}Q=l.return}}if(Pe=s,Ps(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Uu,e)}catch{}n=!0}return n}finally{Fe=r,Er.transition=t}}return!1}function Bv(e,t,r){t=Ro(r,t),t=Ew(e,t,1),e=fs(e,t,1),t=Bt(),e!==null&&(El(e,1,t),ir(e,t))}function st(e,t,r){if(e.tag===3)Bv(e,e,r);else for(;t!==null;){if(t.tag===3){Bv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hs===null||!hs.has(n))){e=Ro(r,e),e=Nw(t,e,1),t=fs(t,e,1),e=Bt(),t!==null&&(El(t,1,e),ir(t,e));break}}t=t.return}}function kE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Bt(),e.pingedLanes|=e.suspendedLanes&r,xt===e&&(Et&r)===r&&(mt===4||mt===3&&(Et&130023424)===Et&&500>at()-bp?ri(e,0):wp|=r),ir(e,t)}function Gw(e,t){t===0&&(e.mode&1?(t=Hl,Hl<<=1,!(Hl&130023424)&&(Hl=4194304)):t=1);var r=Bt();e=Nn(e,t),e!==null&&(El(e,t,r),ir(e,r))}function CE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gw(e,r)}function EE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),Gw(e,r)}var Qw;Qw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||nr.current)rr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return rr=!1,mE(e,t,r);rr=!!(e.flags&131072)}else rr=!1,Ye&&t.flags&1048576&&J0(t,Gc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;kc(e,t),e=t.pendingProps;var s=Eo(t,Dt.current);no(t,r),s=mp(null,t,n,e,s,r);var i=pp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(n)?(i=!0,Hc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cp(t),s.updater=Ku,t.stateNode=s,s._reactInternals=t,xh(t,n,e,r),t=_h(null,t,n,!0,i,r)):(t.tag=0,Ye&&i&&rp(t),Ut(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(kc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=PE(n),e=Mr(n,e),s){case 0:t=bh(null,t,n,e,r);break e;case 1:t=Av(null,t,n,e,r);break e;case 11:t=Rv(null,t,n,e,r);break e;case 14:t=Ov(null,t,n,Mr(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),bh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Av(e,t,n,s,r);case 3:e:{if(Ow(t),e===null)throw Error(L(387));n=t.pendingProps,i=t.memoizedState,s=i.element,iw(e,t),Zc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ro(Error(L(423)),t),t=Iv(e,t,n,r,s);break e}else if(n!==s){s=Ro(Error(L(424)),t),t=Iv(e,t,n,r,s);break e}else for(pr=ds(t.stateNode.containerInfo.firstChild),gr=t,Ye=!0,$r=null,r=nw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(No(),n===s){t=Pn(e,t,r);break e}Ut(e,t,n,r)}t=t.child}return t;case 5:return ow(t),e===null&&gh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,dh(n,s)?o=null:i!==null&&dh(n,i)&&(t.flags|=32),Rw(e,t),Ut(e,t,o,r),t.child;case 6:return e===null&&gh(t),null;case 13:return Aw(e,t,r);case 4:return up(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Po(t,null,n,r):Ut(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Rv(e,t,n,s,r);case 7:return Ut(e,t,t.pendingProps,r),t.child;case 8:return Ut(e,t,t.pendingProps.children,r),t.child;case 12:return Ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Be(Qc,n._currentValue),n._currentValue=o,i!==null)if(qr(i.value,o)){if(i.children===s.children&&!nr.current){t=Pn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=jn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),vh(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),vh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ut(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,no(t,r),s=Rr(s),n=n(s),t.flags|=1,Ut(e,t,n,r),t.child;case 14:return n=t.type,s=Mr(n,t.pendingProps),s=Mr(n.type,s),Ov(e,t,n,s,r);case 15:return Pw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),kc(e,t),t.tag=1,sr(n)?(e=!0,Hc(t)):e=!1,no(t,r),Cw(t,n,s),xh(t,n,s,r),_h(null,t,n,!0,e,r);case 19:return Iw(e,t,r);case 22:return Tw(e,t,r)}throw Error(L(156,t.tag))};function Yw(e,t){return S0(e,t)}function NE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(e,t,r,n){return new NE(e,t,r,n)}function kp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PE(e){if(typeof e=="function")return kp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wm)return 11;if(e===qm)return 14}return 2}function ps(e,t){var r=e.alternate;return r===null?(r=Cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")kp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vi:return ni(r.children,s,i,t);case Bm:o=8,s|=8;break;case Bf:return e=Cr(12,r,t,s|2),e.elementType=Bf,e.lanes=i,e;case Wf:return e=Cr(13,r,t,s),e.elementType=Wf,e.lanes=i,e;case qf:return e=Cr(19,r,t,s),e.elementType=qf,e.lanes=i,e;case o0:return Yu(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s0:o=10;break e;case i0:o=9;break e;case Wm:o=11;break e;case qm:o=14;break e;case qn:o=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Cr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ni(e,t,r,n){return e=Cr(7,e,n,t),e.lanes=r,e}function Yu(e,t,r,n){return e=Cr(22,e,n,t),e.elementType=o0,e.lanes=r,e.stateNode={isHidden:!1},e}function hf(e,t,r){return e=Cr(6,e,null,t),e.lanes=r,e}function mf(e,t,r){return t=Cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function TE(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kd(0),this.expirationTimes=Kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cp(e,t,r,n,s,i,o,l,c){return e=new TE(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Cr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(i),e}function RE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Zw(e){if(!e)return ys;e=e._reactInternals;e:{if(xi(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(sr(r))return Z0(e,r,t)}return t}function Xw(e,t,r,n,s,i,o,l,c){return e=Cp(r,n,!0,e,s,i,o,l,c),e.context=Zw(null),r=e.current,n=Bt(),s=ms(r),i=jn(n,s),i.callback=t??null,fs(r,i,s),e.current.lanes=s,El(e,s,n),ir(e,n),e}function Zu(e,t,r,n){var s=t.current,i=Bt(),o=ms(s);return r=Zw(r),t.context===null?t.context=r:t.pendingContext=r,t=jn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fs(s,t,o),e!==null&&(Br(e,s,o,i),_c(e,s,o)),o}function iu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ep(e,t){Wv(e,t),(e=e.alternate)&&Wv(e,t)}function OE(){return null}var Jw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Np(e){this._internalRoot=e}Xu.prototype.render=Np.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Zu(e,t,null,null)};Xu.prototype.unmount=Np.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;li(function(){Zu(null,e,null,null)}),t[En]=null}};function Xu(e){this._internalRoot=e}Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=T0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gn.length&&t!==0&&t<Gn[r].priority;r++);Gn.splice(r,0,e),r===0&&O0(e)}};function Pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qv(){}function AE(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=iu(o);i.call(u)}}var o=Xw(t,n,e,0,null,!1,!1,"",qv);return e._reactRootContainer=o,e[En]=o.current,Za(e.nodeType===8?e.parentNode:e),li(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=iu(c);l.call(u)}}var c=Cp(e,0,!1,null,null,!1,!1,"",qv);return e._reactRootContainer=c,e[En]=c.current,Za(e.nodeType===8?e.parentNode:e),li(function(){Zu(t,c,r,n)}),c}function ed(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=iu(o);l.call(c)}}Zu(t,o,e,s)}else o=AE(r,t,e,s,n);return iu(o)}N0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ga(t.pendingLanes);r!==0&&(Gm(t,r|1),ir(t,at()),!(Pe&6)&&(Oo=at()+500,Ps()))}break;case 13:li(function(){var n=Nn(e,1);if(n!==null){var s=Bt();Br(n,e,1,s)}}),Ep(e,1)}};Qm=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var r=Bt();Br(t,e,134217728,r)}Ep(e,134217728)}};P0=function(e){if(e.tag===13){var t=ms(e),r=Nn(e,t);if(r!==null){var n=Bt();Br(r,e,t,n)}Ep(e,t)}};T0=function(){return Fe};R0=function(e,t){var r=Fe;try{return Fe=e,t()}finally{Fe=r}};th=function(e,t,r){switch(t){case"input":if(Gf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Wu(n);if(!s)throw Error(L(90));l0(n),Gf(n,s)}}}break;case"textarea":u0(e,r);break;case"select":t=r.value,t!=null&&Ji(e,!!r.multiple,t,!1)}};v0=_p;y0=li;var IE={usingClientEntryPoint:!1,Events:[Pl,Hi,Wu,p0,g0,_p]},oa={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ME={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b0(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||OE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Uu=nc.inject(ME),an=nc}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IE;xr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(t))throw Error(L(200));return RE(e,t,null,r)};xr.createRoot=function(e,t){if(!Pp(e))throw Error(L(299));var r=!1,n="",s=Jw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cp(e,1,!1,null,null,r,!1,n,s),e[En]=t.current,Za(e.nodeType===8?e.parentNode:e),new Np(t)};xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=b0(t),e=e===null?null:e.stateNode,e};xr.flushSync=function(e){return li(e)};xr.hydrate=function(e,t,r){if(!Ju(t))throw Error(L(200));return ed(null,e,t,!0,r)};xr.hydrateRoot=function(e,t,r){if(!Pp(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Jw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Xw(t,null,e,1,r??null,s,!1,i,o),e[En]=t.current,Za(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Xu(t)};xr.render=function(e,t,r){if(!Ju(t))throw Error(L(200));return ed(null,e,t,!1,r)};xr.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(L(40));return e._reactRootContainer?(li(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};xr.unstable_batchedUpdates=_p;xr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ju(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return ed(e,t,r,!1,n)};xr.version="18.3.1-next-f1338f8080-20240426";function eb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eb)}catch(e){console.error(e)}}eb(),e0.exports=xr;var wi=e0.exports;const DE=zx(wi);var tb,Hv=wi;tb=Hv.createRoot,Hv.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ol.apply(this,arguments)}var as;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(as||(as={}));const Kv="popstate";function LE(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Ih("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ou(s)}return $E(t,r,null,e)}function lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FE(){return Math.random().toString(36).substr(2,8)}function Gv(e,t){return{usr:e.state,key:e.key,idx:t}}function Ih(e,t,r,n){return r===void 0&&(r=null),ol({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wo(t):t,{state:r,key:t&&t.key||n||FE()})}function ou(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function $E(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=as.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(ol({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=as.Pop;let w=f(),y=w==null?null:w-u;u=w,c&&c({action:l,location:p.location,delta:y})}function h(w,y){l=as.Push;let v=Ih(p.location,w,y);u=f()+1;let b=Gv(v,u),_=p.createHref(v);try{o.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function g(w,y){l=as.Replace;let v=Ih(p.location,w,y);u=f();let b=Gv(v,u),_=p.createHref(v);o.replaceState(b,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function x(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:ou(w);return v=v.replace(/ $/,"%20"),lt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let p={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Kv,d),c=w,()=>{s.removeEventListener(Kv,d),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(w){return o.go(w)}};return p}var Qv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qv||(Qv={}));function UE(e,t,r){return r===void 0&&(r="/"),zE(e,t,r,!1)}function zE(e,t,r,n){let s=typeof t=="string"?Wo(t):t,i=Tp(s.pathname||"/",r);if(i==null)return null;let o=nb(e);VE(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=JE(i);l=ZE(o[c],u,n)}return l}function nb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(lt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=gs([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(lt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nb(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:QE(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of sb(i.path))s(i,o,c)}),t}function sb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=sb(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function VE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:YE(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const BE=/^:[\w-]+$/,WE=3,qE=2,HE=1,KE=10,GE=-2,Yv=e=>e==="*";function QE(e,t){let r=e.split("/"),n=r.length;return r.some(Yv)&&(n+=GE),t&&(n+=qE),r.filter(s=>!Yv(s)).reduce((s,i)=>s+(BE.test(i)?WE:i===""?HE:KE),n)}function YE(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function ZE(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Zv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Zv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:gs([i,d.pathname]),pathnameBase:nN(gs([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=gs([i,d.pathnameBase]))}return o}function Zv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=XE(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:g}=f;if(h==="*"){let p=l[d]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[d];return g&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function XE(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),rb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function JE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function eN(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Wo(e):e;return{pathname:r?r.startsWith("/")?r:tN(r,t):t,search:sN(n),hash:iN(s)}}function tN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function pf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Rp(e,t){let r=rN(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Op(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Wo(e):(s=ol({},e),lt(!s.pathname||!s.pathname.includes("?"),pf("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),pf("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),pf("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=eN(s,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const gs=e=>e.join("/").replace(/\/\/+/g,"/"),nN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ib=["post","put","patch","delete"];new Set(ib);const aN=["get",...ib];new Set(aN);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(this,arguments)}const Ap=m.createContext(null),lN=m.createContext(null),Ts=m.createContext(null),td=m.createContext(null),Rs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),ob=m.createContext(null);function cN(e,t){let{relative:r}=t===void 0?{}:t;qo()||lt(!1);let{basename:n,navigator:s}=m.useContext(Ts),{hash:i,pathname:o,search:l}=lb(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:gs([n,o])),s.createHref({pathname:c,search:l,hash:i})}function qo(){return m.useContext(td)!=null}function Mn(){return qo()||lt(!1),m.useContext(td).location}function ab(e){m.useContext(Ts).static||m.useLayoutEffect(e)}function bi(){let{isDataRoute:e}=m.useContext(Rs);return e?_N():uN()}function uN(){qo()||lt(!1);let e=m.useContext(Ap),{basename:t,future:r,navigator:n}=m.useContext(Ts),{matches:s}=m.useContext(Rs),{pathname:i}=Mn(),o=JSON.stringify(Rp(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return ab(()=>{l.current=!0}),m.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Op(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:gs([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,i,e])}function lb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Ts),{matches:s}=m.useContext(Rs),{pathname:i}=Mn(),o=JSON.stringify(Rp(s,n.v7_relativeSplatPath));return m.useMemo(()=>Op(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function dN(e,t){return fN(e,t)}function fN(e,t,r,n){qo()||lt(!1);let{navigator:s}=m.useContext(Ts),{matches:i}=m.useContext(Rs),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Mn(),f;if(t){var d;let w=typeof t=="string"?Wo(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||lt(!1),f=w}else f=u;let h=f.pathname||"/",g=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=UE(e,{pathname:g}),p=vN(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:gs([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:gs([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&p?m.createElement(td.Provider,{value:{location:al({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:as.Pop}},p):p}function hN(){let e=bN(),t=oN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const mN=m.createElement(hN,null);class pN extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Rs.Provider,{value:this.props.routeContext},m.createElement(ob.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gN(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(Ap);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Rs.Provider,{value:t},n)}function vN(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||lt(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:g}=r,x=d.route.loader&&h[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let g,x=!1,p=null,w=null;r&&(g=l&&d.route.id?l[d.route.id]:void 0,p=d.route.errorElement||mN,c&&(u<0&&h===0?(x=!0,w=null):u===h&&(x=!0,w=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),v=()=>{let b;return g?b=p:x?b=w:d.route.Component?b=m.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,m.createElement(gN,{match:d,routeContext:{outlet:f,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?m.createElement(pN,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var cb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cb||{}),au=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(au||{});function yN(e){let t=m.useContext(Ap);return t||lt(!1),t}function xN(e){let t=m.useContext(lN);return t||lt(!1),t}function wN(e){let t=m.useContext(Rs);return t||lt(!1),t}function ub(e){let t=wN(),r=t.matches[t.matches.length-1];return r.route.id||lt(!1),r.route.id}function bN(){var e;let t=m.useContext(ob),r=xN(au.UseRouteError),n=ub(au.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function _N(){let{router:e}=yN(cb.UseNavigateStable),t=ub(au.UseNavigateStable),r=m.useRef(!1);return ab(()=>{r.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,al({fromRouteId:t},i)))},[e,t])}function Xv(e){let{to:t,replace:r,state:n,relative:s}=e;qo()||lt(!1);let{future:i,static:o}=m.useContext(Ts),{matches:l}=m.useContext(Rs),{pathname:c}=Mn(),u=bi(),f=Op(t,Rp(l,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return m.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function lr(e){lt(!1)}function SN(e){let{basename:t="/",children:r=null,location:n,navigationType:s=as.Pop,navigator:i,static:o=!1,future:l}=e;qo()&&lt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:o,future:al({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Wo(n));let{pathname:f="/",search:d="",hash:h="",state:g=null,key:x="default"}=n,p=m.useMemo(()=>{let w=Tp(f,c);return w==null?null:{location:{pathname:w,search:d,hash:h,state:g,key:x},navigationType:s}},[c,f,d,h,g,x,s]);return p==null?null:m.createElement(Ts.Provider,{value:u},m.createElement(td.Provider,{children:r,value:p}))}function jN(e){let{children:t,location:r}=e;return dN(Mh(t),r)}new Promise(()=>{});function Mh(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let i=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Mh(n.props.children,i));return}n.type!==lr&&lt(!1),!n.props.index||!n.props.children||lt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Mh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(this,arguments)}function kN(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function CN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EN(e,t){return e.button===0&&(!t||t==="_self")&&!CN(e)}const NN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PN="6";try{window.__reactRouterVersion=PN}catch{}const TN="startTransition",Jv=Xx[TN];function RN(e){let{basename:t,children:r,future:n,window:s}=e,i=m.useRef();i.current==null&&(i.current=LE({window:s,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=m.useCallback(d=>{u&&Jv?Jv(()=>c(d)):c(d)},[c,u]);return m.useLayoutEffect(()=>o.listen(f),[o,f]),m.createElement(SN,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const ON=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hs=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=kN(t,NN),{basename:g}=m.useContext(Ts),x,p=!1;if(typeof u=="string"&&AN.test(u)&&(x=u,ON))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=Tp(_.pathname,g);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:p=!0}catch{}let w=cN(u,{relative:s}),y=IN(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function v(b){n&&n(b),b.defaultPrevented||y(b)}return m.createElement("a",Dh({},h,{href:x||w,onClick:p||i?n:v,ref:r,target:c}))});var ey;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ey||(ey={}));var ty;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ty||(ty={}));function IN(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=bi(),u=Mn(),f=lb(e,{relative:o});return m.useCallback(d=>{if(EN(d,r)){d.preventDefault();let h=n!==void 0?n:ou(u)===ou(f);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,s,r,e,i,o,l])}var Rl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ci=typeof window>"u"||"Deno"in globalThis;function _r(){}function MN(e,t){return typeof e=="function"?e(t):e}function Lh(e){return typeof e=="number"&&e>=0&&e!==1/0}function db(e,t){return Math.max(e+(t||0)-Date.now(),0)}function io(e,t){return typeof e=="function"?e(t):e}function Ur(e,t){return typeof e=="function"?e(t):e}function ry(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Ip(o,t.options))return!1}else if(!cl(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function ny(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ll(t.options.mutationKey)!==ll(i))return!1}else if(!cl(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Ip(e,t){return((t==null?void 0:t.queryKeyHashFn)||ll)(e)}function ll(e){return JSON.stringify(e,(t,r)=>$h(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function cl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!cl(e[r],t[r])):!1}function fb(e,t){if(e===t)return e;const r=sy(e)&&sy(t);if(r||$h(e)&&$h(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const f=r?u:i[u];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=fb(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function Fh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $h(e){if(!iy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!iy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iy(e){return Object.prototype.toString.call(e)==="[object Object]"}function DN(e){return new Promise(t=>{setTimeout(t,e)})}function Uh(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?fb(e,t):t}function LN(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function FN(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Mp=Symbol();function hb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Mp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Qs,Xn,ho,Ox,$N=(Ox=class extends Rl{constructor(){super();le(this,Qs);le(this,Xn);le(this,ho);Y(this,ho,t=>{if(!ci&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,Xn)||this.setEventListener(k(this,ho))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Xn))==null||t.call(this),Y(this,Xn,void 0))}setEventListener(t){var r;Y(this,ho,t),(r=k(this,Xn))==null||r.call(this),Y(this,Xn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){k(this,Qs)!==t&&(Y(this,Qs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof k(this,Qs)=="boolean"?k(this,Qs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qs=new WeakMap,Xn=new WeakMap,ho=new WeakMap,Ox),Dp=new $N,mo,Jn,po,Ax,UN=(Ax=class extends Rl{constructor(){super();le(this,mo,!0);le(this,Jn);le(this,po);Y(this,po,t=>{if(!ci&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,Jn)||this.setEventListener(k(this,po))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Jn))==null||t.call(this),Y(this,Jn,void 0))}setEventListener(t){var r;Y(this,po,t),(r=k(this,Jn))==null||r.call(this),Y(this,Jn,t(this.setOnline.bind(this)))}setOnline(t){k(this,mo)!==t&&(Y(this,mo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return k(this,mo)}},mo=new WeakMap,Jn=new WeakMap,po=new WeakMap,Ax),lu=new UN;function zh(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function zN(e){return Math.min(1e3*2**e,3e4)}function mb(e){return(e??"online")==="online"?lu.isOnline():!0}var pb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gf(e){return e instanceof pb}function gb(e){let t=!1,r=0,n=!1,s;const i=zh(),o=p=>{var w;n||(h(new pb(p)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Dp.isFocused()&&(e.networkMode==="always"||lu.isOnline())&&e.canRun(),f=()=>mb(e.networkMode)&&e.canRun(),d=p=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,p),s==null||s(),i.resolve(p))},h=p=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,p),s==null||s(),i.reject(p))},g=()=>new Promise(p=>{var w;s=y=>{(n||u())&&p(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var p;s=void 0,n||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(n)return;let p;const w=r===0?e.initialPromise:void 0;try{p=w??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(d).catch(y=>{var E;if(n)return;const v=e.retry??(ci?0:3),b=e.retryDelay??zN,_=typeof b=="function"?b(r,y):b,S=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!S){h(y);return}r++,(E=e.onFail)==null||E.call(e,r,y),DN(_).then(()=>u()?void 0:g()).then(()=>{t?h(y):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?x():g().then(x),i)}}function VN(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ct=VN(),Ys,Ix,vb=(Ix=class{constructor(){le(this,Ys)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lh(this.gcTime)&&Y(this,Ys,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ci?1/0:5*60*1e3))}clearGcTimeout(){k(this,Ys)&&(clearTimeout(k(this,Ys)),Y(this,Ys,void 0))}},Ys=new WeakMap,Ix),go,vo,br,At,_l,Zs,Dr,pn,Mx,BN=(Mx=class extends vb{constructor(t){super();le(this,Dr);le(this,go);le(this,vo);le(this,br);le(this,At);le(this,_l);le(this,Zs);Y(this,Zs,!1),Y(this,_l,t.defaultOptions),this.setOptions(t.options),this.observers=[],Y(this,br,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Y(this,go,WN(this.options)),this.state=t.state??k(this,go),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,At))==null?void 0:t.promise}setOptions(t){this.options={...k(this,_l),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,br).remove(this)}setData(t,r){const n=Uh(this.state.data,t,this.options);return ke(this,Dr,pn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ke(this,Dr,pn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=k(this,At))==null?void 0:n.promise;return(s=k(this,At))==null||s.cancel(t),r?r.then(_r).catch(_r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,go))}isActive(){return this.observers.some(t=>Ur(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!db(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,At))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,At))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,br).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(k(this,At)&&(k(this,Zs)?k(this,At).cancel({revert:!0}):k(this,At).cancelRetry()),this.scheduleGc()),k(this,br).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,Dr,pn).call(this,{type:"invalidate"})}fetch(t,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,At))return k(this,At).continueRetry(),k(this,At).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Y(this,Zs,!0),n.signal)})},i=()=>{const d=hb(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),Y(this,Zs,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),Y(this,vo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&ke(this,Dr,pn).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,g,x,p;gf(d)&&d.silent||ke(this,Dr,pn).call(this,{type:"error",error:d}),gf(d)||((g=(h=k(this,br).config).onError)==null||g.call(h,d,this),(p=(x=k(this,br).config).onSettled)==null||p.call(x,this.state.data,d,this)),this.scheduleGc()};return Y(this,At,gb({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,g,x,p;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(w){l(w);return}(g=(h=k(this,br).config).onSuccess)==null||g.call(h,d,this),(p=(x=k(this,br).config).onSettled)==null||p.call(x,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{ke(this,Dr,pn).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{ke(this,Dr,pn).call(this,{type:"pause"})},onContinue:()=>{ke(this,Dr,pn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),k(this,At).start()}},go=new WeakMap,vo=new WeakMap,br=new WeakMap,At=new WeakMap,_l=new WeakMap,Zs=new WeakMap,Dr=new WeakSet,pn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...yb(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return gf(s)&&s.revert&&k(this,vo)?{...k(this,vo),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ct.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,br).notify({query:this,type:"updated",action:t})})},Mx);function yb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function WN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Jr,Dx,qN=(Dx=class extends Rl{constructor(t={}){super();le(this,Jr);this.config=t,Y(this,Jr,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Ip(s,r);let o=this.get(i);return o||(o=new BN({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){k(this,Jr).has(t.queryHash)||(k(this,Jr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=k(this,Jr).get(t.queryHash);r&&(t.destroy(),r===t&&k(this,Jr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,Jr).get(t)}getAll(){return[...k(this,Jr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ry(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ry(t,n)):r}notify(t){Ct.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Jr=new WeakMap,Dx),en,Ft,Xs,tn,zn,Lx,HN=(Lx=class extends vb{constructor(t){super();le(this,tn);le(this,en);le(this,Ft);le(this,Xs);this.mutationId=t.mutationId,Y(this,Ft,t.mutationCache),Y(this,en,[]),this.state=t.state||KN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,en).includes(t)||(k(this,en).push(t),this.clearGcTimeout(),k(this,Ft).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Y(this,en,k(this,en).filter(r=>r!==t)),this.scheduleGc(),k(this,Ft).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,en).length||(this.state.status==="pending"?this.scheduleGc():k(this,Ft).remove(this))}continue(){var t;return((t=k(this,Xs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,l,c,u,f,d,h,g,x,p,w,y,v,b,_,S,E,C;Y(this,Xs,gb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,M)=>{ke(this,tn,zn).call(this,{type:"failed",failureCount:P,error:M})},onPause:()=>{ke(this,tn,zn).call(this,{type:"pause"})},onContinue:()=>{ke(this,tn,zn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Ft).canRun(this)}));const r=this.state.status==="pending",n=!k(this,Xs).canStart();try{if(!r){ke(this,tn,zn).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=k(this,Ft).config).onMutate)==null?void 0:i.call(s,t,this));const M=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));M!==this.state.context&&ke(this,tn,zn).call(this,{type:"pending",context:M,variables:t,isPaused:n})}const P=await k(this,Xs).start();return await((u=(c=k(this,Ft).config).onSuccess)==null?void 0:u.call(c,P,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,P,t,this.state.context)),await((g=(h=k(this,Ft).config).onSettled)==null?void 0:g.call(h,P,null,this.state.variables,this.state.context,this)),await((p=(x=this.options).onSettled)==null?void 0:p.call(x,P,null,t,this.state.context)),ke(this,tn,zn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(w=k(this,Ft).config).onError)==null?void 0:y.call(w,P,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,P,t,this.state.context)),await((S=(_=k(this,Ft).config).onSettled)==null?void 0:S.call(_,void 0,P,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,P,t,this.state.context)),P}finally{ke(this,tn,zn).call(this,{type:"error",error:P})}}finally{k(this,Ft).runNext(this)}}},en=new WeakMap,Ft=new WeakMap,Xs=new WeakMap,tn=new WeakSet,zn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ct.batch(()=>{k(this,en).forEach(n=>{n.onMutationUpdate(t)}),k(this,Ft).notify({mutation:this,type:"updated",action:t})})},Lx);function KN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ur,Sl,Fx,GN=(Fx=class extends Rl{constructor(t={}){super();le(this,ur);le(this,Sl);this.config=t,Y(this,ur,new Map),Y(this,Sl,Date.now())}build(t,r,n){const s=new HN({mutationCache:this,mutationId:++Ul(this,Sl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=sc(t),n=k(this,ur).get(r)??[];n.push(t),k(this,ur).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=sc(t);if(k(this,ur).has(r)){const s=(n=k(this,ur).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?k(this,ur).delete(r):k(this,ur).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=k(this,ur).get(sc(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=k(this,ur).get(sc(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...k(this,ur).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ny(r,n))}findAll(t={}){return this.getAll().filter(r=>ny(t,r))}notify(t){Ct.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ct.batch(()=>Promise.all(t.map(r=>r.continue().catch(_r))))}},ur=new WeakMap,Sl=new WeakMap,Fx);function sc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function oy(e){return{onFetch:(t,r)=>{var f,d,h,g,x;const n=t.options,s=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=hb(t.options,t.fetchOptions),v=async(b,_,S)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};w(E);const C=await y(E),{maxPages:P}=t.options,M=S?FN:LN;return{pages:M(b.pages,C,P),pageParams:M(b.pageParams,_,P)}};if(s&&i.length){const b=s==="backward",_=b?QN:ay,S={pages:i,pageParams:o},E=_(n,S);l=await v(S,E,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:ay(n,l);if(c>0&&_==null)break;l=await v(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,w;return(w=(p=t.options).persister)==null?void 0:w.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function ay(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function QN(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var rt,es,ts,yo,xo,rs,wo,bo,$x,YN=($x=class{constructor(e={}){le(this,rt);le(this,es);le(this,ts);le(this,yo);le(this,xo);le(this,rs);le(this,wo);le(this,bo);Y(this,rt,e.queryCache||new qN),Y(this,es,e.mutationCache||new GN),Y(this,ts,e.defaultOptions||{}),Y(this,yo,new Map),Y(this,xo,new Map),Y(this,rs,0)}mount(){Ul(this,rs)._++,k(this,rs)===1&&(Y(this,wo,Dp.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,rt).onFocus())})),Y(this,bo,lu.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,rt).onOnline())})))}unmount(){var e,t;Ul(this,rs)._--,k(this,rs)===0&&((e=k(this,wo))==null||e.call(this),Y(this,wo,void 0),(t=k(this,bo))==null||t.call(this),Y(this,bo,void 0))}isFetching(e){return k(this,rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return k(this,es).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,rt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=k(this,rt).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(io(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return k(this,rt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=k(this,rt).get(n.queryHash),i=s==null?void 0:s.state.data,o=MN(t,i);if(o!==void 0)return k(this,rt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ct.batch(()=>k(this,rt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,rt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=k(this,rt);Ct.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=k(this,rt),n={type:"active",...e};return Ct.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Ct.batch(()=>k(this,rt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(_r).catch(_r)}invalidateQueries(e={},t={}){return Ct.batch(()=>{if(k(this,rt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Ct.batch(()=>k(this,rt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(_r)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(_r)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=k(this,rt).build(this,t);return r.isStaleByTime(io(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_r).catch(_r)}fetchInfiniteQuery(e){return e.behavior=oy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_r).catch(_r)}ensureInfiniteQueryData(e){return e.behavior=oy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lu.isOnline()?k(this,es).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,rt)}getMutationCache(){return k(this,es)}getDefaultOptions(){return k(this,ts)}setDefaultOptions(e){Y(this,ts,e)}setQueryDefaults(e,t){k(this,yo).set(ll(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...k(this,yo).values()];let r={};return t.forEach(n=>{cl(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){k(this,xo).set(ll(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...k(this,xo).values()];let r={};return t.forEach(n=>{cl(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...k(this,ts).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ip(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Mp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...k(this,ts).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){k(this,rt).clear(),k(this,es).clear()}},rt=new WeakMap,es=new WeakMap,ts=new WeakMap,yo=new WeakMap,xo=new WeakMap,rs=new WeakMap,wo=new WeakMap,bo=new WeakMap,$x),Zt,Ce,jl,$t,Js,_o,ns,rn,kl,So,jo,ei,ti,ss,ko,Me,ya,Vh,Bh,Wh,qh,Hh,Kh,Gh,xb,Ux,ZN=(Ux=class extends Rl{constructor(t,r){super();le(this,Me);le(this,Zt);le(this,Ce);le(this,jl);le(this,$t);le(this,Js);le(this,_o);le(this,ns);le(this,rn);le(this,kl);le(this,So);le(this,jo);le(this,ei);le(this,ti);le(this,ss);le(this,ko,new Set);this.options=r,Y(this,Zt,t),Y(this,rn,null),Y(this,ns,zh()),this.options.experimental_prefetchInRender||k(this,ns).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,Ce).addObserver(this),ly(k(this,Ce),this.options)?ke(this,Me,ya).call(this):this.updateResult(),ke(this,Me,qh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qh(k(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qh(k(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,Me,Hh).call(this),ke(this,Me,Kh).call(this),k(this,Ce).removeObserver(this)}setOptions(t,r){const n=this.options,s=k(this,Ce);if(this.options=k(this,Zt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ur(this.options.enabled,k(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,Me,Gh).call(this),k(this,Ce).setOptions(this.options),n._defaulted&&!Fh(this.options,n)&&k(this,Zt).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,Ce),observer:this});const i=this.hasListeners();i&&cy(k(this,Ce),s,this.options,n)&&ke(this,Me,ya).call(this),this.updateResult(r),i&&(k(this,Ce)!==s||Ur(this.options.enabled,k(this,Ce))!==Ur(n.enabled,k(this,Ce))||io(this.options.staleTime,k(this,Ce))!==io(n.staleTime,k(this,Ce)))&&ke(this,Me,Vh).call(this);const o=ke(this,Me,Bh).call(this);i&&(k(this,Ce)!==s||Ur(this.options.enabled,k(this,Ce))!==Ur(n.enabled,k(this,Ce))||o!==k(this,ss))&&ke(this,Me,Wh).call(this,o)}getOptimisticResult(t){const r=k(this,Zt).getQueryCache().build(k(this,Zt),t),n=this.createResult(r,t);return JN(this,n)&&(Y(this,$t,n),Y(this,_o,this.options),Y(this,Js,k(this,Ce).state)),n}getCurrentResult(){return k(this,$t)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){k(this,ko).add(t)}getCurrentQuery(){return k(this,Ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=k(this,Zt).defaultQueryOptions(t),n=k(this,Zt).getQueryCache().build(k(this,Zt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ke(this,Me,ya).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,$t)))}createResult(t,r){var P;const n=k(this,Ce),s=this.options,i=k(this,$t),o=k(this,Js),l=k(this,_o),u=t!==n?t.state:k(this,jl),{state:f}=t;let d={...f},h=!1,g;if(r._optimisticResults){const M=this.hasListeners(),I=!M&&ly(t,r),G=M&&cy(t,n,r,s);(I||G)&&(d={...d,...yb(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:x,errorUpdatedAt:p,status:w}=d;if(r.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&r.select===k(this,kl))g=k(this,So);else try{Y(this,kl,r.select),g=r.select(d.data),g=Uh(i==null?void 0:i.data,g,r),Y(this,So,g),Y(this,rn,null)}catch(M){Y(this,rn,M)}else g=d.data;if(r.placeholderData!==void 0&&g===void 0&&w==="pending"){let M;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))M=i.data;else if(M=typeof r.placeholderData=="function"?r.placeholderData((P=k(this,jo))==null?void 0:P.state.data,k(this,jo)):r.placeholderData,r.select&&M!==void 0)try{M=r.select(M),Y(this,rn,null)}catch(I){Y(this,rn,I)}M!==void 0&&(w="success",g=Uh(i==null?void 0:i.data,M,r),h=!0)}k(this,rn)&&(x=k(this,rn),g=k(this,So),p=Date.now(),w="error");const y=d.fetchStatus==="fetching",v=w==="pending",b=w==="error",_=v&&y,S=g!==void 0,C={status:w,fetchStatus:d.fetchStatus,isPending:v,isSuccess:w==="success",isError:b,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:d.dataUpdatedAt,error:x,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&S,isStale:Lp(t,r),refetch:this.refetch,promise:k(this,ns)};if(this.options.experimental_prefetchInRender){const M=A=>{C.status==="error"?A.reject(C.error):C.data!==void 0&&A.resolve(C.data)},I=()=>{const A=Y(this,ns,C.promise=zh());M(A)},G=k(this,ns);switch(G.status){case"pending":t.queryHash===n.queryHash&&M(G);break;case"fulfilled":(C.status==="error"||C.data!==G.value)&&I();break;case"rejected":(C.status!=="error"||C.error!==G.reason)&&I();break}}return C}updateResult(t){const r=k(this,$t),n=this.createResult(k(this,Ce),this.options);if(Y(this,Js,k(this,Ce).state),Y(this,_o,this.options),k(this,Js).data!==void 0&&Y(this,jo,k(this,Ce)),Fh(n,r))return;Y(this,$t,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!k(this,ko).size)return!0;const c=new Set(l??k(this,ko));return this.options.throwOnError&&c.add("error"),Object.keys(k(this,$t)).some(u=>{const f=u;return k(this,$t)[f]!==r[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),ke(this,Me,xb).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,Me,qh).call(this)}},Zt=new WeakMap,Ce=new WeakMap,jl=new WeakMap,$t=new WeakMap,Js=new WeakMap,_o=new WeakMap,ns=new WeakMap,rn=new WeakMap,kl=new WeakMap,So=new WeakMap,jo=new WeakMap,ei=new WeakMap,ti=new WeakMap,ss=new WeakMap,ko=new WeakMap,Me=new WeakSet,ya=function(t){ke(this,Me,Gh).call(this);let r=k(this,Ce).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(_r)),r},Vh=function(){ke(this,Me,Hh).call(this);const t=io(this.options.staleTime,k(this,Ce));if(ci||k(this,$t).isStale||!Lh(t))return;const n=db(k(this,$t).dataUpdatedAt,t)+1;Y(this,ei,setTimeout(()=>{k(this,$t).isStale||this.updateResult()},n))},Bh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,Ce)):this.options.refetchInterval)??!1},Wh=function(t){ke(this,Me,Kh).call(this),Y(this,ss,t),!(ci||Ur(this.options.enabled,k(this,Ce))===!1||!Lh(k(this,ss))||k(this,ss)===0)&&Y(this,ti,setInterval(()=>{(this.options.refetchIntervalInBackground||Dp.isFocused())&&ke(this,Me,ya).call(this)},k(this,ss)))},qh=function(){ke(this,Me,Vh).call(this),ke(this,Me,Wh).call(this,ke(this,Me,Bh).call(this))},Hh=function(){k(this,ei)&&(clearTimeout(k(this,ei)),Y(this,ei,void 0))},Kh=function(){k(this,ti)&&(clearInterval(k(this,ti)),Y(this,ti,void 0))},Gh=function(){const t=k(this,Zt).getQueryCache().build(k(this,Zt),this.options);if(t===k(this,Ce))return;const r=k(this,Ce);Y(this,Ce,t),Y(this,jl,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},xb=function(t){Ct.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(k(this,$t))}),k(this,Zt).getQueryCache().notify({query:k(this,Ce),type:"observerResultsUpdated"})})},Ux);function XN(e,t){return Ur(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ly(e,t){return XN(e,t)||e.state.data!==void 0&&Qh(e,t,t.refetchOnMount)}function Qh(e,t,r){if(Ur(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Lp(e,t)}return!1}function cy(e,t,r,n){return(e!==t||Ur(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Lp(e,r)}function Lp(e,t){return Ur(t.enabled,e)!==!1&&e.isStaleByTime(io(t.staleTime,e))}function JN(e,t){return!Fh(e.getCurrentResult(),t)}var wb=m.createContext(void 0),Fp=e=>{const t=m.useContext(wb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},eP=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(wb.Provider,{value:e,children:t})),bb=m.createContext(!1),tP=()=>m.useContext(bb);bb.Provider;function rP(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nP=m.createContext(rP()),sP=()=>m.useContext(nP);function iP(e,t){return typeof e=="function"?e(...t):!!e}function oP(){}var aP=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},lP=e=>{m.useEffect(()=>{e.clearReset()},[e])},cP=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&iP(r,[e.error,n]),uP=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},dP=(e,t)=>e.isLoading&&e.isFetching&&!t,fP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,uy=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function hP(e,t,r){var f,d,h,g,x;const n=Fp(),s=tP(),i=sP(),o=n.defaultQueryOptions(e);(d=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",uP(o),aP(o,i),lP(i);const l=!n.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(p=>{const w=s?()=>{}:c.subscribe(Ct.batchCalls(p));return c.updateResult(),w},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),fP(o,u))throw uy(o,c,i);if(cP({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((g=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,o,u),o.experimental_prefetchInRender&&!ci&&dP(u,s)){const p=l?uy(o,c,i):(x=n.getQueryCache().get(o.queryHash))==null?void 0:x.promise;p==null||p.catch(oP).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function xs(e,t){return hP(e,ZN)}const mP={user:null,loading:!0,signOut:async()=>{}},_b=m.createContext(mP),Dn=()=>m.useContext(_b),pP="modulepreload",gP=function(e){return"/stock2store/"+e},dy={},Ao=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=gP(c),c in dy)return;dy[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":pP,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},vP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ao(async()=>{const{default:n}=await Promise.resolve().then(()=>Ho);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class $p extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class yP extends $p{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xP extends $p{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wP extends $p{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yh||(Yh={}));var bP=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class _P{constructor(t,{headers:r={},customFetch:n,region:s=Yh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=vP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return bP(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new yP(x)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new xP(f);if(!f.ok)throw new wP(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield f.json():h==="application/octet-stream"?g=yield f.blob():h==="text/event-stream"?g=f:h==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var tr={},Up={},rd={},Ol={},nd={},sd={},SP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Io=SP();const jP=Io.fetch,Sb=Io.fetch.bind(Io),jb=Io.Headers,kP=Io.Request,CP=Io.Response,Ho=Object.freeze(Object.defineProperty({__proto__:null,Headers:jb,Request:kP,Response:CP,default:Sb,fetch:jP},Symbol.toStringTag,{value:"Module"})),EP=uk(Ho);var id={};Object.defineProperty(id,"__esModule",{value:!0});let NP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};id.default=NP;var kb=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sd,"__esModule",{value:!0});const PP=kb(EP),TP=kb(id);let RP=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=PP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,f=null,d=null,h=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(f=[],u=null,h=200,g="OK")}catch{i.status===404&&p===""?(h=204,g="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new TP.default(u)}return{error:u,data:f,count:d,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};sd.default=RP;var OP=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nd,"__esModule",{value:!0});const AP=OP(sd);let IP=class extends AP.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};nd.default=IP;var MP=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ol,"__esModule",{value:!0});const DP=MP(nd);let LP=class extends DP.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ol.default=LP;var FP=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rd,"__esModule",{value:!0});const aa=FP(Ol);let $P=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new aa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new aa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new aa.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new aa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new aa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};rd.default=$P;var od={},ad={};Object.defineProperty(ad,"__esModule",{value:!0});ad.version=void 0;ad.version="0.0.0-automated";Object.defineProperty(od,"__esModule",{value:!0});od.DEFAULT_HEADERS=void 0;const UP=ad;od.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${UP.version}`};var Cb=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Up,"__esModule",{value:!0});const zP=Cb(rd),VP=Cb(Ol),BP=od;let WP=class Eb{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},BP.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new zP.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Eb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new VP.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Up.default=WP;var Ko=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tr,"__esModule",{value:!0});tr.PostgrestError=tr.PostgrestBuilder=tr.PostgrestTransformBuilder=tr.PostgrestFilterBuilder=tr.PostgrestQueryBuilder=tr.PostgrestClient=void 0;const Nb=Ko(Up);tr.PostgrestClient=Nb.default;const Pb=Ko(rd);tr.PostgrestQueryBuilder=Pb.default;const Tb=Ko(Ol);tr.PostgrestFilterBuilder=Tb.default;const Rb=Ko(nd);tr.PostgrestTransformBuilder=Rb.default;const Ob=Ko(sd);tr.PostgrestBuilder=Ob.default;const Ab=Ko(id);tr.PostgrestError=Ab.default;var qP=tr.default={PostgrestClient:Nb.default,PostgrestQueryBuilder:Pb.default,PostgrestFilterBuilder:Tb.default,PostgrestTransformBuilder:Rb.default,PostgrestBuilder:Ob.default,PostgrestError:Ab.default};const{PostgrestClient:HP,PostgrestQueryBuilder:s$,PostgrestFilterBuilder:i$,PostgrestTransformBuilder:o$,PostgrestBuilder:a$,PostgrestError:l$}=qP,KP="2.11.2",GP={"X-Client-Info":`realtime-js/${KP}`},QP="1.0.0",Ib=1e4,YP=1e3;var oo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(oo||(oo={}));var cr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(cr||(cr={}));var Fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fr||(Fr={}));var Zh;(function(e){e.websocket="websocket"})(Zh||(Zh={}));var zs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zs||(zs={}));class ZP{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Mb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const fy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=XP(o,e,t,s),i),{})},XP=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Db(i,o):Xh(o)},Db=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return rT(t,r)}switch(e){case Ve.bool:return JP(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return eT(t);case Ve.json:case Ve.jsonb:return tT(t);case Ve.timestamp:return nT(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Xh(t);default:return Xh(t)}},Xh=e=>e,JP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rT=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Db(t,l))}return e},nT=e=>typeof e=="string"?e.replace(" ","T"):e,Lb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class vf{constructor(t,r,n={},s=Ib){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hy||(hy={}));class Ma{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ma.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ma.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ma.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const d=i[u];if(d){const h=f.map(w=>w.presence_ref),g=d.map(w=>w.presence_ref),x=f.filter(w=>g.indexOf(w.presence_ref)<0),p=d.filter(w=>h.indexOf(w.presence_ref)<0);x.length>0&&(l[u]=x),p.length>0&&(c[u]=p)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(g=>g.presence_ref),h=f.filter(g=>d.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var my;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(my||(my={}));var py;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(py||(py={}));var yn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));class zp{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=cr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vf(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new Mb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ma(this),this.broadcastEndpointURL=Lb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(f=>t==null?void 0:t(yn.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(yn.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(yn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,x=[];for(let p=0;p<g;p++){const w=h[p],{filter:{event:y,schema:v,table:b,filter:_}}=w,S=f&&f[p];if(S&&S.event===y&&S.schema===v&&S.table===b&&S.filter===_)x.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),t==null||t(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(yn.SUBSCRIBED);return}}).receive("error",f=>{t==null||t(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=cr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new vf(this,Fr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new vf(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Fr;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,p,w;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(p=g.filter)===null||p===void 0?void 0:p.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var x,p,w,y,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,S=(x=g.filter)===null||x===void 0?void 0:x.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(v=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:p,table:w,commit_timestamp:y,type:v,errors:b}=x;h=Object.assign(Object.assign({},{schema:p,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}g.callback(h,n)})}_isClosed(){return this.state===cr.closed}_isJoined(){return this.state===cr.joined}_isJoining(){return this.state===cr.joining}_isLeaving(){return this.state===cr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&zp.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fr.close,{},t)}_onError(t){this._on(Fr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=fy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=fy(t.columns,t.old_record)),r}}const sT=()=>{},iT=typeof WebSocket<"u",oT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aT{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=GP,this.params={},this.timeout=Ib,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sT,this.conn=null,this.sendBuffer=[],this.serializer=new ZP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Ao(async()=>{const{default:c}=await Promise.resolve().then(()=>Ho);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Zh.websocket}`,this.httpEndpoint=Lb(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Mb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(iT){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new lT(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ao(async()=>{const{default:t}=await import("./browser-Dhc3u-aR.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:QP}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case oo.connecting:return zs.Connecting;case oo.open:return zs.Open;case oo.closing:return zs.Closing;default:return zs.Closed}}isConnected(){return this.connectionState()===zs.Open}channel(t,r={config:{}}){const n=new zp(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Fr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(YP,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([oT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class lT{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=oo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Vp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class cT extends Vp{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jh extends Vp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var uT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Fb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ao(async()=>{const{default:n}=await Promise.resolve().then(()=>Ho);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},dT=()=>uT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ao(()=>Promise.resolve().then(()=>Ho),void 0)).Response:Response}),em=e=>{if(Array.isArray(e))return e.map(r=>em(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=em(n)}),t};var _i=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const yf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fT=(e,t,r)=>_i(void 0,void 0,void 0,function*(){const n=yield dT();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new cT(yf(s),e.status||500))}).catch(s=>{t(new Jh(yf(s),s))}):t(new Jh(yf(e),e))}),hT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Al(e,t,r,n,s,i){return _i(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,hT(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>fT(c,l,n))})})}function cu(e,t,r,n){return _i(this,void 0,void 0,function*(){return Al(e,"GET",t,r,n)})}function Kn(e,t,r,n,s){return _i(this,void 0,void 0,function*(){return Al(e,"POST",t,n,s,r)})}function mT(e,t,r,n,s){return _i(this,void 0,void 0,function*(){return Al(e,"PUT",t,n,s,r)})}function pT(e,t,r,n){return _i(this,void 0,void 0,function*(){return Al(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $b(e,t,r,n,s){return _i(this,void 0,void 0,function*(){return Al(e,"DELETE",t,n,s,r)})}var Qt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const gT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vT{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Fb(s)}uploadOrUpdate(t,r,n,s){return Qt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gy),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Qt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:gy.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(vt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Qt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Kn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Vp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Qt(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Qt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Kn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Qt(this,void 0,void 0,function*(){try{const s=yield Kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}download(t,r){return Qt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield cu(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}info(t){return Qt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield cu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:em(n),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}exists(t){return Qt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield pT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(vt(n)&&n instanceof Jh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Qt(this,void 0,void 0,function*(){try{return{data:yield $b(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Qt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gT),r),{prefix:t||""});return{data:yield Kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const yT="2.7.1",xT={"X-Client-Info":`storage-js/${yT}`};var Ti=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class wT{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},xT),r),this.fetch=Fb(n)}listBuckets(){return Ti(this,void 0,void 0,function*(){try{return{data:yield cu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ti(this,void 0,void 0,function*(){try{return{data:yield cu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ti(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ti(this,void 0,void 0,function*(){try{return{data:yield mT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ti(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ti(this,void 0,void 0,function*(){try{return{data:yield $b(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}}class bT extends wT{constructor(t,r={},n){super(t,r,n)}from(t){return new vT(this.url,this.headers,t,this.fetch)}}const _T="2.49.4";let xa="";typeof Deno<"u"?xa="deno":typeof document<"u"?xa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xa="react-native":xa="node";const ST={"X-Client-Info":`supabase-js-${xa}/${_T}`},jT={headers:ST},kT={schema:"public"},CT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ET={};var NT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const PT=e=>{let t;return e?t=e:typeof fetch>"u"?t=Sb:t=fetch,(...r)=>t(...r)},TT=()=>typeof Headers>"u"?jb:Headers,RT=(e,t,r)=>{const n=PT(r),s=TT();return(i,o)=>NT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var OT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function AT(e){return e.replace(/\/$/,"")}function IT(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,f={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>OT(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Ub="2.69.1",Fi=30*1e3,tm=3,xf=tm*Fi,MT="http://localhost:9999",DT="supabase.auth.token",LT={"X-Client-Info":`gotrue-js/${Ub}`},rm="X-Supabase-Api-Version",zb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$T=6e5;class Bp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class UT extends Bp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function zT(e){return me(e)&&e.name==="AuthApiError"}class Vb extends Bp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Os extends Bp{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Vn extends Os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VT(e){return me(e)&&e.name==="AuthSessionMissingError"}class wf extends Os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ic extends Os{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class oc extends Os{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BT(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}class vy extends Os{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nm extends Os{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function bf(e){return me(e)&&e.name==="AuthRetryableFetchError"}class yy extends Os{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Da extends Os{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wy=` 	
\r=`.split(""),WT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wy.length;t+=1)e[wy[t].charCodeAt(0)]=-2;for(let t=0;t<xy.length;t+=1)e[xy[t].charCodeAt(0)]=t;return e})();function Bb(e,t,r){const n=WT[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function by(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{KT(o,n,r)};for(let o=0;o<e.length;o+=1)Bb(e.charCodeAt(o),s,i);return t.join("")}function qT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function HT(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}qT(n,t)}}function KT(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function GT(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Bb(e.charCodeAt(s),r,n);return new Uint8Array(t)}function QT(e){const t=[];return HT(e,r=>t.push(r)),new Uint8Array(t)}function YT(e){return Math.round(Date.now()/1e3)+e}function ZT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Zr=()=>typeof window<"u"&&typeof document<"u",Ds={tested:!1,writable:!1},La=()=>{if(!Zr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ds.tested)return Ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ds.tested=!0,Ds.writable=!0}catch{Ds.tested=!0,Ds.writable=!1}return Ds.writable};function XT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Wb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ao(async()=>{const{default:n}=await Promise.resolve().then(()=>Ho);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},JT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qb=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ac=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},lc=async(e,t)=>{await e.removeItem(t)};class ld{constructor(){this.promise=new ld.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ld.promiseConstructor=Promise;function _f(e){const t=e.split(".");if(t.length!==3)throw new Da("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!FT.test(t[n]))throw new Da("JWT not in base64url format");return{header:JSON.parse(by(t[0])),payload:JSON.parse(by(t[1])),signature:GT(t[2]),raw:{header:t[0],payload:t[1]}}}async function e2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function t2(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function r2(e){return("0"+e.toString(16)).substr(-2)}function n2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,r2).join("")}async function s2(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function i2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await s2(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ri(e,t,r=!1){const n=n2();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await qb(e,`${t}-code-verifier`,s);const i=await i2(n);return[i,n===i?"plain":"s256"]}const o2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a2(e){const t=e.headers.get(rm);if(!t||!t.match(o2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function l2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function c2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var u2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const $s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),d2=[502,503,504];async function _y(e){var t;if(!JT(e))throw new nm($s(e),0);if(d2.includes(e.status))throw new nm($s(e),e.status);let r;try{r=await e.json()}catch(i){throw new Vb($s(i),i)}let n;const s=a2(e);if(s&&s.getTime()>=zb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yy($s(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Vn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yy($s(r),e.status,r.weak_password.reasons);throw new UT($s(r),e.status||500,n)}const f2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function je(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[rm]||(i[rm]=zb["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await h2(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function h2(e,t,r,n,s,i){const o=f2(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new nm($s(c),0)}if(l.ok||await _y(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await _y(c)}}function Bn(e){var t;let r=null;v2(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=YT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Sy(e){const t=Bn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function m2(e){return{data:e,error:null}}function p2(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=u2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function g2(e){return e}function v2(e){return e.access_token&&e.refresh_token&&e.expires_in}var y2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class x2{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Wb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yn})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=y2(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:p2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yn})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:g2});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const p=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yn})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Yn})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yn})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}}const w2={getItem:e=>La()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{La()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{La()&&globalThis.localStorage.removeItem(e)}};function jy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function b2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Oi={debug:!!(globalThis&&La()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _2 extends Hb{}async function S2(e,t,r){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}b2();const j2={url:MT,storageKey:DT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ky(e,t,r){return await r()}class ul{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ul.nextInstanceID,ul.nextInstanceID+=1,this.instanceID>0&&Zr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},j2),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new x2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Wb(s.fetch),this.lock=s.lock||ky,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Zr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=S2:this.lock=ky,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:La()?this.storage=w2:(this.memoryStorage={},this.storage=jy(this.memoryStorage)):(this.memoryStorage={},this.storage=jy(this.memoryStorage)),Zr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ub}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=XT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Zr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),BT(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return me(r)?{error:r}:{error:new Vb("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Bn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Ri(this.storage,this.storageKey)),i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:x},xform:Bn})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Bn})}else throw new ic("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sy})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sy})}else throw new ic("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ac(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Bn});if(await lc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(me(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Bn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new wf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Ri(this.storage,this.storageKey));const{error:d}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new ic("You must provide either an email or phone number.")}catch(l){if(me(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Bn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ri(this.storage,this.storageKey)),await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:m2})}catch(i){if(me(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Vn;const{error:s}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await je(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await je(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ic("You must provide either an email or phone number and a type")}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ac(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<xf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yn}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vn}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Yn})})}catch(r){if(me(r))return VT(r)&&(await this._removeSession(),await lc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Vn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ri(this.storage,this.storageKey));const{data:u,error:f}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Yn});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=_f(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Vn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Zr())throw new oc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new oc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vy("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new oc("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const g=h-f;g*1e3<=Fi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const x=h-d;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,f);const{data:p,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ac(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(zT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await lc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ZT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ri(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(me(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,f;const{data:d,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Zr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(me(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await t2(async s=>(s>0&&await e2(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Bn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&bf(i)&&Date.now()+o-n<Fi})}catch(n){if(this._debug(r,"error",n),me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Zr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ac(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<xf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${xf}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),bf(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ld;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Vn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),me(i)){const o={session:null,error:i};return bf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await qb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await lc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Zr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Fi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fi}ms, refresh threshold is ${tm} ticks`),s<=tm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Hb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ri(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=_f(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+$T>Date.now()))return n;const{data:s,error:i}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Da("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Da("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=_f(n);if(l2(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const u=c2(s.alg),f=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,QT(`${l}.${c}`)))throw new Da("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}ul.nextInstanceID=0;const k2=ul;class C2 extends k2{constructor(t){super(t)}}var E2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class N2{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=AT(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:kT,realtime:ET,auth:Object.assign(Object.assign({},CT),{storageKey:c}),global:jT},f=IT(n??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=RT(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new HP(`${l}/rest/v1`,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new _P(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bT(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return E2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new C2({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new aT(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const P2=(e,t,r)=>new N2(e,t,r),T2="https://fshdsmmyuvhqwngkzndm.supabase.co",R2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzaGRzbW15dXZocXduZ2t6bmRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczODkzMTIsImV4cCI6MjA2Mjk2NTMxMn0.6sgzv8A8x2nMgLOjAf44lXB72L70FxkhUbtrBml7onM",ee=P2(T2,R2,{auth:{persistSession:!0,autoRefreshToken:!0,storage:localStorage}}),O2=1,A2=1e6;let Sf=0;function I2(){return Sf=(Sf+1)%Number.MAX_SAFE_INTEGER,Sf.toString()}const jf=new Map,Cy=e=>{if(jf.has(e))return;const t=setTimeout(()=>{jf.delete(e),Fa({type:"REMOVE_TOAST",toastId:e})},A2);jf.set(e,t)},M2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,O2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Cy(r):e.toasts.forEach(n=>{Cy(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Pc=[];let Tc={toasts:[]};function Fa(e){Tc=M2(Tc,e),Pc.forEach(t=>{t(Tc)})}function Ks({...e}){const t=I2(),r=s=>Fa({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Fa({type:"DISMISS_TOAST",toastId:t});return Fa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Kt(){const[e,t]=m.useState(Tc);return m.useEffect(()=>(Pc.push(t),()=>{const r=Pc.indexOf(t);r>-1&&Pc.splice(r,1)}),[e]),{...e,toast:Ks,dismiss:r=>Fa({type:"DISMISS_TOAST",toastId:r})}}const D2=async e=>{try{const{data:t,error:r}=await ee.from("profiles").select("*").eq("id",e).single();return r?(console.error("Error fetching user profile:",r),null):t?{id:t.id,name:t.name||"User",email:t.email||"",role:t.role||"customer",avatar:"",createdAt:new Date(t.created_at||Date.now()),updatedAt:new Date(t.updated_at||Date.now())}:null}catch(t){return console.error("Error in getUserProfile:",t),null}},Wr=()=>{console.log("Cleaning up auth state..."),localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&(console.log(`Removing localStorage key: ${e}`),localStorage.removeItem(e))}),Object.keys(sessionStorage||{}).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&(console.log(`Removing sessionStorage key: ${e}`),sessionStorage.removeItem(e))}),localStorage.removeItem("sb-access-token"),localStorage.removeItem("sb-refresh-token"),sessionStorage.removeItem("sb-access-token"),sessionStorage.removeItem("sb-refresh-token")},Ey=async()=>{try{console.log("Fetching current user...");const{data:{session:e},error:t}=await ee.auth.getSession();if(t)return console.error("Error getting session:",t),Wr(),null;if(!e)return console.log("No active session found"),null;console.log("Active session found, fetching user profile...");const r=await D2(e.user.id);return r||(console.error("User profile not found, cleaning up auth state"),Wr(),null)}catch(e){return console.error("Error in fetchCurrentUser:",e),Wr(),null}};function L2(){const[e,t]=m.useState(null),[r,n]=m.useState(!0),s=m.useRef(!1),i=m.useRef(null);return m.useEffect(()=>{if(s.current)return;s.current=!0,console.log("Initializing auth state...");const{data:{subscription:o}}=ee.auth.onAuthStateChange(async(c,u)=>{console.log("Auth state changed:",c,u?"with session":"no session");const f=u?`${u.user.id}-${u.access_token.substring(0,10)}`:null;if(f===i.current&&c!=="SIGNED_OUT"){console.log("Duplicate session event, skipping...");return}if(i.current=f,c==="SIGNED_OUT"||!u){console.log("User signed out or no session"),t(null),n(!1),c==="SIGNED_OUT"&&Wr();return}(c==="SIGNED_IN"||c==="TOKEN_REFRESHED")&&setTimeout(async()=>{try{console.log("Processing sign in/token refresh...");const d=await Ey();console.log("User data fetched:",d?"success":"failed"),t(d)}catch(d){console.error("Error fetching user data:",d),t(null),Wr()}finally{n(!1)}},100)});return(async()=>{try{console.log("Checking for existing session...");const c=new Promise((d,h)=>{setTimeout(()=>h(new Error("Session check timeout")),5e3)}),u=Ey(),f=await Promise.race([u,c]);console.log("Session check result:",f?"user found":"no user"),t(f)}catch(c){console.error("Error checking session:",c),t(null),Wr()}finally{n(!1)}})(),()=>{console.log("Cleaning up auth state listener"),o.unsubscribe(),s.current=!1}},[]),[{user:e,loading:r},t]}const F2=async(e,t)=>{try{console.log("Starting sign in process..."),Wr();try{console.log("Attempting global sign out before sign in..."),await ee.auth.signOut({scope:"global"}),await new Promise(s=>setTimeout(s,500))}catch(s){console.log("Pre-auth signout failed, continuing:",s)}console.log("Attempting to sign in with email/password...");const{data:r,error:n}=await ee.auth.signInWithPassword({email:e,password:t});return n?(console.error("Sign in error:",n),n.message.includes("Email not confirmed")?Ks({title:"Email not confirmed",description:"Please check your email for the confirmation link or request a new one.",variant:"destructive"}):Ks({title:"Login failed",description:n.message,variant:"destructive"}),{user:null,error:n}):(r.user&&(console.log("Sign in successful, user:",r.user.id),Ks({title:"Login successful",description:"Welcome back!",variant:"default"})),{user:r.user,error:null})}catch(r){return console.error("Unexpected error during sign in:",r),Wr(),Ks({title:"Login failed",description:"An unexpected error occurred",variant:"destructive"}),{user:null,error:r}}},$2=async(e,t,r)=>{try{Wr();const{data:n,error:s}=await ee.auth.signUp({email:e,password:t,options:{data:{name:r},emailRedirectTo:window.location.origin+"/stock2store/login"}});return s?(Ks({title:"Registration failed",description:s.message,variant:"destructive"}),{user:null,error:s}):(await ee.auth.signOut(),Ks({title:"Registration successful",description:"Please check your email for confirmation instructions.",variant:"default"}),{user:n.user,error:null})}catch(n){return console.error("Unexpected error during sign up:",n),{user:null,error:n}}},U2=async()=>{try{console.log("Starting sign out process..."),Wr();const{error:e}=await ee.auth.signOut({scope:"global"});return e?(console.error("Sign out error:",e),{error:e}):(console.log("Sign out successful"),setTimeout(()=>{window.location.href="/stock2store/login"},200),{error:null})}catch(e){return console.error("Unexpected error during sign out:",e),window.location.href="/stock2store/login",{error:e}}},z2={admin:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"warehouse",action:"manage"},{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"analytics",action:"view"},{resource:"users",action:"view"},{resource:"users",action:"manage"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"},{resource:"cart",action:"view"},{resource:"cart",action:"update"},{resource:"returns",action:"view"},{resource:"returns",action:"manage"}],warehouse:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"warehouse",action:"manage"},{resource:"store",action:"view"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"}],customer:[{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"},{resource:"cart",action:"view"},{resource:"cart",action:"update"},{resource:"returns",action:"view"},{resource:"returns",action:"manage"}],analyst:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"analytics",action:"view"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"cart",action:"view"},{resource:"cart",action:"update"}]},Kb=async()=>{try{const{data:e,error:t}=await ee.from("roles").select("id").limit(1),{data:r,error:n}=await ee.from("permissions").select("id").limit(1);return t||n?(console.log("Error checking RBAC initialization:",t||n),!1):e&&e.length>0&&r&&r.length>0}catch(e){return console.error("Error checking RBAC initialization:",e),!1}},Ny=(e,t,r)=>(z2[e]||[]).some(s=>s.resource===t&&s.action===r),V2=async e=>{try{const{data:{session:t}}=await ee.auth.getSession();if(!(t!=null&&t.user))return!1;const{data:r}=await ee.from("profiles").select("role").eq("id",t.user.id).single();return(r==null?void 0:r.role)===e}catch(t){return console.error("Error checking user role:",t),!1}},B2=async(e,t)=>{try{const{data:{session:r}}=await ee.auth.getSession();if(!(r!=null&&r.user))return console.log("No user session found"),!1;const{data:n}=await ee.from("profiles").select("role").eq("id",r.user.id).single();if(!(n!=null&&n.role))return console.log("No user role found in profile"),!1;const s=n.role;if(console.log(`Checking permission for ${e}:${t} for role: ${s}`),!await Kb()){console.log("RBAC not initialized, using fallback permissions for role:",s);const c=Ny(s,e,t);return console.log(`Fallback permission result: ${c}`),c}console.log("Using full RBAC system for permission check");const{data:o,error:l}=await ee.rpc("user_has_permission",{user_id:r.user.id,req_resource:e,req_action:t});if(l){console.error("Error checking permissions via RPC:",l),console.log("Falling back to role-based permissions due to RPC error");const c=Ny(s,e,t);return console.log(`Fallback permission result after RPC error: ${c}`),c}return console.log(`RPC permission result: ${!!o}`),!!o}catch(r){return console.error("Error checking user permissions:",r),!1}},W2=async()=>{try{return await Kb()?(console.log("RBAC system already initialized"),!0):(console.log("RBAC system not initialized, but this should be handled by the SQL migration"),!1)}catch(e){return console.error("Error initializing RBAC system:",e),!1}},q2=async(e,t)=>{try{const{data:{session:r}}=await ee.auth.getSession();if(!(r!=null&&r.user))return console.error("No user session found"),!1;if(!await V2("admin"))return console.error("User is not admin, cannot update roles"),!1;const{error:s}=await ee.from("profiles").update({role:t}).eq("id",e);return s?(console.error("Error updating user role:",s),!1):(console.log(`Successfully updated user ${e} role to ${t}`),!0)}catch(r){return console.error("Error updating user role:",r),!1}},H2=({children:e})=>{const[{user:t,loading:r},n]=L2(),{toast:s}=Kt();m.useEffect(()=>{t&&t.role==="admin"&&!r&&(async()=>{try{console.log("Initializing RBAC for admin user...");const c=await W2();console.log(c?"RBAC system initialized successfully":"RBAC system was already initialized")}catch(c){console.error("Error initializing RBAC system:",c)}})()},[t==null?void 0:t.id,t==null?void 0:t.role,r]);const o={user:t,loading:r,signOut:async()=>{try{await U2(),n(null)}catch(l){console.error("Error during sign out:",l),s({title:"Sign out failed",description:"An error occurred while signing out. Please try again.",variant:"destructive"})}}};return a.jsx(_b.Provider,{value:o,children:e})},K2={items:[],total:0,itemCount:0,isLoading:!1};function Gb(e,t){switch(t.type){case"ADD_ITEM":{const{product:r,quantity:n}=t.payload,s=e.items.find(c=>c.product.id===r.id);let i;if(s)i=e.items.map(c=>c.product.id===r.id?{...c,quantity:Math.min(c.quantity+n,r.stock)}:c);else{const c={id:`cart-${r.id}-${Date.now()}`,product:r,quantity:Math.min(n,r.stock),addedAt:new Date,status:r.stock>0?"available":"unavailable"};i=[...e.items,c]}const o=i.reduce((c,u)=>c+u.product.price*u.quantity,0),l=i.reduce((c,u)=>c+u.quantity,0);return{...e,items:i,total:o,itemCount:l}}case"REMOVE_ITEM":{const r=e.items.filter(i=>i.product.id!==t.payload.productId),n=r.reduce((i,o)=>i+o.product.price*o.quantity,0),s=r.reduce((i,o)=>i+o.quantity,0);return{...e,items:r,total:n,itemCount:s}}case"UPDATE_QUANTITY":{const{productId:r,quantity:n}=t.payload;if(n<=0)return Gb(e,{type:"REMOVE_ITEM",payload:{productId:r}});const s=e.items.map(l=>l.product.id===r?{...l,quantity:Math.min(n,l.product.stock)}:l),i=s.reduce((l,c)=>l+c.product.price*c.quantity,0),o=s.reduce((l,c)=>l+c.quantity,0);return{...e,items:s,total:i,itemCount:o}}case"UPDATE_ITEM_STATUS":{const{productId:r,status:n}=t.payload,s=e.items.map(i=>i.product.id===r?{...i,status:n}:i);return{...e,items:s}}case"CLEAR_CART":return{...e,items:[],total:0,itemCount:0};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ITEMS":{const r=t.payload,n=r.reduce((i,o)=>i+o.product.price*o.quantity,0),s=r.reduce((i,o)=>i+o.quantity,0);return{...e,items:r,total:n,itemCount:s}}default:return e}}const Qb=m.createContext(void 0);function G2({children:e}){const[t,r]=m.useReducer(Gb,K2),{user:n}=Dn(),{toast:s}=Kt();m.useEffect(()=>{if(n){const d=localStorage.getItem(`cart-${n.id}`);if(d)try{const h=JSON.parse(d);r({type:"SET_ITEMS",payload:h})}catch(h){console.error("Error loading cart from localStorage:",h)}}},[n]),m.useEffect(()=>{n&&t.items.length>=0&&localStorage.setItem(`cart-${n.id}`,JSON.stringify(t.items))},[t.items,n]);const i=(d,h=1)=>{if(d.stock<=0){s({title:"Product unavailable",description:"This product is currently out of stock.",variant:"destructive"});return}const g=u(d.id);if(g+h>d.stock){s({title:"Insufficient stock",description:`Only ${d.stock} items available. You already have ${g} in your cart.`,variant:"destructive"});return}r({type:"ADD_ITEM",payload:{product:d,quantity:h}}),s({title:"Added to cart",description:`${d.name} has been added to your cart.`})},o=d=>{r({type:"REMOVE_ITEM",payload:{productId:d}}),s({title:"Removed from cart",description:"Item has been removed from your cart."})},l=(d,h)=>{r({type:"UPDATE_QUANTITY",payload:{productId:d,quantity:h}})},c=()=>{r({type:"CLEAR_CART"}),s({title:"Cart cleared",description:"All items have been removed from your cart."})},u=d=>{const h=t.items.find(g=>g.product.id===d);return(h==null?void 0:h.quantity)||0},f={...t,addToCart:i,removeFromCart:o,updateQuantity:l,clearCart:c,getCartItemQuantity:u};return a.jsx(Qb.Provider,{value:f,children:e})}function Wp(){const e=m.useContext(Qb);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}function Z(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Q2(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function cd(...e){return t=>e.forEach(r=>Q2(r,t))}function We(...e){return m.useCallback(cd(...e),e)}function Y2(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:g,...x}=d,p=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:w,children:g})}function f(d,h){const g=(h==null?void 0:h[e][c])||l,x=m.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Z2(s,...t)]}function Z2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var ws=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),i=s.find(J2);if(i){const o=i.props.children,l=s.map(c=>c===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return a.jsx(sm,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return a.jsx(sm,{...n,ref:t,children:r})});ws.displayName="Slot";var sm=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=tR(r);return m.cloneElement(r,{...eR(n,r.props),ref:t?cd(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});sm.displayName="SlotClone";var X2=({children:e})=>a.jsx(a.Fragment,{children:e});function J2(e){return m.isValidElement(e)&&e.type===X2}function eR(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function tR(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ud(e){const t=e+"CollectionProvider",[r,n]=Y2(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:p}=g,w=ye.useRef(null),y=ye.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:y,collectionRef:w,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=ye.forwardRef((g,x)=>{const{scope:p,children:w}=g,y=i(l,p),v=We(x,y.collectionRef);return a.jsx(ws,{ref:v,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=ye.forwardRef((g,x)=>{const{scope:p,children:w,...y}=g,v=ye.useRef(null),b=We(x,v),_=i(u,p);return ye.useEffect(()=>(_.itemMap.set(v,{ref:v,...y}),()=>void _.itemMap.delete(v))),a.jsx(ws,{[f]:"",ref:b,children:w})});d.displayName=u;function h(g){const x=i(e+"CollectionConsumer",g);return ye.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((_,S)=>y.indexOf(_.ref.current)-y.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},h,n]}function Go(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const u=d=>{var y;const{scope:h,children:g,...x}=d,p=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:w,children:g})};u.displayName=i+"Provider";function f(d,h){var p;const g=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,x=m.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,rR(s,...t)]}function rR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var nR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=nR.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:i,...o}=n,l=i?ws:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function qp(e,t){e&&wi.flushSync(()=>e.dispatchEvent(t))}function Pt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function sR(e,t=globalThis==null?void 0:globalThis.document){const r=Pt(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var iR="DismissableLayer",im="dismissableLayer.update",oR="dismissableLayer.pointerDownOutside",aR="dismissableLayer.focusOutside",Py,Yb=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dd=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(Yb),[f,d]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),x=We(t,C=>d(C)),p=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(w),v=f?p.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=y,S=cR(C=>{const P=C.target,M=[...u.branches].some(I=>I.contains(P));!_||M||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),E=uR(C=>{const P=C.target;[...u.branches].some(I=>I.contains(P))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return sR(C=>{v===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Py=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Ty(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Py)}},[f,h,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Ty())},[f,u]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(im,C),()=>document.removeEventListener(im,C)},[]),a.jsx(ue.div,{...c,ref:x,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,S.onPointerDownCapture)})});dd.displayName=iR;var lR="DismissableLayerBranch",Zb=m.forwardRef((e,t)=>{const r=m.useContext(Yb),n=m.useRef(null),s=We(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(ue.div,{...e,ref:s})});Zb.displayName=lR;function cR(e,t=globalThis==null?void 0:globalThis.document){const r=Pt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){Xb(oR,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function uR(e,t=globalThis==null?void 0:globalThis.document){const r=Pt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&Xb(aR,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ty(){const e=new CustomEvent(im);document.dispatchEvent(e)}function Xb(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?qp(s,i):s.dispatchEvent(i)}var dR=dd,fR=Zb,wt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},hR="Portal",fd=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=m.useState(!1);wt(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?DE.createPortal(a.jsx(ue.div,{...n,ref:t}),o):null});fd.displayName=hR;function mR(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Si=e=>{const{present:t,children:r}=e,n=pR(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=We(n.ref,gR(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};Si.displayName="Presence";function pR(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=mR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=cc(n.current);i.current=l==="mounted"?u:"none"},[l]),wt(()=>{const u=n.current,f=s.current;if(f!==e){const h=i.current,g=cc(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),wt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=g=>{const p=cc(n.current).includes(g.animationName);if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=g=>{g.target===t&&(i.current=cc(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function cc(e){return(e==null?void 0:e.animationName)||"none"}function gR(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Mo({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=vR({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Pt(r),c=m.useCallback(u=>{if(i){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else s(u)},[i,e,s,l]);return[o,c]}function vR({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),i=Pt(t);return m.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var yR="VisuallyHidden",hd=m.forwardRef((e,t)=>a.jsx(ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));hd.displayName=yR;var Hp="ToastProvider",[Kp,xR,wR]=ud("Toast"),[Jb,c$]=Go("Toast",[wR]),[bR,md]=Jb(Hp),e_=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[u,f]=m.useState(0),d=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hp}\`. Expected non-empty \`string\`.`),a.jsx(Kp.Provider,{scope:t,children:a.jsx(bR,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>f(g=>g+1),[]),onToastRemove:m.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};e_.displayName=Hp;var t_="ToastViewport",_R=["F8"],om="toast.viewportPause",am="toast.viewportResume",r_=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=_R,label:s="Notifications ({hotkey})",...i}=e,o=md(t_,r),l=xR(r),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),d=m.useRef(null),h=We(t,d,o.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;m.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),m.useEffect(()=>{const w=c.current,y=d.current;if(x&&w&&y){const v=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(om);y.dispatchEvent(E),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(am);y.dispatchEvent(E),o.isClosePausedRef.current=!1}},_=E=>{!w.contains(E.relatedTarget)&&b()},S=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",_),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const p=m.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const _=b.ref.current,S=[_,...MR(_)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const w=d.current;if(w){const y=v=>{var S,E,C;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const P=document.activeElement,M=v.shiftKey;if(v.target===w&&M){(S=u.current)==null||S.focus();return}const A=p({tabbingDirection:M?"backwards":"forwards"}),z=A.findIndex(D=>D===P);kf(A.slice(z+1))?v.preventDefault():M?(E=u.current)==null||E.focus():(C=f.current)==null||C.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,p]),a.jsxs(fR,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(lm,{ref:u,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"forwards"});kf(w)}}),a.jsx(Kp.Slot,{scope:r,children:a.jsx(ue.ol,{tabIndex:-1,...i,ref:h})}),x&&a.jsx(lm,{ref:f,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"backwards"});kf(w)}})]})});r_.displayName=t_;var n_="ToastFocusProxy",lm=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=md(n_,r);return a.jsx(hd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});lm.displayName=n_;var pd="Toast",SR="toast.swipeStart",jR="toast.swipeMove",kR="toast.swipeCancel",CR="toast.swipeEnd",s_=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l=!0,c]=Mo({prop:n,defaultProp:s,onChange:i});return a.jsx(Si,{present:r||l,children:a.jsx(PR,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Pt(e.onPause),onResume:Pt(e.onResume),onSwipeStart:Z(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Z(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});s_.displayName=pd;var[ER,NR]=Jb(pd,{onClose(){}}),PR=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:g,...x}=e,p=md(pd,r),[w,y]=m.useState(null),v=We(t,D=>y(D)),b=m.useRef(null),_=m.useRef(null),S=s||p.duration,E=m.useRef(0),C=m.useRef(S),P=m.useRef(0),{onToastAdd:M,onToastRemove:I}=p,G=Pt(()=>{var X;(w==null?void 0:w.contains(document.activeElement))&&((X=p.viewport)==null||X.focus()),o()}),A=m.useCallback(D=>{!D||D===1/0||(window.clearTimeout(P.current),E.current=new Date().getTime(),P.current=window.setTimeout(G,D))},[G]);m.useEffect(()=>{const D=p.viewport;if(D){const X=()=>{A(C.current),u==null||u()},W=()=>{const te=new Date().getTime()-E.current;C.current=C.current-te,window.clearTimeout(P.current),c==null||c()};return D.addEventListener(om,W),D.addEventListener(am,X),()=>{D.removeEventListener(om,W),D.removeEventListener(am,X)}}},[p.viewport,S,c,u,A]),m.useEffect(()=>{i&&!p.isClosePausedRef.current&&A(S)},[i,S,p.isClosePausedRef,A]),m.useEffect(()=>(M(),()=>I()),[M,I]);const z=m.useMemo(()=>w?d_(w):null,[w]);return p.viewport?a.jsxs(a.Fragment,{children:[z&&a.jsx(TR,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),a.jsx(ER,{scope:r,onClose:G,children:wi.createPortal(a.jsx(Kp.ItemSlot,{scope:r,children:a.jsx(dR,{asChild:!0,onEscapeKeyDown:Z(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||G(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Z(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:Z(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:Z(e.onPointerMove,D=>{if(!b.current)return;const X=D.clientX-b.current.x,W=D.clientY-b.current.y,te=!!_.current,T=["left","right"].includes(p.swipeDirection),R=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,V=T?R(0,X):0,re=T?0:R(0,W),pe=D.pointerType==="touch"?10:2,ot={x:V,y:re},ze={originalEvent:D,delta:ot};te?(_.current=ot,uc(jR,d,ze,{discrete:!1})):Ry(ot,p.swipeDirection,pe)?(_.current=ot,uc(SR,f,ze,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(X)>pe||Math.abs(W)>pe)&&(b.current=null)}),onPointerUp:Z(e.onPointerUp,D=>{const X=_.current,W=D.target;if(W.hasPointerCapture(D.pointerId)&&W.releasePointerCapture(D.pointerId),_.current=null,b.current=null,X){const te=D.currentTarget,T={originalEvent:D,delta:X};Ry(X,p.swipeDirection,p.swipeThreshold)?uc(CR,g,T,{discrete:!0}):uc(kR,h,T,{discrete:!0}),te.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),TR=e=>{const{__scopeToast:t,children:r,...n}=e,s=md(pd,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return AR(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(fd,{asChild:!0,children:a.jsx(hd,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},RR="ToastTitle",i_=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});i_.displayName=RR;var OR="ToastDescription",o_=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});o_.displayName=OR;var a_="ToastAction",l_=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(u_,{altText:r,asChild:!0,children:a.jsx(Gp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${a_}\`. Expected non-empty \`string\`.`),null)});l_.displayName=a_;var c_="ToastClose",Gp=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=NR(c_,r);return a.jsx(u_,{asChild:!0,children:a.jsx(ue.button,{type:"button",...n,ref:t,onClick:Z(e.onClick,s.onClose)})})});Gp.displayName=c_;var u_=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function d_(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),IR(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...d_(n))}}),t}function uc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?qp(s,i):s.dispatchEvent(i)}var Ry=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function AR(e=()=>{}){const t=Pt(e);wt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function IR(e){return e.nodeType===e.ELEMENT_NODE}function MR(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function kf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var DR=e_,f_=r_,h_=s_,m_=i_,p_=o_,g_=l_,v_=Gp;function y_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=y_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function x_(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=y_(e))&&(n&&(n+=" "),n+=t);return n}const Oy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ay=x_,gd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Ay(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],d=i==null?void 0:i[u];if(f===null)return null;const h=Oy(f)||Oy(d);return s[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...g}=f;return Object.entries(g).every(x=>{let[p,w]=x;return Array.isArray(w)?w.includes({...i,...l}[p]):{...i,...l}[p]===w})?[...u,d,h]:u},[]);return Ay(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...FR,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:w_("lucide",s),...l},[...o.map(([u,f])=>m.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement($R,{ref:i,iconNode:t,className:w_(`lucide-${LR(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=oe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=oe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=oe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=oe("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=oe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=oe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=oe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=oe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=oe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=oe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=oe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eg="-",aO=e=>{const t=cO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(eg);return l[0]===""&&l.length!==1&&l.shift(),P_(l,t)||lO(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},P_=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?P_(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(eg);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},zy=/^\[(.+)\]$/,lO=e=>{if(zy.test(e)){const t=zy.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},cO=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return dO(Object.entries(e.classGroups),r).forEach(([i,o])=>{dm(o,n,i,t)}),n},dm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Vy(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(uO(s)){dm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{dm(o,Vy(t,i),r,n)})})},Vy=(e,t)=>{let r=e;return t.split(eg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},uO=e=>e.isThemeGetter,dO=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,fO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},T_="!",hO=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let w=0;w<l.length;w++){let y=l[w];if(u===0){if(y===s&&(n||l.slice(w,w+i)===t)){c.push(l.slice(f,w)),f=w+i;continue}if(y==="/"){d=w;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(f),g=h.startsWith(T_),x=g?h.substring(1):h,p=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},mO=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},pO=e=>({cache:fO(e.cacheSize),parseClassName:hO(e),...aO(e)}),gO=/\s+/,vO=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(gO);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:g}=r(u);let x=!!g,p=n(x?h.substring(0,g):h);if(!p){if(!x){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}x=!1}const w=mO(f).join(":"),y=d?w+T_:w,v=y+p;if(i.includes(v))continue;i.push(v);const b=s(p,x);for(let _=0;_<b.length;++_){const S=b[_];i.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function yO(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=R_(t))&&(n&&(n+=" "),n+=r);return n}const R_=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=R_(e[n]))&&(r&&(r+=" "),r+=t);return r};function xO(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=pO(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=vO(c,r);return s(c,f),f}return function(){return i(yO.apply(null,arguments))}}const He=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},O_=/^\[(?:([a-z-]+):)?(.+)\]$/i,wO=/^\d+\/\d+$/,bO=new Set(["px","full","screen"]),_O=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hn=e=>ao(e)||bO.has(e)||wO.test(e),Fn=e=>Qo(e,"length",IO),ao=e=>!!e&&!Number.isNaN(Number(e)),Cf=e=>Qo(e,"number",ao),la=e=>!!e&&Number.isInteger(Number(e)),EO=e=>e.endsWith("%")&&ao(e.slice(0,-1)),he=e=>O_.test(e),$n=e=>_O.test(e),NO=new Set(["length","size","percentage"]),PO=e=>Qo(e,NO,A_),TO=e=>Qo(e,"position",A_),RO=new Set(["image","url"]),OO=e=>Qo(e,RO,DO),AO=e=>Qo(e,"",MO),ca=()=>!0,Qo=(e,t,r)=>{const n=O_.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},IO=e=>SO.test(e)&&!jO.test(e),A_=()=>!1,MO=e=>kO.test(e),DO=e=>CO.test(e),LO=()=>{const e=He("colors"),t=He("spacing"),r=He("blur"),n=He("brightness"),s=He("borderColor"),i=He("borderRadius"),o=He("borderSpacing"),l=He("borderWidth"),c=He("contrast"),u=He("grayscale"),f=He("hueRotate"),d=He("invert"),h=He("gap"),g=He("gradientColorStops"),x=He("gradientColorStopPositions"),p=He("inset"),w=He("margin"),y=He("opacity"),v=He("padding"),b=He("saturate"),_=He("scale"),S=He("sepia"),E=He("skew"),C=He("space"),P=He("translate"),M=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",he,t],A=()=>[he,t],z=()=>["",hn,Fn],D=()=>["auto",ao,he],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",he],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[ao,he];return{cacheSize:500,separator:":",theme:{colors:[ca],spacing:[hn,Fn],blur:["none","",$n,he],brightness:re(),borderColor:[e],borderRadius:["none","","full",$n,he],borderSpacing:A(),borderWidth:z(),contrast:re(),grayscale:R(),hueRotate:re(),invert:R(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[EO,Fn],inset:G(),margin:G(),opacity:re(),padding:A(),saturate:re(),scale:re(),sepia:R(),skew:re(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[$n]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),he]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",la,he]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",la,he]}],"grid-cols":[{"grid-cols":[ca]}],"col-start-end":[{col:["auto",{span:["full",la,he]},he]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[ca]}],"row-start-end":[{row:["auto",{span:[la,he]},he]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,t]}],"min-w":[{"min-w":[he,t,"min","max","fit"]}],"max-w":[{"max-w":[he,t,"none","full","min","max","fit","prose",{screen:[$n]},$n]}],h:[{h:[he,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$n,Fn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cf]}],"font-family":[{font:[ca]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",ao,Cf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hn,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hn,Fn]}],"underline-offset":[{"underline-offset":["auto",hn,he]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),TO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[hn,he]}],"outline-w":[{outline:[hn,Fn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[hn,Fn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$n,AO]}],"shadow-color":[{shadow:[ca]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$n,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[la,he]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hn,Fn,Cf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FO=xO(LO);function se(...e){return FO(x_(e))}const $O=DR,I_=m.forwardRef(({className:e,...t},r)=>a.jsx(f_,{ref:r,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));I_.displayName=f_.displayName;const UO=gd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),M_=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(h_,{ref:n,className:se(UO({variant:t}),e),...r}));M_.displayName=h_.displayName;const zO=m.forwardRef(({className:e,...t},r)=>a.jsx(g_,{ref:r,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));zO.displayName=g_.displayName;const D_=m.forwardRef(({className:e,...t},r)=>a.jsx(v_,{ref:r,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Jp,{className:"h-4 w-4"})}));D_.displayName=v_.displayName;const L_=m.forwardRef(({className:e,...t},r)=>a.jsx(m_,{ref:r,className:se("text-sm font-semibold",e),...t}));L_.displayName=m_.displayName;const F_=m.forwardRef(({className:e,...t},r)=>a.jsx(p_,{ref:r,className:se("text-sm opacity-90",e),...t}));F_.displayName=p_.displayName;function VO(){const{toasts:e}=Kt();return a.jsxs($O,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(M_,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(L_,{children:r}),n&&a.jsx(F_,{children:n})]}),s,a.jsx(D_,{})]},t)}),a.jsx(I_,{})]})}const Qr=({children:e,resource:t,action:r,fallbackPath:n="/login"})=>{const{user:s,loading:i}=Dn(),o=Mn(),{toast:l}=Kt(),[c,u]=m.useState(!1),[f,d]=m.useState(!1);return m.useEffect(()=>{(async()=>{if(!s||i){u(!1),d(!i);return}try{console.log(`Checking permission for ${t}:${r} for user role: ${s.role}`);const g=await B2(t,r);console.log(`Permission result for ${t}:${r}: ${g}`),u(g),g||(console.log(`Access denied for ${t}:${r}, redirecting to ${n}`),l({title:"Access denied",description:"You don't have permission to access this resource.",variant:"destructive"}))}catch(g){console.error("Error checking permission:",g),u(!1)}finally{d(!0)}})()},[s==null?void 0:s.id,s==null?void 0:s.role,i,t,r,l,n]),i||!f?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?c?a.jsx(a.Fragment,{children:e}):a.jsx(Xv,{to:n,state:{from:o},replace:!0}):a.jsx(Xv,{to:"/login",state:{from:o},replace:!0})},de=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));de.displayName="Card";const we=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:se("flex flex-col space-y-1.5 p-6",e),...t}));we.displayName="CardHeader";const be=m.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));be.displayName="CardTitle";const et=m.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:se("text-sm text-muted-foreground",e),...t}));et.displayName="CardDescription";const ge=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:se("p-6 pt-0",e),...t}));ge.displayName="CardContent";const $_=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:se("flex items-center p-6 pt-0",e),...t}));$_.displayName="CardFooter";function BO(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:g,...x}=d,p=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:w,children:g})}function f(d,h){const g=(h==null?void 0:h[e][c])||l,x=m.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,WO(s,...t)]}function WO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var qO=Xx.useId||(()=>{}),HO=0;function di(e){const[t,r]=m.useState(qO());return wt(()=>{e||r(n=>n??String(HO++))},[e]),e||(t?`radix-${t}`:"")}var KO=m.createContext(void 0);function vd(e){const t=m.useContext(KO);return e||t||"ltr"}var Ef="rovingFocusGroup.onEntryFocus",GO={bubbles:!1,cancelable:!0},yd="RovingFocusGroup",[fm,U_,QO]=ud(yd),[YO,xd]=BO(yd,[QO]),[ZO,XO]=YO(yd),z_=m.forwardRef((e,t)=>a.jsx(fm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(fm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(JO,{...e,ref:t})})}));z_.displayName=yd;var JO=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=m.useRef(null),g=We(t,h),x=vd(i),[p=null,w]=Mo({prop:o,defaultProp:l,onChange:c}),[y,v]=m.useState(!1),b=Pt(u),_=U_(r),S=m.useRef(!1),[E,C]=m.useState(0);return m.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(Ef,b),()=>P.removeEventListener(Ef,b)},[b]),a.jsx(ZO,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:p,onItemFocus:m.useCallback(P=>w(P),[w]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>C(P=>P-1),[]),children:a.jsx(ue.div,{tabIndex:y||E===0?-1:0,"data-orientation":n,...d,ref:g,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{S.current=!0}),onFocus:Z(e.onFocus,P=>{const M=!S.current;if(P.target===P.currentTarget&&M&&!y){const I=new CustomEvent(Ef,GO);if(P.currentTarget.dispatchEvent(I),!I.defaultPrevented){const G=_().filter(W=>W.focusable),A=G.find(W=>W.active),z=G.find(W=>W.id===p),X=[A,z,...G].filter(Boolean).map(W=>W.ref.current);W_(X,f)}}S.current=!1}),onBlur:Z(e.onBlur,()=>v(!1))})})}),V_="RovingFocusGroupItem",B_=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,l=di(),c=i||l,u=XO(V_,r),f=u.currentTabStopId===c,d=U_(r),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return m.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),a.jsx(fm.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(ue.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Z(e.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:Z(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Z(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const p=rA(x,u.orientation,u.dir);if(p!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=d().filter(v=>v.focusable).map(v=>v.ref.current);if(p==="last")y.reverse();else if(p==="prev"||p==="next"){p==="prev"&&y.reverse();const v=y.indexOf(x.currentTarget);y=u.loop?nA(y,v+1):y.slice(v+1)}setTimeout(()=>W_(y))}})})})});B_.displayName=V_;var eA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tA(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function rA(e,t,r){const n=tA(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return eA[n]}function W_(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function nA(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var q_=z_,H_=B_,tg="Tabs",[sA,u$]=Go(tg,[xd]),K_=xd(),[iA,rg]=sA(tg),G_=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=vd(l),[d,h]=Mo({prop:n,onChange:s,defaultProp:i});return a.jsx(iA,{scope:r,baseId:di(),value:d,onValueChange:h,orientation:o,dir:f,activationMode:c,children:a.jsx(ue.div,{dir:f,"data-orientation":o,...u,ref:t})})});G_.displayName=tg;var Q_="TabsList",Y_=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=rg(Q_,r),o=K_(r);return a.jsx(q_,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(ue.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Y_.displayName=Q_;var Z_="TabsTrigger",X_=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=rg(Z_,r),l=K_(r),c=t1(o.baseId,n),u=r1(o.baseId,n),f=n===o.value;return a.jsx(H_,{asChild:!0,...l,focusable:!s,active:f,children:a.jsx(ue.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Z(e.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:Z(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:Z(e.onFocus,()=>{const d=o.activationMode!=="manual";!f&&!s&&d&&o.onValueChange(n)})})})});X_.displayName=Z_;var J_="TabsContent",e1=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=rg(J_,r),c=t1(l.baseId,n),u=r1(l.baseId,n),f=n===l.value,d=m.useRef(f);return m.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Si,{present:s||f,children:({present:h})=>a.jsx(ue.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&i})})});e1.displayName=J_;function t1(e,t){return`${e}-trigger-${t}`}function r1(e,t){return`${e}-content-${t}`}var oA=G_,n1=Y_,s1=X_,i1=e1;const ng=oA,wd=m.forwardRef(({className:e,...t},r)=>a.jsx(n1,{ref:r,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));wd.displayName=n1.displayName;const fr=m.forwardRef(({className:e,...t},r)=>a.jsx(s1,{ref:r,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));fr.displayName=s1.displayName;const hr=m.forwardRef(({className:e,...t},r)=>a.jsx(i1,{ref:r,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));hr.displayName=i1.displayName;const aA=gd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ee=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?ws:"button";return a.jsx(o,{className:se(aA({variant:t,size:r,className:e})),ref:i,...s})});Ee.displayName="Button";const xe=m.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));xe.displayName="Input";var lA="Label",o1=m.forwardRef((e,t)=>a.jsx(ue.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o1.displayName=lA;var a1=o1;const cA=gd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=m.forwardRef(({className:e,...t},r)=>a.jsx(a1,{ref:r,className:se(cA(),e),...t}));Qe.displayName=a1.displayName;const uA=({email:e,setEmail:t})=>{const[r,n]=m.useState(""),[s,i]=m.useState(!1),{toast:o}=Kt(),l=async c=>{c.preventDefault(),i(!0);try{const{user:u,error:f}=await F2(e,r);f&&console.error("Login error:",f)}catch{o({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(!1)}};return a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"email",children:"Email"}),a.jsx(xe,{id:"email",type:"email",value:e,onChange:c=>t(c.target.value),placeholder:"Your email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Qe,{htmlFor:"password",children:"Password"}),a.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})]}),a.jsx(xe,{id:"password",type:"password",value:r,onChange:c=>n(c.target.value),placeholder:"Your password",required:!0})]}),a.jsx(Ee,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx($a,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]})},dA=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,i]=m.useState(""),[o,l]=m.useState("");m.useState("customer");const[c,u]=m.useState(!1),{toast:f}=Kt();bi();const d=async h=>{if(h.preventDefault(),!e||!r||!s){f({title:"Missing information",description:"Please fill in all fields",variant:"destructive"});return}if(s!==o){f({title:"Passwords don't match",description:"Please make sure your passwords match",variant:"destructive"});return}u(!0);try{const{user:g,error:x}=await $2(r,s,e);x?f({title:"Registration failed",description:x.message,variant:"destructive"}):(t(""),n(""),i(""),l(""),console.log("Registration successful, redirecting to login page"),window.location.href="/stock2store/login")}catch{f({title:"Registration failed",description:"An unexpected error occurred",variant:"destructive"})}finally{u(!1)}};return a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"name",children:"Name"}),a.jsx(xe,{id:"name",type:"text",value:e,onChange:h=>t(h.target.value),placeholder:"Your name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"email",children:"Email"}),a.jsx(xe,{id:"email",type:"email",value:r,onChange:h=>n(h.target.value),placeholder:"Your email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"password",children:"Password"}),a.jsx(xe,{id:"password",type:"password",value:s,onChange:h=>i(h.target.value),placeholder:"Create a password",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx(xe,{id:"confirmPassword",type:"password",value:o,onChange:h=>l(h.target.value),placeholder:"Confirm your password",required:!0})]}),a.jsx(Ee,{type:"submit",className:"w-full",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx($a,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})},fA=()=>{const[e,t]=m.useState("");return a.jsxs(de,{className:"w-full max-w-md",children:[a.jsxs(we,{className:"space-y-1",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"text-3xl font-bold text-blue-700",children:"Stock2Store"})}),a.jsx(be,{className:"text-2xl text-center",children:"Welcome"}),a.jsx(et,{className:"text-center",children:"Sign in to your account or create a new one"})]}),a.jsx(ge,{children:a.jsxs(ng,{defaultValue:"login",className:"w-full",children:[a.jsxs(wd,{className:"grid w-full grid-cols-2",children:[a.jsx(fr,{value:"login",children:"Login"}),a.jsx(fr,{value:"register",children:"Register"})]}),a.jsx(hr,{value:"login",children:a.jsx(uA,{email:e,setEmail:t})}),a.jsx(hr,{value:"register",children:a.jsx(dA,{})})]})}),a.jsx($_,{className:"flex flex-col space-y-4",children:a.jsx("div",{className:"text-sm text-center text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})},By=({message:e})=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{children:e})]})}),hA=()=>{const e=bi(),{user:t,loading:r}=Dn(),n=m.useRef(!1);return m.useEffect(()=>{!t&&!r&&(console.log("Cleaning up auth state on login page"),Wr())},[t,r]),m.useEffect(()=>{if(t&&!r&&!n.current){n.current=!0,console.log(`User authenticated with role: ${t.role}, redirecting...`);const i={customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"}[t.role]||"/store";console.log(`Redirecting ${t.role} user to ${i}`),e(i,{replace:!0})}},[t,e,r]),m.useEffect(()=>{t||(n.current=!1)},[t]),r?a.jsx(By,{message:"Checking authentication status..."}):t?a.jsx(By,{message:"Redirecting..."}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:a.jsx(fA,{})})};var sg="Avatar",[mA,d$]=Go(sg),[pA,l1]=mA(sg),c1=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=m.useState("idle");return a.jsx(pA,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(ue.span,{...n,ref:t})})});c1.displayName=sg;var u1="AvatarImage",d1=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=l1(u1,r),l=gA(n,i.referrerPolicy),c=Pt(u=>{s(u),o.onImageLoadingStatusChange(u)});return wt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(ue.img,{...i,ref:t,src:n}):null});d1.displayName=u1;var f1="AvatarFallback",h1=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=l1(f1,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(ue.span,{...s,ref:t}):null});h1.displayName=f1;function gA(e,t){const[r,n]=m.useState("idle");return wt(()=>{if(!e){n("error");return}let s=!0;const i=new window.Image,o=l=>()=>{s&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var m1=c1,p1=d1,g1=h1;const bd=m.forwardRef(({className:e,...t},r)=>a.jsx(m1,{ref:r,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));bd.displayName=m1.displayName;const _d=m.forwardRef(({className:e,...t},r)=>a.jsx(p1,{ref:r,className:se("aspect-square h-full w-full",e),...t}));_d.displayName=p1.displayName;const Sd=m.forwardRef(({className:e,...t},r)=>a.jsx(g1,{ref:r,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Sd.displayName=g1.displayName;const vA=({user:e})=>{const[t,r]=m.useState("");m.useEffect(()=>{(async()=>{try{const{data:i,error:o}=await ee.from("profiles").select("avatar_url").eq("id",e.id).single();!o&&(i!=null&&i.avatar_url)&&r(i.avatar_url)}catch(i){console.error("Error fetching avatar:",i)}})()},[e.id]);const n=e.name?e.name.substring(0,2).toUpperCase():e.email?e.email.substring(0,2).toUpperCase():"US";return a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsxs(bd,{children:[a.jsx(_d,{src:t||e.avatar,alt:e.name||"User"}),a.jsx(Sd,{children:n})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e.name||e.email||"User"}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.role})]})]})},yA=[{name:"Warehouse",href:"/warehouse",icon:dt,roles:["admin","warehouse"]},{name:"Store",href:"/store",icon:oO,roles:["admin","customer","analyst","warehouse"]},{name:"Analytics",href:"/analytics",icon:uu,roles:["admin","analyst"]},{name:"Users",href:"/users",icon:Xp,roles:["admin"]},{name:"Shopping Cart",href:"/cart",icon:Zp,roles:["customer","admin"]},{name:"Orders",href:"/orders",icon:QR,roles:["customer","admin"]},{name:"Returns",href:"/returns",icon:dl,roles:["customer","admin"]},{name:"Profile",href:"/profile",icon:N_,roles:["admin","warehouse","analyst","customer"]},{name:"Settings",href:"/settings",icon:rO,roles:["admin","warehouse","analyst","customer"]}];function xA(e){return yA.filter(t=>t.roles.includes(e))}const wA=({name:e,href:t,icon:r,active:n})=>a.jsxs(Hs,{to:t,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${n?"bg-blue-50 text-blue-700 dark:bg-blue-900/50 dark:text-blue-200":"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700/50"}`,children:[a.jsx(r,{size:20,className:`mr-3 ${n?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`}),e]}),bA=({userRole:e})=>{const t=Mn(),r=s=>t.pathname===s,n=xA(e);return a.jsx("nav",{className:"space-y-1 mt-4",children:n.map(s=>a.jsx(wA,{name:s.name,href:s.href,icon:s.icon,active:r(s.href)},s.name))})},_A=({user:e,sidebarOpen:t,setSidebarOpen:r,onSignOut:n})=>{const s=()=>({customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"})[e.role]||"/store";return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden ${t?"block":"hidden"}`,onClick:()=>r(!1)}),a.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 shadow-lg transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-50 flex flex-col`,children:[a.jsxs("div",{className:"flex items-center justify-between px-4 h-16 border-b border-gray-200 dark:border-gray-700",children:[a.jsx(Hs,{to:s(),className:"flex items-center",children:a.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Stock2Store"})}),a.jsx("button",{className:"lg:hidden",onClick:()=>r(!1),children:a.jsx(Jp,{size:24,className:"text-gray-600 dark:text-gray-300"})})]}),a.jsxs("div",{className:"flex-1 px-4 py-4 overflow-y-auto",children:[a.jsx(vA,{user:e}),a.jsx(bA,{userRole:e.role})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:a.jsxs(Ee,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",onClick:n,children:[a.jsx(ZR,{size:20,className:"mr-2"}),"Log out"]})})]})]})};var Nf=0;function v1(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Wy()),document.body.insertAdjacentElement("beforeend",e[1]??Wy()),Nf++,()=>{Nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nf--}},[])}function Wy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pf="focusScope.autoFocusOnMount",Tf="focusScope.autoFocusOnUnmount",qy={bubbles:!1,cancelable:!0},SA="FocusScope",ig=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),u=Pt(s),f=Pt(i),d=m.useRef(null),h=We(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?d.current=_:Wn(d.current,{select:!0})},w=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Wn(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Wn(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",w);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){Ky.add(g);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(Pf,qy);l.addEventListener(Pf,u),l.dispatchEvent(y),y.defaultPrevented||(jA(PA(y1(l)),{select:!0}),document.activeElement===p&&Wn(l))}return()=>{l.removeEventListener(Pf,u),setTimeout(()=>{const y=new CustomEvent(Tf,qy);l.addEventListener(Tf,f),l.dispatchEvent(y),y.defaultPrevented||Wn(p??document.body,{select:!0}),l.removeEventListener(Tf,f),Ky.remove(g)},0)}}},[l,u,f,g]);const x=m.useCallback(p=>{if(!r&&!n||g.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(w&&y){const v=p.currentTarget,[b,_]=kA(v);b&&_?!p.shiftKey&&y===_?(p.preventDefault(),r&&Wn(b,{select:!0})):p.shiftKey&&y===b&&(p.preventDefault(),r&&Wn(_,{select:!0})):y===v&&p.preventDefault()}},[r,n,g.paused]);return a.jsx(ue.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});ig.displayName=SA;function jA(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Wn(n,{select:t}),document.activeElement!==r)return}function kA(e){const t=y1(e),r=Hy(t,e),n=Hy(t.reverse(),e);return[r,n]}function y1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Hy(e,t){for(const r of e)if(!CA(r,{upTo:t}))return r}function CA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function EA(e){return e instanceof HTMLInputElement&&"select"in e}function Wn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&EA(e)&&t&&e.select()}}var Ky=NA();function NA(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Gy(e,t),e.unshift(t)},remove(t){var r;e=Gy(e,t),(r=e[0])==null||r.resume()}}}function Gy(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function PA(e){return e.filter(t=>t.tagName!=="A")}const TA=["top","right","bottom","left"],bs=Math.min,mr=Math.max,du=Math.round,dc=Math.floor,_s=e=>({x:e,y:e}),RA={left:"right",right:"left",bottom:"top",top:"bottom"},OA={start:"end",end:"start"};function hm(e,t,r){return mr(e,bs(t,r))}function Tn(e,t){return typeof e=="function"?e(t):e}function Rn(e){return e.split("-")[0]}function Yo(e){return e.split("-")[1]}function og(e){return e==="x"?"y":"x"}function ag(e){return e==="y"?"height":"width"}function Ss(e){return["top","bottom"].includes(Rn(e))?"y":"x"}function lg(e){return og(Ss(e))}function AA(e,t,r){r===void 0&&(r=!1);const n=Yo(e),s=lg(e),i=ag(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=fu(o)),[o,fu(o)]}function IA(e){const t=fu(e);return[mm(e),t,mm(t)]}function mm(e){return e.replace(/start|end/g,t=>OA[t])}function MA(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function DA(e,t,r,n){const s=Yo(e);let i=MA(Rn(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(mm)))),i}function fu(e){return e.replace(/left|right|bottom|top/g,t=>RA[t])}function LA(e){return{top:0,right:0,bottom:0,left:0,...e}}function x1(e){return typeof e!="number"?LA(e):{top:e,right:e,bottom:e,left:e}}function hu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Qy(e,t,r){let{reference:n,floating:s}=e;const i=Ss(t),o=lg(t),l=ag(o),c=Rn(t),u=i==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:f,y:n.y-s.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:d};break;case"left":g={x:n.x-s.width,y:d};break;default:g={x:n.x,y:n.y}}switch(Yo(t)){case"start":g[o]-=h*(r&&u?-1:1);break;case"end":g[o]+=h*(r&&u?-1:1);break}return g}const FA=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=Qy(u,n,c),h=n,g={},x=0;for(let p=0;p<l.length;p++){const{name:w,fn:y}=l[p],{x:v,y:b,data:_,reset:S}=await y({x:f,y:d,initialPlacement:n,placement:h,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});f=v??f,d=b??d,g={...g,[w]:{...g[w],..._}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:f,y:d}=Qy(u,h,c)),p=-1)}return{x:f,y:d,placement:h,strategy:s,middlewareData:g}};async function fl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:g=0}=Tn(t,e),x=x1(g),w=l[h?d==="floating"?"reference":"floating":d],y=hu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),v=d==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=hu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-S.top+x.top)/_.y,bottom:(S.bottom-y.bottom+x.bottom)/_.y,left:(y.left-S.left+x.left)/_.x,right:(S.right-y.right+x.right)/_.x}}const $A=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Tn(e,t)||{};if(u==null)return{};const d=x1(f),h={x:r,y:n},g=lg(s),x=ag(g),p=await o.getDimensions(u),w=g==="y",y=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[g]-h[g]-i.floating[x],S=h[g]-i.reference[g],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=E?E[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=l.floating[b]||i.floating[x]);const P=_/2-S/2,M=C/2-p[x]/2-1,I=bs(d[y],M),G=bs(d[v],M),A=I,z=C-p[x]-G,D=C/2-p[x]/2+P,X=hm(A,D,z),W=!c.arrow&&Yo(s)!=null&&D!==X&&i.reference[x]/2-(D<A?I:G)-p[x]/2<0,te=W?D<A?D-A:D-z:0;return{[g]:h[g]+te,data:{[g]:X,centerOffset:D-X-te,...W&&{alignmentOffset:te}},reset:W}}}),UA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...w}=Tn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Rn(s),v=Ss(l),b=Rn(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!p?[fu(l)]:IA(l)),E=x!=="none";!h&&E&&S.push(...DA(l,p,x,_));const C=[l,...S],P=await fl(t,w),M=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&M.push(P[y]),d){const D=AA(s,o,_);M.push(P[D[0]],P[D[1]])}if(I=[...I,{placement:s,overflows:M}],!M.every(D=>D<=0)){var G,A;const D=(((G=i.flip)==null?void 0:G.index)||0)+1,X=C[D];if(X)return{data:{index:D,overflows:I},reset:{placement:X}};let W=(A=I.filter(te=>te.overflows[0]<=0).sort((te,T)=>te.overflows[1]-T.overflows[1])[0])==null?void 0:A.placement;if(!W)switch(g){case"bestFit":{var z;const te=(z=I.filter(T=>{if(E){const R=Ss(T.placement);return R===v||R==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(R=>R>0).reduce((R,V)=>R+V,0)]).sort((T,R)=>T[1]-R[1])[0])==null?void 0:z[0];te&&(W=te);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function Yy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Zy(e){return TA.some(t=>e[t]>=0)}const zA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Tn(e,t);switch(n){case"referenceHidden":{const i=await fl(t,{...s,elementContext:"reference"}),o=Yy(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Zy(o)}}}case"escaped":{const i=await fl(t,{...s,altBoundary:!0}),o=Yy(i,r.floating);return{data:{escapedOffsets:o,escaped:Zy(o)}}}default:return{}}}}};async function VA(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Rn(r),l=Yo(r),c=Ss(r)==="y",u=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,d=Tn(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*f,y:h*u}:{x:h*u,y:g*f}}const BA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await VA(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},WA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...c}=Tn(e,t),u={x:r,y:n},f=await fl(t,c),d=Ss(Rn(s)),h=og(d);let g=u[h],x=u[d];if(i){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=g+f[w],b=g-f[y];g=hm(v,g,b)}if(o){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=x+f[w],b=x-f[y];x=hm(v,x,b)}const p=l.fn({...t,[h]:g,[d]:x});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[d]:o}}}}}},qA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Tn(e,t),f={x:r,y:n},d=Ss(s),h=og(d);let g=f[h],x=f[d];const p=Tn(l,t),w=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",_=i.reference[h]-i.floating[b]+w.mainAxis,S=i.reference[h]+i.reference[b]-w.mainAxis;g<_?g=_:g>S&&(g=S)}if(u){var y,v;const b=h==="y"?"width":"height",_=["top","left"].includes(Rn(s)),S=i.reference[d]-i.floating[b]+(_&&((y=o.offset)==null?void 0:y[d])||0)+(_?0:w.crossAxis),E=i.reference[d]+i.reference[b]+(_?0:((v=o.offset)==null?void 0:v[d])||0)-(_?w.crossAxis:0);x<S?x=S:x>E&&(x=E)}return{[h]:g,[d]:x}}}},HA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Tn(e,t),f=await fl(t,u),d=Rn(s),h=Yo(s),g=Ss(s)==="y",{width:x,height:p}=i.floating;let w,y;d==="top"||d==="bottom"?(w=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,w=h==="end"?"top":"bottom");const v=p-f.top-f.bottom,b=x-f.left-f.right,_=bs(p-f[w],v),S=bs(x-f[y],b),E=!t.middlewareData.shift;let C=_,P=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=v),E&&!h){const I=mr(f.left,0),G=mr(f.right,0),A=mr(f.top,0),z=mr(f.bottom,0);g?P=x-2*(I!==0||G!==0?I+G:mr(f.left,f.right)):C=p-2*(A!==0||z!==0?A+z:mr(f.top,f.bottom))}await c({...t,availableWidth:P,availableHeight:C});const M=await o.getDimensions(l.floating);return x!==M.width||p!==M.height?{reset:{rects:!0}}:{}}}};function jd(){return typeof window<"u"}function Zo(e){return w1(e)?(e.nodeName||"").toLowerCase():"#document"}function vr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fn(e){var t;return(t=(w1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function w1(e){return jd()?e instanceof Node||e instanceof vr(e).Node:!1}function Hr(e){return jd()?e instanceof Element||e instanceof vr(e).Element:!1}function un(e){return jd()?e instanceof HTMLElement||e instanceof vr(e).HTMLElement:!1}function Xy(e){return!jd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vr(e).ShadowRoot}function Il(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Kr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function KA(e){return["table","td","th"].includes(Zo(e))}function kd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function cg(e){const t=ug(),r=Hr(e)?Kr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function GA(e){let t=js(e);for(;un(t)&&!Do(t);){if(cg(t))return t;if(kd(t))return null;t=js(t)}return null}function ug(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Do(e){return["html","body","#document"].includes(Zo(e))}function Kr(e){return vr(e).getComputedStyle(e)}function Cd(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function js(e){if(Zo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xy(e)&&e.host||fn(e);return Xy(t)?t.host:t}function b1(e){const t=js(e);return Do(t)?e.ownerDocument?e.ownerDocument.body:e.body:un(t)&&Il(t)?t:b1(t)}function hl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=b1(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=vr(s);if(i){const l=pm(o);return t.concat(o,o.visualViewport||[],Il(s)?s:[],l&&r?hl(l):[])}return t.concat(s,hl(s,[],r))}function pm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _1(e){const t=Kr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=un(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=du(r)!==i||du(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function dg(e){return Hr(e)?e:e.contextElement}function lo(e){const t=dg(e);if(!un(t))return _s(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=_1(t);let o=(i?du(r.width):r.width)/n,l=(i?du(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const QA=_s(0);function S1(e){const t=vr(e);return!ug()||!t.visualViewport?QA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YA(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==vr(e)?!1:t}function fi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=dg(e);let o=_s(1);t&&(n?Hr(n)&&(o=lo(n)):o=lo(e));const l=YA(i,r,n)?S1(i):_s(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,f=s.width/o.x,d=s.height/o.y;if(i){const h=vr(i),g=n&&Hr(n)?vr(n):n;let x=h,p=pm(x);for(;p&&n&&g!==x;){const w=lo(p),y=p.getBoundingClientRect(),v=Kr(p),b=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*w.x,_=y.top+(p.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,d*=w.y,c+=b,u+=_,x=vr(p),p=pm(x)}}return hu({width:f,height:d,x:c,y:u})}function ZA(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=fn(n),l=t?kd(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=_s(1);const f=_s(0),d=un(n);if((d||!d&&!i)&&((Zo(n)!=="body"||Il(o))&&(c=Cd(n)),un(n))){const h=fi(n);u=lo(n),f.x=h.x+n.clientLeft,f.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x,y:r.y*u.y-c.scrollTop*u.y+f.y}}function XA(e){return Array.from(e.getClientRects())}function gm(e,t){const r=Cd(e).scrollLeft;return t?t.left+r:fi(fn(e)).left+r}function JA(e){const t=fn(e),r=Cd(e),n=e.ownerDocument.body,s=mr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=mr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+gm(e);const l=-r.scrollTop;return Kr(n).direction==="rtl"&&(o+=mr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function eI(e,t){const r=vr(e),n=fn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=ug();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function tI(e,t){const r=fi(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=un(e)?lo(e):_s(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function Jy(e,t,r){let n;if(t==="viewport")n=eI(e,r);else if(t==="document")n=JA(fn(e));else if(Hr(t))n=tI(t,r);else{const s=S1(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return hu(n)}function j1(e,t){const r=js(e);return r===t||!Hr(r)||Do(r)?!1:Kr(r).position==="fixed"||j1(r,t)}function rI(e,t){const r=t.get(e);if(r)return r;let n=hl(e,[],!1).filter(l=>Hr(l)&&Zo(l)!=="body"),s=null;const i=Kr(e).position==="fixed";let o=i?js(e):e;for(;Hr(o)&&!Do(o);){const l=Kr(o),c=cg(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Il(o)&&!c&&j1(e,o))?n=n.filter(f=>f!==o):s=l,o=js(o)}return t.set(e,n),n}function nI(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?kd(t)?[]:rI(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const d=Jy(t,f,s);return u.top=mr(d.top,u.top),u.right=bs(d.right,u.right),u.bottom=bs(d.bottom,u.bottom),u.left=mr(d.left,u.left),u},Jy(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sI(e){const{width:t,height:r}=_1(e);return{width:t,height:r}}function iI(e,t,r){const n=un(t),s=fn(t),i=r==="fixed",o=fi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=_s(0);if(n||!n&&!i)if((Zo(t)!=="body"||Il(s))&&(l=Cd(t)),n){const g=fi(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&(c.x=gm(s));let u=0,f=0;if(s&&!n&&!i){const g=s.getBoundingClientRect();f=g.top+l.scrollTop,u=g.left+l.scrollLeft-gm(s,g)}const d=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-f;return{x:d,y:h,width:o.width,height:o.height}}function Rf(e){return Kr(e).position==="static"}function ex(e,t){if(!un(e)||Kr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fn(e)===r&&(r=r.ownerDocument.body),r}function k1(e,t){const r=vr(e);if(kd(e))return r;if(!un(e)){let s=js(e);for(;s&&!Do(s);){if(Hr(s)&&!Rf(s))return s;s=js(s)}return r}let n=ex(e,t);for(;n&&KA(n)&&Rf(n);)n=ex(n,t);return n&&Do(n)&&Rf(n)&&!cg(n)?r:n||GA(e)||r}const oI=async function(e){const t=this.getOffsetParent||k1,r=this.getDimensions,n=await r(e.floating);return{reference:iI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function aI(e){return Kr(e).direction==="rtl"}const lI={convertOffsetParentRelativeRectToViewportRelativeRect:ZA,getDocumentElement:fn,getClippingRect:nI,getOffsetParent:k1,getElementRects:oI,getClientRects:XA,getDimensions:sI,getScale:lo,isElement:Hr,isRTL:aI};function cI(e,t){let r=null,n;const s=fn(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:f,width:d,height:h}=e.getBoundingClientRect();if(l||t(),!d||!h)return;const g=dc(f),x=dc(s.clientWidth-(u+d)),p=dc(s.clientHeight-(f+h)),w=dc(u),v={rootMargin:-g+"px "+-x+"px "+-p+"px "+-w+"px",threshold:mr(0,bs(1,c))||1};let b=!0;function _(S){const E=S[0].intersectionRatio;if(E!==c){if(!b)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(_,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,v)}r.observe(e)}return o(!0),i}function uI(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=dg(e),f=s||i?[...u?hl(u):[],...hl(t)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const d=u&&l?cI(u,r):null;let h=-1,g=null;o&&(g=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let x,p=c?fi(e):null;c&&w();function w(){const y=fi(e);p&&(y.x!==p.x||y.y!==p.y||y.width!==p.width||y.height!==p.height)&&r(),p=y,x=requestAnimationFrame(w)}return r(),()=>{var y;f.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),d==null||d(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const dI=BA,fI=WA,hI=UA,mI=HA,pI=zA,tx=$A,gI=qA,vI=(e,t,r)=>{const n=new Map,s={platform:lI,...r},i={...s.platform,_c:n};return FA(e,t,{...s,platform:i})};var Rc=typeof document<"u"?m.useLayoutEffect:m.useEffect;function mu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!mu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!mu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function C1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rx(e,t){const r=C1(e);return Math.round(t*r)/r}function Of(e){const t=m.useRef(e);return Rc(()=>{t.current=e}),t}function yI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(n);mu(h,n)||g(n);const[x,p]=m.useState(null),[w,y]=m.useState(null),v=m.useCallback(T=>{T!==E.current&&(E.current=T,p(T))},[]),b=m.useCallback(T=>{T!==C.current&&(C.current=T,y(T))},[]),_=i||x,S=o||w,E=m.useRef(null),C=m.useRef(null),P=m.useRef(f),M=c!=null,I=Of(c),G=Of(s),A=Of(u),z=m.useCallback(()=>{if(!E.current||!C.current)return;const T={placement:t,strategy:r,middleware:h};G.current&&(T.platform=G.current),vI(E.current,C.current,T).then(R=>{const V={...R,isPositioned:A.current!==!1};D.current&&!mu(P.current,V)&&(P.current=V,wi.flushSync(()=>{d(V)}))})},[h,t,r,G,A]);Rc(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[u]);const D=m.useRef(!1);Rc(()=>(D.current=!0,()=>{D.current=!1}),[]),Rc(()=>{if(_&&(E.current=_),S&&(C.current=S),_&&S){if(I.current)return I.current(_,S,z);z()}},[_,S,z,I,M]);const X=m.useMemo(()=>({reference:E,floating:C,setReference:v,setFloating:b}),[v,b]),W=m.useMemo(()=>({reference:_,floating:S}),[_,S]),te=m.useMemo(()=>{const T={position:r,left:0,top:0};if(!W.floating)return T;const R=rx(W.floating,f.x),V=rx(W.floating,f.y);return l?{...T,transform:"translate("+R+"px, "+V+"px)",...C1(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:V}},[r,l,W.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:z,refs:X,elements:W,floatingStyles:te}),[f,z,X,W,te])}const xI=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?tx({element:n.current,padding:s}).fn(r):{}:n?tx({element:n,padding:s}).fn(r):{}}}},wI=(e,t)=>({...dI(e),options:[e,t]}),bI=(e,t)=>({...fI(e),options:[e,t]}),_I=(e,t)=>({...gI(e),options:[e,t]}),SI=(e,t)=>({...hI(e),options:[e,t]}),jI=(e,t)=>({...mI(e),options:[e,t]}),kI=(e,t)=>({...pI(e),options:[e,t]}),CI=(e,t)=>({...xI(e),options:[e,t]});var EI="Arrow",E1=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(ue.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});E1.displayName=EI;var NI=E1;function PI(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:g,...x}=d,p=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:w,children:g})}function f(d,h){const g=(h==null?void 0:h[e][c])||l,x=m.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,TI(s,...t)]}function TI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function RI(e){const[t,r]=m.useState(void 0);return wt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var fg="Popper",[N1,Ed]=PI(fg),[OI,P1]=N1(fg),T1=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return a.jsx(OI,{scope:t,anchor:n,onAnchorChange:s,children:r})};T1.displayName=fg;var R1="PopperAnchor",O1=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=P1(R1,r),o=m.useRef(null),l=We(t,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(ue.div,{...s,ref:l})});O1.displayName=R1;var hg="PopperContent",[AI,II]=N1(hg),A1=m.forwardRef((e,t)=>{var J,Te,De,Re,Oe,Ae;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:x,...p}=e,w=P1(hg,r),[y,v]=m.useState(null),b=We(t,Tt=>v(Tt)),[_,S]=m.useState(null),E=RI(_),C=(E==null?void 0:E.width)??0,P=(E==null?void 0:E.height)??0,M=n+(i!=="center"?"-"+i:""),I=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},G=Array.isArray(u)?u:[u],A=G.length>0,z={padding:I,boundary:G.filter(DI),altBoundary:A},{refs:D,floatingStyles:X,placement:W,isPositioned:te,middlewareData:T}=yI({strategy:"fixed",placement:M,whileElementsMounted:(...Tt)=>uI(...Tt,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[wI({mainAxis:s+P,alignmentAxis:o}),c&&bI({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?_I():void 0,...z}),c&&SI({...z}),jI({...z,apply:({elements:Tt,rects:ar,availableWidth:Ci,availableHeight:Ei})=>{const{width:Ni,height:j}=ar.reference,N=Tt.floating.style;N.setProperty("--radix-popper-available-width",`${Ci}px`),N.setProperty("--radix-popper-available-height",`${Ei}px`),N.setProperty("--radix-popper-anchor-width",`${Ni}px`),N.setProperty("--radix-popper-anchor-height",`${j}px`)}}),_&&CI({element:_,padding:l}),LI({arrowWidth:C,arrowHeight:P}),h&&kI({strategy:"referenceHidden",...z})]}),[R,V]=D1(W),re=Pt(x);wt(()=>{te&&(re==null||re())},[te,re]);const pe=(J=T.arrow)==null?void 0:J.x,ot=(Te=T.arrow)==null?void 0:Te.y,ze=((De=T.arrow)==null?void 0:De.centerOffset)!==0,[Lt,qe]=m.useState();return wt(()=>{y&&qe(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:te?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Lt,"--radix-popper-transform-origin":[(Re=T.transformOrigin)==null?void 0:Re.x,(Oe=T.transformOrigin)==null?void 0:Oe.y].join(" "),...((Ae=T.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(AI,{scope:r,placedSide:R,onArrowChange:S,arrowX:pe,arrowY:ot,shouldHideArrow:ze,children:a.jsx(ue.div,{"data-side":R,"data-align":V,...p,ref:b,style:{...p.style,animation:te?void 0:"none"}})})})});A1.displayName=hg;var I1="PopperArrow",MI={top:"bottom",right:"left",bottom:"top",left:"right"},M1=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=II(I1,n),o=MI[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(NI,{...s,ref:r,style:{...s.style,display:"block"}})})});M1.displayName=I1;function DI(e){return e!==null}var LI=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=D1(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",p="";return u==="bottom"?(x=o?d:`${h}px`,p=`${-c}px`):u==="top"?(x=o?d:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,p=o?d:`${g}px`):u==="left"&&(x=`${n.floating.width+c}px`,p=o?d:`${g}px`),{data:{x,y:p}}}});function D1(e){const[t,r="center"]=e.split("-");return[t,r]}var L1=T1,F1=O1,$1=A1,U1=M1,FI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ai=new WeakMap,fc=new WeakMap,hc={},Af=0,z1=function(e){return e&&(e.host||z1(e.parentNode))},$I=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=z1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},UI=function(e,t,r,n){var s=$I(t,Array.isArray(e)?e:[e]);hc[r]||(hc[r]=new WeakMap);var i=hc[r],o=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var g=h.getAttribute(n),x=g!==null&&g!=="false",p=(Ai.get(h)||0)+1,w=(i.get(h)||0)+1;Ai.set(h,p),i.set(h,w),o.push(h),p===1&&x&&fc.set(h,!0),w===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return f(t),l.clear(),Af++,function(){o.forEach(function(d){var h=Ai.get(d)-1,g=i.get(d)-1;Ai.set(d,h),i.set(d,g),h||(fc.has(d)||d.removeAttribute(n),fc.delete(d)),g||d.removeAttribute(r)}),Af--,Af||(Ai=new WeakMap,Ai=new WeakMap,fc=new WeakMap,hc={})}},V1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=FI(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),UI(n,s,r,"aria-hidden")):function(){return null}},sn=function(){return sn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},sn.apply(this,arguments)};function B1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function zI(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Oc="right-scroll-bar-position",Ac="width-before-scroll-bar",VI="with-scroll-bars-hidden",BI="--removed-body-scroll-bar-size";function If(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function WI(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var qI=typeof window<"u"?m.useLayoutEffect:m.useEffect,nx=new WeakMap;function HI(e,t){var r=WI(null,function(n){return e.forEach(function(s){return If(s,n)})});return qI(function(){var n=nx.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||If(l,null)}),i.forEach(function(l){s.has(l)||If(l,o)})}nx.set(r,e)},[e]),r}function KI(e){return e}function GI(e,t){t===void 0&&(t=KI);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return s}function QI(e){e===void 0&&(e={});var t=GI(null);return t.options=sn({async:!0,ssr:!1},e),t}var W1=function(e){var t=e.sideCar,r=B1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,sn({},r))};W1.isSideCarExport=!0;function YI(e,t){return e.useMedium(t),W1}var q1=QI(),Mf=function(){},Nd=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Mf,onWheelCapture:Mf,onTouchMoveCapture:Mf}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,g=e.noIsolation,x=e.inert,p=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,v=e.gapMode,b=B1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=HI([r,t]),E=sn(sn({},b),s);return m.createElement(m.Fragment,null,f&&m.createElement(_,{sideCar:q1,removeScrollBar:u,shards:d,noIsolation:g,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:v}),o?m.cloneElement(m.Children.only(l),sn(sn({},E),{ref:S})):m.createElement(y,sn({},E,{className:c,ref:S}),l))});Nd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nd.classNames={fullWidth:Ac,zeroRight:Oc};var ZI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ZI();return t&&e.setAttribute("nonce",t),e}function JI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=XI())&&(JI(t,r),eM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rM=function(){var e=tM();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},H1=function(){var e=rM(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},nM={left:0,top:0,right:0,gap:0},Df=function(e){return parseInt(e||"",10)||0},sM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Df(r),Df(n),Df(s)]},iM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nM;var t=sM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},oM=H1(),co="data-scroll-locked",aM=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(VI,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(co,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ac,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ac," .").concat(Ac,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(co,`] {
    `).concat(BI,": ").concat(l,`px;
  }
`)},sx=function(){var e=parseInt(document.body.getAttribute(co)||"0",10);return isFinite(e)?e:0},lM=function(){m.useEffect(function(){return document.body.setAttribute(co,(sx()+1).toString()),function(){var e=sx()-1;e<=0?document.body.removeAttribute(co):document.body.setAttribute(co,e.toString())}},[])},cM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;lM();var i=m.useMemo(function(){return iM(s)},[s]);return m.createElement(oM,{styles:aM(i,!t,s,r?"":"!important")})},vm=!1;if(typeof window<"u")try{var mc=Object.defineProperty({},"passive",{get:function(){return vm=!0,!0}});window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{vm=!1}var Ii=vm?{passive:!1}:!1,uM=function(e){return e.tagName==="TEXTAREA"},K1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uM(e)&&r[t]==="visible")},dM=function(e){return K1(e,"overflowY")},fM=function(e){return K1(e,"overflowX")},ix=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=G1(e,n);if(s){var i=Q1(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hM=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},mM=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},G1=function(e,t){return e==="v"?dM(t):fM(t)},Q1=function(e,t){return e==="v"?hM(t):mM(t)},pM=function(e,t){return e==="h"&&t==="rtl"?-1:1},gM=function(e,t,r,n,s){var i=pM(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,f=o>0,d=0,h=0;do{var g=Q1(e,l),x=g[0],p=g[1],w=g[2],y=p-w-i*x;(x||y)&&G1(e,l)&&(d+=y,h+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!s)||!f&&(Math.abs(h)<1||!s))&&(u=!0),u},pc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ox=function(e){return[e.deltaX,e.deltaY]},ax=function(e){return e&&"current"in e?e.current:e},vM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xM=0,Mi=[];function wM(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(xM++)[0],i=m.useState(H1)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=zI([e.lockRef.current],(e.shards||[]).map(ax),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,w){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=pc(p),v=r.current,b="deltaX"in p?p.deltaX:v[0]-y[0],_="deltaY"in p?p.deltaY:v[1]-y[1],S,E=p.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&C==="h"&&E.type==="range")return!1;var P=ix(C,E);if(!P)return!0;if(P?S=C:(S=C==="v"?"h":"v",P=ix(C,E)),!P)return!1;if(!n.current&&"changedTouches"in p&&(b||_)&&(n.current=S),!S)return!0;var M=n.current||S;return gM(M,w,p,M==="h"?b:_,!0)},[]),c=m.useCallback(function(p){var w=p;if(!(!Mi.length||Mi[Mi.length-1]!==i)){var y="deltaY"in w?ox(w):pc(w),v=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&vM(S.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(ax).filter(Boolean).filter(function(S){return S.contains(w.target)}),_=b.length>0?l(w,b[0]):!o.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(p,w,y,v){var b={name:p,delta:w,target:y,should:v,shadowParent:bM(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),f=m.useCallback(function(p){r.current=pc(p),n.current=void 0},[]),d=m.useCallback(function(p){u(p.type,ox(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,pc(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return Mi.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ii),document.addEventListener("touchmove",c,Ii),document.addEventListener("touchstart",f,Ii),function(){Mi=Mi.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Ii),document.removeEventListener("touchmove",c,Ii),document.removeEventListener("touchstart",f,Ii)}},[]);var g=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(i,{styles:yM(s)}):null,g?m.createElement(cM,{gapMode:e.gapMode}):null)}function bM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _M=YI(q1,wM);var mg=m.forwardRef(function(e,t){return m.createElement(Nd,sn({},e,{ref:t,sideCar:_M}))});mg.classNames=Nd.classNames;var ym=["Enter"," "],SM=["ArrowDown","PageUp","Home"],Y1=["ArrowUp","PageDown","End"],jM=[...SM,...Y1],kM={ltr:[...ym,"ArrowRight"],rtl:[...ym,"ArrowLeft"]},CM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ml="Menu",[ml,EM,NM]=ud(Ml),[ji,Z1]=Go(Ml,[NM,Ed,xd]),Pd=Ed(),X1=xd(),[PM,ki]=ji(Ml),[TM,Dl]=ji(Ml),J1=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Pd(t),[c,u]=m.useState(null),f=m.useRef(!1),d=Pt(i),h=vd(s);return m.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),a.jsx(L1,{...l,children:a.jsx(PM,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:a.jsx(TM,{scope:t,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:o,children:n})})})};J1.displayName=Ml;var RM="MenuAnchor",pg=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Pd(r);return a.jsx(F1,{...s,...n,ref:t})});pg.displayName=RM;var gg="MenuPortal",[OM,eS]=ji(gg,{forceMount:void 0}),tS=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=ki(gg,t);return a.jsx(OM,{scope:t,forceMount:r,children:a.jsx(Si,{present:r||i.open,children:a.jsx(fd,{asChild:!0,container:s,children:n})})})};tS.displayName=gg;var Nr="MenuContent",[AM,vg]=ji(Nr),rS=m.forwardRef((e,t)=>{const r=eS(Nr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=ki(Nr,e.__scopeMenu),o=Dl(Nr,e.__scopeMenu);return a.jsx(ml.Provider,{scope:e.__scopeMenu,children:a.jsx(Si,{present:n||i.open,children:a.jsx(ml.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(IM,{...s,ref:t}):a.jsx(MM,{...s,ref:t})})})})}),IM=m.forwardRef((e,t)=>{const r=ki(Nr,e.__scopeMenu),n=m.useRef(null),s=We(t,n);return m.useEffect(()=>{const i=n.current;if(i)return V1(i)},[]),a.jsx(yg,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),MM=m.forwardRef((e,t)=>{const r=ki(Nr,e.__scopeMenu);return a.jsx(yg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),yg=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:g,disableOutsideScroll:x,...p}=e,w=ki(Nr,r),y=Dl(Nr,r),v=Pd(r),b=X1(r),_=EM(r),[S,E]=m.useState(null),C=m.useRef(null),P=We(t,C,w.onContentChange),M=m.useRef(0),I=m.useRef(""),G=m.useRef(0),A=m.useRef(null),z=m.useRef("right"),D=m.useRef(0),X=x?mg:m.Fragment,W=x?{as:ws,allowPinchZoom:!0}:void 0,te=R=>{var J,Te;const V=I.current+R,re=_().filter(De=>!De.disabled),pe=document.activeElement,ot=(J=re.find(De=>De.ref.current===pe))==null?void 0:J.textValue,ze=re.map(De=>De.textValue),Lt=KM(ze,V,ot),qe=(Te=re.find(De=>De.textValue===Lt))==null?void 0:Te.ref.current;(function De(Re){I.current=Re,window.clearTimeout(M.current),Re!==""&&(M.current=window.setTimeout(()=>De(""),1e3))})(V),qe&&setTimeout(()=>qe.focus())};m.useEffect(()=>()=>window.clearTimeout(M.current),[]),v1();const T=m.useCallback(R=>{var re,pe;return z.current===((re=A.current)==null?void 0:re.side)&&QM(R,(pe=A.current)==null?void 0:pe.area)},[]);return a.jsx(AM,{scope:r,searchRef:I,onItemEnter:m.useCallback(R=>{T(R)&&R.preventDefault()},[T]),onItemLeave:m.useCallback(R=>{var V;T(R)||((V=C.current)==null||V.focus(),E(null))},[T]),onTriggerLeave:m.useCallback(R=>{T(R)&&R.preventDefault()},[T]),pointerGraceTimerRef:G,onPointerGraceIntentChange:m.useCallback(R=>{A.current=R},[]),children:a.jsx(X,{...W,children:a.jsx(ig,{asChild:!0,trapped:s,onMountAutoFocus:Z(i,R=>{var V;R.preventDefault(),(V=C.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(dd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:g,children:a.jsx(q_,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:Z(c,R=>{y.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx($1,{role:"menu","aria-orientation":"vertical","data-state":yS(w.open),"data-radix-menu-content":"",dir:y.dir,...v,...p,ref:P,style:{outline:"none",...p.style},onKeyDown:Z(p.onKeyDown,R=>{const re=R.target.closest("[data-radix-menu-content]")===R.currentTarget,pe=R.ctrlKey||R.altKey||R.metaKey,ot=R.key.length===1;re&&(R.key==="Tab"&&R.preventDefault(),!pe&&ot&&te(R.key));const ze=C.current;if(R.target!==ze||!jM.includes(R.key))return;R.preventDefault();const qe=_().filter(J=>!J.disabled).map(J=>J.ref.current);Y1.includes(R.key)&&qe.reverse(),qM(qe)}),onBlur:Z(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(M.current),I.current="")}),onPointerMove:Z(e.onPointerMove,pl(R=>{const V=R.target,re=D.current!==R.clientX;if(R.currentTarget.contains(V)&&re){const pe=R.clientX>D.current?"right":"left";z.current=pe,D.current=R.clientX}}))})})})})})})});rS.displayName=Nr;var DM="MenuGroup",xg=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{role:"group",...n,ref:t})});xg.displayName=DM;var LM="MenuLabel",nS=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});nS.displayName=LM;var pu="MenuItem",lx="menu.itemSelect",Td=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=m.useRef(null),o=Dl(pu,e.__scopeMenu),l=vg(pu,e.__scopeMenu),c=We(t,i),u=m.useRef(!1),f=()=>{const d=i.current;if(!r&&d){const h=new CustomEvent(lx,{bubbles:!0,cancelable:!0});d.addEventListener(lx,g=>n==null?void 0:n(g),{once:!0}),qp(d,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(sS,{...s,ref:c,disabled:r,onClick:Z(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:Z(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Z(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||ym.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Td.displayName=pu;var sS=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=vg(pu,r),l=X1(r),c=m.useRef(null),u=We(t,c),[f,d]=m.useState(!1),[h,g]=m.useState("");return m.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[i.children]),a.jsx(ml.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(H_,{asChild:!0,...l,focusable:!n,children:a.jsx(ue.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Z(e.onPointerMove,pl(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,pl(x=>o.onItemLeave(x))),onFocus:Z(e.onFocus,()=>d(!0)),onBlur:Z(e.onBlur,()=>d(!1))})})})}),FM="MenuCheckboxItem",iS=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(uS,{scope:e.__scopeMenu,checked:r,children:a.jsx(Td,{role:"menuitemcheckbox","aria-checked":gu(r)?"mixed":r,...s,ref:t,"data-state":bg(r),onSelect:Z(s.onSelect,()=>n==null?void 0:n(gu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});iS.displayName=FM;var oS="MenuRadioGroup",[$M,UM]=ji(oS,{value:void 0,onValueChange:()=>{}}),aS=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Pt(n);return a.jsx($M,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(xg,{...s,ref:t})})});aS.displayName=oS;var lS="MenuRadioItem",cS=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=UM(lS,e.__scopeMenu),i=r===s.value;return a.jsx(uS,{scope:e.__scopeMenu,checked:i,children:a.jsx(Td,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":bg(i),onSelect:Z(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});cS.displayName=lS;var wg="MenuItemIndicator",[uS,zM]=ji(wg,{checked:!1}),dS=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=zM(wg,r);return a.jsx(Si,{present:n||gu(i.checked)||i.checked===!0,children:a.jsx(ue.span,{...s,ref:t,"data-state":bg(i.checked)})})});dS.displayName=wg;var VM="MenuSeparator",fS=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});fS.displayName=VM;var BM="MenuArrow",hS=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Pd(r);return a.jsx(U1,{...s,...n,ref:t})});hS.displayName=BM;var WM="MenuSub",[f$,mS]=ji(WM),ba="MenuSubTrigger",pS=m.forwardRef((e,t)=>{const r=ki(ba,e.__scopeMenu),n=Dl(ba,e.__scopeMenu),s=mS(ba,e.__scopeMenu),i=vg(ba,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},f=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),a.jsx(pg,{asChild:!0,...u,children:a.jsx(sS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":yS(r.open),...e,ref:cd(t,s.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,pl(d=>{i.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Z(e.onPointerLeave,pl(d=>{var g,x;f();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const p=(x=r.content)==null?void 0:x.dataset.side,w=p==="right",y=w?-5:5,v=h[w?"left":"right"],b=h[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:v,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:v,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,d=>{var g;const h=i.searchRef.current!=="";e.disabled||h&&d.key===" "||kM[n.dir].includes(d.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),d.preventDefault())})})})});pS.displayName=ba;var gS="MenuSubContent",vS=m.forwardRef((e,t)=>{const r=eS(Nr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=ki(Nr,e.__scopeMenu),o=Dl(Nr,e.__scopeMenu),l=mS(gS,e.__scopeMenu),c=m.useRef(null),u=We(t,c);return a.jsx(ml.Provider,{scope:e.__scopeMenu,children:a.jsx(Si,{present:n||i.open,children:a.jsx(ml.Slot,{scope:e.__scopeMenu,children:a.jsx(yg,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;o.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Z(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Z(e.onKeyDown,f=>{var g;const d=f.currentTarget.contains(f.target),h=CM[o.dir].includes(f.key);d&&h&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),f.preventDefault())})})})})})});vS.displayName=gS;function yS(e){return e?"open":"closed"}function gu(e){return e==="indeterminate"}function bg(e){return gu(e)?"indeterminate":e?"checked":"unchecked"}function qM(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function HM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function KM(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=HM(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function GM(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,f=t[o].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function QM(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return GM(r,t)}function pl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var YM=J1,ZM=pg,XM=tS,JM=rS,eD=xg,tD=nS,rD=Td,nD=iS,sD=aS,iD=cS,oD=dS,aD=fS,lD=hS,cD=pS,uD=vS,_g="DropdownMenu",[dD,h$]=Go(_g,[Z1]),Gt=Z1(),[fD,xS]=dD(_g),wS=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Gt(t),u=m.useRef(null),[f=!1,d]=Mo({prop:s,defaultProp:i,onChange:o});return a.jsx(fD,{scope:t,triggerId:di(),triggerRef:u,contentId:di(),open:f,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:l,children:a.jsx(YM,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};wS.displayName=_g;var bS="DropdownMenuTrigger",_S=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=xS(bS,r),o=Gt(r);return a.jsx(ZM,{asChild:!0,...o,children:a.jsx(ue.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:cd(t,i.triggerRef),onPointerDown:Z(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Z(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});_S.displayName=bS;var hD="DropdownMenuPortal",SS=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Gt(t);return a.jsx(XM,{...n,...r})};SS.displayName=hD;var jS="DropdownMenuContent",kS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xS(jS,r),i=Gt(r),o=m.useRef(!1);return a.jsx(JM,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kS.displayName=jS;var mD="DropdownMenuGroup",pD=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(eD,{...s,...n,ref:t})});pD.displayName=mD;var gD="DropdownMenuLabel",CS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(tD,{...s,...n,ref:t})});CS.displayName=gD;var vD="DropdownMenuItem",ES=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(rD,{...s,...n,ref:t})});ES.displayName=vD;var yD="DropdownMenuCheckboxItem",NS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(nD,{...s,...n,ref:t})});NS.displayName=yD;var xD="DropdownMenuRadioGroup",wD=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(sD,{...s,...n,ref:t})});wD.displayName=xD;var bD="DropdownMenuRadioItem",PS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(iD,{...s,...n,ref:t})});PS.displayName=bD;var _D="DropdownMenuItemIndicator",TS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(oD,{...s,...n,ref:t})});TS.displayName=_D;var SD="DropdownMenuSeparator",RS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(aD,{...s,...n,ref:t})});RS.displayName=SD;var jD="DropdownMenuArrow",kD=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(lD,{...s,...n,ref:t})});kD.displayName=jD;var CD="DropdownMenuSubTrigger",OS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(cD,{...s,...n,ref:t})});OS.displayName=CD;var ED="DropdownMenuSubContent",AS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(uD,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AS.displayName=ED;var ND=wS,PD=_S,TD=SS,IS=kS,MS=CS,DS=ES,LS=NS,FS=PS,$S=TS,US=RS,zS=OS,VS=AS;const RD=ND,OD=PD,AD=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(zS,{ref:s,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(VR,{className:"ml-auto h-4 w-4"})]}));AD.displayName=zS.displayName;const ID=m.forwardRef(({className:e,...t},r)=>a.jsx(VS,{ref:r,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ID.displayName=VS.displayName;const BS=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(TD,{children:a.jsx(IS,{ref:n,sideOffset:t,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));BS.displayName=IS.displayName;const $i=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(DS,{ref:n,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));$i.displayName=DS.displayName;const MD=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(LS,{ref:s,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($S,{children:a.jsx(Qp,{className:"h-4 w-4"})})}),t]}));MD.displayName=LS.displayName;const DD=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(FS,{ref:n,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($S,{children:a.jsx(qR,{className:"h-2 w-2 fill-current"})})}),t]}));DD.displayName=FS.displayName;const WS=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(MS,{ref:n,className:se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));WS.displayName=MS.displayName;const xm=m.forwardRef(({className:e,...t},r)=>a.jsx(US,{ref:r,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));xm.displayName=US.displayName;const LD=({user:e,setSidebarOpen:t,onSignOut:r})=>a.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 w-full",children:a.jsxs("div",{className:"w-full flex justify-between items-center h-16 px-4 md:px-6",children:[a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsx("button",{className:"lg:hidden text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 mr-4",onClick:()=>t(!0),children:a.jsx(XR,{size:24})}),a.jsx("div",{className:"flex items-center flex-1 max-w-md",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:a.jsx(j_,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 py-2 pl-10 pr-3 text-sm placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Search..."})]})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ee,{variant:"ghost",size:"icon",className:"text-gray-500 dark:text-gray-400",children:a.jsx(UR,{size:20})}),a.jsxs(RD,{children:[a.jsx(OD,{asChild:!0,children:a.jsx(Ee,{variant:"ghost",className:"relative h-8 w-8 rounded-full flex items-center justify-center",children:a.jsxs(bd,{className:"h-8 w-8",children:[a.jsx(_d,{src:e.avatar,alt:e.name}),a.jsx(Sd,{className:"bg-blue-500 text-white",children:e.name.substring(0,2).toUpperCase()})]})})}),a.jsxs(BS,{align:"end",className:"w-56",children:[a.jsx(WS,{children:"My Account"}),a.jsx(xm,{}),a.jsx($i,{children:a.jsx(Hs,{to:"/profile",className:"flex w-full",children:"Profile"})}),a.jsx($i,{children:a.jsx(Hs,{to:"/settings",className:"flex w-full",children:"Settings"})}),e.role==="customer"&&a.jsxs(a.Fragment,{children:[a.jsx($i,{children:a.jsx(Hs,{to:"/cart",className:"flex w-full",children:"Shopping Cart"})}),a.jsx($i,{children:a.jsx(Hs,{to:"/returns",className:"flex w-full",children:"Returns"})})]}),a.jsx(xm,{}),a.jsx($i,{className:"text-red-600",onClick:r,children:"Log out"})]})]})]})]})}),Yr=({children:e})=>{const[t,r]=m.useState(!1),{user:n,signOut:s}=Dn(),i=bi(),o=Mn();if(m.useEffect(()=>{if(!n)return;const c=o.pathname;if(c==="/"||c==="/stock2store"||c==="/stock2store/"){const f={customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"}[n.role]||"/store";console.log(`Redirecting ${n.role} user from ${c} to ${f}`),i(f,{replace:!0})}},[n,i,o.pathname]),m.useEffect(()=>{const c=()=>{window.innerWidth>=1024&&r(!1)};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),!n)return a.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading..."})]});const l=async()=>{await s(),i("/login")};return a.jsxs("div",{className:"min-h-screen w-full bg-gray-50 dark:bg-gray-900 flex",children:[a.jsx(_A,{user:n,sidebarOpen:t,setSidebarOpen:r,onSignOut:l}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-64",children:[a.jsx(LD,{user:n,setSidebarOpen:r,onSignOut:l}),a.jsx("main",{className:"flex-1 w-full",children:a.jsx("div",{className:"w-full h-full",children:e})})]})]})},FD=gd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...r}){return a.jsx("div",{className:se(FD({variant:t}),e),...r})}const $D=({products:e,inventoryMovements:t})=>a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Warehouse Overview"}),a.jsx(et,{children:"Current inventory status"})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-md",children:a.jsx(zR,{size:20,className:"text-blue-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Total Products"})]}),a.jsx("span",{className:"font-semibold",children:e.length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-md",children:a.jsx(dt,{size:20,className:"text-green-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Total Inventory"})]}),a.jsx("span",{className:"font-semibold",children:e.reduce((r,n)=>r+n.stock,0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-md",children:a.jsx(wa,{size:20,className:"text-red-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Low Stock Items"})]}),a.jsx("span",{className:"font-semibold",children:e.filter(r=>r.stock<=5).length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-yellow-100 p-2 rounded-md",children:a.jsx(cm,{size:20,className:"text-yellow-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Movements Today"})]}),a.jsx("span",{className:"font-semibold",children:t.filter(r=>{const n=new Date;return new Date(r.timestamp).toDateString()===n.toDateString()}).length})]})]})]}),UD=({products:e,onProductSelect:t,onViewAllInventory:r})=>{const n=e.filter(i=>i.stock<10).sort((i,o)=>i.stock-o.stock),s=n.length;return a.jsxs(de,{children:[a.jsx(we,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(be,{className:"text-lg font-medium flex items-center",children:[a.jsx(ui,{size:18,className:"text-amber-500 mr-2"}),"Low Stock Alert"]}),a.jsxs("div",{className:"bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded",children:[s," items"]})]})}),a.jsx(ge,{className:"pt-1",children:n.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3 mb-3 max-h-[200px] overflow-y-auto",children:n.slice(0,5).map(i=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>t(i),children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:i.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[i.category," · ID: ",i.id.slice(0,8)]})]}),a.jsxs("div",{className:`text-sm font-medium px-2.5 py-0.5 rounded 
                    ${i.stock===0?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"}`,children:[i.stock," left"]})]},i.id))}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[a.jsx("p",{className:"text-xs text-gray-500",children:n.length>5&&`+${n.length-5} more items`}),a.jsxs(Ee,{variant:"ghost",size:"sm",className:"text-xs",onClick:r,children:["View All ",a.jsx(KR,{size:14,className:"ml-1"})]})]})]}):a.jsx("div",{className:"text-center py-6",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"All products have sufficient stock."})})})]})};function Ue(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ks(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const qS=6048e5,zD=864e5,gc=43200,cx=1440;let VD={};function Ll(){return VD}function gl(e,t){var l,c,u,f;const r=Ll(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=Ue(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function vu(e){return gl(e,{weekStartsOn:1})}function HS(e){const t=Ue(e),r=t.getFullYear(),n=ks(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=vu(n),i=ks(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=vu(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ux(e){const t=Ue(e);return t.setHours(0,0,0,0),t}function yu(e){const t=Ue(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function BD(e,t){const r=ux(e),n=ux(t),s=+r-yu(r),i=+n-yu(n);return Math.round((s-i)/zD)}function WD(e){const t=HS(e),r=ks(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),vu(r)}function Ic(e,t){const r=Ue(e),n=Ue(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function qD(e){return ks(e,Date.now())}function HD(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function KD(e){if(!HD(e)&&typeof e!="number")return!1;const t=Ue(e);return!isNaN(Number(t))}function GD(e,t){const r=Ue(e),n=Ue(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function QD(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function YD(e,t){return+Ue(e)-+Ue(t)}function ZD(e){const t=Ue(e);return t.setHours(23,59,59,999),t}function XD(e){const t=Ue(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function JD(e){const t=Ue(e);return+ZD(t)==+XD(t)}function eL(e,t){const r=Ue(e),n=Ue(t),s=Ic(r,n),i=Math.abs(GD(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Ic(r,n)===-s;JD(Ue(e))&&i===1&&Ic(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function tL(e,t,r){const n=YD(e,t)/1e3;return QD(r==null?void 0:r.roundingMethod)(n)}function rL(e){const t=Ue(e),r=ks(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const nL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sL=(e,t,r)=>{let n;const s=nL[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Lf(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const iL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lL={date:Lf({formats:iL,defaultWidth:"full"}),time:Lf({formats:oL,defaultWidth:"full"}),dateTime:Lf({formats:aL,defaultWidth:"full"})},cL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uL=(e,t,r,n)=>cL[e];function ua(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const dL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vL=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yL={ordinalNumber:vL,era:ua({values:dL,defaultWidth:"wide"}),quarter:ua({values:fL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ua({values:hL,defaultWidth:"wide"}),day:ua({values:mL,defaultWidth:"wide"}),dayPeriod:ua({values:pL,defaultWidth:"wide",formattingValues:gL,defaultFormattingWidth:"wide"})};function da(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?wL(l,d=>d.test(o)):xL(l,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function xL(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function wL(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function bL(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const _L=/^(\d+)(th|st|nd|rd)?/i,SL=/\d+/i,jL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kL={any:[/^b/i,/^(a|c)/i]},CL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},EL={any:[/1/i,/2/i,/3/i,/4/i]},NL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IL={ordinalNumber:bL({matchPattern:_L,parsePattern:SL,valueCallback:e=>parseInt(e,10)}),era:da({matchPatterns:jL,defaultMatchWidth:"wide",parsePatterns:kL,defaultParseWidth:"any"}),quarter:da({matchPatterns:CL,defaultMatchWidth:"wide",parsePatterns:EL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:da({matchPatterns:NL,defaultMatchWidth:"wide",parsePatterns:PL,defaultParseWidth:"any"}),day:da({matchPatterns:TL,defaultMatchWidth:"wide",parsePatterns:RL,defaultParseWidth:"any"}),dayPeriod:da({matchPatterns:OL,defaultMatchWidth:"any",parsePatterns:AL,defaultParseWidth:"any"})},KS={code:"en-US",formatDistance:sL,formatLong:lL,formatRelative:uL,localize:yL,match:IL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ML(e){const t=Ue(e);return BD(t,rL(t))+1}function DL(e){const t=Ue(e),r=+vu(t)-+WD(t);return Math.round(r/qS)+1}function GS(e,t){var f,d,h,g;const r=Ue(e),n=r.getFullYear(),s=Ll(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(h=s.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=ks(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=gl(o,t),c=ks(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=gl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function LL(e,t){var l,c,u,f;const r=Ll(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=GS(e,t),i=ks(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),gl(i,t)}function FL(e,t){const r=Ue(e),n=+gl(r,t)-+LL(r,t);return Math.round(n/qS)+1}function Le(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Un={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Le(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Le(r+1,2)},d(e,t){return Le(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Le(e.getHours()%12||12,t.length)},H(e,t){return Le(e.getHours(),t.length)},m(e,t){return Le(e.getMinutes(),t.length)},s(e,t){return Le(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Le(s,t.length)}},Di={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dx={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Un.y(e,t)},Y:function(e,t,r,n){const s=GS(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Le(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Le(i,t.length)},R:function(e,t){const r=HS(e);return Le(r,t.length)},u:function(e,t){const r=e.getFullYear();return Le(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Le(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Le(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Un.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Le(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=FL(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Le(s,t.length)},I:function(e,t,r){const n=DL(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Le(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Un.d(e,t)},D:function(e,t,r){const n=ML(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Le(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Le(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Le(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Le(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Di.noon:n===0?s=Di.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Di.evening:n>=12?s=Di.afternoon:n>=4?s=Di.morning:s=Di.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Un.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Un.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Un.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Un.s(e,t)},S:function(e,t){return Un.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return hx(n);case"XXXX":case"XX":return Us(n);case"XXXXX":case"XXX":default:return Us(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return hx(n);case"xxxx":case"xx":return Us(n);case"xxxxx":case"xxx":default:return Us(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fx(n,":");case"OOOO":default:return"GMT"+Us(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fx(n,":");case"zzzz":default:return"GMT"+Us(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Le(n,t.length)},T:function(e,t,r){const n=e.getTime();return Le(n,t.length)}};function fx(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Le(i,2)}function hx(e,t){return e%60===0?(e>0?"-":"+")+Le(Math.abs(e)/60,2):Us(e,t)}function Us(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Le(Math.trunc(n/60),2),i=Le(n%60,2);return r+s+t+i}const mx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},QS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$L=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return mx(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",mx(n,t)).replace("{{time}}",QS(s,t))},UL={p:QS,P:$L},zL=/^D+$/,VL=/^Y+$/,BL=["D","DD","YY","YYYY"];function WL(e){return zL.test(e)}function qL(e){return VL.test(e)}function HL(e,t,r){const n=KL(e,t,r);if(console.warn(n),BL.includes(e))throw new RangeError(n)}function KL(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YL=/^'([^]*?)'?$/,ZL=/''/g,XL=/[a-zA-Z]/;function wm(e,t,r){var f,d,h,g;const n=Ll(),s=n.locale??KS,i=n.firstWeekContainsDate??((d=(f=n.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,o=n.weekStartsOn??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,l=Ue(e);if(!KD(l))throw new RangeError("Invalid time value");let c=t.match(QL).map(x=>{const p=x[0];if(p==="p"||p==="P"){const w=UL[p];return w(x,s.formatLong)}return x}).join("").match(GL).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const p=x[0];if(p==="'")return{isToken:!1,value:JL(x)};if(dx[p])return{isToken:!0,value:x};if(p.match(XL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const p=x.value;(qL(p)||WL(p))&&HL(p,t,String(e));const w=dx[p[0]];return w(l,p,s.localize,u)}).join("")}function JL(e){const t=e.match(YL);return t?t[1].replace(ZL,"'"):e}function e4(e,t,r){const n=Ll(),s=(r==null?void 0:r.locale)??n.locale??KS,i=2520,o=Ic(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Ue(t),u=Ue(e)):(c=Ue(e),u=Ue(t));const f=tL(u,c),d=(yu(u)-yu(c))/1e3,h=Math.round((f-d)/60);let g;if(h<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<cx){const x=Math.round(h/60);return s.formatDistance("aboutXHours",x,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<gc){const x=Math.round(h/cx);return s.formatDistance("xDays",x,l)}else if(h<gc*2)return g=Math.round(h/gc),s.formatDistance("aboutXMonths",g,l)}if(g=eL(u,c),g<12){const x=Math.round(h/gc);return s.formatDistance("xMonths",x,l)}else{const x=g%12,p=Math.trunc(g/12);return x<3?s.formatDistance("aboutXYears",p,l):x<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function t4(e,t){return e4(e,qD(e),t)}const Sg=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:se("w-full caption-bottom text-sm",e),...t})}));Sg.displayName="Table";const jg=m.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:se("[&_tr]:border-b",e),...t}));jg.displayName="TableHeader";const kg=m.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:se("[&_tr:last-child]:border-0",e),...t}));kg.displayName="TableBody";const r4=m.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));r4.displayName="TableFooter";const uo=m.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));uo.displayName="TableRow";const Jt=m.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Jt.displayName="TableHead";const zt=m.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));zt.displayName="TableCell";const n4=m.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:se("mt-4 text-sm text-muted-foreground",e),...t}));n4.displayName="TableCaption";const s4=({movements:e,getProductById:t})=>{const r=s=>t4(s,{addSuffix:!0}),n=s=>{const i=s.reason.toLowerCase();return i.includes("sale")||s.type==="out"?{label:"Sale",color:"bg-red-500",icon:cm,description:"Item sold to customer"}:i.includes("refund")?{label:"Refund",color:"bg-yellow-500",icon:dl,description:"Item returned due to refund"}:i.includes("repair")||i.includes("damaged")?{label:"Repair",color:"bg-orange-500",icon:wa,description:"Item sent for repair"}:i.includes("available")||i.includes("restored")?{label:"Restored",color:"bg-green-500",icon:wa,description:"Item restored to available status"}:i.includes("damage")?{label:"Damage",color:"bg-red-600",icon:wa,description:"Item marked as damaged"}:{label:s.type==="in"?"Entry":"Exit",color:s.type==="in"?"bg-green-500":"bg-red-500",icon:s.type==="in"?wa:cm,description:s.type==="in"?"Item added to inventory":"Item removed from inventory"}};return a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-5 w-5"}),"Inventory Movements"]}),a.jsx(et,{children:"Recent inventory transactions including sales, refunds, and status changes"})]}),a.jsx(ge,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No inventory movements recorded yet."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Sg,{children:[a.jsx(jg,{children:a.jsxs(uo,{children:[a.jsx(Jt,{className:"w-[140px]",children:"Type"}),a.jsx(Jt,{children:"Product"}),a.jsx(Jt,{children:"Serial ID"}),a.jsx(Jt,{children:"Quantity"}),a.jsx(Jt,{children:"Details"}),a.jsx(Jt,{children:"Order"}),a.jsx(Jt,{children:"Date"}),a.jsx(Jt,{children:"By"})]})}),a.jsx(kg,{children:e.map(s=>{const i=t(s.productId),o=n(s),l=o.icon;return a.jsxs(uo,{className:"hover:bg-gray-50",children:[a.jsx(zt,{children:a.jsxs(Ze,{variant:"outline",className:`text-white border-none ${o.color}`,title:o.description,children:[a.jsx(l,{size:12,className:"mr-1"}),o.label]})}),a.jsx(zt,{className:"font-medium",children:a.jsxs("div",{children:[a.jsx("div",{children:(i==null?void 0:i.name)||s.productName||"Unknown Product"}),(i==null?void 0:i.category)&&a.jsx("div",{className:"text-xs text-gray-500",children:i.category})]})}),a.jsx(zt,{className:"text-sm text-gray-600 font-mono",children:s.serialId||"N/A"}),a.jsx(zt,{children:a.jsx("span",{className:"font-medium",children:s.quantity})}),a.jsx(zt,{className:"max-w-xs",children:a.jsx("div",{className:"truncate",title:s.reason,children:s.reason})}),a.jsx(zt,{className:"text-sm text-gray-600",children:s.orderNumber?a.jsx("span",{className:"font-mono",children:s.orderNumber}):"N/A"}),a.jsx(zt,{className:"text-gray-500 text-sm",children:a.jsx("div",{title:new Date(s.timestamp).toLocaleString(),children:r(s.timestamp)})}),a.jsx(zt,{className:"text-gray-500 text-sm",children:s.userName||"System"})]},s.id)})})]})})})]})},i4=({products:e,onProductSelect:t})=>{const[r,n]=m.useState("A"),{data:s=[],isLoading:i}=xs({queryKey:["detailed-products",e],queryFn:async()=>{if(e.length===0)return[];const{data:d,error:h}=await ee.from("items").select(`
          serial_id,
          status,
          inventory_id,
          inventory (
            id,
            name,
            description,
            quantity
          )
        `);if(h)throw h;const g=new Map;return d==null||d.forEach(x=>{const p=x.inventory_id;g.has(p)||g.set(p,{available:0,sold:0,damaged:0,in_repair:0,unavailable:0});const w=g.get(p);w[x.status]++}),e.map(x=>({...x,itemStatuses:g.get(x.id)||{available:0,sold:0,damaged:0,in_repair:0,unavailable:0}}))},enabled:e.length>0}),o=["A","B","C","D"],l=12,c=d=>{const g=o.indexOf(d)*Math.ceil(s.length/o.length),x=g+Math.ceil(s.length/o.length);return s.slice(g,x)},u=d=>{switch(d){case"available":return a.jsx(dt,{className:"h-3 w-3 text-green-600"});case"damaged":return a.jsx(ui,{className:"h-3 w-3 text-red-600"});case"in_repair":return a.jsx(Uy,{className:"h-3 w-3 text-yellow-600"});case"unavailable":return a.jsx(Iy,{className:"h-3 w-3 text-gray-600"});default:return null}},f=d=>Object.values(d.itemStatuses).reduce((h,g)=>h+g,0);return i?a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Shelf Mapping"}),a.jsx(et,{children:"Loading shelf layout..."})]}),a.jsx(ge,{children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})})})]}):a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Warehouse Shelf Mapping"}),a.jsx(et,{children:"Top-down view of warehouse shelves and product locations"})]}),a.jsxs(ge,{className:"space-y-6",children:[a.jsx("div",{className:"flex gap-2",children:o.map(d=>a.jsxs(Ee,{variant:r===d?"default":"outline",onClick:()=>n(d),className:"min-w-[60px]",children:["Shelf ",d]},d))}),a.jsxs("div",{className:"border-2 border-gray-300 rounded-lg p-6 bg-gray-50",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Shelf ",r]}),a.jsx("p",{className:"text-sm text-gray-600",children:"3 rows × 4 columns"})]}),a.jsx("div",{className:"grid grid-cols-4 gap-4 max-w-4xl mx-auto",children:Array.from({length:l},(d,h)=>{const x=c(r)[h],p=`${r}${Math.floor(h/4)+1}-${h%4+1}`;return a.jsxs("div",{className:`
                    border-2 rounded-lg p-3 h-32 flex flex-col justify-between
                    ${x?"border-blue-300 bg-blue-50 cursor-pointer hover:bg-blue-100":"border-gray-200 bg-white"}
                  `,onClick:()=>x&&t(x),children:[a.jsx("div",{className:"text-xs font-mono text-gray-500 text-center",children:p}),x?a.jsx("div",{className:"flex-1 flex flex-col justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.name}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Total: ",f(x)]}),a.jsx("div",{className:"flex justify-center gap-1 mt-2 flex-wrap",children:Object.entries(x.itemStatuses).map(([w,y])=>y>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[u(w),a.jsx("span",{className:"text-xs",children:y})]},w))}),a.jsx(Ze,{variant:"outline",className:`mt-2 text-xs ${x.itemStatuses.available===0?"border-red-300 text-red-700":x.itemStatuses.available<=5?"border-yellow-300 text-yellow-700":"border-green-300 text-green-700"}`,children:x.itemStatuses.available>0?`${x.itemStatuses.available} Available`:"Out of Stock"})]})}):a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-gray-400 text-center",children:[a.jsx(dt,{className:"h-6 w-6 mx-auto mb-1 opacity-50"}),a.jsx("p",{className:"text-xs",children:"Empty"})]})})]},h)})})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Status Legend"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{children:"Available"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ui,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{children:"Damaged"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Uy,{className:"h-4 w-4 text-yellow-600"}),a.jsx("span",{children:"In Repair"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Iy,{className:"h-4 w-4 text-gray-600"}),a.jsx("span",{children:"Unavailable"})]})]})]}),s.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No products found for shelf mapping."})]})]})]})},Rd=m.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Rd.displayName="Textarea";const o4=async e=>{console.log("Processing order:",e);try{const t=`ORD-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r=e.items.reduce((i,o)=>i+o.price*o.quantity,0),{data:n,error:s}=await ee.from("orders").insert({user_id:e.userId,order_number:t,total_amount:r,status:"pending"}).select("id").single();if(s)throw console.error("Error creating order:",s),s;console.log("Order created:",n);for(const i of e.items){console.log(`Processing ${i.quantity} items for product ${i.productId}`);const{data:o,error:l}=await ee.from("inventory").select("id, name, quantity").eq("id",i.productId).single();if(l)throw console.error("Error checking inventory:",l),new Error(`Product ${i.productId} not found`);console.log("Inventory check:",o);const{data:c,error:u}=await ee.from("items").select("serial_id, inventory_id").eq("inventory_id",i.productId).eq("status","available").order("serial_id",{ascending:!0}).limit(i.quantity);if(u)throw console.error("Error fetching available items:",u),u;if(console.log(`Found ${(c==null?void 0:c.length)||0} available items for product ${i.productId}`),!c||c.length<i.quantity)throw new Error(`Insufficient stock for product ${o.name}. Available: ${(c==null?void 0:c.length)||0}, Required: ${i.quantity}`);console.log("Available items to mark as sold:",c);const f=c.map(w=>w.serial_id),{error:d}=await ee.from("items").update({status:"sold"}).in("serial_id",f);if(d)throw console.error("Error updating item status:",d),d;console.log(`Successfully marked ${f.length} items as sold:`,f);const h=c.map(w=>({order_id:n.id,item_serial:w.serial_id,price:i.price})),{error:g}=await ee.from("order_items").insert(h);if(g)throw console.error("Error creating order items:",g),g;const x=c.map(w=>({item_serial:w.serial_id,user_id:e.userId,transaction_type:"sale",order_id:n.id,notes:`Item sold through order ${t}`})),{error:p}=await ee.from("transactions").insert(x);if(p)throw console.error("Error creating transaction records:",p),p;console.log(`Successfully created ${x.length} transaction records for sold items`),console.log(`Successfully processed ${i.quantity} items for product ${i.productId}`)}return console.log("Order processing completed successfully"),{success:!0,orderId:n.id}}catch(t){return console.error("Error processing order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},a4=async e=>{try{const{error:t}=await ee.from("orders").update({status:"completed"}).eq("id",e);if(t)throw console.error("Error completing order:",t),t;return console.log("Order completed successfully:",e),{success:!0}}catch(t){return console.error("Error completing order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},l4=async(e,t)=>{try{console.log("Processing refund for order:",e);const{data:r,error:n}=await ee.from("order_items").select("item_serial").eq("order_id",e);if(n)throw console.error("Error fetching order items:",n),n;if(!r||r.length===0)throw new Error("No items found for this order");const s=r.map(c=>c.item_serial),{error:i}=await ee.from("items").update({status:"damaged"}).in("serial_id",s);if(i)throw console.error("Error updating item status to damaged:",i),i;const o=s.map(c=>({item_serial:c,user_id:t,transaction_type:"refund",order_id:e,notes:"Item returned due to approved refund request - status set to damaged"})),{error:l}=await ee.from("transactions").insert(o);if(l)throw console.error("Error creating refund transaction records:",l),l;return console.log(`Successfully processed refund for ${s.length} items - marked as damaged`),{success:!0}}catch(r){return console.error("Error processing refund:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}},c4=()=>{const[e,t]=m.useState({}),[r,n]=m.useState(null),{toast:s}=Kt(),i=Fp(),{data:o=[],isLoading:l}=xs({queryKey:["refund-requests"],queryFn:async()=>{const{data:d,error:h}=await ee.from("refund_requests").select(`
          id,
          order_id,
          user_id,
          description,
          status,
          photo_url,
          created_at,
          admin_notes,
          reviewed_at,
          reviewed_by,
          orders (
            order_number,
            total_amount
          ),
          profiles!user_id (
            name,
            email
          )
        `).order("created_at",{ascending:!1});if(h)throw h;return d}}),c=async(d,h,g)=>{try{h==="approved"&&n(d);const{data:{user:x}}=await ee.auth.getUser();if(!x)throw new Error("User not authenticated");const{error:p}=await ee.from("refund_requests").update({status:h,reviewed_by:x.id,reviewed_at:new Date().toISOString(),admin_notes:e[d]||null}).eq("id",d);if(p)throw p;if(h==="approved"&&g){const w=await l4(g,x.id);if(!w.success)throw new Error(w.error||"Failed to process refund")}i.invalidateQueries({queryKey:["refund-requests"]}),i.invalidateQueries({queryKey:["inventory-movements"]}),i.invalidateQueries({queryKey:["warehouse-products"]}),s({title:"Success",description:`Refund request ${h} successfully${h==="approved"?" and items marked for repair":""}`}),t(w=>{const y={...w};return delete y[d],y})}catch(x){console.error("Error updating refund request:",x),s({title:"Error",description:x instanceof Error?x.message:"Failed to update refund request",variant:"destructive"})}finally{n(null)}},u=d=>{switch(d){case"pending":return a.jsx(HR,{className:"h-4 w-4 text-yellow-500"});case"approved":return a.jsx(Ly,{className:"h-4 w-4 text-green-500"});case"rejected":return a.jsx(Fy,{className:"h-4 w-4 text-red-500"});default:return a.jsx(WR,{className:"h-4 w-4 text-gray-500"})}},f=d=>{switch(d){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?a.jsx(de,{children:a.jsxs(ge,{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3",children:"Loading refund requests..."})]})}):a.jsx("div",{className:"space-y-4",children:a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-5 w-5"}),"Refund Requests Management"]}),a.jsx(et,{children:"Review and process customer refund requests"})]}),a.jsx(ge,{children:o.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No refund requests found."})]}):a.jsx("div",{className:"space-y-4",children:o.map(d=>{var h,g,x,p;return a.jsx(de,{className:"border-l-4 border-l-blue-500",children:a.jsxs(ge,{className:"p-6",children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ze,{className:f(d.status),children:[u(d.status),a.jsx("span",{className:"ml-1 capitalize",children:d.status})]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Order #",((h=d.orders)==null?void 0:h.order_number)||"Unknown"]})]}),a.jsxs("h3",{className:"font-semibold",children:["Refund Request from ",((g=d.profiles)==null?void 0:g.name)||"Unknown User"]}),a.jsx("p",{className:"text-sm text-gray-600",children:((x=d.profiles)==null?void 0:x.email)||"No email"}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Amount:"})," $",((p=d.orders)==null?void 0:p.total_amount)||0]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Submitted:"})," ",new Date(d.created_at).toLocaleDateString()]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Customer Description:"}),a.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded",children:d.description})]}),d.photo_url&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Attached Photo:"}),a.jsx("img",{src:d.photo_url,alt:"Refund request",className:"max-w-xs rounded border"})]}),d.admin_notes&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Admin Notes:"}),a.jsx("p",{className:"text-sm text-gray-700 bg-blue-50 p-3 rounded",children:d.admin_notes})]}),d.status==="pending"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Notes (Optional):"}),a.jsx(Rd,{placeholder:"Add any notes about this refund decision...",value:e[d.id]||"",onChange:w=>t(y=>({...y,[d.id]:w.target.value})),className:"min-h-20"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Ee,{onClick:()=>c(d.id,"approved",d.order_id),className:"bg-green-600 hover:bg-green-700",disabled:r===d.id,children:r===d.id?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-white mr-2"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ly,{className:"h-4 w-4 mr-2"}),"Approve Refund"]})}),a.jsxs(Ee,{onClick:()=>c(d.id,"rejected"),variant:"destructive",disabled:r===d.id,children:[a.jsx(Fy,{className:"h-4 w-4 mr-2"}),"Reject Refund"]})]})]})]})},d.id)})})})]})})};function px(e,[t,r]){return Math.min(r,Math.max(t,e))}function u4(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var d4=[" ","Enter","ArrowUp","ArrowDown"],f4=[" ","Enter"],Fl="Select",[Od,Ad,h4]=ud(Fl),[Xo,m$]=Go(Fl,[h4,Ed]),Id=Ed(),[m4,As]=Xo(Fl),[p4,g4]=Xo(Fl),YS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:g,form:x}=e,p=Id(t),[w,y]=m.useState(null),[v,b]=m.useState(null),[_,S]=m.useState(!1),E=vd(u),[C=!1,P]=Mo({prop:n,defaultProp:s,onChange:i}),[M,I]=Mo({prop:o,defaultProp:l,onChange:c}),G=m.useRef(null),A=w?x||!!w.closest("form"):!0,[z,D]=m.useState(new Set),X=Array.from(z).map(W=>W.props.value).join(";");return a.jsx(L1,{...p,children:a.jsxs(m4,{required:g,scope:t,trigger:w,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:di(),value:M,onValueChange:I,open:C,onOpenChange:P,dir:E,triggerPointerDownPosRef:G,disabled:h,children:[a.jsx(Od.Provider,{scope:t,children:a.jsx(p4,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(W=>{D(te=>new Set(te).add(W))},[]),onNativeOptionRemove:m.useCallback(W=>{D(te=>{const T=new Set(te);return T.delete(W),T})},[]),children:r})}),A?a.jsxs(bj,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:d,value:M,onChange:W=>I(W.target.value),disabled:h,form:x,children:[M===void 0?a.jsx("option",{value:""}):null,Array.from(z)]},X):null]})})};YS.displayName=Fl;var ZS="SelectTrigger",XS=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Id(r),o=As(ZS,r),l=o.disabled||n,c=We(t,o.onTriggerChange),u=Ad(r),f=m.useRef("touch"),[d,h,g]=_j(p=>{const w=u().filter(b=>!b.disabled),y=w.find(b=>b.value===o.value),v=Sj(w,p,y);v!==void 0&&o.onValueChange(v.value)}),x=p=>{l||(o.onOpenChange(!0),g()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(F1,{asChild:!0,...i,children:a.jsx(ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":wj(o.value)?"":void 0,...s,ref:c,onClick:Z(s.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&x(p)}),onPointerDown:Z(s.onPointerDown,p=>{f.current=p.pointerType;const w=p.target;w.hasPointerCapture(p.pointerId)&&w.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:Z(s.onKeyDown,p=>{const w=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(w&&p.key===" ")&&d4.includes(p.key)&&(x(),p.preventDefault())})})})});XS.displayName=ZS;var JS="SelectValue",ej=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=As(JS,r),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,d=We(t,c.onValueNodeChange);return wt(()=>{u(f)},[u,f]),a.jsx(ue.span,{...l,ref:d,style:{pointerEvents:"none"},children:wj(c.value)?a.jsx(a.Fragment,{children:o}):i})});ej.displayName=JS;var v4="SelectIcon",tj=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});tj.displayName=v4;var y4="SelectPortal",rj=e=>a.jsx(fd,{asChild:!0,...e});rj.displayName=y4;var hi="SelectContent",nj=m.forwardRef((e,t)=>{const r=As(hi,e.__scopeSelect),[n,s]=m.useState();if(wt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?wi.createPortal(a.jsx(sj,{scope:e.__scopeSelect,children:a.jsx(Od.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(ij,{...e,ref:t})});nj.displayName=hi;var Ir=10,[sj,Is]=Xo(hi),x4="SelectContentImpl",ij=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:g,sticky:x,hideWhenDetached:p,avoidCollisions:w,...y}=e,v=As(hi,r),[b,_]=m.useState(null),[S,E]=m.useState(null),C=We(t,J=>_(J)),[P,M]=m.useState(null),[I,G]=m.useState(null),A=Ad(r),[z,D]=m.useState(!1),X=m.useRef(!1);m.useEffect(()=>{if(b)return V1(b)},[b]),v1();const W=m.useCallback(J=>{const[Te,...De]=A().map(Ae=>Ae.ref.current),[Re]=De.slice(-1),Oe=document.activeElement;for(const Ae of J)if(Ae===Oe||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===Te&&S&&(S.scrollTop=0),Ae===Re&&S&&(S.scrollTop=S.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Oe))return},[A,S]),te=m.useCallback(()=>W([P,b]),[W,P,b]);m.useEffect(()=>{z&&te()},[z,te]);const{onOpenChange:T,triggerPointerDownPosRef:R}=v;m.useEffect(()=>{if(b){let J={x:0,y:0};const Te=Re=>{var Oe,Ae;J={x:Math.abs(Math.round(Re.pageX)-(((Oe=R.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((Ae=R.current)==null?void 0:Ae.y)??0))}},De=Re=>{J.x<=10&&J.y<=10?Re.preventDefault():b.contains(Re.target)||T(!1),document.removeEventListener("pointermove",Te),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",De,{capture:!0})}}},[b,T,R]),m.useEffect(()=>{const J=()=>T(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[T]);const[V,re]=_j(J=>{const Te=A().filter(Oe=>!Oe.disabled),De=Te.find(Oe=>Oe.ref.current===document.activeElement),Re=Sj(Te,J,De);Re&&setTimeout(()=>Re.ref.current.focus())}),pe=m.useCallback((J,Te,De)=>{const Re=!X.current&&!De;(v.value!==void 0&&v.value===Te||Re)&&(M(J),Re&&(X.current=!0))},[v.value]),ot=m.useCallback(()=>b==null?void 0:b.focus(),[b]),ze=m.useCallback((J,Te,De)=>{const Re=!X.current&&!De;(v.value!==void 0&&v.value===Te||Re)&&G(J)},[v.value]),Lt=n==="popper"?bm:oj,qe=Lt===bm?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:g,sticky:x,hideWhenDetached:p,avoidCollisions:w}:{};return a.jsx(sj,{scope:r,content:b,viewport:S,onViewportChange:E,itemRefCallback:pe,selectedItem:P,onItemLeave:ot,itemTextRefCallback:ze,focusSelectedItem:te,selectedItemText:I,position:n,isPositioned:z,searchRef:V,children:a.jsx(mg,{as:ws,allowPinchZoom:!0,children:a.jsx(ig,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Z(s,J=>{var Te;(Te=v.trigger)==null||Te.focus({preventScroll:!0}),J.preventDefault()}),children:a.jsx(dd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Lt,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...y,...qe,onPlaced:()=>D(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Z(y.onKeyDown,J=>{const Te=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!Te&&J.key.length===1&&re(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Re=A().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Oe=J.target,Ae=Re.indexOf(Oe);Re=Re.slice(Ae+1)}setTimeout(()=>W(Re)),J.preventDefault()}})})})})})})});ij.displayName=x4;var w4="SelectItemAlignedPosition",oj=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=As(hi,r),o=Is(hi,r),[l,c]=m.useState(null),[u,f]=m.useState(null),d=We(t,C=>f(C)),h=Ad(r),g=m.useRef(!1),x=m.useRef(!0),{viewport:p,selectedItem:w,selectedItemText:y,focusSelectedItem:v}=o,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&w&&y){const C=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(i.dir!=="rtl"){const Oe=I.left-P.left,Ae=M.left-Oe,Tt=C.left-Ae,ar=C.width+Tt,Ci=Math.max(ar,P.width),Ei=window.innerWidth-Ir,Ni=px(Ae,[Ir,Math.max(Ir,Ei-Ci)]);l.style.minWidth=ar+"px",l.style.left=Ni+"px"}else{const Oe=P.right-I.right,Ae=window.innerWidth-M.right-Oe,Tt=window.innerWidth-C.right-Ae,ar=C.width+Tt,Ci=Math.max(ar,P.width),Ei=window.innerWidth-Ir,Ni=px(Ae,[Ir,Math.max(Ir,Ei-Ci)]);l.style.minWidth=ar+"px",l.style.right=Ni+"px"}const G=h(),A=window.innerHeight-Ir*2,z=p.scrollHeight,D=window.getComputedStyle(u),X=parseInt(D.borderTopWidth,10),W=parseInt(D.paddingTop,10),te=parseInt(D.borderBottomWidth,10),T=parseInt(D.paddingBottom,10),R=X+W+z+T+te,V=Math.min(w.offsetHeight*5,R),re=window.getComputedStyle(p),pe=parseInt(re.paddingTop,10),ot=parseInt(re.paddingBottom,10),ze=C.top+C.height/2-Ir,Lt=A-ze,qe=w.offsetHeight/2,J=w.offsetTop+qe,Te=X+W+J,De=R-Te;if(Te<=ze){const Oe=G.length>0&&w===G[G.length-1].ref.current;l.style.bottom="0px";const Ae=u.clientHeight-p.offsetTop-p.offsetHeight,Tt=Math.max(Lt,qe+(Oe?ot:0)+Ae+te),ar=Te+Tt;l.style.height=ar+"px"}else{const Oe=G.length>0&&w===G[0].ref.current;l.style.top="0px";const Tt=Math.max(ze,X+p.offsetTop+(Oe?pe:0)+qe)+De;l.style.height=Tt+"px",p.scrollTop=Te-ze+p.offsetTop}l.style.margin=`${Ir}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,w,y,i.dir,n]);wt(()=>b(),[b]);const[_,S]=m.useState();wt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=m.useCallback(C=>{C&&x.current===!0&&(b(),v==null||v(),x.current=!1)},[b,v]);return a.jsx(_4,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(ue.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});oj.displayName=w4;var b4="SelectPopperPosition",bm=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ir,...i}=e,o=Id(r);return a.jsx($1,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bm.displayName=b4;var[_4,Cg]=Xo(hi,{}),_m="SelectViewport",aj=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Is(_m,r),o=Cg(_m,r),l=We(t,i.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Od.Slot,{scope:r,children:a.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const g=Math.abs(c.current-f.scrollTop);if(g>0){const x=window.innerHeight-Ir*2,p=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),y=Math.max(p,w);if(y<x){const v=y+g,b=Math.min(x,v),_=v-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});aj.displayName=_m;var lj="SelectGroup",[S4,j4]=Xo(lj),k4=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=di();return a.jsx(S4,{scope:r,id:s,children:a.jsx(ue.div,{role:"group","aria-labelledby":s,...n,ref:t})})});k4.displayName=lj;var cj="SelectLabel",uj=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=j4(cj,r);return a.jsx(ue.div,{id:s.id,...n,ref:t})});uj.displayName=cj;var xu="SelectItem",[C4,dj]=Xo(xu),fj=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=As(xu,r),c=Is(xu,r),u=l.value===n,[f,d]=m.useState(i??""),[h,g]=m.useState(!1),x=We(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,s)}),p=di(),w=m.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(C4,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:m.useCallback(v=>{d(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Od.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:a.jsx(ue.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Z(o.onFocus,()=>g(!0)),onBlur:Z(o.onBlur,()=>g(!1)),onClick:Z(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:Z(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:Z(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:Z(o.onPointerMove,v=>{var b;w.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Z(o.onKeyDown,v=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(f4.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});fj.displayName=xu;var _a="SelectItemText",hj=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=As(_a,r),l=Is(_a,r),c=dj(_a,r),u=g4(_a,r),[f,d]=m.useState(null),h=We(t,y=>d(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),g=f==null?void 0:f.textContent,x=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:w}=u;return wt(()=>(p(x),()=>w(x)),[p,w,x]),a.jsxs(a.Fragment,{children:[a.jsx(ue.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?wi.createPortal(i.children,o.valueNode):null]})});hj.displayName=_a;var mj="SelectItemIndicator",pj=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return dj(mj,r).isSelected?a.jsx(ue.span,{"aria-hidden":!0,...n,ref:t}):null});pj.displayName=mj;var Sm="SelectScrollUpButton",gj=m.forwardRef((e,t)=>{const r=Is(Sm,e.__scopeSelect),n=Cg(Sm,e.__scopeSelect),[s,i]=m.useState(!1),o=We(t,n.onScrollButtonChange);return wt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(yj,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});gj.displayName=Sm;var jm="SelectScrollDownButton",vj=m.forwardRef((e,t)=>{const r=Is(jm,e.__scopeSelect),n=Cg(jm,e.__scopeSelect),[s,i]=m.useState(!1),o=We(t,n.onScrollButtonChange);return wt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(yj,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});vj.displayName=jm;var yj=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Is("SelectScrollButton",r),o=m.useRef(null),l=Ad(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),wt(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Z(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{c()})})}),E4="SelectSeparator",xj=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(ue.div,{"aria-hidden":!0,...n,ref:t})});xj.displayName=E4;var km="SelectArrow",N4=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Id(r),i=As(km,r),o=Is(km,r);return i.open&&o.position==="popper"?a.jsx(U1,{...s,...n,ref:t}):null});N4.displayName=km;function wj(e){return e===""||e===void 0}var bj=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),i=We(t,s),o=u4(r);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&f){const d=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(d)}},[o,r]),a.jsx(hd,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});bj.displayName="BubbleSelect";function _j(e){const t=Pt(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function Sj(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=P4(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function P4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var T4=YS,jj=XS,R4=ej,O4=tj,A4=rj,kj=nj,I4=aj,Cj=uj,Ej=fj,M4=hj,D4=pj,Nj=gj,Pj=vj,Tj=xj;const Lo=T4,vl=R4,mi=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(jj,{ref:n,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(O4,{asChild:!0,children:a.jsx(__,{className:"h-4 w-4 opacity-50"})})]}));mi.displayName=jj.displayName;const Rj=m.forwardRef(({className:e,...t},r)=>a.jsx(Nj,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(BR,{className:"h-4 w-4"})}));Rj.displayName=Nj.displayName;const Oj=m.forwardRef(({className:e,...t},r)=>a.jsx(Pj,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(__,{className:"h-4 w-4"})}));Oj.displayName=Pj.displayName;const pi=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(A4,{children:a.jsxs(kj,{ref:s,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(Rj,{}),a.jsx(I4,{className:se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(Oj,{})]})}));pi.displayName=kj.displayName;const L4=m.forwardRef(({className:e,...t},r)=>a.jsx(Cj,{ref:r,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));L4.displayName=Cj.displayName;const $e=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Ej,{ref:n,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(D4,{children:a.jsx(Qp,{className:"h-4 w-4"})})}),a.jsx(M4,{children:t})]}));$e.displayName=Ej.displayName;const F4=m.forwardRef(({className:e,...t},r)=>a.jsx(Tj,{ref:r,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));F4.displayName=Tj.displayName;const $4=async()=>{console.log("Fetching detailed inventory with item statuses...");try{const{data:e,error:t}=await ee.from("inventory").select(`
        id,
        name,
        description,
        quantity,
        status,
        product_type_id,
        items!inner (
          serial_id,
          status
        )
      `);if(t)throw console.error("Error fetching detailed inventory:",t),t;if(console.log("Detailed inventory data:",e),!e||e.length===0)return console.log("No detailed inventory data found"),[];const{data:r,error:n}=await ee.from("product_types").select("id, name");n&&console.error("Error fetching product types:",n);const s=new Map;r&&r.forEach(l=>{s.set(l.id,l.name)});const i=new Map;e.forEach(l=>{const c=l.id;i.has(c)||i.set(c,{id:l.id,name:l.name,description:l.description||"",quantity:l.quantity,status:l.status,category:s.get(l.product_type_id)||"Uncategorized",serial_items:[]}),l.items&&Array.isArray(l.items)&&l.items.forEach(u=>{i.get(c).serial_items.push({serial_id:u.serial_id,status:u.status})})});const o=Array.from(i.values());return console.log("Processed detailed inventory:",o),o}catch(e){throw console.error("Error in getDetailedInventory:",e),e}},U4=async(e,t,r,n)=>{try{console.log(`Updating item ${e} status to ${t} by user ${r}`);const{data:s,error:i}=await ee.from("items").select("status").eq("serial_id",e).single();if(i)throw console.error("Error fetching current item status:",i),i;const o=s.status,{error:l}=await ee.from("items").update({status:t}).eq("serial_id",e);if(l)throw console.error("Error updating item status:",l),l;const c=z4(o,t),u=n||`Manual status change from ${o} to ${t}`,{error:f}=await ee.from("transactions").insert({item_serial:e,user_id:r,transaction_type:c,notes:u});if(f)throw console.error("Error creating transaction record:",f),f;return console.log(`Successfully updated item ${e} to status ${t} and logged transaction`),!0}catch(s){return console.error("Error in updateItemStatus:",s),!1}},z4=(e,t)=>t==="available"&&e!=="available"?"status_change":t==="damaged"?"damage":t==="in_repair"?"repair":"status_change",V4=e=>{const t={available:0,sold:0,damaged:0,in_repair:0,unavailable:0};return e.forEach(r=>{t[r.status]++}),t},B4=()=>{const[e,t]=m.useState(null),[r,n]=m.useState({}),[s,i]=m.useState({}),{toast:o}=Kt(),l=Fp(),{data:c=[],isLoading:u,refetch:f}=xs({queryKey:["detailed-inventory"],queryFn:$4}),d=async(g,x)=>{try{t(g);const{data:{user:p}}=await ee.auth.getUser();if(!p)throw new Error("User not authenticated");const w=s[g]||void 0;if(await U4(g,x,p.id,w))o({title:"Status Updated",description:`Item ${g} status updated to ${x}`}),n(v=>{const b={...v};return delete b[g],b}),i(v=>{const b={...v};return delete b[g],b}),l.invalidateQueries({queryKey:["detailed-inventory"]}),l.invalidateQueries({queryKey:["inventory-movements"]}),l.invalidateQueries({queryKey:["warehouse-products"]});else throw new Error("Failed to update item status")}catch(p){console.error("Error updating item status:",p),o({title:"Error",description:p instanceof Error?p.message:"Failed to update item status",variant:"destructive"})}finally{t(null)}},h=g=>{switch(g){case"available":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"damaged":return"bg-red-100 text-red-800";case"in_repair":return"bg-yellow-100 text-yellow-800";case"unavailable":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?a.jsx(de,{children:a.jsxs(ge,{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3",children:"Loading inventory items..."})]})}):a.jsx("div",{className:"space-y-6",children:a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-5 w-5"}),"Item Status Management"]}),a.jsx(et,{children:"View and update individual item statuses. Items marked as damaged can be repaired or made unavailable."}),a.jsxs(Ee,{onClick:()=>f(),variant:"outline",size:"sm",className:"w-fit",children:[a.jsx(tO,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),a.jsx(ge,{children:c.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No inventory items found."})]}):a.jsx("div",{className:"space-y-4",children:c.map(g=>{const x=V4(g.serial_items);return a.jsx(de,{className:"border-l-4 border-l-blue-500",children:a.jsxs(ge,{className:"p-6",children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:g.name}),a.jsx("p",{className:"text-sm text-gray-600",children:g.description}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Category: ",g.category]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsxs(Ze,{variant:"outline",children:["Available: ",x.available]}),a.jsxs(Ze,{variant:"outline",children:["Sold: ",x.sold]}),a.jsxs(Ze,{variant:"outline",children:["Damaged: ",x.damaged]}),a.jsxs(Ze,{variant:"outline",children:["In Repair: ",x.in_repair]}),a.jsxs(Ze,{variant:"outline",children:["Unavailable: ",x.unavailable]})]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium",children:"Individual Items:"}),g.serial_items.map(p=>a.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-mono text-sm",children:p.serial_id}),a.jsx(Ze,{className:`ml-2 ${h(p.status)}`,children:p.status})]}),(p.status==="damaged"||p.status==="in_repair"||p.status==="unavailable")&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Lo,{value:r[p.serial_id]||"",onValueChange:w=>n(y=>({...y,[p.serial_id]:w})),children:[a.jsx(mi,{className:"w-40",children:a.jsx(vl,{placeholder:"Change status"})}),a.jsxs(pi,{children:[a.jsx($e,{value:"available",children:"Available"}),a.jsx($e,{value:"damaged",children:"Damaged"}),a.jsx($e,{value:"in_repair",children:"In Repair"}),a.jsx($e,{value:"unavailable",children:"Unavailable"})]})]}),r[p.serial_id]&&a.jsxs(a.Fragment,{children:[a.jsx(Rd,{placeholder:"Reason for status change (optional)",value:s[p.serial_id]||"",onChange:w=>i(y=>({...y,[p.serial_id]:w.target.value})),className:"min-h-8 w-48"}),a.jsx(Ee,{onClick:()=>d(p.serial_id,r[p.serial_id]),disabled:e===p.serial_id,size:"sm",children:e===p.serial_id?"Updating...":"Update"})]})]})]},p.serial_id))]})]})},g.id)})})})]})})},Aj=async()=>{console.log("Fetching products from database...");try{const{data:e,error:t}=await ee.from("inventory").select(`
        id, 
        name, 
        description, 
        quantity, 
        created_at, 
        updated_at, 
        product_type_id
      `);if(t)throw console.error("Error fetching inventory:",t),t;if(console.log("Inventory data:",e),!e||e.length===0)return console.log("No inventory data found"),[];const{data:r,error:n}=await ee.from("product_types").select("id, name");n&&console.error("Error fetching product types:",n);const s=new Map;r&&r.forEach(p=>{s.set(p.id,p.name)}),console.log("Fetching ALL price records for debugging...");const{data:i,error:o}=await ee.from("price").select("*");console.log("All price records in database:",i),o&&console.error("Error fetching all prices:",o);const l=e.map(p=>p.id);console.log("Fetching prices for inventory IDs:",l);const{data:c,error:u}=await ee.from("price").select("inventory_id, amount, effective_from, status").in("inventory_id",l).eq("status",!0);u&&console.error("Error fetching prices:",u),console.log("Filtered price data fetched:",c);const{data:f,error:d}=await ee.from("price").select("inventory_id, amount, effective_from, status").in("inventory_id",l);console.log("Price data without status filter:",f);const h=new Map,g=c&&c.length>0?c:f;g&&g.sort((w,y)=>new Date(y.effective_from).getTime()-new Date(w.effective_from).getTime()).forEach(w=>{h.has(w.inventory_id)||(h.set(w.inventory_id,w.amount),console.log(`Setting price for inventory ${w.inventory_id}: $${w.amount} (status: ${w.status})`))}),console.log("Price map created:",Array.from(h.entries()));const x=e.map(p=>{const w=h.get(p.id)||0;return console.log(`Product ${p.name} (ID: ${p.id}) - Price: $${w}`),{id:p.id||"",name:p.name||"Unnamed Product",description:p.description||"",price:w,stock:p.quantity||0,image:"",category:s.get(p.product_type_id)||"Uncategorized",location:"",barcode:"",createdAt:new Date(p.created_at||Date.now()),updatedAt:new Date(p.updated_at||Date.now())}});return console.log("Final products with prices:",x),x}catch(e){throw console.error("Error in getProducts method:",e),e}},W4=()=>{const[e,t]=m.useState(""),[r,n]=m.useState("all"),[s,i]=m.useState("overview"),{data:o=[],isLoading:l,error:c}=xs({queryKey:["warehouse-products"],queryFn:Aj}),{data:u=[]}=xs({queryKey:["inventory-movements"],queryFn:async()=>{const{data:p,error:w}=await ee.from("transactions").select(`
          *,
          items!inner (
            serial_id,
            inventory (
              name,
              id
            )
          ),
          profiles!transactions_user_id_fkey (
            name,
            email
          ),
          orders (
            order_number
          )
        `).order("created_at",{ascending:!1});if(w)throw w;return p.map(y=>{var v,b,_;return{id:y.id,productId:y.items.inventory.id,productName:y.items.inventory.name,quantity:1,type:y.transaction_type==="sale"?"out":"in",reason:y.notes||y.transaction_type,performedBy:((v=y.profiles)==null?void 0:v.name)||"System",timestamp:new Date(y.created_at),userId:y.user_id,userName:((b=y.profiles)==null?void 0:b.name)||"Unknown",serialId:y.item_serial,orderNumber:(_=y.orders)==null?void 0:_.order_number}})}}),f=[...new Set(o.map(p=>p.category))],d=p=>{console.log("Product selected:",p)},h=()=>{i("inventory")},g=p=>o.find(w=>w.id===p);if(l)return a.jsxs("div",{className:"container mx-auto px-4 py-8 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3",children:"Loading warehouse data..."})]});if(c)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center text-red-600",children:["Error loading warehouse data: ",c.message]})});const x=o.filter(p=>p.name.toLowerCase().includes(e.toLowerCase())&&(r==="all"||p.category===r));return a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Warehouse Management"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your inventory, track stock levels, and analyze warehouse operations."})]}),a.jsxs(Ee,{children:[a.jsx(dt,{size:16,className:"mr-2"}),"Add New Product"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(xe,{type:"search",placeholder:"Search products...",value:e,onChange:p=>t(p.target.value)}),a.jsxs("div",{className:"md:col-span-2 flex items-center space-x-4",children:[a.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:r,onChange:p=>n(p.target.value),children:[a.jsx("option",{value:"all",children:"All Categories"}),f.map(p=>a.jsx("option",{value:p,children:p},p))]}),a.jsxs(Ee,{variant:"outline",children:[a.jsx(GR,{size:16,className:"mr-2"}),"Filter"]})]})]}),a.jsxs(ng,{value:s,onValueChange:i,className:"space-y-4",children:[a.jsxs(wd,{children:[a.jsx(fr,{value:"overview",children:"Overview"}),a.jsx(fr,{value:"analytics",children:"Analytics"}),a.jsx(fr,{value:"inventory",children:"Inventory"}),a.jsx(fr,{value:"movements",children:"Movements"}),a.jsx(fr,{value:"refunds",children:"Refund Requests"}),a.jsx(fr,{value:"item-status",children:"Item Status"}),a.jsx(fr,{value:"shelf",children:"Shelf Mapping"})]}),a.jsx(hr,{value:"overview",className:"space-y-4",children:a.jsx($D,{products:o,inventoryMovements:u})}),a.jsx(hr,{value:"analytics",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Total Products"}),a.jsx(dt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ge,{children:a.jsx("div",{className:"text-2xl font-bold",children:o.length})})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Low Stock Items"}),a.jsx(ui,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ge,{children:a.jsx("div",{className:"text-2xl font-bold",children:o.filter(p=>p.stock<=5).length})})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Total Stock"}),a.jsx(C_,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ge,{children:a.jsx("div",{className:"text-2xl font-bold",children:o.reduce((p,w)=>p+w.stock,0)})})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Categories"}),a.jsx(uu,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ge,{children:a.jsx("div",{className:"text-2xl font-bold",children:f.length})})]})]})}),a.jsx(hr,{value:"inventory",className:"space-y-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(p=>a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:p.name}),a.jsx(et,{children:p.description})]}),a.jsxs(ge,{children:[a.jsxs("p",{children:["Category: ",p.category]}),a.jsxs("p",{children:["Stock: ",p.stock]}),a.jsxs("p",{children:["Location: ",p.location||"A1-01"]}),a.jsx(Ze,{variant:p.stock>5?"default":"destructive",children:p.stock>5?"In Stock":"Low Stock"})]})]},p.id))})}),a.jsx(hr,{value:"movements",className:"space-y-4",children:a.jsx(s4,{movements:u,getProductById:g})}),a.jsx(hr,{value:"refunds",className:"space-y-4",children:a.jsx(c4,{})}),a.jsx(hr,{value:"item-status",className:"space-y-4",children:a.jsx(B4,{})}),a.jsx(hr,{value:"shelf",className:"space-y-4",children:a.jsx(i4,{products:o,onProductSelect:d})})]}),a.jsx(UD,{products:o,onProductSelect:d,onViewAllInventory:h})]})},gx=()=>{const[e,t]=m.useState(""),[r,n]=m.useState("all"),[s,i]=m.useState("name-asc"),{toast:o}=Kt(),{addToCart:l,getCartItemQuantity:c}=Wp(),{data:u=[],isLoading:f,error:d}=xs({queryKey:["store-products"],queryFn:Aj});console.log("Products in Store component:",u),ye.useEffect(()=>{d&&(console.error("Error in Store page:",d),o({title:"Error",description:"Failed to load products. Please try again later.",variant:"destructive"}))},[d,o]);const h=[...new Set(u.map(w=>w.category||"Uncategorized"))],x=[...u.filter(w=>{const y=w.name.toLowerCase().includes(e.toLowerCase())||(w.description||"").toLowerCase().includes(e.toLowerCase()),v=r==="all"||w.category===r;return y&&v})].sort((w,y)=>{switch(s){case"name-asc":return w.name.localeCompare(y.name);case"name-desc":return y.name.localeCompare(w.name);case"price-asc":return w.price-y.price;case"price-desc":return y.price-w.price;case"stock-asc":return w.stock-y.stock;case"stock-desc":return y.stock-w.stock;default:return 0}}),p=w=>{l(w,1)};return a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Online Store"}),a.jsx("p",{className:"text-muted-foreground",children:"Explore our wide range of products and find the perfect fit for your needs."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"flex items-center space-x-2 w-full md:w-auto",children:a.jsxs("div",{className:"relative flex-1 md:w-64",children:[a.jsx(xe,{type:"search",placeholder:"Search for products...",className:"pl-10",value:e,onChange:w=>t(w.target.value)}),a.jsx(j_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[a.jsxs(Lo,{value:r,onValueChange:n,children:[a.jsx(mi,{className:"w-full md:w-[180px]",children:a.jsx(vl,{placeholder:"Category"})}),a.jsxs(pi,{children:[a.jsx($e,{value:"all",children:"All Categories"}),h.map(w=>a.jsx($e,{value:w,children:w},w))]})]}),a.jsxs(Lo,{value:s,onValueChange:i,children:[a.jsx(mi,{className:"w-full md:w-[180px]",children:a.jsx(vl,{placeholder:"Sort by"})}),a.jsxs(pi,{children:[a.jsx($e,{value:"name-asc",children:"Name (A-Z)"}),a.jsx($e,{value:"name-desc",children:"Name (Z-A)"}),a.jsx($e,{value:"price-asc",children:"Price (Low to High)"}),a.jsx($e,{value:"price-desc",children:"Price (High to Low)"}),a.jsx($e,{value:"stock-asc",children:"Stock (Low to High)"}),a.jsx($e,{value:"stock-desc",children:"Stock (High to Low)"})]})]})]})]}),f?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading products..."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:x.map(w=>{const y=c(w.id),v=y>0,b=w.stock<=0;return a.jsxs(de,{className:"bg-white dark:bg-gray-800 shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200 dark:border-gray-700",children:[a.jsxs(we,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx(be,{className:"text-lg font-semibold truncate text-gray-900 dark:text-gray-100",children:w.name}),v&&a.jsxs(Ze,{variant:"secondary",className:"ml-2",children:[y," in cart"]})]}),a.jsx(et,{className:"text-gray-500 dark:text-gray-400 text-sm line-clamp-2",children:w.description})]}),a.jsxs(ge,{className:"p-4 pt-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(Ze,{variant:"secondary",className:"text-xs",children:w.category||"Uncategorized"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(iO,{className:"h-4 w-4 text-yellow-500 fill-current"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"4.5"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["$",w.price]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm ${b?"text-red-600":"text-gray-600 dark:text-gray-400"}`,children:b?"Out of Stock":`Stock: ${w.stock}`}),b&&a.jsx(Ze,{variant:"destructive",children:"Unavailable"})]})]}),a.jsx("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx(Ee,{variant:v?"secondary":"default",size:"sm",className:"flex-1 mr-2",onClick:()=>p(w),disabled:b,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Qp,{className:"h-4 w-4 mr-2"}),"Added"]}):a.jsxs(a.Fragment,{children:[a.jsx(Zp,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})})})]})]},w.id)})}),x.length===0&&!f&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products found matching your criteria."})})]})})};var q4="Separator",vx="horizontal",H4=["horizontal","vertical"],Ij=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=vx,...s}=e,i=K4(n)?n:vx,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(ue.div,{"data-orientation":i,...l,...s,ref:t})});Ij.displayName=q4;function K4(e){return H4.includes(e)}var Mj=Ij;const wu=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(Mj,{ref:s,decorative:r,orientation:t,className:se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));wu.displayName=Mj.displayName;const G4=()=>{const{items:e,total:t,itemCount:r,removeFromCart:n,updateQuantity:s,clearCart:i}=Wp(),{toast:o}=Kt(),l=bi(),c=()=>{if(e.filter(h=>h.status==="unavailable"||h.product.stock<h.quantity).length>0){o({title:"Cannot proceed to checkout",description:"Some items in your cart are no longer available or have insufficient stock.",variant:"destructive"});return}l("/checkout")},u=d=>d.product.stock<=0?"unavailable":d.quantity>d.product.stock?"insufficient":"available",f=d=>{switch(d){case"unavailable":return a.jsx(Ze,{variant:"destructive",children:"Out of Stock"});case"insufficient":return a.jsx(Ze,{variant:"destructive",children:"Insufficient Stock"});default:return a.jsx(Ze,{variant:"secondary",children:"Available"})}};return e.length===0?a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(nO,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start shopping to add items to your cart."}),a.jsx(Ee,{onClick:()=>l("/store"),children:"Continue Shopping"})]})})}):a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Shopping Cart"}),a.jsxs("p",{className:"text-muted-foreground",children:[r," ",r===1?"item":"items"," in your cart"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(d=>{const h=u(d);return a.jsx(de,{className:"relative",children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:d.product.name}),f(h)]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:d.product.description}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:["Category: ",d.product.category]}),h==="insufficient"&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm mb-4",children:[a.jsx(ui,{className:"h-4 w-4"}),a.jsxs("span",{children:["Only ",d.product.stock," available (you have ",d.quantity," in cart)"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>s(d.product.id,d.quantity-1),disabled:d.quantity<=1,children:a.jsx(JR,{className:"h-4 w-4"})}),a.jsx("span",{className:"font-medium text-lg w-8 text-center",children:d.quantity}),a.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>s(d.product.id,d.quantity+1),disabled:d.quantity>=d.product.stock,children:a.jsx(eO,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["$",(d.product.price*d.quantity).toFixed(2)]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["$",d.product.price.toFixed(2)," each"]})]})]})]}),a.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>n(d.product.id),className:"ml-4 text-red-500 hover:text-red-700 hover:bg-red-50",children:a.jsx(k_,{className:"h-4 w-4"})})]})})},d.id)})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(de,{children:[a.jsx(we,{children:a.jsx(be,{children:"Order Summary"})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Subtotal (",r," items)"]}),a.jsxs("span",{children:["$",t.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{className:"text-green-600",children:"Free"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{children:["$",(t*.08).toFixed(2)]})]}),a.jsx(wu,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",(t*1.08).toFixed(2)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ee,{onClick:c,className:"w-full",disabled:e.some(d=>u(d)!=="available"),children:"Proceed to Checkout"}),a.jsx(Ee,{variant:"outline",onClick:i,className:"w-full",children:"Clear Cart"}),a.jsx(Ee,{variant:"ghost",onClick:()=>l("/store"),className:"w-full",children:"Continue Shopping"})]})]})]}),e.some(d=>u(d)!=="available")&&a.jsxs(de,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-800",children:[a.jsx(we,{children:a.jsxs(be,{className:"text-amber-800 dark:text-amber-200 flex items-center gap-2",children:[a.jsx(ui,{className:"h-5 w-5"}),"Stock Issues"]})}),a.jsx(ge,{children:a.jsx("p",{className:"text-amber-700 dark:text-amber-300 text-sm",children:"Some items in your cart have stock issues. Please review and adjust quantities before proceeding."})})]})]})]})]})})};var $l=e=>e.type==="checkbox",Gs=e=>e instanceof Date,Vt=e=>e==null;const Dj=e=>typeof e=="object";var ct=e=>!Vt(e)&&!Array.isArray(e)&&Dj(e)&&!Gs(e),Lj=e=>ct(e)&&e.target?$l(e.target)?e.target.checked:e.target.value:e,Q4=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Fj=(e,t)=>e.has(Q4(t)),Y4=e=>{const t=e.constructor&&e.constructor.prototype;return ct(t)&&t.hasOwnProperty("isPrototypeOf")},Eg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yt(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Eg&&(e instanceof Blob||e instanceof FileList))&&(r||ct(e)))if(t=r?[]:{},!r&&!Y4(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Yt(e[n]));else return e;return t}var Md=e=>Array.isArray(e)?e.filter(Boolean):[],it=e=>e===void 0,U=(e,t,r)=>{if(!t||!ct(e))return r;const n=Md(t.split(/[,[\].]+?/)).reduce((s,i)=>Vt(s)?s:s[i],e);return it(n)||n===e?it(e[t])?r:e[t]:n},Sr=e=>typeof e=="boolean",Ng=e=>/^\w*$/.test(e),$j=e=>Md(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ie=(e,t,r)=>{let n=-1;const s=Ng(t)?[t]:$j(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=ct(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const bu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Uj=ye.createContext(null),Dd=()=>ye.useContext(Uj),Z4=e=>{const{children:t,...r}=e;return ye.createElement(Uj.Provider,{value:r},t)};var zj=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==zr.all&&(t._proxyFormState[o]=!n||zr.all),r&&(r[o]=!0),e[o]}});return s},Xt=e=>ct(e)&&!Object.keys(e).length,Vj=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Xt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||zr.all))},Ua=e=>Array.isArray(e)?e:[e],Bj=(e,t,r)=>!e||!t||e===t||Ua(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function Pg(e){const t=ye.useRef(e);t.current=e,ye.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function X4(e){const t=Dd(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,l]=ye.useState(r._formState),c=ye.useRef(!0),u=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=ye.useRef(s);return f.current=s,Pg({disabled:n,next:d=>c.current&&Bj(f.current,d.name,i)&&Vj(d,u.current,r._updateFormState)&&l({...r._formState,...d}),subject:r._subjects.state}),ye.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),zj(o,r,u.current,!1)}var on=e=>typeof e=="string",Wj=(e,t,r,n,s)=>on(e)?(n&&t.watch.add(e),U(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),U(r,i))):(n&&(t.watchAll=!0),r);function J4(e){const t=Dd(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o}=e||{},l=ye.useRef(n);l.current=n,Pg({disabled:i,subject:r._subjects.values,next:f=>{Bj(l.current,f.name,o)&&u(Yt(Wj(l.current,r._names,f.values||r._formValues,!1,s)))}});const[c,u]=ye.useState(r._getWatch(n,s));return ye.useEffect(()=>r._removeUnmounted()),c}function eF(e){const t=Dd(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i}=e,o=Fj(s._names.array,r),l=J4({control:s,name:r,defaultValue:U(s._formValues,r,U(s._defaultValues,r,e.defaultValue)),exact:!0}),c=X4({control:s,name:r,exact:!0}),u=ye.useRef(s.register(r,{...e.rules,value:l,...Sr(e.disabled)?{disabled:e.disabled}:{}}));return ye.useEffect(()=>{const f=s._options.shouldUnregister||i,d=(h,g)=>{const x=U(s._fields,h);x&&x._f&&(x._f.mount=g)};if(d(r,!0),f){const h=Yt(U(s._options.defaultValues,r));Ie(s._defaultValues,r,h),it(U(s._formValues,r))&&Ie(s._formValues,r,h)}return()=>{(o?f&&!s._state.action:f)?s.unregister(r):d(r,!1)}},[r,s,o,i]),ye.useEffect(()=>{U(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:U(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...Sr(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:ye.useCallback(f=>u.current.onChange({target:{value:Lj(f),name:r},type:bu.CHANGE}),[r]),onBlur:ye.useCallback(()=>u.current.onBlur({target:{value:U(s._formValues,r),name:r},type:bu.BLUR}),[r,s]),ref:ye.useCallback(f=>{const d=U(s._fields,r);d&&f&&(d._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:h=>f.setCustomValidity(h),reportValidity:()=>f.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!U(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!U(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!U(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!U(c.validatingFields,r)},error:{enumerable:!0,get:()=>U(c.errors,r)}})}}const tF=e=>e.render(eF(e));var qj=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},yx=e=>({isOnSubmit:!e||e===zr.onSubmit,isOnBlur:e===zr.onBlur,isOnChange:e===zr.onChange,isOnAll:e===zr.all,isOnTouch:e===zr.onTouched}),xx=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const za=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=U(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(za(l,t))break}else if(ct(l)&&za(l,t))break}}};var rF=(e,t,r)=>{const n=Ua(U(e,r));return Ie(n,"root",t[r]),Ie(e,r,n),e},Tg=e=>e.type==="file",_n=e=>typeof e=="function",_u=e=>{if(!Eg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Mc=e=>on(e),Rg=e=>e.type==="radio",Su=e=>e instanceof RegExp;const wx={value:!1,isValid:!1},bx={value:!0,isValid:!0};var Hj=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!it(e[0].attributes.value)?it(e[0].value)||e[0].value===""?bx:{value:e[0].value,isValid:!0}:bx:wx}return wx};const _x={isValid:!1,value:null};var Kj=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,_x):_x;function Sx(e,t,r="validate"){if(Mc(e)||Array.isArray(e)&&e.every(Mc)||Sr(e)&&!e)return{type:r,message:Mc(e)?e:"",ref:t}}var Li=e=>ct(e)&&!Su(e)?e:{value:e,message:""},jx=async(e,t,r,n,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:u,min:f,max:d,pattern:h,validate:g,name:x,valueAsNumber:p,mount:w,disabled:y}=e._f,v=U(t,x);if(!w||y)return{};const b=o?o[0]:i,_=A=>{n&&b.reportValidity&&(b.setCustomValidity(Sr(A)?"":A||""),b.reportValidity())},S={},E=Rg(i),C=$l(i),P=E||C,M=(p||Tg(i))&&it(i.value)&&it(v)||_u(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,I=qj.bind(null,x,r,S),G=(A,z,D,X=mn.maxLength,W=mn.minLength)=>{const te=A?z:D;S[x]={type:A?X:W,message:te,ref:i,...I(A?X:W,te)}};if(s?!Array.isArray(v)||!v.length:l&&(!P&&(M||Vt(v))||Sr(v)&&!v||C&&!Hj(o).isValid||E&&!Kj(o).isValid)){const{value:A,message:z}=Mc(l)?{value:!!l,message:l}:Li(l);if(A&&(S[x]={type:mn.required,message:z,ref:b,...I(mn.required,z)},!r))return _(z),S}if(!M&&(!Vt(f)||!Vt(d))){let A,z;const D=Li(d),X=Li(f);if(!Vt(v)&&!isNaN(v)){const W=i.valueAsNumber||v&&+v;Vt(D.value)||(A=W>D.value),Vt(X.value)||(z=W<X.value)}else{const W=i.valueAsDate||new Date(v),te=V=>new Date(new Date().toDateString()+" "+V),T=i.type=="time",R=i.type=="week";on(D.value)&&v&&(A=T?te(v)>te(D.value):R?v>D.value:W>new Date(D.value)),on(X.value)&&v&&(z=T?te(v)<te(X.value):R?v<X.value:W<new Date(X.value))}if((A||z)&&(G(!!A,D.message,X.message,mn.max,mn.min),!r))return _(S[x].message),S}if((c||u)&&!M&&(on(v)||s&&Array.isArray(v))){const A=Li(c),z=Li(u),D=!Vt(A.value)&&v.length>+A.value,X=!Vt(z.value)&&v.length<+z.value;if((D||X)&&(G(D,A.message,z.message),!r))return _(S[x].message),S}if(h&&!M&&on(v)){const{value:A,message:z}=Li(h);if(Su(A)&&!v.match(A)&&(S[x]={type:mn.pattern,message:z,ref:i,...I(mn.pattern,z)},!r))return _(z),S}if(g){if(_n(g)){const A=await g(v,t),z=Sx(A,b);if(z&&(S[x]={...z,...I(mn.validate,z.message)},!r))return _(z.message),S}else if(ct(g)){let A={};for(const z in g){if(!Xt(A)&&!r)break;const D=Sx(await g[z](v,t),b,z);D&&(A={...D,...I(z,D.message)},_(D.message),r&&(S[x]=A))}if(!Xt(A)&&(S[x]={ref:b,...A},!r))return S}}return _(!0),S};function nF(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=it(e)?n++:e[t[n++]];return e}function sF(e){for(const t in e)if(e.hasOwnProperty(t)&&!it(e[t]))return!1;return!0}function ft(e,t){const r=Array.isArray(t)?t:Ng(t)?[t]:$j(t),n=r.length===1?e:nF(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(ct(n)&&Xt(n)||Array.isArray(n)&&sF(n))&&ft(e,r.slice(0,-1)),e}var Ff=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Cm=e=>Vt(e)||!Dj(e);function Zn(e,t){if(Cm(e)||Cm(t))return e===t;if(Gs(e)&&Gs(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Gs(i)&&Gs(o)||ct(i)&&ct(o)||Array.isArray(i)&&Array.isArray(o)?!Zn(i,o):i!==o)return!1}}return!0}var Gj=e=>e.type==="select-multiple",iF=e=>Rg(e)||$l(e),$f=e=>_u(e)&&e.isConnected,Qj=e=>{for(const t in e)if(_n(e[t]))return!0;return!1};function ju(e,t={}){const r=Array.isArray(e);if(ct(e)||r)for(const n in e)Array.isArray(e[n])||ct(e[n])&&!Qj(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ju(e[n],t[n])):Vt(e[n])||(t[n]=!0);return t}function Yj(e,t,r){const n=Array.isArray(e);if(ct(e)||n)for(const s in e)Array.isArray(e[s])||ct(e[s])&&!Qj(e[s])?it(t)||Cm(r[s])?r[s]=Array.isArray(e[s])?ju(e[s],[]):{...ju(e[s])}:Yj(e[s],Vt(t)?{}:t[s],r[s]):r[s]=!Zn(e[s],t[s]);return r}var fa=(e,t)=>Yj(e,t,ju(t)),Zj=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>it(e)?e:t?e===""?NaN:e&&+e:r&&on(e)?new Date(e):n?n(e):e;function Uf(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Tg(t)?t.files:Rg(t)?Kj(e.refs).value:Gj(t)?[...t.selectedOptions].map(({value:r})=>r):$l(t)?Hj(e.refs).value:Zj(it(t.value)?e.ref.value:t.value,e)}var oF=(e,t,r,n)=>{const s={};for(const i of e){const o=U(t,i);o&&Ie(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ha=e=>it(e)?e:Su(e)?e.source:ct(e)?Su(e.value)?e.value.source:e.value:e;const kx="AsyncFunction";var aF=e=>(!e||!e.validate)&&!!(_n(e.validate)&&e.validate.constructor.name===kx||ct(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===kx)),lF=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Cx(e,t,r){const n=U(e,r);if(n||Ng(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=U(t,i),l=U(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var cF=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,uF=(e,t)=>!Md(U(e,t)).length&&ft(e,t);const dF={mode:zr.onSubmit,reValidateMode:zr.onChange,shouldFocusError:!0};function fF(e={}){let t={...dF,...e},r={submitCount:0,isDirty:!1,isLoading:_n(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=ct(t.defaultValues)||ct(t.values)?Yt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Yt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Ff(),array:Ff(),state:Ff()},h=yx(t.mode),g=yx(t.reValidateMode),x=t.criteriaMode===zr.all,p=j=>N=>{clearTimeout(u),u=setTimeout(j,N)},w=async j=>{if(!e.disabled&&(f.isValid||j)){const N=t.resolver?Xt((await P()).errors):await I(n,!0);N!==r.isValid&&d.state.next({isValid:N})}},y=(j,N)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((j||Array.from(l.mount)).forEach(O=>{O&&(N?Ie(r.validatingFields,O,N):ft(r.validatingFields,O))}),d.state.next({validatingFields:r.validatingFields,isValidating:!Xt(r.validatingFields)}))},v=(j,N=[],O,H,B=!0,$=!0)=>{if(H&&O&&!e.disabled){if(o.action=!0,$&&Array.isArray(U(n,j))){const ie=O(U(n,j),H.argA,H.argB);B&&Ie(n,j,ie)}if($&&Array.isArray(U(r.errors,j))){const ie=O(U(r.errors,j),H.argA,H.argB);B&&Ie(r.errors,j,ie),uF(r.errors,j)}if(f.touchedFields&&$&&Array.isArray(U(r.touchedFields,j))){const ie=O(U(r.touchedFields,j),H.argA,H.argB);B&&Ie(r.touchedFields,j,ie)}f.dirtyFields&&(r.dirtyFields=fa(s,i)),d.state.next({name:j,isDirty:A(j,N),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ie(i,j,N)},b=(j,N)=>{Ie(r.errors,j,N),d.state.next({errors:r.errors})},_=j=>{r.errors=j,d.state.next({errors:r.errors,isValid:!1})},S=(j,N,O,H)=>{const B=U(n,j);if(B){const $=U(i,j,it(O)?U(s,j):O);it($)||H&&H.defaultChecked||N?Ie(i,j,N?$:Uf(B._f)):X(j,$),o.mount&&w()}},E=(j,N,O,H,B)=>{let $=!1,ie=!1;const ve={name:j};if(!e.disabled){const pt=!!(U(n,j)&&U(n,j)._f&&U(n,j)._f.disabled);if(!O||H){f.isDirty&&(ie=r.isDirty,r.isDirty=ve.isDirty=A(),$=ie!==ve.isDirty);const gt=pt||Zn(U(s,j),N);ie=!!(!pt&&U(r.dirtyFields,j)),gt||pt?ft(r.dirtyFields,j):Ie(r.dirtyFields,j,!0),ve.dirtyFields=r.dirtyFields,$=$||f.dirtyFields&&ie!==!gt}if(O){const gt=U(r.touchedFields,j);gt||(Ie(r.touchedFields,j,O),ve.touchedFields=r.touchedFields,$=$||f.touchedFields&&gt!==O)}$&&B&&d.state.next(ve)}return $?ve:{}},C=(j,N,O,H)=>{const B=U(r.errors,j),$=f.isValid&&Sr(N)&&r.isValid!==N;if(e.delayError&&O?(c=p(()=>b(j,O)),c(e.delayError)):(clearTimeout(u),c=null,O?Ie(r.errors,j,O):ft(r.errors,j)),(O?!Zn(B,O):B)||!Xt(H)||$){const ie={...H,...$&&Sr(N)?{isValid:N}:{},errors:r.errors,name:j};r={...r,...ie},d.state.next(ie)}},P=async j=>{y(j,!0);const N=await t.resolver(i,t.context,oF(j||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(j),N},M=async j=>{const{errors:N}=await P(j);if(j)for(const O of j){const H=U(N,O);H?Ie(r.errors,O,H):ft(r.errors,O)}else r.errors=N;return N},I=async(j,N,O={valid:!0})=>{for(const H in j){const B=j[H];if(B){const{_f:$,...ie}=B;if($){const ve=l.array.has($.name),pt=B._f&&aF(B._f);pt&&f.validatingFields&&y([H],!0);const gt=await jx(B,i,x,t.shouldUseNativeValidation&&!N,ve);if(pt&&f.validatingFields&&y([H]),gt[$.name]&&(O.valid=!1,N))break;!N&&(U(gt,$.name)?ve?rF(r.errors,gt,$.name):Ie(r.errors,$.name,gt[$.name]):ft(r.errors,$.name))}!Xt(ie)&&await I(ie,N,O)}}return O.valid},G=()=>{for(const j of l.unMount){const N=U(n,j);N&&(N._f.refs?N._f.refs.every(O=>!$f(O)):!$f(N._f.ref))&&qe(j)}l.unMount=new Set},A=(j,N)=>!e.disabled&&(j&&N&&Ie(i,j,N),!Zn(re(),s)),z=(j,N,O)=>Wj(j,l,{...o.mount?i:it(N)?s:on(j)?{[j]:N}:N},O,N),D=j=>Md(U(o.mount?i:s,j,e.shouldUnregister?U(s,j,[]):[])),X=(j,N,O={})=>{const H=U(n,j);let B=N;if(H){const $=H._f;$&&(!$.disabled&&Ie(i,j,Zj(N,$)),B=_u($.ref)&&Vt(N)?"":N,Gj($.ref)?[...$.ref.options].forEach(ie=>ie.selected=B.includes(ie.value)):$.refs?$l($.ref)?$.refs.length>1?$.refs.forEach(ie=>(!ie.defaultChecked||!ie.disabled)&&(ie.checked=Array.isArray(B)?!!B.find(ve=>ve===ie.value):B===ie.value)):$.refs[0]&&($.refs[0].checked=!!B):$.refs.forEach(ie=>ie.checked=ie.value===B):Tg($.ref)?$.ref.value="":($.ref.value=B,$.ref.type||d.values.next({name:j,values:{...i}})))}(O.shouldDirty||O.shouldTouch)&&E(j,B,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&V(j)},W=(j,N,O)=>{for(const H in N){const B=N[H],$=`${j}.${H}`,ie=U(n,$);(l.array.has(j)||ct(B)||ie&&!ie._f)&&!Gs(B)?W($,B,O):X($,B,O)}},te=(j,N,O={})=>{const H=U(n,j),B=l.array.has(j),$=Yt(N);Ie(i,j,$),B?(d.array.next({name:j,values:{...i}}),(f.isDirty||f.dirtyFields)&&O.shouldDirty&&d.state.next({name:j,dirtyFields:fa(s,i),isDirty:A(j,$)})):H&&!H._f&&!Vt($)?W(j,$,O):X(j,$,O),xx(j,l)&&d.state.next({...r}),d.values.next({name:o.mount?j:void 0,values:{...i}})},T=async j=>{o.mount=!0;const N=j.target;let O=N.name,H=!0;const B=U(n,O),$=()=>N.type?Uf(B._f):Lj(j),ie=ve=>{H=Number.isNaN(ve)||Gs(ve)&&isNaN(ve.getTime())||Zn(ve,U(i,O,ve))};if(B){let ve,pt;const gt=$(),Ms=j.type===bu.BLUR||j.type===bu.FOCUS_OUT,ok=!lF(B._f)&&!t.resolver&&!U(r.errors,O)&&!B._f.deps||cF(Ms,U(r.touchedFields,O),r.isSubmitted,g,h),$d=xx(O,l,Ms);Ie(i,O,gt),Ms?(B._f.onBlur&&B._f.onBlur(j),c&&c(0)):B._f.onChange&&B._f.onChange(j);const Ud=E(O,gt,Ms,!1),ak=!Xt(Ud)||$d;if(!Ms&&d.values.next({name:O,type:j.type,values:{...i}}),ok)return f.isValid&&(e.mode==="onBlur"?Ms&&w():w()),ak&&d.state.next({name:O,...$d?{}:Ud});if(!Ms&&$d&&d.state.next({...r}),t.resolver){const{errors:Mg}=await P([O]);if(ie(gt),H){const lk=Cx(r.errors,n,O),Dg=Cx(Mg,n,lk.name||O);ve=Dg.error,O=Dg.name,pt=Xt(Mg)}}else y([O],!0),ve=(await jx(B,i,x,t.shouldUseNativeValidation))[O],y([O]),ie(gt),H&&(ve?pt=!1:f.isValid&&(pt=await I(n,!0)));H&&(B._f.deps&&V(B._f.deps),C(O,pt,ve,Ud))}},R=(j,N)=>{if(U(r.errors,N)&&j.focus)return j.focus(),1},V=async(j,N={})=>{let O,H;const B=Ua(j);if(t.resolver){const $=await M(it(j)?j:B);O=Xt($),H=j?!B.some(ie=>U($,ie)):O}else j?(H=(await Promise.all(B.map(async $=>{const ie=U(n,$);return await I(ie&&ie._f?{[$]:ie}:ie)}))).every(Boolean),!(!H&&!r.isValid)&&w()):H=O=await I(n);return d.state.next({...!on(j)||f.isValid&&O!==r.isValid?{}:{name:j},...t.resolver||!j?{isValid:O}:{},errors:r.errors}),N.shouldFocus&&!H&&za(n,R,j?B:l.mount),H},re=j=>{const N={...o.mount?i:s};return it(j)?N:on(j)?U(N,j):j.map(O=>U(N,O))},pe=(j,N)=>({invalid:!!U((N||r).errors,j),isDirty:!!U((N||r).dirtyFields,j),error:U((N||r).errors,j),isValidating:!!U(r.validatingFields,j),isTouched:!!U((N||r).touchedFields,j)}),ot=j=>{j&&Ua(j).forEach(N=>ft(r.errors,N)),d.state.next({errors:j?r.errors:{}})},ze=(j,N,O)=>{const H=(U(n,j,{_f:{}})._f||{}).ref,B=U(r.errors,j)||{},{ref:$,message:ie,type:ve,...pt}=B;Ie(r.errors,j,{...pt,...N,ref:H}),d.state.next({name:j,errors:r.errors,isValid:!1}),O&&O.shouldFocus&&H&&H.focus&&H.focus()},Lt=(j,N)=>_n(j)?d.values.subscribe({next:O=>j(z(void 0,N),O)}):z(j,N,!0),qe=(j,N={})=>{for(const O of j?Ua(j):l.mount)l.mount.delete(O),l.array.delete(O),N.keepValue||(ft(n,O),ft(i,O)),!N.keepError&&ft(r.errors,O),!N.keepDirty&&ft(r.dirtyFields,O),!N.keepTouched&&ft(r.touchedFields,O),!N.keepIsValidating&&ft(r.validatingFields,O),!t.shouldUnregister&&!N.keepDefaultValue&&ft(s,O);d.values.next({values:{...i}}),d.state.next({...r,...N.keepDirty?{isDirty:A()}:{}}),!N.keepIsValid&&w()},J=({disabled:j,name:N,field:O,fields:H,value:B})=>{if(Sr(j)&&o.mount||j){const $=j?void 0:it(B)?Uf(O?O._f:U(H,N)._f):B;Ie(i,N,$),E(N,$,!1,!1,!0)}},Te=(j,N={})=>{let O=U(n,j);const H=Sr(N.disabled)||Sr(e.disabled);return Ie(n,j,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:j}},name:j,mount:!0,...N}}),l.mount.add(j),O?J({field:O,disabled:Sr(N.disabled)?N.disabled:e.disabled,name:j,value:N.value}):S(j,!0,N.value),{...H?{disabled:N.disabled||e.disabled}:{},...t.progressive?{required:!!N.required,min:ha(N.min),max:ha(N.max),minLength:ha(N.minLength),maxLength:ha(N.maxLength),pattern:ha(N.pattern)}:{},name:j,onChange:T,onBlur:T,ref:B=>{if(B){Te(j,N),O=U(n,j);const $=it(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,ie=iF($),ve=O._f.refs||[];if(ie?ve.find(pt=>pt===$):$===O._f.ref)return;Ie(n,j,{_f:{...O._f,...ie?{refs:[...ve.filter($f),$,...Array.isArray(U(s,j))?[{}]:[]],ref:{type:$.type,name:j}}:{ref:$}}}),S(j,!1,void 0,$)}else O=U(n,j,{}),O._f&&(O._f.mount=!1),(t.shouldUnregister||N.shouldUnregister)&&!(Fj(l.array,j)&&o.action)&&l.unMount.add(j)}}},De=()=>t.shouldFocusError&&za(n,R,l.mount),Re=j=>{Sr(j)&&(d.state.next({disabled:j}),za(n,(N,O)=>{const H=U(n,O);H&&(N.disabled=H._f.disabled||j,Array.isArray(H._f.refs)&&H._f.refs.forEach(B=>{B.disabled=H._f.disabled||j}))},0,!1))},Oe=(j,N)=>async O=>{let H;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let B=Yt(i);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:$,values:ie}=await P();r.errors=$,B=ie}else await I(n);if(ft(r.errors,"root"),Xt(r.errors)){d.state.next({errors:{}});try{await j(B,O)}catch($){H=$}}else N&&await N({...r.errors},O),De(),setTimeout(De);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xt(r.errors)&&!H,submitCount:r.submitCount+1,errors:r.errors}),H)throw H},Ae=(j,N={})=>{U(n,j)&&(it(N.defaultValue)?te(j,Yt(U(s,j))):(te(j,N.defaultValue),Ie(s,j,Yt(N.defaultValue))),N.keepTouched||ft(r.touchedFields,j),N.keepDirty||(ft(r.dirtyFields,j),r.isDirty=N.defaultValue?A(j,Yt(U(s,j))):A()),N.keepError||(ft(r.errors,j),f.isValid&&w()),d.state.next({...r}))},Tt=(j,N={})=>{const O=j?Yt(j):s,H=Yt(O),B=Xt(j),$=B?s:H;if(N.keepDefaultValues||(s=O),!N.keepValues){if(N.keepDirtyValues){const ie=new Set([...l.mount,...Object.keys(fa(s,i))]);for(const ve of Array.from(ie))U(r.dirtyFields,ve)?Ie($,ve,U(i,ve)):te(ve,U($,ve))}else{if(Eg&&it(j))for(const ie of l.mount){const ve=U(n,ie);if(ve&&ve._f){const pt=Array.isArray(ve._f.refs)?ve._f.refs[0]:ve._f.ref;if(_u(pt)){const gt=pt.closest("form");if(gt){gt.reset();break}}}}n={}}i=e.shouldUnregister?N.keepDefaultValues?Yt(s):{}:Yt($),d.array.next({values:{...$}}),d.values.next({values:{...$}})}l={mount:N.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!N.keepIsValid||!!N.keepDirtyValues,o.watch=!!e.shouldUnregister,d.state.next({submitCount:N.keepSubmitCount?r.submitCount:0,isDirty:B?!1:N.keepDirty?r.isDirty:!!(N.keepDefaultValues&&!Zn(j,s)),isSubmitted:N.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:B?{}:N.keepDirtyValues?N.keepDefaultValues&&i?fa(s,i):r.dirtyFields:N.keepDefaultValues&&j?fa(s,j):N.keepDirty?r.dirtyFields:{},touchedFields:N.keepTouched?r.touchedFields:{},errors:N.keepErrors?r.errors:{},isSubmitSuccessful:N.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ar=(j,N)=>Tt(_n(j)?j(i):j,N);return{control:{register:Te,unregister:qe,getFieldState:pe,handleSubmit:Oe,setError:ze,_executeSchema:P,_getWatch:z,_getDirty:A,_updateValid:w,_removeUnmounted:G,_updateFieldArray:v,_updateDisabledField:J,_getFieldArray:D,_reset:Tt,_resetDefaultValues:()=>_n(t.defaultValues)&&t.defaultValues().then(j=>{ar(j,t.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:j=>{r={...r,...j}},_disableForm:Re,_subjects:d,_proxyFormState:f,_setErrors:_,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return l},set _names(j){l=j},get _formState(){return r},set _formState(j){r=j},get _options(){return t},set _options(j){t={...t,...j}}},trigger:V,register:Te,handleSubmit:Oe,watch:Lt,setValue:te,getValues:re,reset:ar,resetField:Ae,clearErrors:ot,unregister:qe,setError:ze,setFocus:(j,N={})=>{const O=U(n,j),H=O&&O._f;if(H){const B=H.refs?H.refs[0]:H.ref;B.focus&&(B.focus(),N.shouldSelect&&B.select())}},getFieldState:pe}}function Og(e={}){const t=ye.useRef(),r=ye.useRef(),[n,s]=ye.useState({isDirty:!1,isValidating:!1,isLoading:_n(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:_n(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...fF(e),formState:n});const i=t.current.control;return i._options=e,Pg({subject:i._subjects.state,next:o=>{Vj(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),ye.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ye.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ye.useEffect(()=>{e.values&&!Zn(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),ye.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),ye.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ye.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),ye.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=zj(n,i),t.current}const Ag=Z4,Xj=m.createContext({}),It=({...e})=>a.jsx(Xj.Provider,{value:{name:e.name},children:a.jsx(tF,{...e})}),Ld=()=>{const e=m.useContext(Xj),t=m.useContext(Jj),{getFieldState:r,formState:n}=Dd(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},Jj=m.createContext({}),_t=m.forwardRef(({className:e,...t},r)=>{const n=m.useId();return a.jsx(Jj.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:se("space-y-2",e),...t})})});_t.displayName="FormItem";const St=m.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=Ld();return a.jsx(Qe,{ref:r,className:se(n&&"text-destructive",e),htmlFor:s,...t})});St.displayName="FormLabel";const jt=m.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=Ld();return a.jsx(ws,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});jt.displayName="FormControl";const Em=m.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Ld();return a.jsx("p",{ref:r,id:n,className:se("text-sm text-muted-foreground",e),...t})});Em.displayName="FormDescription";const kt=m.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=Ld(),o=s?String(s==null?void 0:s.message):t;return o?a.jsx("p",{ref:n,id:i,className:se("text-sm font-medium text-destructive",e),...r,children:o}):null});kt.displayName="FormMessage";const hF=({initialData:e,onSubmit:t})=>{const r=Og({defaultValues:e}),n=s=>{t(s)};return a.jsxs(de,{children:[a.jsx(we,{children:a.jsx(be,{children:"Invoice Information"})}),a.jsx(ge,{children:a.jsx(Ag,{...r,children:a.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(It,{control:r.control,name:"firstName",rules:{required:"First name is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(St,{children:"First Name"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"John",...s})}),a.jsx(kt,{})]})}),a.jsx(It,{control:r.control,name:"lastName",rules:{required:"Last name is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(St,{children:"Last Name"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"Doe",...s})}),a.jsx(kt,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(It,{control:r.control,name:"email",rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(St,{children:"Email"}),a.jsx(jt,{children:a.jsx(xe,{type:"email",placeholder:"john@example.com",...s})}),a.jsx(kt,{})]})}),a.jsx(It,{control:r.control,name:"phone",rules:{required:"Phone number is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(St,{children:"Phone"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"+1 (555) 123-4567",...s})}),a.jsx(kt,{})]})})]}),a.jsx(It,{control:r.control,name:"company",render:({field:s})=>a.jsxs(_t,{children:[a.jsx(St,{children:"Company (Optional)"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"Company Name",...s})}),a.jsx(kt,{})]})}),a.jsx(It,{control:r.control,name:"address",rules:{required:"Address is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(St,{children:"Address"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"123 Main Street",...s})}),a.jsx(kt,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(It,{control:r.control,name:"city",rules:{required:"City is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(St,{children:"City"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"New York",...s})}),a.jsx(kt,{})]})}),a.jsx(It,{control:r.control,name:"state",rules:{required:"State is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(St,{children:"State"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"NY",...s})}),a.jsx(kt,{})]})}),a.jsx(It,{control:r.control,name:"postalCode",rules:{required:"Postal code is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(St,{children:"Postal Code"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"10001",...s})}),a.jsx(kt,{})]})})]}),a.jsx(It,{control:r.control,name:"country",rules:{required:"Country is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(St,{children:"Country"}),a.jsxs(Lo,{onValueChange:s.onChange,value:s.value,children:[a.jsx(jt,{children:a.jsx(mi,{children:a.jsx(vl,{placeholder:"Select a country"})})}),a.jsxs(pi,{children:[a.jsx($e,{value:"United States",children:"United States"}),a.jsx($e,{value:"Canada",children:"Canada"}),a.jsx($e,{value:"United Kingdom",children:"United Kingdom"}),a.jsx($e,{value:"Germany",children:"Germany"}),a.jsx($e,{value:"France",children:"France"}),a.jsx($e,{value:"Australia",children:"Australia"})]})]}),a.jsx(kt,{})]})}),a.jsx(Ee,{type:"submit",className:"w-full",children:"Continue to Payment"})]})})})]})},mF=({initialData:e,onSubmit:t,onBack:r,isProcessing:n})=>{const s=Og({defaultValues:e}),i=c=>{t(c)},o=c=>{const u=c.replace(/\s+/g,"").replace(/[^0-9]/gi,""),f=u.match(/\d{4,16}/g),d=f&&f[0]||"",h=[];for(let g=0,x=d.length;g<x;g+=4)h.push(d.substring(g,g+4));return h.length?h.join(" "):u},l=c=>{const u=c.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return u.length>=2?u.substring(0,2)+(u.length>2?"/"+u.substring(2,4):""):u};return a.jsxs(de,{children:[a.jsx(we,{children:a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(S_,{className:"h-5 w-5"}),"Payment Details"]})}),a.jsx(ge,{children:a.jsx(Ag,{...s,children:a.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[a.jsx(It,{control:s.control,name:"cardholderName",rules:{required:"Cardholder name is required"},render:({field:c})=>a.jsxs(_t,{children:[a.jsx(St,{children:"Cardholder Name"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"John Doe",...c})}),a.jsx(kt,{})]})}),a.jsx(It,{control:s.control,name:"cardNumber",rules:{required:"Card number is required",minLength:{value:19,message:"Card number must be complete"}},render:({field:c})=>a.jsxs(_t,{children:[a.jsx(St,{children:"Card Number"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"1234 5678 9012 3456",...c,onChange:u=>{const f=o(u.target.value);c.onChange(f)},maxLength:19})}),a.jsx(kt,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(It,{control:s.control,name:"expiryDate",rules:{required:"Expiry date is required",pattern:{value:/^(0[1-9]|1[0-2])\/\d{2}$/,message:"Invalid expiry date format (MM/YY)"}},render:({field:c})=>a.jsxs(_t,{children:[a.jsx(St,{children:"Expiry Date"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"MM/YY",...c,onChange:u=>{const f=l(u.target.value);c.onChange(f)},maxLength:5})}),a.jsx(kt,{})]})}),a.jsx(It,{control:s.control,name:"cvv",rules:{required:"CVV is required",minLength:{value:3,message:"CVV must be 3-4 digits"},maxLength:{value:4,message:"CVV must be 3-4 digits"}},render:({field:c})=>a.jsxs(_t,{children:[a.jsx(St,{children:"CVV"}),a.jsx(jt,{children:a.jsx(xe,{placeholder:"123",type:"password",...c,onChange:u=>{const f=u.target.value.replace(/[^0-9]/g,"");c.onChange(f)},maxLength:4})}),a.jsx(kt,{})]})})]}),a.jsxs("div",{className:"pt-4 space-y-3",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Test Card Information:"}),a.jsx("p",{children:"• Card Number: 4242 4242 4242 4242"}),a.jsx("p",{children:"• Expiry: Any future date (e.g., 12/25)"}),a.jsx("p",{children:"• CVV: Any 3-4 digits (e.g., 123)"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(Ee,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:[a.jsx(b_,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsx(Ee,{type:"submit",disabled:n,className:"flex-1",children:n?"Processing...":"Complete Order"})]})]})]})})})]})},pF=({items:e,total:t,currentStep:r})=>{const n=t,s=n*.08,i=n+s,o=e.some(l=>l.product.stock<=0||l.quantity>l.product.stock);return a.jsx("div",{className:"space-y-4",children:a.jsxs(de,{className:"sticky top-4",children:[a.jsx(we,{children:a.jsx(be,{children:"Order Summary"})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsx("div",{className:"space-y-3",children:e.map(l=>{const c=l.product.stock<=0||l.quantity>l.product.stock;return a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-sm",children:l.product.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",l.quantity]}),c&&a.jsx(Ze,{variant:"destructive",className:"text-xs",children:"Stock Issue"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["$",l.product.price.toFixed(2)," each"]})]}),a.jsxs("span",{className:"font-medium text-sm",children:["$",(l.product.price*l.quantity).toFixed(2)]})]},l.id)})}),a.jsx(wu,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",n.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{className:"text-green-600",children:"Free"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tax (8%)"}),a.jsxs("span",{children:["$",s.toFixed(2)]})]}),a.jsx(wu,{}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",i.toFixed(2)]})]})]}),o&&a.jsx("div",{className:"mt-4 p-3 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ui,{className:"h-4 w-4 text-amber-600 mt-0.5 shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Stock Issues Detected"}),a.jsx("p",{className:"text-amber-700 dark:text-amber-300 mt-1",children:"Some items may not be available. Please review your cart."})]})]})}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Step ",r," of 2"]}),a.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r/2*100}%`}})})]})]})]})})},gF=()=>{const e=bi(),{items:t,total:r,clearCart:n}=Wp(),{user:s}=Dn(),{toast:i}=Kt(),[o,l]=m.useState(1),[c,u]=m.useState({firstName:"",lastName:"",email:"",phone:"",company:"",address:"",city:"",state:"",postalCode:"",country:"United States"}),[f,d]=m.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[h,g]=m.useState(!1);m.useEffect(()=>{t.length===0&&(e("/store"),i({title:"Cart is empty",description:"Add items to your cart before checking out.",variant:"destructive"}))},[t,e,i]),m.useEffect(()=>{s&&u(y=>({...y,firstName:s.name.split(" ")[0]||"",lastName:s.name.split(" ").slice(1).join(" ")||"",email:s.email||""}))},[s]);const x=y=>{u(y),l(2)},p=async y=>{d(y),g(!0);try{if(!s)throw new Error("User not authenticated");const v=t.map(_=>({productId:_.product.id,quantity:_.quantity,price:_.product.price})),b=await o4({userId:s.id,items:v,invoiceData:c,paymentData:y});if(!b.success)throw new Error(b.error||"Failed to process order");if(await new Promise(_=>setTimeout(_,2e3)),b.orderId){const _=await a4(b.orderId);_.success||console.warn("Order created but failed to mark as delivered:",_.error)}i({title:"Order placed successfully!",description:`Your order has been confirmed. Order total: $${(r*1.08).toFixed(2)}`}),n(),e("/store")}catch(v){console.error("Payment processing error:",v),i({title:"Payment failed",description:v instanceof Error?v.message:"There was an error processing your payment. Please try again.",variant:"destructive"})}finally{g(!1)}},w=[{number:1,title:"Invoice Information",icon:N_},{number:2,title:"Payment Details",icon:S_}];return t.length===0?null:a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>e("/cart"),className:"shrink-0",children:a.jsx(b_,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Checkout"}),a.jsx("p",{className:"text-muted-foreground",children:"Complete your purchase securely"})]})]}),a.jsx("div",{className:"flex items-center justify-center mb-8",children:w.map((y,v)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${o>=y.number?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:a.jsx(y.icon,{className:"h-5 w-5"})}),a.jsx("div",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-100",children:y.title}),v<w.length-1&&a.jsx("div",{className:`mx-6 h-0.5 w-16 ${o>y.number?"bg-blue-600":"bg-gray-300"}`})]},y.number))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o===1&&a.jsx(hF,{initialData:c,onSubmit:x}),o===2&&a.jsx(mF,{initialData:f,onSubmit:p,onBack:()=>l(1),isProcessing:h})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(pF,{items:t,total:r,currentStep:o})})]}),a.jsxs("div",{className:"mt-8 flex items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(YR,{className:"h-4 w-4 mr-2"}),"Your payment information is secure and encrypted"]})]})})},vF=()=>a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Comprehensive insights and performance metrics for your business"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(Yp,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"$45,231"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(C_,{className:"inline h-3 w-3 mr-1 text-green-600"}),"+20.1% from last month"]})]})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Products Sold"}),a.jsx(dt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"2,350"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+180 from last month"})]})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Total Orders"}),a.jsx(Zp,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"1,234"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+19% from last month"})]})]}),a.jsxs(de,{children:[a.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(be,{className:"text-sm font-medium",children:"Active Users"}),a.jsx(Xp,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"573"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+201 since last hour"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Analytics Overview"}),a.jsx(et,{children:"Performance metrics and trends over time"})]}),a.jsx(ge,{children:a.jsxs(ng,{defaultValue:"revenue",className:"w-full",children:[a.jsxs(wd,{className:"grid w-full grid-cols-3",children:[a.jsx(fr,{value:"revenue",children:"Revenue"}),a.jsx(fr,{value:"products",children:"Products"}),a.jsx(fr,{value:"customers",children:"Customers"})]}),a.jsx(hr,{value:"revenue",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(My,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold",children:"Revenue Trends"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(My,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Revenue Chart"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly revenue trends"})]})})]})}),a.jsx(hr,{value:"products",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dy,{className:"h-5 w-5 text-green-600"}),a.jsx("h3",{className:"font-semibold",children:"Product Performance"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Dy,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Product Sales Chart"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sales by category"})]})})]})}),a.jsx(hr,{value:"customers",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uu,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"font-semibold",children:"Customer Analytics"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(uu,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Customer Demographics"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"User engagement data"})]})})]})})]})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{className:"text-lg",children:"Top Performing Products"}),a.jsx(et,{children:"Best sellers this month"})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(dt,{size:16,className:"text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Premium Headphones"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Electronics"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$12,450"})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(dt,{size:16,className:"text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Smart Watch"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Wearables"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$8,920"})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx(dt,{size:16,className:"text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Wireless Speaker"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Audio"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$6,750"})]})]})]}),a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{className:"text-lg",children:"Recent Activity"}),a.jsx(et,{children:"Latest system events"})]}),a.jsxs(ge,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"New order processed"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"2 minutes ago"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Inventory updated"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"15 minutes ago"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Low stock alert"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"1 hour ago"})]})]})]})]})]})]})]}),yF=()=>{const{user:e}=Dn(),{toast:t}=Kt(),[r,n]=m.useState(!1),[s,i]=m.useState(!1),[o,l]=m.useState({name:"",email:"",phone:"",company_name:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",tax_id:"",avatar_url:""});m.useEffect(()=>{e&&(l({name:e.name||"",email:e.email||"",phone:"",company_name:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",tax_id:"",avatar_url:e.avatar||""}),c())},[e]);const c=async()=>{if(e)try{const{data:g,error:x}=await ee.from("profiles").select("*").eq("id",e.id).single();if(x){console.error("Error fetching profile:",x);return}g&&l(p=>({...p,phone:g.phone||"",company_name:g.company_name||"",address_line1:g.address_line1||"",address_line2:g.address_line2||"",city:g.city||"",state:g.state||"",postal_code:g.postal_code||"",country:g.country||"",tax_id:g.tax_id||"",avatar_url:g.avatar_url||""}))}catch(g){console.error("Error fetching profile data:",g)}},u=g=>{const{name:x,value:p}=g.target;l(w=>({...w,[x]:p}))},f=async g=>{try{if(i(!0),!g.target.files||g.target.files.length===0)throw new Error("You must select an image to upload.");const x=g.target.files[0],p=x.name.split(".").pop(),w=`${e==null?void 0:e.id}/avatar.${p}`,{error:y}=await ee.storage.from("avatars").upload(w,x,{upsert:!0});if(y)throw y;const{data:v}=ee.storage.from("avatars").getPublicUrl(w);l(b=>({...b,avatar_url:v.publicUrl})),t({title:"Avatar uploaded",description:"Your profile picture has been updated successfully."})}catch(x){t({title:"Error uploading avatar",description:x.message,variant:"destructive"})}finally{i(!1)}},d=async g=>{if(g.preventDefault(),!!e){n(!0);try{const{error:x}=await ee.from("profiles").update({name:o.name,phone:o.phone,company_name:o.company_name,address_line1:o.address_line1,address_line2:o.address_line2,city:o.city,state:o.state,postal_code:o.postal_code,country:o.country,tax_id:o.tax_id,avatar_url:o.avatar_url,updated_at:new Date().toISOString()}).eq("id",e.id);if(x)throw x;t({title:"Profile updated",description:"Your profile has been updated successfully."})}catch(x){t({title:"Error updating profile",description:x.message,variant:"destructive"})}finally{n(!1)}}};if(!e)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})});const h=o.name?o.name.substring(0,2).toUpperCase():o.email.substring(0,2).toUpperCase();return a.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Profile Settings"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your account information and invoice details"})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Profile Picture"}),a.jsx(et,{children:"Upload a profile picture to personalize your account"})]}),a.jsx(ge,{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(bd,{className:"h-20 w-20",children:[a.jsx(_d,{src:o.avatar_url,alt:o.name}),a.jsx(Sd,{children:h})]}),a.jsxs("div",{children:[a.jsxs(Qe,{htmlFor:"avatar",className:"cursor-pointer",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:[a.jsx(E_,{className:"h-4 w-4"}),a.jsx("span",{children:s?"Uploading...":"Upload Picture"})]}),a.jsx(xe,{id:"avatar",type:"file",accept:"image/*",onChange:f,disabled:s,className:"hidden"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"JPG, PNG or GIF. Max size 2MB."})]})]})})]}),a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Personal Information"}),a.jsx(et,{children:"Update your personal details"})]}),a.jsx(ge,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"name",children:"Full Name"}),a.jsx(xe,{id:"name",name:"name",value:o.name,onChange:u,placeholder:"Enter your full name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"email",children:"Email"}),a.jsx(xe,{id:"email",name:"email",type:"email",value:o.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"phone",children:"Phone Number"}),a.jsx(xe,{id:"phone",name:"phone",value:o.phone,onChange:u,placeholder:"Enter your phone number"})]})]})})]}),a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Invoice Information"}),a.jsx(et,{children:"This information will be used for billing and invoices"})]}),a.jsx(ge,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Qe,{htmlFor:"company_name",children:"Company Name"}),a.jsx(xe,{id:"company_name",name:"company_name",value:o.company_name,onChange:u,placeholder:"Enter company name (optional)"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Qe,{htmlFor:"address_line1",children:"Address Line 1"}),a.jsx(xe,{id:"address_line1",name:"address_line1",value:o.address_line1,onChange:u,placeholder:"Street address"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Qe,{htmlFor:"address_line2",children:"Address Line 2"}),a.jsx(xe,{id:"address_line2",name:"address_line2",value:o.address_line2,onChange:u,placeholder:"Apartment, suite, etc. (optional)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"city",children:"City"}),a.jsx(xe,{id:"city",name:"city",value:o.city,onChange:u,placeholder:"City"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"state",children:"State/Province"}),a.jsx(xe,{id:"state",name:"state",value:o.state,onChange:u,placeholder:"State or Province"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"postal_code",children:"Postal Code"}),a.jsx(xe,{id:"postal_code",name:"postal_code",value:o.postal_code,onChange:u,placeholder:"Postal code"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"country",children:"Country"}),a.jsx(xe,{id:"country",name:"country",value:o.country,onChange:u,placeholder:"Country"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Qe,{htmlFor:"tax_id",children:"Tax ID"}),a.jsx(xe,{id:"tax_id",name:"tax_id",value:o.tax_id,onChange:u,placeholder:"Tax identification number (optional)"})]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Ee,{type:"submit",disabled:r,children:r?"Saving...":"Save Changes"})})]})]})})},xF=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!0),[s,i]=m.useState(!1),[o,l]=m.useState(null),[c,u]=m.useState(null);m.useState("customer");const[f,d]=m.useState({name:"",email:"",password:"",role:"customer"}),{toast:h}=Kt(),g=async()=>{try{const{data:v,error:b}=await ee.from("profiles").select("*").order("created_at",{ascending:!1});if(b){console.error("Error fetching users:",b),h({title:"Error fetching users",description:b.message,variant:"destructive"});return}const _=v.map(S=>({id:S.id,name:S.name||"User",email:S.email||"",role:S.role||"customer",avatar:S.avatar_url||"",createdAt:new Date(S.created_at||Date.now()),updatedAt:new Date(S.updated_at||Date.now())}));t(_)}catch(v){console.error("Error in fetchUsers:",v),h({title:"Error",description:"Failed to fetch users",variant:"destructive"})}finally{n(!1)}},x=async v=>{if(v.preventDefault(),!f.name||!f.email||!f.password){h({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}i(!0);try{const{data:{session:b}}=await ee.auth.getSession();if(!b){h({title:"Authentication required",description:"Please log in to create users",variant:"destructive"});return}console.log("Calling create-user edge function...");const{data:_,error:S}=await ee.functions.invoke("create-user",{body:{name:f.name,email:f.email,password:f.password,role:f.role},headers:{Authorization:`Bearer ${b.access_token}`}});if(S){console.error("Edge function error:",S),h({title:"Error creating user",description:S.message||"Failed to create user",variant:"destructive"});return}console.log("User creation response:",_),h({title:"User created successfully",description:`${f.name} has been added to the system`,variant:"default"}),d({name:"",email:"",password:"",role:"customer"}),g()}catch(b){console.error("Error in handleCreateUser:",b),h({title:"Error",description:"Failed to create user. Please try again.",variant:"destructive"})}finally{i(!1)}},p=async(v,b)=>{if(confirm(`Are you sure you want to delete ${b}? This action cannot be undone.`)){l(v);try{const{data:{session:_}}=await ee.auth.getSession();if(!_){h({title:"Authentication required",description:"Please log in to delete users",variant:"destructive"});return}console.log("Calling delete-user edge function...");const{data:S,error:E}=await ee.functions.invoke("delete-user",{body:{userId:v},headers:{Authorization:`Bearer ${_.access_token}`}});if(E){console.error("Edge function error:",E),h({title:"Error deleting user",description:E.message||"Failed to delete user",variant:"destructive"});return}console.log("User deletion response:",S),h({title:"User deleted successfully",description:`${b} has been removed from the system`,variant:"default"}),g()}catch(_){console.error("Error in handleDeleteUser:",_),h({title:"Error",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{l(null)}}},w=async(v,b)=>{u(v);try{await q2(v,b)?(h({title:"Role updated successfully",description:`User role has been changed to ${b}`,variant:"default"}),g()):h({title:"Error updating role",description:"Failed to update user role. Please try again.",variant:"destructive"})}catch(_){console.error("Error in handleUpdateRole:",_),h({title:"Error",description:"Failed to update user role. Please try again.",variant:"destructive"})}finally{u(null)}},y=v=>{switch(v){case"admin":return"destructive";case"warehouse":return"default";case"analyst":return"secondary";case"customer":return"outline";default:return"outline"}};return m.useEffect(()=>{g()},[]),a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts and permissions"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Xp,{className:"h-8 w-8 text-muted-foreground"})})]}),a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx($y,{className:"h-5 w-5"}),a.jsx("span",{children:"Create New User"})]}),a.jsx(et,{children:"Add a new user account to the system"})]}),a.jsx(ge,{children:a.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"name",children:"Full Name *"}),a.jsx(xe,{id:"name",type:"text",value:f.name,onChange:v=>d({...f,name:v.target.value}),placeholder:"Enter full name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"email",children:"Email Address *"}),a.jsx(xe,{id:"email",type:"email",value:f.email,onChange:v=>d({...f,email:v.target.value}),placeholder:"Enter email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"password",children:"Password *"}),a.jsx(xe,{id:"password",type:"password",value:f.password,onChange:v=>d({...f,password:v.target.value}),placeholder:"Enter password",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"role",children:"Role *"}),a.jsxs(Lo,{value:f.role,onValueChange:v=>d({...f,role:v}),children:[a.jsx(mi,{children:a.jsx(vl,{placeholder:"Select role"})}),a.jsxs(pi,{children:[a.jsx($e,{value:"customer",children:"Customer"}),a.jsx($e,{value:"warehouse",children:"Warehouse"}),a.jsx($e,{value:"analyst",children:"Analyst"}),a.jsx($e,{value:"admin",children:"Admin"})]})]})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(Ee,{type:"submit",disabled:s,className:"w-full md:w-auto",children:s?a.jsxs(a.Fragment,{children:[a.jsx($a,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating User..."]}):a.jsxs(a.Fragment,{children:[a.jsx($y,{className:"mr-2 h-4 w-4"}),"Create User"]})})})]})})]}),a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsx(be,{children:"Existing Users"}),a.jsx(et,{children:"View and manage all user accounts"})]}),a.jsx(ge,{children:r?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx($a,{className:"h-8 w-8 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Loading users..."})]}):a.jsxs(Sg,{children:[a.jsx(jg,{children:a.jsxs(uo,{children:[a.jsx(Jt,{children:"Name"}),a.jsx(Jt,{children:"Email"}),a.jsx(Jt,{children:"Role"}),a.jsx(Jt,{children:"Created At"}),a.jsx(Jt,{children:"Actions"})]})}),a.jsxs(kg,{children:[e.map(v=>a.jsxs(uo,{children:[a.jsx(zt,{className:"font-medium",children:v.name}),a.jsx(zt,{children:v.email}),a.jsx(zt,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ze,{variant:y(v.role),children:v.role}),a.jsxs(Lo,{value:v.role,onValueChange:b=>w(v.id,b),disabled:c===v.id,children:[a.jsx(mi,{className:"w-24 h-8",children:a.jsx(sO,{className:"h-3 w-3"})}),a.jsxs(pi,{children:[a.jsx($e,{value:"customer",children:"Customer"}),a.jsx($e,{value:"warehouse",children:"Warehouse"}),a.jsx($e,{value:"analyst",children:"Analyst"}),a.jsx($e,{value:"admin",children:"Admin"})]})]})]})}),a.jsx(zt,{children:v.createdAt.toLocaleDateString()}),a.jsx(zt,{children:a.jsx(Ee,{variant:"destructive",size:"sm",onClick:()=>p(v.id,v.name),disabled:o===v.id,children:o===v.id?a.jsx($a,{className:"h-4 w-4 animate-spin"}):a.jsx(k_,{className:"h-4 w-4"})})})]},v.id)),e.length===0&&a.jsx(uo,{children:a.jsx(zt,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No users found"})})]})]})})]})]})},Ex=(e,t,r)=>{if(e&&"reportValidity"in e){const n=U(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},ek=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Ex(n.ref,r,e):n.refs&&n.refs.forEach(s=>Ex(s,r,e))}},wF=(e,t)=>{t.shouldUseNativeValidation&&ek(e,t);const r={};for(const n in e){const s=U(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(bF(t.names||Object.keys(e),n)){const o=Object.assign({},U(r,n));Ie(o,"root",i),Ie(r,n,o)}else Ie(r,n,i)}return r},bF=(e,t)=>e.some(r=>r.startsWith(t+"."));var _F=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(d){return e.push(d)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=qj(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},SF=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&ek({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:wF(_F(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ne;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ne||(Ne={}));var Nx;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Nx||(Nx={}));const K=Ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vs=e=>{switch(typeof e){case"undefined":return K.undefined;case"string":return K.string;case"number":return isNaN(e)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(e)?K.array:e===null?K.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?K.promise:typeof Map<"u"&&e instanceof Map?K.map:typeof Set<"u"&&e instanceof Set?K.set:typeof Date<"u"&&e instanceof Date?K.date:K.object;default:return K.unknown}},F=Ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Pr extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Pr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Pr.create=e=>new Pr(e);const yl=(e,t)=>{let r;switch(e.code){case F.invalid_type:e.received===K.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case F.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ne.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ne.joinValues(e.keys,", ")}`;break;case F.invalid_union:r="Invalid input";break;case F.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ne.joinValues(e.options)}`;break;case F.invalid_enum_value:r=`Invalid enum value. Expected ${Ne.joinValues(e.options)}, received '${e.received}'`;break;case F.invalid_arguments:r="Invalid function arguments";break;case F.invalid_return_type:r="Invalid function return type";break;case F.invalid_date:r="Invalid date";break;case F.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ne.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case F.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case F.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case F.custom:r="Invalid input";break;case F.invalid_intersection_types:r="Intersection results could not be merged";break;case F.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case F.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ne.assertNever(e)}return{message:r}};let jF=yl;function Nm(){return jF}const Pm=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function q(e,t){const r=Nm(),n=Pm({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===yl?void 0:yl].filter(s=>!!s)});e.common.issues.push(n)}class Wt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ce;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Wt.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ce;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const ce=Object.freeze({status:"aborted"}),Sa=e=>({status:"dirty",value:e}),or=e=>({status:"valid",value:e}),Px=e=>e.status==="aborted",Tx=e=>e.status==="dirty",ku=e=>e.status==="valid",Cu=e=>typeof Promise<"u"&&e instanceof Promise;function Eu(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function tk(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ne;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ne||(ne={}));var ja,ka;class dn{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Rx=(e,t)=>{if(ku(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Pr(e.common.issues);return this._error=r,this._error}}};function fe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,u;const{message:f}=e;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class _e{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Vs(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Vs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Wt,ctx:{common:t.parent.common,data:t.data,parsedType:Vs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Cu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vs(t)},i=this._parseSync({data:t,path:s.path,parent:s});return Rx(s,i)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vs(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Cu(s)?s:Promise.resolve(s));return Rx(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:F.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new An({schema:this,typeName:ae.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return kn.create(this,this._def)}nullable(){return vi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cn.create(this,this._def)}promise(){return bl.create(this,this._def)}or(t){return Tu.create([this,t],this._def)}and(t){return Ru.create(this,t,this._def)}transform(t){return new An({...fe(this._def),schema:this,typeName:ae.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Du({...fe(this._def),innerType:this,defaultValue:r,typeName:ae.ZodDefault})}brand(){return new ik({typeName:ae.ZodBranded,type:this,...fe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Lu({...fe(this._def),innerType:this,catchValue:r,typeName:ae.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Fd.create(this,t)}readonly(){return Fu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kF=/^c[^\s-]{8,}$/i,CF=/^[0-9a-z]+$/,EF=/^[0-9A-HJKMNP-TV-Z]{26}$/,NF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,PF=/^[a-z0-9_-]{21}$/i,TF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,RF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,OF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zf;const AF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IF=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,MF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",DF=new RegExp(`^${rk}$`);function nk(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function LF(e){return new RegExp(`^${nk(e)}$`)}function FF(e){let t=`${rk}T${nk(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function $F(e,t){return!!((t==="v4"||!t)&&AF.test(e)||(t==="v6"||!t)&&IF.test(e))}class Sn extends _e{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==K.string){const i=this._getOrReturnCtx(t);return q(i,{code:F.invalid_type,expected:K.string,received:i.parsedType}),ce}const n=new Wt;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:F.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:F.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?q(s,{code:F.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&q(s,{code:F.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")RF.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"email",code:F.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")zf||(zf=new RegExp(OF,"u")),zf.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"emoji",code:F.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")NF.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"uuid",code:F.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")PF.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"nanoid",code:F.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")kF.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"cuid",code:F.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")CF.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"cuid2",code:F.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")EF.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"ulid",code:F.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),q(s,{validation:"url",code:F.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"regex",code:F.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),q(s,{code:F.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),q(s,{code:F.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),q(s,{code:F.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?FF(i).test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:F.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?DF.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:F.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?LF(i).test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:F.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?TF.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"duration",code:F.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?$F(t.data,i.version)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"ip",code:F.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?MF.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"base64",code:F.invalid_string,message:i.message}),n.dirty()):Ne.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:F.invalid_string,...ne.errToObj(n)})}_addCheck(t){return new Sn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ne.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...ne.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ne.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ne.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ne.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ne.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ne.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ne.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ne.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ne.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ne.errToObj(r)})}nonempty(t){return this.min(1,ne.errToObj(t))}trim(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Sn.create=e=>{var t;return new Sn({checks:[],typeName:ae.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...fe(e)})};function UF(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Fo extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==K.number){const i=this._getOrReturnCtx(t);return q(i,{code:F.invalid_type,expected:K.number,received:i.parsedType}),ce}let n;const s=new Wt;for(const i of this._def.checks)i.kind==="int"?Ne.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),q(n,{code:F.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),q(n,{code:F.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),q(n,{code:F.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?UF(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),q(n,{code:F.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),q(n,{code:F.not_finite,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ne.toString(r))}setLimit(t,r,n,s){return new Fo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ne.toString(s)}]})}_addCheck(t){return new Fo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ne.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ne.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Fo.create=e=>new Fo({checks:[],typeName:ae.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class $o extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==K.bigint){const i=this._getOrReturnCtx(t);return q(i,{code:F.invalid_type,expected:K.bigint,received:i.parsedType}),ce}let n;const s=new Wt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),q(n,{code:F.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),q(n,{code:F.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),q(n,{code:F.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ne.toString(r))}setLimit(t,r,n,s){return new $o({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ne.toString(s)}]})}_addCheck(t){return new $o({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}$o.create=e=>{var t;return new $o({checks:[],typeName:ae.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...fe(e)})};class Tm extends _e{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==K.boolean){const n=this._getOrReturnCtx(t);return q(n,{code:F.invalid_type,expected:K.boolean,received:n.parsedType}),ce}return or(t.data)}}Tm.create=e=>new Tm({typeName:ae.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class xl extends _e{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==K.date){const i=this._getOrReturnCtx(t);return q(i,{code:F.invalid_type,expected:K.date,received:i.parsedType}),ce}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return q(i,{code:F.invalid_date}),ce}const n=new Wt;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:F.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:F.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ne.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new xl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ne.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ne.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}xl.create=e=>new xl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ae.ZodDate,...fe(e)});class Rm extends _e{_parse(t){if(this._getType(t)!==K.symbol){const n=this._getOrReturnCtx(t);return q(n,{code:F.invalid_type,expected:K.symbol,received:n.parsedType}),ce}return or(t.data)}}Rm.create=e=>new Rm({typeName:ae.ZodSymbol,...fe(e)});class Nu extends _e{_parse(t){if(this._getType(t)!==K.undefined){const n=this._getOrReturnCtx(t);return q(n,{code:F.invalid_type,expected:K.undefined,received:n.parsedType}),ce}return or(t.data)}}Nu.create=e=>new Nu({typeName:ae.ZodUndefined,...fe(e)});class Pu extends _e{_parse(t){if(this._getType(t)!==K.null){const n=this._getOrReturnCtx(t);return q(n,{code:F.invalid_type,expected:K.null,received:n.parsedType}),ce}return or(t.data)}}Pu.create=e=>new Pu({typeName:ae.ZodNull,...fe(e)});class wl extends _e{constructor(){super(...arguments),this._any=!0}_parse(t){return or(t.data)}}wl.create=e=>new wl({typeName:ae.ZodAny,...fe(e)});class fo extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(t){return or(t.data)}}fo.create=e=>new fo({typeName:ae.ZodUnknown,...fe(e)});class Cs extends _e{_parse(t){const r=this._getOrReturnCtx(t);return q(r,{code:F.invalid_type,expected:K.never,received:r.parsedType}),ce}}Cs.create=e=>new Cs({typeName:ae.ZodNever,...fe(e)});class Om extends _e{_parse(t){if(this._getType(t)!==K.undefined){const n=this._getOrReturnCtx(t);return q(n,{code:F.invalid_type,expected:K.void,received:n.parsedType}),ce}return or(t.data)}}Om.create=e=>new Om({typeName:ae.ZodVoid,...fe(e)});class cn extends _e{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==K.array)return q(r,{code:F.invalid_type,expected:K.array,received:r.parsedType}),ce;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(q(r,{code:o?F.too_big:F.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(q(r,{code:F.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(q(r,{code:F.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new dn(r,o,r.path,l)))).then(o=>Wt.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new dn(r,o,r.path,l)));return Wt.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new cn({...this._def,minLength:{value:t,message:ne.toString(r)}})}max(t,r){return new cn({...this._def,maxLength:{value:t,message:ne.toString(r)}})}length(t,r){return new cn({...this._def,exactLength:{value:t,message:ne.toString(r)}})}nonempty(t){return this.min(1,t)}}cn.create=(e,t)=>new cn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ae.ZodArray,...fe(t)});function Ui(e){if(e instanceof nt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=kn.create(Ui(n))}return new nt({...e._def,shape:()=>t})}else return e instanceof cn?new cn({...e._def,type:Ui(e.element)}):e instanceof kn?kn.create(Ui(e.unwrap())):e instanceof vi?vi.create(Ui(e.unwrap())):e instanceof On?On.create(e.items.map(t=>Ui(t))):e}class nt extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ne.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==K.object){const u=this._getOrReturnCtx(t);return q(u,{code:F.invalid_type,expected:K.object,received:u.parsedType}),ce}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Cs&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const f=i[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new dn(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Cs){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")l.length>0&&(q(s,{code:F.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const d=s.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new dn(s,d,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,h=await f.value;u.push({key:d,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>Wt.mergeObjectSync(n,u)):Wt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ne.errToObj,new nt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=ne.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new nt({...this._def,unknownKeys:"strip"})}passthrough(){return new nt({...this._def,unknownKeys:"passthrough"})}extend(t){return new nt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new nt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ae.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new nt({...this._def,catchall:t})}pick(t){const r={};return Ne.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new nt({...this._def,shape:()=>r})}omit(t){const r={};return Ne.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new nt({...this._def,shape:()=>r})}deepPartial(){return Ui(this)}partial(t){const r={};return Ne.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new nt({...this._def,shape:()=>r})}required(t){const r={};return Ne.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof kn;)i=i._def.innerType;r[n]=i}}),new nt({...this._def,shape:()=>r})}keyof(){return sk(Ne.objectKeys(this.shape))}}nt.create=(e,t)=>new nt({shape:()=>e,unknownKeys:"strip",catchall:Cs.create(),typeName:ae.ZodObject,...fe(t)});nt.strictCreate=(e,t)=>new nt({shape:()=>e,unknownKeys:"strict",catchall:Cs.create(),typeName:ae.ZodObject,...fe(t)});nt.lazycreate=(e,t)=>new nt({shape:e,unknownKeys:"strip",catchall:Cs.create(),typeName:ae.ZodObject,...fe(t)});class Tu extends _e{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Pr(l.ctx.common.issues));return q(r,{code:F.invalid_union,unionErrors:o}),ce}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Pr(c));return q(r,{code:F.invalid_union,unionErrors:l}),ce}}get options(){return this._def.options}}Tu.create=(e,t)=>new Tu({options:e,typeName:ae.ZodUnion,...fe(t)});const gn=e=>e instanceof Au?gn(e.schema):e instanceof An?gn(e.innerType()):e instanceof Iu?[e.value]:e instanceof gi?e.options:e instanceof Mu?Ne.objectValues(e.enum):e instanceof Du?gn(e._def.innerType):e instanceof Nu?[void 0]:e instanceof Pu?[null]:e instanceof kn?[void 0,...gn(e.unwrap())]:e instanceof vi?[null,...gn(e.unwrap())]:e instanceof ik||e instanceof Fu?gn(e.unwrap()):e instanceof Lu?gn(e._def.innerType):[];class Ig extends _e{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==K.object)return q(r,{code:F.invalid_type,expected:K.object,received:r.parsedType}),ce;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(q(r,{code:F.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=gn(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Ig({typeName:ae.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...fe(n)})}}function Am(e,t){const r=Vs(e),n=Vs(t);if(e===t)return{valid:!0,data:e};if(r===K.object&&n===K.object){const s=Ne.objectKeys(t),i=Ne.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Am(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===K.array&&n===K.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Am(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===K.date&&n===K.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ru extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(Px(i)||Px(o))return ce;const l=Am(i.value,o.value);return l.valid?((Tx(i)||Tx(o))&&r.dirty(),{status:r.value,value:l.data}):(q(n,{code:F.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ru.create=(e,t,r)=>new Ru({left:e,right:t,typeName:ae.ZodIntersection,...fe(r)});class On extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==K.array)return q(n,{code:F.invalid_type,expected:K.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return q(n,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(q(n,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new dn(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Wt.mergeArray(r,o)):Wt.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new On({...this._def,rest:t})}}On.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new On({items:e,typeName:ae.ZodTuple,rest:null,...fe(t)})};class Ou extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==K.object)return q(n,{code:F.invalid_type,expected:K.object,received:n.parsedType}),ce;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:i._parse(new dn(n,l,n.path,l)),value:o._parse(new dn(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Wt.mergeObjectAsync(r,s):Wt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof _e?new Ou({keyType:t,valueType:r,typeName:ae.ZodRecord,...fe(n)}):new Ou({keyType:Sn.create(),valueType:t,typeName:ae.ZodRecord,...fe(r)})}}class Im extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==K.map)return q(n,{code:F.invalid_type,expected:K.map,received:n.parsedType}),ce;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new dn(n,l,n.path,[u,"key"])),value:i._parse(new dn(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return ce;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return ce;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}Im.create=(e,t,r)=>new Im({valueType:t,keyType:e,typeName:ae.ZodMap,...fe(r)});class Uo extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==K.set)return q(n,{code:F.invalid_type,expected:K.set,received:n.parsedType}),ce;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(q(n,{code:F.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(q(n,{code:F.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return ce;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new dn(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Uo({...this._def,minSize:{value:t,message:ne.toString(r)}})}max(t,r){return new Uo({...this._def,maxSize:{value:t,message:ne.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Uo.create=(e,t)=>new Uo({valueType:e,minSize:null,maxSize:null,typeName:ae.ZodSet,...fe(t)});class Va extends _e{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==K.function)return q(r,{code:F.invalid_type,expected:K.function,received:r.parsedType}),ce;function n(l,c){return Pm({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Nm(),yl].filter(u=>!!u),issueData:{code:F.invalid_arguments,argumentsError:c}})}function s(l,c){return Pm({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Nm(),yl].filter(u=>!!u),issueData:{code:F.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof bl){const l=this;return or(async function(...c){const u=new Pr([]),f=await l._def.args.parseAsync(c,i).catch(g=>{throw u.addIssue(n(c,g)),u}),d=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(d,i).catch(g=>{throw u.addIssue(s(d,g)),u})})}else{const l=this;return or(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new Pr([n(c,u.error)]);const f=Reflect.apply(o,this,u.data),d=l._def.returns.safeParse(f,i);if(!d.success)throw new Pr([s(f,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Va({...this._def,args:On.create(t).rest(fo.create())})}returns(t){return new Va({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Va({args:t||On.create([]).rest(fo.create()),returns:r||fo.create(),typeName:ae.ZodFunction,...fe(n)})}}class Au extends _e{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Au.create=(e,t)=>new Au({getter:e,typeName:ae.ZodLazy,...fe(t)});class Iu extends _e{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return q(r,{received:r.data,code:F.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:t.data}}get value(){return this._def.value}}Iu.create=(e,t)=>new Iu({value:e,typeName:ae.ZodLiteral,...fe(t)});function sk(e,t){return new gi({values:e,typeName:ae.ZodEnum,...fe(t)})}class gi extends _e{constructor(){super(...arguments),ja.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return q(r,{expected:Ne.joinValues(n),received:r.parsedType,code:F.invalid_type}),ce}if(Eu(this,ja)||tk(this,ja,new Set(this._def.values)),!Eu(this,ja).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return q(r,{received:r.data,code:F.invalid_enum_value,options:n}),ce}return or(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return gi.create(t,{...this._def,...r})}exclude(t,r=this._def){return gi.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ja=new WeakMap;gi.create=sk;class Mu extends _e{constructor(){super(...arguments),ka.set(this,void 0)}_parse(t){const r=Ne.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==K.string&&n.parsedType!==K.number){const s=Ne.objectValues(r);return q(n,{expected:Ne.joinValues(s),received:n.parsedType,code:F.invalid_type}),ce}if(Eu(this,ka)||tk(this,ka,new Set(Ne.getValidEnumValues(this._def.values))),!Eu(this,ka).has(t.data)){const s=Ne.objectValues(r);return q(n,{received:n.data,code:F.invalid_enum_value,options:s}),ce}return or(t.data)}get enum(){return this._def.values}}ka=new WeakMap;Mu.create=(e,t)=>new Mu({values:e,typeName:ae.ZodNativeEnum,...fe(t)});class bl extends _e{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==K.promise&&r.common.async===!1)return q(r,{code:F.invalid_type,expected:K.promise,received:r.parsedType}),ce;const n=r.parsedType===K.promise?r.data:Promise.resolve(r.data);return or(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}bl.create=(e,t)=>new bl({type:e,typeName:ae.ZodPromise,...fe(t)});class An extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{q(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ce;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ce:c.status==="dirty"||r.value==="dirty"?Sa(c.value):c});{if(r.value==="aborted")return ce;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ce:l.status==="dirty"||r.value==="dirty"?Sa(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ku(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ku(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);Ne.assertNever(s)}}An.create=(e,t,r)=>new An({schema:e,typeName:ae.ZodEffects,effect:t,...fe(r)});An.createWithPreprocess=(e,t,r)=>new An({schema:t,effect:{type:"preprocess",transform:e},typeName:ae.ZodEffects,...fe(r)});class kn extends _e{_parse(t){return this._getType(t)===K.undefined?or(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}kn.create=(e,t)=>new kn({innerType:e,typeName:ae.ZodOptional,...fe(t)});class vi extends _e{_parse(t){return this._getType(t)===K.null?or(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vi.create=(e,t)=>new vi({innerType:e,typeName:ae.ZodNullable,...fe(t)});class Du extends _e{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===K.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Du.create=(e,t)=>new Du({innerType:e,typeName:ae.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...fe(t)});class Lu extends _e{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Cu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Pr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Pr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Lu.create=(e,t)=>new Lu({innerType:e,typeName:ae.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...fe(t)});class Mm extends _e{_parse(t){if(this._getType(t)!==K.nan){const n=this._getOrReturnCtx(t);return q(n,{code:F.invalid_type,expected:K.nan,received:n.parsedType}),ce}return{status:"valid",value:t.data}}}Mm.create=e=>new Mm({typeName:ae.ZodNaN,...fe(e)});class ik extends _e{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Fd extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ce:i.status==="dirty"?(r.dirty(),Sa(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ce:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Fd({in:t,out:r,typeName:ae.ZodPipeline})}}class Fu extends _e{_parse(t){const r=this._def.innerType._parse(t),n=s=>(ku(s)&&(s.value=Object.freeze(s.value)),s);return Cu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Fu.create=(e,t)=>new Fu({innerType:e,typeName:ae.ZodReadonly,...fe(t)});function zF(e,t={},r){return e?wl.create().superRefine((n,s)=>{var i,o;if(!e(n)){const l=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...u,fatal:c})}}):wl.create()}nt.lazycreate;var ae;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ae||(ae={}));const VF=(e,t={message:`Input not instance of ${e.name}`})=>zF(r=>r instanceof e,t),BF=Sn.create;Fo.create;Mm.create;$o.create;Tm.create;xl.create;Rm.create;Nu.create;Pu.create;wl.create;fo.create;Cs.create;Om.create;cn.create;const WF=nt.create;nt.strictCreate;Tu.create;Ig.create;Ru.create;On.create;Ou.create;Im.create;Uo.create;Va.create;Au.create;Iu.create;gi.create;Mu.create;bl.create;An.create;kn.create;vi.create;An.createWithPreprocess;Fd.create;const qF=WF({description:BF().min(10,"Description must be at least 10 characters"),photo:VF(File).optional()}),HF=({orderId:e,orderNumber:t,onSuccess:r,onCancel:n})=>{const{user:s}=Dn(),{toast:i}=Kt(),[o,l]=m.useState(!1),[c,u]=m.useState(null),[f,d]=m.useState(null),h=Og({resolver:SF(qF),defaultValues:{description:""}}),g=w=>{var v;const y=(v=w.target.files)==null?void 0:v[0];if(y){if(y.size>5*1024*1024){i({title:"File too large",description:"Please select a file smaller than 5MB.",variant:"destructive"});return}if(!y.type.startsWith("image/")){i({title:"Invalid file type",description:"Please select an image file.",variant:"destructive"});return}u(y);const b=URL.createObjectURL(y);d(b),h.setValue("photo",y)}},x=()=>{u(null),f&&(URL.revokeObjectURL(f),d(null)),h.setValue("photo",void 0)},p=async w=>{if(s){l(!0);try{let y=null;if(c){const b=c.name.split(".").pop(),_=`${e}_${Date.now()}.${b}`,{error:S}=await ee.storage.from("refund-photos").upload(_,c);if(S)throw S;const{data:E}=ee.storage.from("refund-photos").getPublicUrl(_);y=E.publicUrl}const{error:v}=await ee.from("refund_requests").insert({order_id:e,user_id:s.id,description:w.description,photo_url:y});if(v)throw v;i({title:"Refund request submitted",description:`Your refund request for order ${t} has been submitted successfully.`}),r()}catch(y){console.error("Error submitting refund request:",y),i({title:"Error",description:"Failed to submit refund request. Please try again.",variant:"destructive"})}finally{l(!1)}}};return a.jsxs(de,{children:[a.jsxs(we,{children:[a.jsxs(be,{children:["Request Refund for Order #",t]}),a.jsx(et,{children:"Please provide details about the issue and upload a photo if applicable."})]}),a.jsx(ge,{children:a.jsx(Ag,{...h,children:a.jsxs("form",{onSubmit:h.handleSubmit(p),className:"space-y-6",children:[a.jsx(It,{control:h.control,name:"description",render:({field:w})=>a.jsxs(_t,{children:[a.jsx(St,{children:"Description of Issue"}),a.jsx(jt,{children:a.jsx(Rd,{placeholder:"Please describe the issue with your order in detail...",className:"min-h-[100px]",...w})}),a.jsx(Em,{children:"Provide a detailed description of the problem (minimum 10 characters)"}),a.jsx(kt,{})]})}),a.jsx(It,{control:h.control,name:"photo",render:()=>a.jsxs(_t,{children:[a.jsx(St,{children:"Photo Evidence (Optional)"}),a.jsx(jt,{children:a.jsx("div",{className:"space-y-4",children:c?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:f,alt:"Preview",className:"max-w-full h-48 object-cover rounded-lg"}),a.jsx(Ee,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:x,children:a.jsx(Jp,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx(E_,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("div",{className:"mt-2",children:a.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:[a.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:"Click to upload a photo"}),a.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:g})]})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF up to 5MB"})]})})}),a.jsx(Em,{children:"Upload a photo showing the issue (optional but recommended)"}),a.jsx(kt,{})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(Ee,{type:"submit",disabled:o,children:o?"Submitting...":"Submit Refund Request"}),a.jsx(Ee,{type:"button",variant:"outline",onClick:n,children:"Cancel"})]})]})})})]})},KF=()=>{const{user:e}=Dn(),{toast:t}=Kt(),[r,n]=m.useState(null),{data:s,isLoading:i,refetch:o}=xs({queryKey:["orders",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const{data:d,error:h}=await ee.from("orders").select(`
          id,
          order_number,
          status,
          total_amount,
          created_at,
          order_items (
            id,
            item_serial,
            price,
            items (
              inventory (
                name,
                description
              )
            )
          ),
          refund_requests (
            id,
            status,
            created_at
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(h)throw console.error("Error fetching orders:",h),h;return d},enabled:!!e}),l=d=>{switch(d){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},c=d=>d.refund_requests.length===0?null:d.refund_requests.sort((g,x)=>new Date(x.created_at).getTime()-new Date(g.created_at).getTime())[0].status,u=d=>d.status==="completed"&&d.refund_requests.length===0,f=()=>{n(null),o(),t({title:"Refund request submitted",description:"Your refund request has been submitted and will be reviewed."})};if(i)return a.jsxs("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading orders..."})]});if(r){const d=s==null?void 0:s.find(h=>h.id===r);if(d)return a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx(HF,{orderId:d.id,orderNumber:d.order_number,onSuccess:f,onCancel:()=>n(null)})})})}return a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"My Orders"}),a.jsx("p",{className:"text-muted-foreground",children:"Track your orders and request refunds"})]}),!s||s.length===0?a.jsx(de,{children:a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-5 w-5"}),"No Orders Found"]}),a.jsx(et,{children:"You haven't placed any orders yet. Start shopping to see your orders here."})]})}):a.jsx("div",{className:"space-y-4",children:s.map(d=>{const h=c(d);return a.jsxs(de,{children:[a.jsx(we,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-5 w-5"}),"Order #",d.order_number]}),a.jsxs(et,{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(um,{className:"h-4 w-4"}),wm(new Date(d.created_at),"PPP")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Yp,{className:"h-4 w-4"}),"$",d.total_amount.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ze,{className:l(d.status),children:d.status.charAt(0).toUpperCase()+d.status.slice(1)}),h&&a.jsxs(Ze,{variant:"outline",className:h==="pending"?"bg-yellow-100 text-yellow-800":h==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:["Refund ",h]}),u(d)&&a.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>n(d.id),className:"flex items-center gap-2",children:[a.jsx(dl,{className:"h-4 w-4"}),"Request Refund"]})]})]})}),a.jsx(ge,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Order Items:"}),a.jsx("div",{className:"space-y-2",children:d.order_items.map(g=>{var x,p,w,y;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((p=(x=g.items)==null?void 0:x.inventory)==null?void 0:p.name)||"Unknown Product"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Serial: ",g.item_serial]}),((y=(w=g.items)==null?void 0:w.inventory)==null?void 0:y.description)&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.items.inventory.description})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["$",g.price.toFixed(2)]})})]},g.id)})})]})})]},d.id)})})]})})})},GF=()=>{const{user:e}=Dn(),{data:t,isLoading:r}=xs({queryKey:["user-refund-requests",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const{data:s,error:i}=await ee.from("refund_requests").select(`
          id,
          description,
          photo_url,
          status,
          admin_notes,
          created_at,
          reviewed_at,
          orders (
            order_number,
            total_amount
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(i)throw i;return s},enabled:!!e}),n=s=>{switch(s){case"pending":return a.jsx(Ze,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"Pending Review"});case"approved":return a.jsx(Ze,{variant:"outline",className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return a.jsx(Ze,{variant:"outline",className:"bg-red-100 text-red-800",children:"Rejected"});default:return a.jsx(Ze,{variant:"outline",children:s})}};return r?a.jsxs("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading refund requests..."})]}):a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Returns & Refunds"}),a.jsx("p",{className:"text-muted-foreground",children:"Track your refund requests and their status"})]}),!t||t.length===0?a.jsx(de,{children:a.jsxs(we,{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(dl,{className:"h-5 w-5"}),"No Refund Requests"]}),a.jsx(et,{children:"You haven't submitted any refund requests yet. You can request refunds for delivered orders from the Orders page."})]})}):a.jsx("div",{className:"space-y-4",children:t.map(s=>a.jsxs(de,{children:[a.jsx(we,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(dl,{className:"h-5 w-5"}),"Refund Request - Order #",s.orders.order_number]}),a.jsxs(et,{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(um,{className:"h-4 w-4"}),"Submitted: ",wm(new Date(s.created_at),"PPP")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Yp,{className:"h-4 w-4"}),"Order Amount: $",s.orders.total_amount.toFixed(2)]}),s.reviewed_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(um,{className:"h-4 w-4"}),"Reviewed: ",wm(new Date(s.reviewed_at),"PPP")]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:n(s.status)})]})}),a.jsx(ge,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Your Description:"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded",children:s.description})]}),s.photo_url&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Photo Evidence:"}),a.jsx("img",{src:s.photo_url,alt:"Refund evidence",className:"max-w-sm h-32 object-cover rounded border"})]}),s.admin_notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:s.status==="approved"?"Approval Notes:":"Rejection Reason:"}),a.jsx("p",{className:`text-sm p-3 rounded ${s.status==="approved"?"text-green-700 bg-green-50 dark:bg-green-900 dark:text-green-300":"text-red-700 bg-red-50 dark:bg-red-900 dark:text-red-300"}`,children:s.admin_notes})]}),s.status==="pending"&&a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-900 p-3 rounded",children:[a.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Your refund request is being reviewed"}),a.jsx("p",{className:"text-blue-600 dark:text-blue-400",children:"Our team will review your request and get back to you soon."})]})]})})]},s.id))})]})})})},QF=()=>{const e=Mn();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center max-w-md px-4",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Oops! The page you're looking for doesn't exist."}),a.jsx("p",{className:"text-gray-500 mb-8",children:"The page may have been moved, deleted, or never existed in the first place."}),a.jsx(Ee,{asChild:!0,children:a.jsx(Hs,{to:"/login",children:"Go to Login"})})]})})},YF=new YN;function ZF(){return a.jsx("div",{className:"min-h-screen w-full bg-gray-50 dark:bg-gray-900",children:a.jsx(eP,{client:YF,children:a.jsxs(H2,{children:[a.jsx(G2,{children:a.jsx(RN,{basename:"/stock2store",children:a.jsxs(jN,{children:[a.jsx(lr,{path:"/",element:a.jsx(Qr,{resource:"store",action:"view",fallbackPath:"/login",children:a.jsx(Yr,{children:a.jsx(gx,{})})})}),a.jsx(lr,{path:"/login",element:a.jsx(hA,{})}),a.jsx(lr,{path:"/warehouse",element:a.jsx(Qr,{resource:"warehouse",action:"view",fallbackPath:"/store",children:a.jsx(Yr,{children:a.jsx(W4,{})})})}),a.jsx(lr,{path:"/store",element:a.jsx(Qr,{resource:"store",action:"view",fallbackPath:"/login",children:a.jsx(Yr,{children:a.jsx(gx,{})})})}),a.jsx(lr,{path:"/cart",element:a.jsx(Qr,{resource:"cart",action:"view",fallbackPath:"/store",children:a.jsx(Yr,{children:a.jsx(G4,{})})})}),a.jsx(lr,{path:"/checkout",element:a.jsx(Qr,{resource:"checkout",action:"view",fallbackPath:"/store",children:a.jsx(Yr,{children:a.jsx(gF,{})})})}),a.jsx(lr,{path:"/analytics",element:a.jsx(Qr,{resource:"analytics",action:"view",fallbackPath:"/store",children:a.jsx(Yr,{children:a.jsx(vF,{})})})}),a.jsx(lr,{path:"/users",element:a.jsx(Qr,{resource:"users",action:"view",fallbackPath:"/store",children:a.jsx(Yr,{children:a.jsx(xF,{})})})}),a.jsx(lr,{path:"/orders",element:a.jsx(Qr,{resource:"orders",action:"view",fallbackPath:"/store",children:a.jsx(Yr,{children:a.jsx(KF,{})})})}),a.jsx(lr,{path:"/returns",element:a.jsx(Qr,{resource:"returns",action:"view",fallbackPath:"/store",children:a.jsx(Yr,{children:a.jsx(GF,{})})})}),a.jsx(lr,{path:"/profile",element:a.jsx(Qr,{resource:"profile",action:"view",fallbackPath:"/store",children:a.jsx(Yr,{children:a.jsx(yF,{})})})}),a.jsx(lr,{path:"*",element:a.jsx(QF,{})})]})})}),a.jsx(VO,{})]})})})}tb(document.getElementById("root")).render(a.jsx(ZF,{}));export{zx as g};
