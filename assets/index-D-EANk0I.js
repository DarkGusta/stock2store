var Rv=e=>{throw TypeError(e)};var kf=(e,t,r)=>t.has(e)||Rv("Cannot "+r);var C=(e,t,r)=>(kf(e,t,"read from private field"),r?r.call(e):t.get(e)),oe=(e,t,r)=>t.has(e)?Rv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Z=(e,t,r,n)=>(kf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ve=(e,t,r)=>(kf(e,t,"access private method"),r);var oc=(e,t,r,n)=>({set _(s){Z(e,t,s,r)},get _(){return C(e,t,n)}});function lE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var G0={exports:{}},fd={},Q0={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=Symbol.for("react.element"),uE=Symbol.for("react.portal"),dE=Symbol.for("react.fragment"),fE=Symbol.for("react.strict_mode"),hE=Symbol.for("react.profiler"),mE=Symbol.for("react.provider"),pE=Symbol.for("react.context"),gE=Symbol.for("react.forward_ref"),vE=Symbol.for("react.suspense"),yE=Symbol.for("react.memo"),xE=Symbol.for("react.lazy"),Ov=Symbol.iterator;function wE(e){return e===null||typeof e!="object"?null:(e=Ov&&e[Ov]||e["@@iterator"],typeof e=="function"?e:null)}var Y0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z0=Object.assign,X0={};function oa(e,t,r){this.props=e,this.context=t,this.refs=X0,this.updater=r||Y0}oa.prototype.isReactComponent={};oa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};oa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function J0(){}J0.prototype=oa.prototype;function Ep(e,t,r){this.props=e,this.context=t,this.refs=X0,this.updater=r||Y0}var Np=Ep.prototype=new J0;Np.constructor=Ep;Z0(Np,oa.prototype);Np.isPureReactComponent=!0;var Av=Array.isArray,ew=Object.prototype.hasOwnProperty,Pp={current:null},tw={key:!0,ref:!0,__self:!0,__source:!0};function rw(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ew.call(t,n)&&!tw.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Hl,type:e,key:i,ref:o,props:s,_owner:Pp.current}}function bE(e,t){return{$$typeof:Hl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hl}function _E(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Iv=/\/+/g;function Cf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_E(""+e.key):t.toString(36)}function Uc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hl:case uE:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Cf(o,0):n,Av(s)?(r="",e!=null&&(r=e.replace(Iv,"$&/")+"/"),Uc(s,t,r,"",function(u){return u})):s!=null&&(Tp(s)&&(s=bE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Iv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Av(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Cf(i,l);o+=Uc(i,t,r,c,s)}else if(c=wE(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Cf(i,l++),o+=Uc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ac(e,t,r){if(e==null)return e;var n=[],s=0;return Uc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function jE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gt={current:null},zc={transition:null},SE={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:zc,ReactCurrentOwner:Pp};function nw(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:ac,forEach:function(e,t,r){ac(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ac(e,function(){t++}),t},toArray:function(e){return ac(e,function(t){return t})||[]},only:function(e){if(!Tp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=oa;je.Fragment=dE;je.Profiler=hE;je.PureComponent=Ep;je.StrictMode=fE;je.Suspense=vE;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SE;je.act=nw;je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Z0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Pp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ew.call(t,c)&&!tw.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Hl,type:e.type,key:s,ref:i,props:n,_owner:o}};je.createContext=function(e){return e={$$typeof:pE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mE,_context:e},e.Consumer=e};je.createElement=rw;je.createFactory=function(e){var t=rw.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:gE,render:e}};je.isValidElement=Tp;je.lazy=function(e){return{$$typeof:xE,_payload:{_status:-1,_result:e},_init:jE}};je.memo=function(e,t){return{$$typeof:yE,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=zc.transition;zc.transition={};try{e()}finally{zc.transition=t}};je.unstable_act=nw;je.useCallback=function(e,t){return Gt.current.useCallback(e,t)};je.useContext=function(e){return Gt.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return Gt.current.useDeferredValue(e)};je.useEffect=function(e,t){return Gt.current.useEffect(e,t)};je.useId=function(){return Gt.current.useId()};je.useImperativeHandle=function(e,t,r){return Gt.current.useImperativeHandle(e,t,r)};je.useInsertionEffect=function(e,t){return Gt.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return Gt.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return Gt.current.useMemo(e,t)};je.useReducer=function(e,t,r){return Gt.current.useReducer(e,t,r)};je.useRef=function(e){return Gt.current.useRef(e)};je.useState=function(e){return Gt.current.useState(e)};je.useSyncExternalStore=function(e,t,r){return Gt.current.useSyncExternalStore(e,t,r)};je.useTransition=function(){return Gt.current.useTransition()};je.version="18.3.1";Q0.exports=je;var h=Q0.exports;const we=K0(h),hd=lE({__proto__:null,default:we},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE=h,CE=Symbol.for("react.element"),EE=Symbol.for("react.fragment"),NE=Object.prototype.hasOwnProperty,PE=kE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TE={key:!0,ref:!0,__self:!0,__source:!0};function sw(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)NE.call(t,n)&&!TE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:CE,type:e,key:i,ref:o,props:s,_owner:PE.current}}fd.Fragment=EE;fd.jsx=sw;fd.jsxs=sw;G0.exports=fd;var a=G0.exports,iw={exports:{}},br={},ow={exports:{}},aw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,I){var q=A.length;A.push(I);e:for(;0<q;){var ne=q-1>>>1,ge=A[ne];if(0<s(ge,I))A[ne]=I,A[q]=ge,q=ne;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var I=A[0],q=A.pop();if(q!==I){A[0]=q;e:for(var ne=0,ge=A.length,ut=ge>>>1;ne<ut;){var Ve=2*(ne+1)-1,zt=A[Ve],He=Ve+1,re=A[He];if(0>s(zt,q))He<ge&&0>s(re,zt)?(A[ne]=re,A[He]=q,ne=He):(A[ne]=zt,A[Ve]=q,ne=Ve);else if(He<ge&&0>s(re,q))A[ne]=re,A[He]=q,ne=He;else break e}}return I}function s(A,I){var q=A.sortIndex-I.sortIndex;return q!==0?q:A.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,y=!1,w=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=A)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function _(A){if(p=!1,b(A),!w)if(r(c)!==null)w=!0,$(j);else{var I=r(u);I!==null&&G(_,I.startTime-A)}}function j(A,I){w=!1,p&&(p=!1,v(N),N=-1),y=!0;var q=m;try{for(b(I),f=r(c);f!==null&&(!(f.expirationTime>I)||A&&!F());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var ge=ne(f.expirationTime<=I);I=e.unstable_now(),typeof ge=="function"?f.callback=ge:f===r(c)&&n(c),b(I)}else n(c);f=r(c)}if(f!==null)var ut=!0;else{var Ve=r(u);Ve!==null&&G(_,Ve.startTime-I),ut=!1}return ut}finally{f=null,m=q,y=!1}}var k=!1,S=null,N=-1,T=5,O=-1;function F(){return!(e.unstable_now()-O<T)}function P(){if(S!==null){var A=e.unstable_now();O=A;var I=!0;try{I=S(!0,A)}finally{I?L():(k=!1,S=null)}}else k=!1}var L;if(typeof g=="function")L=function(){g(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,K=D.port2;D.port1.onmessage=P,L=function(){K.postMessage(null)}}else L=function(){x(P,0)};function $(A){S=A,k||(k=!0,L())}function G(A,I){N=x(function(){A(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,$(j))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var q=m;m=I;try{return A()}finally{m=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,I){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var q=m;m=A;try{return I()}finally{m=q}},e.unstable_scheduleCallback=function(A,I,q){var ne=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ne+q:ne):q=ne,A){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=q+ge,A={id:d++,callback:I,priorityLevel:A,startTime:q,expirationTime:ge,sortIndex:-1},q>ne?(A.sortIndex=q,t(u,A),r(c)===null&&A===r(u)&&(p?(v(N),N=-1):p=!0,G(_,q-ne))):(A.sortIndex=ge,t(c,A),w||y||(w=!0,$(j))),A},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(A){var I=m;return function(){var q=m;m=I;try{return A.apply(this,arguments)}finally{m=q}}}})(aw);ow.exports=aw;var RE=ow.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE=h,wr=RE;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lw=new Set,cl={};function Li(e,t){Ho(e,t),Ho(e+"Capture",t)}function Ho(e,t){for(cl[e]=t,e=0;e<t.length;e++)lw.add(t[e])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,AE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mv={},Dv={};function IE(e){return Th.call(Dv,e)?!0:Th.call(Mv,e)?!1:AE.test(e)?Dv[e]=!0:(Mv[e]=!0,!1)}function ME(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DE(e,t,r,n){if(t===null||typeof t>"u"||ME(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new Qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rp=/[\-:]([a-z])/g;function Op(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rp,Op);Ot[t]=new Qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rp,Op);Ot[t]=new Qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rp,Op);Ot[t]=new Qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ap(e,t,r,n){var s=Ot.hasOwnProperty(t)?Ot[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DE(t,r,s,n)&&(r=null),n||s===null?IE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bn=OE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),lo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),Ip=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),cw=Symbol.for("react.provider"),uw=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Ah=Symbol.for("react.suspense_list"),Dp=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),dw=Symbol.for("react.offscreen"),Lv=Symbol.iterator;function ya(e){return e===null||typeof e!="object"?null:(e=Lv&&e[Lv]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,Ef;function Aa(e){if(Ef===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ef=t&&t[1]||""}return`
`+Ef+e}var Nf=!1;function Pf(e,t){if(!e||Nf)return"";Nf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Nf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Aa(e):""}function LE(e){switch(e.tag){case 5:return Aa(e.type);case 16:return Aa("Lazy");case 13:return Aa("Suspense");case 19:return Aa("SuspenseList");case 0:case 2:case 15:return e=Pf(e.type,!1),e;case 11:return e=Pf(e.type.render,!1),e;case 1:return e=Pf(e.type,!0),e;default:return""}}function Ih(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case co:return"Fragment";case lo:return"Portal";case Rh:return"Profiler";case Ip:return"StrictMode";case Oh:return"Suspense";case Ah:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uw:return(e.displayName||"Context")+".Consumer";case cw:return(e._context.displayName||"Context")+".Provider";case Mp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dp:return t=e.displayName||null,t!==null?t:Ih(e.type)||"Memo";case es:t=e._payload,e=e._init;try{return Ih(e(t))}catch{}}return null}function $E(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ih(t);case 8:return t===Ip?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FE(e){var t=fw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cc(e){e._valueTracker||(e._valueTracker=FE(e))}function hw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=fw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function iu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mh(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $v(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Rs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mw(e,t){t=t.checked,t!=null&&Ap(e,"checked",t,!1)}function Dh(e,t){mw(e,t);var r=Rs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lh(e,t.type,Rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lh(e,t,r){(t!=="number"||iu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ia=Array.isArray;function bo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Rs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $h(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(Ia(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Rs(r)}}function pw(e,t){var r=Rs(t.value),n=Rs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uc,vw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uc=uc||document.createElement("div"),uc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ul(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UE=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(e){UE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wa[t]=Wa[e]})});function yw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wa.hasOwnProperty(e)&&Wa[e]?(""+t).trim():t+"px"}function xw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=yw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var zE=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uh(e,t){if(t){if(zE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function zh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=null;function Lp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vh=null,_o=null,jo=null;function Bv(e){if(e=Ql(e)){if(typeof Vh!="function")throw Error(U(280));var t=e.stateNode;t&&(t=yd(t),Vh(e.stateNode,e.type,t))}}function ww(e){_o?jo?jo.push(e):jo=[e]:_o=e}function bw(){if(_o){var e=_o,t=jo;if(jo=_o=null,Bv(e),t)for(e=0;e<t.length;e++)Bv(t[e])}}function _w(e,t){return e(t)}function jw(){}var Tf=!1;function Sw(e,t,r){if(Tf)return e(t,r);Tf=!0;try{return _w(e,t,r)}finally{Tf=!1,(_o!==null||jo!==null)&&(jw(),bw())}}function dl(e,t){var r=e.stateNode;if(r===null)return null;var n=yd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var Wh=!1;if(On)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Wh=!1}function BE(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var qa=!1,ou=null,au=!1,qh=null,VE={onError:function(e){qa=!0,ou=e}};function WE(e,t,r,n,s,i,o,l,c){qa=!1,ou=null,BE.apply(VE,arguments)}function qE(e,t,r,n,s,i,o,l,c){if(WE.apply(this,arguments),qa){if(qa){var u=ou;qa=!1,ou=null}else throw Error(U(198));au||(au=!0,qh=u)}}function $i(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function kw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vv(e){if($i(e)!==e)throw Error(U(188))}function HE(e){var t=e.alternate;if(!t){if(t=$i(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Vv(s),e;if(i===n)return Vv(s),t;i=i.sibling}throw Error(U(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function Cw(e){return e=HE(e),e!==null?Ew(e):null}function Ew(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ew(e);if(t!==null)return t;e=e.sibling}return null}var Nw=wr.unstable_scheduleCallback,Wv=wr.unstable_cancelCallback,KE=wr.unstable_shouldYield,GE=wr.unstable_requestPaint,ft=wr.unstable_now,QE=wr.unstable_getCurrentPriorityLevel,$p=wr.unstable_ImmediatePriority,Pw=wr.unstable_UserBlockingPriority,lu=wr.unstable_NormalPriority,YE=wr.unstable_LowPriority,Tw=wr.unstable_IdlePriority,md=null,cn=null;function ZE(e){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(md,e,void 0,(e.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:eN,XE=Math.log,JE=Math.LN2;function eN(e){return e>>>=0,e===0?32:31-(XE(e)/JE|0)|0}var dc=64,fc=4194304;function Ma(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Ma(l):(i&=o,i!==0&&(n=Ma(i)))}else o=r&~s,o!==0?n=Ma(o):i!==0&&(n=Ma(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Wr(t),s=1<<r,n|=e[r],t&=~s;return n}function tN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Wr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=tN(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Hh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rw(){var e=dc;return dc<<=1,!(dc&4194240)&&(dc=64),e}function Rf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wr(t),e[t]=r}function nN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Wr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Fp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Wr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Fe=0;function Ow(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Aw,Up,Iw,Mw,Dw,Kh=!1,hc=[],xs=null,ws=null,bs=null,fl=new Map,hl=new Map,ns=[],sN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qv(e,t){switch(e){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(t.pointerId)}}function wa(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ql(t),t!==null&&Up(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function iN(e,t,r,n,s){switch(t){case"focusin":return xs=wa(xs,e,t,r,n,s),!0;case"dragenter":return ws=wa(ws,e,t,r,n,s),!0;case"mouseover":return bs=wa(bs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return fl.set(i,wa(fl.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,hl.set(i,wa(hl.get(i)||null,e,t,r,n,s)),!0}return!1}function Lw(e){var t=oi(e.target);if(t!==null){var r=$i(t);if(r!==null){if(t=r.tag,t===13){if(t=kw(r),t!==null){e.blockedOn=t,Dw(e.priority,function(){Iw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bh=n,r.target.dispatchEvent(n),Bh=null}else return t=Ql(r),t!==null&&Up(t),e.blockedOn=r,!1;t.shift()}return!0}function Hv(e,t,r){Bc(e)&&r.delete(t)}function oN(){Kh=!1,xs!==null&&Bc(xs)&&(xs=null),ws!==null&&Bc(ws)&&(ws=null),bs!==null&&Bc(bs)&&(bs=null),fl.forEach(Hv),hl.forEach(Hv)}function ba(e,t){e.blockedOn===t&&(e.blockedOn=null,Kh||(Kh=!0,wr.unstable_scheduleCallback(wr.unstable_NormalPriority,oN)))}function ml(e){function t(s){return ba(s,e)}if(0<hc.length){ba(hc[0],e);for(var r=1;r<hc.length;r++){var n=hc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xs!==null&&ba(xs,e),ws!==null&&ba(ws,e),bs!==null&&ba(bs,e),fl.forEach(t),hl.forEach(t),r=0;r<ns.length;r++)n=ns[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ns.length&&(r=ns[0],r.blockedOn===null);)Lw(r),r.blockedOn===null&&ns.shift()}var So=Bn.ReactCurrentBatchConfig,uu=!0;function aN(e,t,r,n){var s=Fe,i=So.transition;So.transition=null;try{Fe=1,zp(e,t,r,n)}finally{Fe=s,So.transition=i}}function lN(e,t,r,n){var s=Fe,i=So.transition;So.transition=null;try{Fe=4,zp(e,t,r,n)}finally{Fe=s,So.transition=i}}function zp(e,t,r,n){if(uu){var s=Gh(e,t,r,n);if(s===null)zf(e,t,n,du,r),qv(e,n);else if(iN(s,e,t,r,n))n.stopPropagation();else if(qv(e,n),t&4&&-1<sN.indexOf(e)){for(;s!==null;){var i=Ql(s);if(i!==null&&Aw(i),i=Gh(e,t,r,n),i===null&&zf(e,t,n,du,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else zf(e,t,n,null,r)}}var du=null;function Gh(e,t,r,n){if(du=null,e=Lp(n),e=oi(e),e!==null)if(t=$i(e),t===null)e=null;else if(r=t.tag,r===13){if(e=kw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return du=e,null}function $w(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QE()){case $p:return 1;case Pw:return 4;case lu:case YE:return 16;case Tw:return 536870912;default:return 16}default:return 16}}var gs=null,Bp=null,Vc=null;function Fw(){if(Vc)return Vc;var e,t=Bp,r=t.length,n,s="value"in gs?gs.value:gs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Vc=s.slice(e,1<n?1-n:void 0)}function Wc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mc(){return!0}function Kv(){return!1}function _r(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mc:Kv,this.isPropagationStopped=Kv,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mc)},persist:function(){},isPersistent:mc}),t}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vp=_r(aa),Gl=st({},aa,{view:0,detail:0}),cN=_r(Gl),Of,Af,_a,pd=st({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_a&&(_a&&e.type==="mousemove"?(Of=e.screenX-_a.screenX,Af=e.screenY-_a.screenY):Af=Of=0,_a=e),Of)},movementY:function(e){return"movementY"in e?e.movementY:Af}}),Gv=_r(pd),uN=st({},pd,{dataTransfer:0}),dN=_r(uN),fN=st({},Gl,{relatedTarget:0}),If=_r(fN),hN=st({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),mN=_r(hN),pN=st({},aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gN=_r(pN),vN=st({},aa,{data:0}),Qv=_r(vN),yN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wN[e])?!!t[e]:!1}function Wp(){return bN}var _N=st({},Gl,{key:function(e){if(e.key){var t=yN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wp,charCode:function(e){return e.type==="keypress"?Wc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jN=_r(_N),SN=st({},pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yv=_r(SN),kN=st({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wp}),CN=_r(kN),EN=st({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),NN=_r(EN),PN=st({},pd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TN=_r(PN),RN=[9,13,27,32],qp=On&&"CompositionEvent"in window,Ha=null;On&&"documentMode"in document&&(Ha=document.documentMode);var ON=On&&"TextEvent"in window&&!Ha,Uw=On&&(!qp||Ha&&8<Ha&&11>=Ha),Zv=" ",Xv=!1;function zw(e,t){switch(e){case"keyup":return RN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uo=!1;function AN(e,t){switch(e){case"compositionend":return Bw(t);case"keypress":return t.which!==32?null:(Xv=!0,Zv);case"textInput":return e=t.data,e===Zv&&Xv?null:e;default:return null}}function IN(e,t){if(uo)return e==="compositionend"||!qp&&zw(e,t)?(e=Fw(),Vc=Bp=gs=null,uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uw&&t.locale!=="ko"?null:t.data;default:return null}}var MN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MN[e.type]:t==="textarea"}function Vw(e,t,r,n){ww(n),t=fu(t,"onChange"),0<t.length&&(r=new Vp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ka=null,pl=null;function DN(e){eb(e,0)}function gd(e){var t=mo(e);if(hw(t))return e}function LN(e,t){if(e==="change")return t}var Ww=!1;if(On){var Mf;if(On){var Df="oninput"in document;if(!Df){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),Df=typeof ey.oninput=="function"}Mf=Df}else Mf=!1;Ww=Mf&&(!document.documentMode||9<document.documentMode)}function ty(){Ka&&(Ka.detachEvent("onpropertychange",qw),pl=Ka=null)}function qw(e){if(e.propertyName==="value"&&gd(pl)){var t=[];Vw(t,pl,e,Lp(e)),Sw(DN,t)}}function $N(e,t,r){e==="focusin"?(ty(),Ka=t,pl=r,Ka.attachEvent("onpropertychange",qw)):e==="focusout"&&ty()}function FN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gd(pl)}function UN(e,t){if(e==="click")return gd(t)}function zN(e,t){if(e==="input"||e==="change")return gd(t)}function BN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kr=typeof Object.is=="function"?Object.is:BN;function gl(e,t){if(Kr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Th.call(t,s)||!Kr(e[s],t[s]))return!1}return!0}function ry(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ny(e,t){var r=ry(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ry(r)}}function Hw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kw(){for(var e=window,t=iu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=iu(e.document)}return t}function Hp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VN(e){var t=Kw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Hw(r.ownerDocument.documentElement,r)){if(n!==null&&Hp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ny(r,i);var o=ny(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WN=On&&"documentMode"in document&&11>=document.documentMode,fo=null,Qh=null,Ga=null,Yh=!1;function sy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yh||fo==null||fo!==iu(n)||(n=fo,"selectionStart"in n&&Hp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ga&&gl(Ga,n)||(Ga=n,n=fu(Qh,"onSelect"),0<n.length&&(t=new Vp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fo)))}function pc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ho={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},Lf={},Gw={};On&&(Gw=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function vd(e){if(Lf[e])return Lf[e];if(!ho[e])return e;var t=ho[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Gw)return Lf[e]=t[r];return e}var Qw=vd("animationend"),Yw=vd("animationiteration"),Zw=vd("animationstart"),Xw=vd("transitionend"),Jw=new Map,iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(e,t){Jw.set(e,t),Li(t,[e])}for(var $f=0;$f<iy.length;$f++){var Ff=iy[$f],qN=Ff.toLowerCase(),HN=Ff[0].toUpperCase()+Ff.slice(1);zs(qN,"on"+HN)}zs(Qw,"onAnimationEnd");zs(Yw,"onAnimationIteration");zs(Zw,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(Xw,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function oy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qE(n,t,void 0,e),e.currentTarget=null}function eb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;oy(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;oy(s,l,u),i=c}}}if(au)throw e=qh,au=!1,qh=null,e}function Ge(e,t){var r=t[tm];r===void 0&&(r=t[tm]=new Set);var n=e+"__bubble";r.has(n)||(tb(t,e,2,!1),r.add(n))}function Uf(e,t,r){var n=0;t&&(n|=4),tb(r,e,n,t)}var gc="_reactListening"+Math.random().toString(36).slice(2);function vl(e){if(!e[gc]){e[gc]=!0,lw.forEach(function(r){r!=="selectionchange"&&(KN.has(r)||Uf(r,!1,e),Uf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gc]||(t[gc]=!0,Uf("selectionchange",!1,t))}}function tb(e,t,r,n){switch($w(t)){case 1:var s=aN;break;case 4:s=lN;break;default:s=zp}r=s.bind(null,t,r,e),s=void 0,!Wh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function zf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=oi(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Sw(function(){var u=i,d=Lp(r),f=[];e:{var m=Jw.get(e);if(m!==void 0){var y=Vp,w=e;switch(e){case"keypress":if(Wc(r)===0)break e;case"keydown":case"keyup":y=jN;break;case"focusin":w="focus",y=If;break;case"focusout":w="blur",y=If;break;case"beforeblur":case"afterblur":y=If;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=dN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=CN;break;case Qw:case Yw:case Zw:y=mN;break;case Xw:y=NN;break;case"scroll":y=cN;break;case"wheel":y=TN;break;case"copy":case"cut":case"paste":y=gN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Yv}var p=(t&4)!==0,x=!p&&e==="scroll",v=p?m!==null?m+"Capture":null:m;p=[];for(var g=u,b;g!==null;){b=g;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=dl(g,v),_!=null&&p.push(yl(g,_,b)))),x)break;g=g.return}0<p.length&&(m=new y(m,w,null,r,d),f.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==Bh&&(w=r.relatedTarget||r.fromElement)&&(oi(w)||w[An]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?oi(w):null,w!==null&&(x=$i(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(p=Gv,_="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=Yv,_="onPointerLeave",v="onPointerEnter",g="pointer"),x=y==null?m:mo(y),b=w==null?m:mo(w),m=new p(_,g+"leave",y,r,d),m.target=x,m.relatedTarget=b,_=null,oi(d)===u&&(p=new p(v,g+"enter",w,r,d),p.target=b,p.relatedTarget=x,_=p),x=_,y&&w)t:{for(p=y,v=w,g=0,b=p;b;b=Gi(b))g++;for(b=0,_=v;_;_=Gi(_))b++;for(;0<g-b;)p=Gi(p),g--;for(;0<b-g;)v=Gi(v),b--;for(;g--;){if(p===v||v!==null&&p===v.alternate)break t;p=Gi(p),v=Gi(v)}p=null}else p=null;y!==null&&ay(f,m,y,p,!1),w!==null&&x!==null&&ay(f,x,w,p,!0)}}e:{if(m=u?mo(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var j=LN;else if(Jv(m))if(Ww)j=zN;else{j=FN;var k=$N}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=UN);if(j&&(j=j(e,u))){Vw(f,j,r,d);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Lh(m,"number",m.value)}switch(k=u?mo(u):window,e){case"focusin":(Jv(k)||k.contentEditable==="true")&&(fo=k,Qh=u,Ga=null);break;case"focusout":Ga=Qh=fo=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,sy(f,r,d);break;case"selectionchange":if(WN)break;case"keydown":case"keyup":sy(f,r,d)}var S;if(qp)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else uo?zw(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Uw&&r.locale!=="ko"&&(uo||N!=="onCompositionStart"?N==="onCompositionEnd"&&uo&&(S=Fw()):(gs=d,Bp="value"in gs?gs.value:gs.textContent,uo=!0)),k=fu(u,N),0<k.length&&(N=new Qv(N,e,null,r,d),f.push({event:N,listeners:k}),S?N.data=S:(S=Bw(r),S!==null&&(N.data=S)))),(S=ON?AN(e,r):IN(e,r))&&(u=fu(u,"onBeforeInput"),0<u.length&&(d=new Qv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}eb(f,t)})}function yl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=dl(e,r),i!=null&&n.unshift(yl(e,i,s)),i=dl(e,t),i!=null&&n.push(yl(e,i,s))),e=e.return}return n}function Gi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ay(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=dl(r,i),c!=null&&o.unshift(yl(r,c,l))):s||(c=dl(r,i),c!=null&&o.push(yl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var GN=/\r\n?/g,QN=/\u0000|\uFFFD/g;function ly(e){return(typeof e=="string"?e:""+e).replace(GN,`
`).replace(QN,"")}function vc(e,t,r){if(t=ly(t),ly(e)!==t&&r)throw Error(U(425))}function hu(){}var Zh=null,Xh=null;function Jh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var em=typeof setTimeout=="function"?setTimeout:void 0,YN=typeof clearTimeout=="function"?clearTimeout:void 0,cy=typeof Promise=="function"?Promise:void 0,ZN=typeof queueMicrotask=="function"?queueMicrotask:typeof cy<"u"?function(e){return cy.resolve(null).then(e).catch(XN)}:em;function XN(e){setTimeout(function(){throw e})}function Bf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ml(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ml(t)}function _s(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var la=Math.random().toString(36).slice(2),an="__reactFiber$"+la,xl="__reactProps$"+la,An="__reactContainer$"+la,tm="__reactEvents$"+la,JN="__reactListeners$"+la,eP="__reactHandles$"+la;function oi(e){var t=e[an];if(t)return t;for(var r=e.parentNode;r;){if(t=r[An]||r[an]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=uy(e);e!==null;){if(r=e[an])return r;e=uy(e)}return t}e=r,r=e.parentNode}return null}function Ql(e){return e=e[an]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function yd(e){return e[xl]||null}var rm=[],po=-1;function Bs(e){return{current:e}}function Ye(e){0>po||(e.current=rm[po],rm[po]=null,po--)}function qe(e,t){po++,rm[po]=e.current,e.current=t}var Os={},Ut=Bs(Os),ir=Bs(!1),bi=Os;function Ko(e,t){var r=e.type.contextTypes;if(!r)return Os;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function or(e){return e=e.childContextTypes,e!=null}function mu(){Ye(ir),Ye(Ut)}function dy(e,t,r){if(Ut.current!==Os)throw Error(U(168));qe(Ut,t),qe(ir,r)}function rb(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(U(108,$E(e)||"Unknown",s));return st({},r,n)}function pu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Os,bi=Ut.current,qe(Ut,e),qe(ir,ir.current),!0}function fy(e,t,r){var n=e.stateNode;if(!n)throw Error(U(169));r?(e=rb(e,t,bi),n.__reactInternalMemoizedMergedChildContext=e,Ye(ir),Ye(Ut),qe(Ut,e)):Ye(ir),qe(ir,r)}var jn=null,xd=!1,Vf=!1;function nb(e){jn===null?jn=[e]:jn.push(e)}function tP(e){xd=!0,nb(e)}function Vs(){if(!Vf&&jn!==null){Vf=!0;var e=0,t=Fe;try{var r=jn;for(Fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jn=null,xd=!1}catch(s){throw jn!==null&&(jn=jn.slice(e+1)),Nw($p,Vs),s}finally{Fe=t,Vf=!1}}return null}var go=[],vo=0,gu=null,vu=0,Cr=[],Er=0,_i=null,kn=1,Cn="";function ei(e,t){go[vo++]=vu,go[vo++]=gu,gu=e,vu=t}function sb(e,t,r){Cr[Er++]=kn,Cr[Er++]=Cn,Cr[Er++]=_i,_i=e;var n=kn;e=Cn;var s=32-Wr(n)-1;n&=~(1<<s),r+=1;var i=32-Wr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,kn=1<<32-Wr(t)+s|r<<s|n,Cn=i+e}else kn=1<<i|r<<s|n,Cn=e}function Kp(e){e.return!==null&&(ei(e,1),sb(e,1,0))}function Gp(e){for(;e===gu;)gu=go[--vo],go[vo]=null,vu=go[--vo],go[vo]=null;for(;e===_i;)_i=Cr[--Er],Cr[Er]=null,Cn=Cr[--Er],Cr[Er]=null,kn=Cr[--Er],Cr[Er]=null}var yr=null,vr=null,Xe=!1,zr=null;function ib(e,t){var r=Nr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yr=e,vr=_s(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yr=e,vr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_i!==null?{id:kn,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Nr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yr=e,vr=null,!0):!1;default:return!1}}function nm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sm(e){if(Xe){var t=vr;if(t){var r=t;if(!hy(e,t)){if(nm(e))throw Error(U(418));t=_s(r.nextSibling);var n=yr;t&&hy(e,t)?ib(n,r):(e.flags=e.flags&-4097|2,Xe=!1,yr=e)}}else{if(nm(e))throw Error(U(418));e.flags=e.flags&-4097|2,Xe=!1,yr=e}}}function my(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yr=e}function yc(e){if(e!==yr)return!1;if(!Xe)return my(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jh(e.type,e.memoizedProps)),t&&(t=vr)){if(nm(e))throw ob(),Error(U(418));for(;t;)ib(e,t),t=_s(t.nextSibling)}if(my(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vr=_s(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vr=null}}else vr=yr?_s(e.stateNode.nextSibling):null;return!0}function ob(){for(var e=vr;e;)e=_s(e.nextSibling)}function Go(){vr=yr=null,Xe=!1}function Qp(e){zr===null?zr=[e]:zr.push(e)}var rP=Bn.ReactCurrentBatchConfig;function ja(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function xc(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function py(e){var t=e._init;return t(e._payload)}function ab(e){function t(v,g){if(e){var b=v.deletions;b===null?(v.deletions=[g],v.flags|=16):b.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Cs(v,g),v.index=0,v.sibling=null,v}function i(v,g,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<g?(v.flags|=2,g):b):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,b,_){return g===null||g.tag!==6?(g=Yf(b,v.mode,_),g.return=v,g):(g=s(g,b),g.return=v,g)}function c(v,g,b,_){var j=b.type;return j===co?d(v,g,b.props.children,_,b.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===es&&py(j)===g.type)?(_=s(g,b.props),_.ref=ja(v,g,b),_.return=v,_):(_=Zc(b.type,b.key,b.props,null,v.mode,_),_.ref=ja(v,g,b),_.return=v,_)}function u(v,g,b,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Zf(b,v.mode,_),g.return=v,g):(g=s(g,b.children||[]),g.return=v,g)}function d(v,g,b,_,j){return g===null||g.tag!==7?(g=wi(b,v.mode,_,j),g.return=v,g):(g=s(g,b),g.return=v,g)}function f(v,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Yf(""+g,v.mode,b),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case lc:return b=Zc(g.type,g.key,g.props,null,v.mode,b),b.ref=ja(v,null,g),b.return=v,b;case lo:return g=Zf(g,v.mode,b),g.return=v,g;case es:var _=g._init;return f(v,_(g._payload),b)}if(Ia(g)||ya(g))return g=wi(g,v.mode,b,null),g.return=v,g;xc(v,g)}return null}function m(v,g,b,_){var j=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(v,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lc:return b.key===j?c(v,g,b,_):null;case lo:return b.key===j?u(v,g,b,_):null;case es:return j=b._init,m(v,g,j(b._payload),_)}if(Ia(b)||ya(b))return j!==null?null:d(v,g,b,_,null);xc(v,b)}return null}function y(v,g,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,l(g,v,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lc:return v=v.get(_.key===null?b:_.key)||null,c(g,v,_,j);case lo:return v=v.get(_.key===null?b:_.key)||null,u(g,v,_,j);case es:var k=_._init;return y(v,g,b,k(_._payload),j)}if(Ia(_)||ya(_))return v=v.get(b)||null,d(g,v,_,j,null);xc(g,_)}return null}function w(v,g,b,_){for(var j=null,k=null,S=g,N=g=0,T=null;S!==null&&N<b.length;N++){S.index>N?(T=S,S=null):T=S.sibling;var O=m(v,S,b[N],_);if(O===null){S===null&&(S=T);break}e&&S&&O.alternate===null&&t(v,S),g=i(O,g,N),k===null?j=O:k.sibling=O,k=O,S=T}if(N===b.length)return r(v,S),Xe&&ei(v,N),j;if(S===null){for(;N<b.length;N++)S=f(v,b[N],_),S!==null&&(g=i(S,g,N),k===null?j=S:k.sibling=S,k=S);return Xe&&ei(v,N),j}for(S=n(v,S);N<b.length;N++)T=y(S,v,N,b[N],_),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?N:T.key),g=i(T,g,N),k===null?j=T:k.sibling=T,k=T);return e&&S.forEach(function(F){return t(v,F)}),Xe&&ei(v,N),j}function p(v,g,b,_){var j=ya(b);if(typeof j!="function")throw Error(U(150));if(b=j.call(b),b==null)throw Error(U(151));for(var k=j=null,S=g,N=g=0,T=null,O=b.next();S!==null&&!O.done;N++,O=b.next()){S.index>N?(T=S,S=null):T=S.sibling;var F=m(v,S,O.value,_);if(F===null){S===null&&(S=T);break}e&&S&&F.alternate===null&&t(v,S),g=i(F,g,N),k===null?j=F:k.sibling=F,k=F,S=T}if(O.done)return r(v,S),Xe&&ei(v,N),j;if(S===null){for(;!O.done;N++,O=b.next())O=f(v,O.value,_),O!==null&&(g=i(O,g,N),k===null?j=O:k.sibling=O,k=O);return Xe&&ei(v,N),j}for(S=n(v,S);!O.done;N++,O=b.next())O=y(S,v,N,O.value,_),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?N:O.key),g=i(O,g,N),k===null?j=O:k.sibling=O,k=O);return e&&S.forEach(function(P){return t(v,P)}),Xe&&ei(v,N),j}function x(v,g,b,_){if(typeof b=="object"&&b!==null&&b.type===co&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case lc:e:{for(var j=b.key,k=g;k!==null;){if(k.key===j){if(j=b.type,j===co){if(k.tag===7){r(v,k.sibling),g=s(k,b.props.children),g.return=v,v=g;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===es&&py(j)===k.type){r(v,k.sibling),g=s(k,b.props),g.ref=ja(v,k,b),g.return=v,v=g;break e}r(v,k);break}else t(v,k);k=k.sibling}b.type===co?(g=wi(b.props.children,v.mode,_,b.key),g.return=v,v=g):(_=Zc(b.type,b.key,b.props,null,v.mode,_),_.ref=ja(v,g,b),_.return=v,v=_)}return o(v);case lo:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(v,g.sibling),g=s(g,b.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Zf(b,v.mode,_),g.return=v,v=g}return o(v);case es:return k=b._init,x(v,g,k(b._payload),_)}if(Ia(b))return w(v,g,b,_);if(ya(b))return p(v,g,b,_);xc(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,b),g.return=v,v=g):(r(v,g),g=Yf(b,v.mode,_),g.return=v,v=g),o(v)):r(v,g)}return x}var Qo=ab(!0),lb=ab(!1),yu=Bs(null),xu=null,yo=null,Yp=null;function Zp(){Yp=yo=xu=null}function Xp(e){var t=yu.current;Ye(yu),e._currentValue=t}function im(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ko(e,t){xu=e,Yp=yo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sr=!0),e.firstContext=null)}function Ar(e){var t=e._currentValue;if(Yp!==e)if(e={context:e,memoizedValue:t,next:null},yo===null){if(xu===null)throw Error(U(308));yo=e,xu.dependencies={lanes:0,firstContext:e}}else yo=yo.next=e;return t}var ai=null;function Jp(e){ai===null?ai=[e]:ai.push(e)}function cb(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Jp(t)):(r.next=s.next,s.next=r),t.interleaved=r,In(e,n)}function In(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ts=!1;function eg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ub(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,In(e,r)}return s=n.interleaved,s===null?(t.next=t,Jp(n)):(t.next=s.next,s.next=t),n.interleaved=t,In(e,r)}function qc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fp(e,r)}}function gy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wu(e,t,r,n){var s=e.updateQueue;ts=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,p=l;switch(m=t,y=r,p.tag){case 1:if(w=p.payload,typeof w=="function"){f=w.call(y,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=p.payload,m=typeof w=="function"?w.call(y,f,m):w,m==null)break e;f=st({},f,m);break e;case 2:ts=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Si|=o,e.lanes=o,e.memoizedState=f}}function vy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(U(191,s));s.call(n)}}}var Yl={},un=Bs(Yl),wl=Bs(Yl),bl=Bs(Yl);function li(e){if(e===Yl)throw Error(U(174));return e}function tg(e,t){switch(qe(bl,t),qe(wl,e),qe(un,Yl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fh(t,e)}Ye(un),qe(un,t)}function Yo(){Ye(un),Ye(wl),Ye(bl)}function db(e){li(bl.current);var t=li(un.current),r=Fh(t,e.type);t!==r&&(qe(wl,e),qe(un,r))}function rg(e){wl.current===e&&(Ye(un),Ye(wl))}var rt=Bs(0);function bu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wf=[];function ng(){for(var e=0;e<Wf.length;e++)Wf[e]._workInProgressVersionPrimary=null;Wf.length=0}var Hc=Bn.ReactCurrentDispatcher,qf=Bn.ReactCurrentBatchConfig,ji=0,nt=null,yt=null,Ct=null,_u=!1,Qa=!1,_l=0,nP=0;function Mt(){throw Error(U(321))}function sg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kr(e[r],t[r]))return!1;return!0}function ig(e,t,r,n,s,i){if(ji=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hc.current=e===null||e.memoizedState===null?aP:lP,e=r(n,s),Qa){i=0;do{if(Qa=!1,_l=0,25<=i)throw Error(U(301));i+=1,Ct=yt=null,t.updateQueue=null,Hc.current=cP,e=r(n,s)}while(Qa)}if(Hc.current=ju,t=yt!==null&&yt.next!==null,ji=0,Ct=yt=nt=null,_u=!1,t)throw Error(U(300));return e}function og(){var e=_l!==0;return _l=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?nt.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function Ir(){if(yt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=Ct===null?nt.memoizedState:Ct.next;if(t!==null)Ct=t,yt=e;else{if(e===null)throw Error(U(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Ct===null?nt.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function jl(e,t){return typeof t=="function"?t(e):t}function Hf(e){var t=Ir(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=yt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ji&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,nt.lanes|=d,Si|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Kr(n,t.memoizedState)||(sr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,nt.lanes|=i,Si|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Kf(e){var t=Ir(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Kr(i,t.memoizedState)||(sr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function fb(){}function hb(e,t){var r=nt,n=Ir(),s=t(),i=!Kr(n.memoizedState,s);if(i&&(n.memoizedState=s,sr=!0),n=n.queue,ag(gb.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ct!==null&&Ct.memoizedState.tag&1){if(r.flags|=2048,Sl(9,pb.bind(null,r,n,s,t),void 0,null),Et===null)throw Error(U(349));ji&30||mb(r,t,s)}return s}function mb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function pb(e,t,r,n){t.value=r,t.getSnapshot=n,vb(t)&&yb(e)}function gb(e,t,r){return r(function(){vb(t)&&yb(e)})}function vb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kr(e,r)}catch{return!0}}function yb(e){var t=In(e,1);t!==null&&qr(t,e,1,-1)}function yy(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:e},t.queue=e,e=e.dispatch=oP.bind(null,nt,e),[t.memoizedState,e]}function Sl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function xb(){return Ir().memoizedState}function Kc(e,t,r,n){var s=tn();nt.flags|=e,s.memoizedState=Sl(1|t,r,void 0,n===void 0?null:n)}function wd(e,t,r,n){var s=Ir();n=n===void 0?null:n;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,n!==null&&sg(n,o.deps)){s.memoizedState=Sl(t,r,i,n);return}}nt.flags|=e,s.memoizedState=Sl(1|t,r,i,n)}function xy(e,t){return Kc(8390656,8,e,t)}function ag(e,t){return wd(2048,8,e,t)}function wb(e,t){return wd(4,2,e,t)}function bb(e,t){return wd(4,4,e,t)}function _b(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jb(e,t,r){return r=r!=null?r.concat([e]):null,wd(4,4,_b.bind(null,t,e),r)}function lg(){}function Sb(e,t){var r=Ir();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function kb(e,t){var r=Ir();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Cb(e,t,r){return ji&21?(Kr(r,t)||(r=Rw(),nt.lanes|=r,Si|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sr=!0),e.memoizedState=r)}function sP(e,t){var r=Fe;Fe=r!==0&&4>r?r:4,e(!0);var n=qf.transition;qf.transition={};try{e(!1),t()}finally{Fe=r,qf.transition=n}}function Eb(){return Ir().memoizedState}function iP(e,t,r){var n=ks(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Nb(e))Pb(t,r);else if(r=cb(e,t,r,n),r!==null){var s=Ht();qr(r,e,n,s),Tb(r,t,n)}}function oP(e,t,r){var n=ks(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nb(e))Pb(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Kr(l,o)){var c=t.interleaved;c===null?(s.next=s,Jp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=cb(e,t,s,n),r!==null&&(s=Ht(),qr(r,e,n,s),Tb(r,t,n))}}function Nb(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function Pb(e,t){Qa=_u=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Tb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fp(e,r)}}var ju={readContext:Ar,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},aP={readContext:Ar,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:Ar,useEffect:xy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kc(4194308,4,_b.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kc(4,2,e,t)},useMemo:function(e,t){var r=tn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=iP.bind(null,nt,e),[n.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:yy,useDebugValue:lg,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=yy(!1),t=e[0];return e=sP.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nt,s=tn();if(Xe){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),Et===null)throw Error(U(349));ji&30||mb(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,xy(gb.bind(null,n,i,e),[e]),n.flags|=2048,Sl(9,pb.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=tn(),t=Et.identifierPrefix;if(Xe){var r=Cn,n=kn;r=(n&~(1<<32-Wr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=_l++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=nP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lP={readContext:Ar,useCallback:Sb,useContext:Ar,useEffect:ag,useImperativeHandle:jb,useInsertionEffect:wb,useLayoutEffect:bb,useMemo:kb,useReducer:Hf,useRef:xb,useState:function(){return Hf(jl)},useDebugValue:lg,useDeferredValue:function(e){var t=Ir();return Cb(t,yt.memoizedState,e)},useTransition:function(){var e=Hf(jl)[0],t=Ir().memoizedState;return[e,t]},useMutableSource:fb,useSyncExternalStore:hb,useId:Eb,unstable_isNewReconciler:!1},cP={readContext:Ar,useCallback:Sb,useContext:Ar,useEffect:ag,useImperativeHandle:jb,useInsertionEffect:wb,useLayoutEffect:bb,useMemo:kb,useReducer:Kf,useRef:xb,useState:function(){return Kf(jl)},useDebugValue:lg,useDeferredValue:function(e){var t=Ir();return yt===null?t.memoizedState=e:Cb(t,yt.memoizedState,e)},useTransition:function(){var e=Kf(jl)[0],t=Ir().memoizedState;return[e,t]},useMutableSource:fb,useSyncExternalStore:hb,useId:Eb,unstable_isNewReconciler:!1};function Lr(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function om(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bd={isMounted:function(e){return(e=e._reactInternals)?$i(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ht(),s=ks(e),i=Pn(n,s);i.payload=t,r!=null&&(i.callback=r),t=js(e,i,s),t!==null&&(qr(t,e,s,n),qc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ht(),s=ks(e),i=Pn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=js(e,i,s),t!==null&&(qr(t,e,s,n),qc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ht(),n=ks(e),s=Pn(r,n);s.tag=2,t!=null&&(s.callback=t),t=js(e,s,n),t!==null&&(qr(t,e,n,r),qc(t,e,n))}};function wy(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!gl(r,n)||!gl(s,i):!0}function Rb(e,t,r){var n=!1,s=Os,i=t.contextType;return typeof i=="object"&&i!==null?i=Ar(i):(s=or(t)?bi:Ut.current,n=t.contextTypes,i=(n=n!=null)?Ko(e,s):Os),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function by(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bd.enqueueReplaceState(t,t.state,null)}function am(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},eg(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ar(i):(i=or(t)?bi:Ut.current,s.context=Ko(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(om(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bd.enqueueReplaceState(s,s.state,null),wu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zo(e,t){try{var r="",n=t;do r+=LE(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Gf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var uP=typeof WeakMap=="function"?WeakMap:Map;function Ob(e,t,r){r=Pn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ku||(ku=!0,ym=n),lm(e,t)},r}function Ab(e,t,r){r=Pn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lm(e,t),typeof n!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function _y(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new uP;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=SP.bind(null,e,t,r),t.then(e,e))}function jy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sy(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pn(-1,1),t.tag=2,js(r,t,1))),r.lanes|=1),e)}var dP=Bn.ReactCurrentOwner,sr=!1;function Wt(e,t,r,n){t.child=e===null?lb(t,null,r,n):Qo(t,e.child,r,n)}function ky(e,t,r,n,s){r=r.render;var i=t.ref;return ko(t,s),n=ig(e,t,r,n,i,s),r=og(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mn(e,t,s)):(Xe&&r&&Kp(t),t.flags|=1,Wt(e,t,n,s),t.child)}function Cy(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!gg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ib(e,t,i,n,s)):(e=Zc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:gl,r(o,n)&&e.ref===t.ref)return Mn(e,t,s)}return t.flags|=1,e=Cs(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ib(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(gl(i,n)&&e.ref===t.ref)if(sr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(sr=!0);else return t.lanes=e.lanes,Mn(e,t,s)}return cm(e,t,r,n,s)}function Mb(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(wo,hr),hr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(wo,hr),hr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qe(wo,hr),hr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qe(wo,hr),hr|=n;return Wt(e,t,s,r),t.child}function Db(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cm(e,t,r,n,s){var i=or(r)?bi:Ut.current;return i=Ko(t,i),ko(t,s),r=ig(e,t,r,n,i,s),n=og(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mn(e,t,s)):(Xe&&n&&Kp(t),t.flags|=1,Wt(e,t,r,s),t.child)}function Ey(e,t,r,n,s){if(or(r)){var i=!0;pu(t)}else i=!1;if(ko(t,s),t.stateNode===null)Gc(e,t),Rb(t,r,n),am(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ar(u):(u=or(r)?bi:Ut.current,u=Ko(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&by(t,o,n,u),ts=!1;var m=t.memoizedState;o.state=m,wu(t,n,o,s),c=t.memoizedState,l!==n||m!==c||ir.current||ts?(typeof d=="function"&&(om(t,r,d,n),c=t.memoizedState),(l=ts||wy(t,r,l,n,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ub(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Lr(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ar(c):(c=or(r)?bi:Ut.current,c=Ko(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&by(t,o,n,c),ts=!1,m=t.memoizedState,o.state=m,wu(t,n,o,s);var w=t.memoizedState;l!==f||m!==w||ir.current||ts?(typeof y=="function"&&(om(t,r,y,n),w=t.memoizedState),(u=ts||wy(t,r,u,n,m,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return um(e,t,r,n,i,s)}function um(e,t,r,n,s,i){Db(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&fy(t,r,!1),Mn(e,t,i);n=t.stateNode,dP.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Qo(t,e.child,null,i),t.child=Qo(t,null,l,i)):Wt(e,t,l,i),t.memoizedState=n.state,s&&fy(t,r,!0),t.child}function Lb(e){var t=e.stateNode;t.pendingContext?dy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dy(e,t.context,!1),tg(e,t.containerInfo)}function Ny(e,t,r,n,s){return Go(),Qp(s),t.flags|=256,Wt(e,t,r,n),t.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function fm(e){return{baseLanes:e,cachePool:null,transitions:null}}function $b(e,t,r){var n=t.pendingProps,s=rt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qe(rt,s&1),e===null)return sm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sd(o,n,0,null),e=wi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fm(r),t.memoizedState=dm,e):cg(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return fP(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Cs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Cs(l,i):(i=wi(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?fm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=dm,n}return i=e.child,e=i.sibling,n=Cs(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function cg(e,t){return t=Sd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wc(e,t,r,n){return n!==null&&Qp(n),Qo(t,e.child,null,r),e=cg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fP(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Gf(Error(U(422))),wc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Sd({mode:"visible",children:n.children},s,0,null),i=wi(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Qo(t,e.child,null,o),t.child.memoizedState=fm(o),t.memoizedState=dm,i);if(!(t.mode&1))return wc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(U(419)),n=Gf(i,n,void 0),wc(e,t,o,n)}if(l=(o&e.childLanes)!==0,sr||l){if(n=Et,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,In(e,s),qr(n,e,s,-1))}return pg(),n=Gf(Error(U(421))),wc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kP.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vr=_s(s.nextSibling),yr=t,Xe=!0,zr=null,e!==null&&(Cr[Er++]=kn,Cr[Er++]=Cn,Cr[Er++]=_i,kn=e.id,Cn=e.overflow,_i=t),t=cg(t,n.children),t.flags|=4096,t)}function Py(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),im(e.return,t,r)}function Qf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Fb(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Wt(e,t,n.children,r),n=rt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Py(e,r,t);else if(e.tag===19)Py(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qe(rt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&bu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Qf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Qf(t,!0,r,null,i);break;case"together":Qf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Si|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=Cs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Cs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function hP(e,t,r){switch(t.tag){case 3:Lb(t),Go();break;case 5:db(t);break;case 1:or(t.type)&&pu(t);break;case 4:tg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;qe(yu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qe(rt,rt.current&1),t.flags|=128,null):r&t.child.childLanes?$b(e,t,r):(qe(rt,rt.current&1),e=Mn(e,t,r),e!==null?e.sibling:null);qe(rt,rt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Fb(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(rt,rt.current),n)break;return null;case 22:case 23:return t.lanes=0,Mb(e,t,r)}return Mn(e,t,r)}var Ub,hm,zb,Bb;Ub=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hm=function(){};zb=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,li(un.current);var i=null;switch(r){case"input":s=Mh(e,s),n=Mh(e,n),i=[];break;case"select":s=st({},s,{value:void 0}),n=st({},n,{value:void 0}),i=[];break;case"textarea":s=$h(e,s),n=$h(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hu)}Uh(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ge("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Bb=function(e,t,r,n){r!==n&&(t.flags|=4)};function Sa(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function mP(e,t,r){var n=t.pendingProps;switch(Gp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return or(t.type)&&mu(),Dt(t),null;case 3:return n=t.stateNode,Yo(),Ye(ir),Ye(Ut),ng(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zr!==null&&(bm(zr),zr=null))),hm(e,t),Dt(t),null;case 5:rg(t);var s=li(bl.current);if(r=t.type,e!==null&&t.stateNode!=null)zb(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(U(166));return Dt(t),null}if(e=li(un.current),yc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[an]=t,n[xl]=i,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(s=0;s<Da.length;s++)Ge(Da[s],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":$v(n,i),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",n);break;case"textarea":Uv(n,i),Ge("invalid",n)}Uh(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&vc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vc(n.textContent,l,e),s=["children",""+l]):cl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ge("scroll",n)}switch(r){case"input":cc(n),Fv(n,i,!0);break;case"textarea":cc(n),zv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=hu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[an]=t,e[xl]=n,Ub(e,t,!1,!1),t.stateNode=e;e:{switch(o=zh(r,n),r){case"dialog":Ge("cancel",e),Ge("close",e),s=n;break;case"iframe":case"object":case"embed":Ge("load",e),s=n;break;case"video":case"audio":for(s=0;s<Da.length;s++)Ge(Da[s],e);s=n;break;case"source":Ge("error",e),s=n;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),s=n;break;case"details":Ge("toggle",e),s=n;break;case"input":$v(e,n),s=Mh(e,n),Ge("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=st({},n,{value:void 0}),Ge("invalid",e);break;case"textarea":Uv(e,n),s=$h(e,n),Ge("invalid",e);break;default:s=n}Uh(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?xw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ul(e,c):typeof c=="number"&&ul(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ge("scroll",e):c!=null&&Ap(e,i,c,o))}switch(r){case"input":cc(e),Fv(e,n,!1);break;case"textarea":cc(e),zv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Rs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?bo(e,!!n.multiple,i,!1):n.defaultValue!=null&&bo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=hu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)Bb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(U(166));if(r=li(bl.current),li(un.current),yc(t)){if(n=t.stateNode,r=t.memoizedProps,n[an]=t,(i=n.nodeValue!==r)&&(e=yr,e!==null))switch(e.tag){case 3:vc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[an]=t,t.stateNode=n}return Dt(t),null;case 13:if(Ye(rt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&vr!==null&&t.mode&1&&!(t.flags&128))ob(),Go(),t.flags|=98560,i=!1;else if(i=yc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[an]=t}else Go(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),i=!1}else zr!==null&&(bm(zr),zr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?wt===0&&(wt=3):pg())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return Yo(),hm(e,t),e===null&&vl(t.stateNode.containerInfo),Dt(t),null;case 10:return Xp(t.type._context),Dt(t),null;case 17:return or(t.type)&&mu(),Dt(t),null;case 19:if(Ye(rt),i=t.memoizedState,i===null)return Dt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Sa(i,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bu(e),o!==null){for(t.flags|=128,Sa(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(rt,rt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ft()>Xo&&(t.flags|=128,n=!0,Sa(i,!1),t.lanes=4194304)}else{if(!n)if(e=bu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Sa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return Dt(t),null}else 2*ft()-i.renderingStartTime>Xo&&r!==1073741824&&(t.flags|=128,n=!0,Sa(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ft(),t.sibling=null,r=rt.current,qe(rt,n?r&1|2:r&1),t):(Dt(t),null);case 22:case 23:return mg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hr&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function pP(e,t){switch(Gp(t),t.tag){case 1:return or(t.type)&&mu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yo(),Ye(ir),Ye(Ut),ng(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rg(t),null;case 13:if(Ye(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Go()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(rt),null;case 4:return Yo(),null;case 10:return Xp(t.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var bc=!1,$t=!1,gP=typeof WeakSet=="function"?WeakSet:Set,J=null;function xo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lt(e,t,n)}else r.current=null}function mm(e,t,r){try{r()}catch(n){lt(e,t,n)}}var Ty=!1;function vP(e,t){if(Zh=uu,e=Kw(),Hp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===r&&++u===s&&(l=o),m===i&&++d===n&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xh={focusedElem:e,selectionRange:r},uu=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var p=w.memoizedProps,x=w.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:Lr(t.type,p),x);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(_){lt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return w=Ty,Ty=!1,w}function Ya(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mm(t,r,i)}s=s.next}while(s!==n)}}function _d(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function pm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Vb(e){var t=e.alternate;t!==null&&(e.alternate=null,Vb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[xl],delete t[tm],delete t[JN],delete t[eP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wb(e){return e.tag===5||e.tag===3||e.tag===4}function Ry(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hu));else if(n!==4&&(e=e.child,e!==null))for(gm(e,t,r),e=e.sibling;e!==null;)gm(e,t,r),e=e.sibling}function vm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vm(e,t,r),e=e.sibling;e!==null;)vm(e,t,r),e=e.sibling}var Tt=null,Fr=!1;function qn(e,t,r){for(r=r.child;r!==null;)qb(e,t,r),r=r.sibling}function qb(e,t,r){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(md,r)}catch{}switch(r.tag){case 5:$t||xo(r,t);case 6:var n=Tt,s=Fr;Tt=null,qn(e,t,r),Tt=n,Fr=s,Tt!==null&&(Fr?(e=Tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Tt.removeChild(r.stateNode));break;case 18:Tt!==null&&(Fr?(e=Tt,r=r.stateNode,e.nodeType===8?Bf(e.parentNode,r):e.nodeType===1&&Bf(e,r),ml(e)):Bf(Tt,r.stateNode));break;case 4:n=Tt,s=Fr,Tt=r.stateNode.containerInfo,Fr=!0,qn(e,t,r),Tt=n,Fr=s;break;case 0:case 11:case 14:case 15:if(!$t&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mm(r,t,o),s=s.next}while(s!==n)}qn(e,t,r);break;case 1:if(!$t&&(xo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){lt(r,t,l)}qn(e,t,r);break;case 21:qn(e,t,r);break;case 22:r.mode&1?($t=(n=$t)||r.memoizedState!==null,qn(e,t,r),$t=n):qn(e,t,r);break;default:qn(e,t,r)}}function Oy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gP),t.forEach(function(n){var s=CP.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Mr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Tt=l.stateNode,Fr=!1;break e;case 3:Tt=l.stateNode.containerInfo,Fr=!0;break e;case 4:Tt=l.stateNode.containerInfo,Fr=!0;break e}l=l.return}if(Tt===null)throw Error(U(160));qb(i,o,s),Tt=null,Fr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){lt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hb(t,e),t=t.sibling}function Hb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mr(t,e),Zr(e),n&4){try{Ya(3,e,e.return),_d(3,e)}catch(p){lt(e,e.return,p)}try{Ya(5,e,e.return)}catch(p){lt(e,e.return,p)}}break;case 1:Mr(t,e),Zr(e),n&512&&r!==null&&xo(r,r.return);break;case 5:if(Mr(t,e),Zr(e),n&512&&r!==null&&xo(r,r.return),e.flags&32){var s=e.stateNode;try{ul(s,"")}catch(p){lt(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mw(s,i),zh(l,o);var u=zh(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?xw(s,f):d==="dangerouslySetInnerHTML"?vw(s,f):d==="children"?ul(s,f):Ap(s,d,f,u)}switch(l){case"input":Dh(s,i);break;case"textarea":pw(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?bo(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?bo(s,!!i.multiple,i.defaultValue,!0):bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[xl]=i}catch(p){lt(e,e.return,p)}}break;case 6:if(Mr(t,e),Zr(e),n&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){lt(e,e.return,p)}}break;case 3:if(Mr(t,e),Zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ml(t.containerInfo)}catch(p){lt(e,e.return,p)}break;case 4:Mr(t,e),Zr(e);break;case 13:Mr(t,e),Zr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fg=ft())),n&4&&Oy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?($t=(u=$t)||d,Mr(t,e),$t=u):Mr(t,e),Zr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(f=J=d;J!==null;){switch(m=J,y=m.child,m.tag){case 0:case 11:case 14:case 15:Ya(4,m,m.return);break;case 1:xo(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(p){lt(n,r,p)}}break;case 5:xo(m,m.return);break;case 22:if(m.memoizedState!==null){Iy(f);continue}}y!==null?(y.return=m,J=y):Iy(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yw("display",o))}catch(p){lt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){lt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mr(t,e),Zr(e),n&4&&Oy(e);break;case 21:break;default:Mr(t,e),Zr(e)}}function Zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Wb(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ul(s,""),n.flags&=-33);var i=Ry(e);vm(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ry(e);gm(e,l,o);break;default:throw Error(U(161))}}catch(c){lt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yP(e,t,r){J=e,Kb(e)}function Kb(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||bc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||$t;l=bc;var u=$t;if(bc=o,($t=c)&&!u)for(J=s;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?My(s):c!==null?(c.return=o,J=c):My(s);for(;i!==null;)J=i,Kb(i),i=i.sibling;J=s,bc=l,$t=u}Ay(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):Ay(e)}}function Ay(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||_d(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$t)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Lr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vy(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}vy(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ml(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}$t||t.flags&512&&pm(t)}catch(m){lt(t,t.return,m)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function Iy(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function My(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_d(4,t)}catch(c){lt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){lt(t,s,c)}}var i=t.return;try{pm(t)}catch(c){lt(t,i,c)}break;case 5:var o=t.return;try{pm(t)}catch(c){lt(t,o,c)}}}catch(c){lt(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var xP=Math.ceil,Su=Bn.ReactCurrentDispatcher,ug=Bn.ReactCurrentOwner,Pr=Bn.ReactCurrentBatchConfig,Te=0,Et=null,pt=null,Rt=0,hr=0,wo=Bs(0),wt=0,kl=null,Si=0,jd=0,dg=0,Za=null,rr=null,fg=0,Xo=1/0,bn=null,ku=!1,ym=null,Ss=null,_c=!1,vs=null,Cu=0,Xa=0,xm=null,Qc=-1,Yc=0;function Ht(){return Te&6?ft():Qc!==-1?Qc:Qc=ft()}function ks(e){return e.mode&1?Te&2&&Rt!==0?Rt&-Rt:rP.transition!==null?(Yc===0&&(Yc=Rw()),Yc):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:$w(e.type)),e):1}function qr(e,t,r,n){if(50<Xa)throw Xa=0,xm=null,Error(U(185));Kl(e,r,n),(!(Te&2)||e!==Et)&&(e===Et&&(!(Te&2)&&(jd|=r),wt===4&&ss(e,Rt)),ar(e,n),r===1&&Te===0&&!(t.mode&1)&&(Xo=ft()+500,xd&&Vs()))}function ar(e,t){var r=e.callbackNode;rN(e,t);var n=cu(e,e===Et?Rt:0);if(n===0)r!==null&&Wv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Wv(r),t===1)e.tag===0?tP(Dy.bind(null,e)):nb(Dy.bind(null,e)),ZN(function(){!(Te&6)&&Vs()}),r=null;else{switch(Ow(n)){case 1:r=$p;break;case 4:r=Pw;break;case 16:r=lu;break;case 536870912:r=Tw;break;default:r=lu}r=t_(r,Gb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Gb(e,t){if(Qc=-1,Yc=0,Te&6)throw Error(U(327));var r=e.callbackNode;if(Co()&&e.callbackNode!==r)return null;var n=cu(e,e===Et?Rt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Eu(e,n);else{t=n;var s=Te;Te|=2;var i=Yb();(Et!==e||Rt!==t)&&(bn=null,Xo=ft()+500,xi(e,t));do try{_P();break}catch(l){Qb(e,l)}while(!0);Zp(),Su.current=i,Te=s,pt!==null?t=0:(Et=null,Rt=0,t=wt)}if(t!==0){if(t===2&&(s=Hh(e),s!==0&&(n=s,t=wm(e,s))),t===1)throw r=kl,xi(e,0),ss(e,n),ar(e,ft()),r;if(t===6)ss(e,n);else{if(s=e.current.alternate,!(n&30)&&!wP(s)&&(t=Eu(e,n),t===2&&(i=Hh(e),i!==0&&(n=i,t=wm(e,i))),t===1))throw r=kl,xi(e,0),ss(e,n),ar(e,ft()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(U(345));case 2:ti(e,rr,bn);break;case 3:if(ss(e,n),(n&130023424)===n&&(t=fg+500-ft(),10<t)){if(cu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ht(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=em(ti.bind(null,e,rr,bn),t);break}ti(e,rr,bn);break;case 4:if(ss(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Wr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xP(n/1960))-n,10<n){e.timeoutHandle=em(ti.bind(null,e,rr,bn),n);break}ti(e,rr,bn);break;case 5:ti(e,rr,bn);break;default:throw Error(U(329))}}}return ar(e,ft()),e.callbackNode===r?Gb.bind(null,e):null}function wm(e,t){var r=Za;return e.current.memoizedState.isDehydrated&&(xi(e,t).flags|=256),e=Eu(e,t),e!==2&&(t=rr,rr=r,t!==null&&bm(t)),e}function bm(e){rr===null?rr=e:rr.push.apply(rr,e)}function wP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Kr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ss(e,t){for(t&=~dg,t&=~jd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wr(t),n=1<<r;e[r]=-1,t&=~n}}function Dy(e){if(Te&6)throw Error(U(327));Co();var t=cu(e,0);if(!(t&1))return ar(e,ft()),null;var r=Eu(e,t);if(e.tag!==0&&r===2){var n=Hh(e);n!==0&&(t=n,r=wm(e,n))}if(r===1)throw r=kl,xi(e,0),ss(e,t),ar(e,ft()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ti(e,rr,bn),ar(e,ft()),null}function hg(e,t){var r=Te;Te|=1;try{return e(t)}finally{Te=r,Te===0&&(Xo=ft()+500,xd&&Vs())}}function ki(e){vs!==null&&vs.tag===0&&!(Te&6)&&Co();var t=Te;Te|=1;var r=Pr.transition,n=Fe;try{if(Pr.transition=null,Fe=1,e)return e()}finally{Fe=n,Pr.transition=r,Te=t,!(Te&6)&&Vs()}}function mg(){hr=wo.current,Ye(wo)}function xi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,YN(r)),pt!==null)for(r=pt.return;r!==null;){var n=r;switch(Gp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mu();break;case 3:Yo(),Ye(ir),Ye(Ut),ng();break;case 5:rg(n);break;case 4:Yo();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:Xp(n.type._context);break;case 22:case 23:mg()}r=r.return}if(Et=e,pt=e=Cs(e.current,null),Rt=hr=t,wt=0,kl=null,dg=jd=Si=0,rr=Za=null,ai!==null){for(t=0;t<ai.length;t++)if(r=ai[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ai=null}return e}function Qb(e,t){do{var r=pt;try{if(Zp(),Hc.current=ju,_u){for(var n=nt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}_u=!1}if(ji=0,Ct=yt=nt=null,Qa=!1,_l=0,ug.current=null,r===null||r.return===null){wt=1,kl=t,pt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=jy(o);if(y!==null){y.flags&=-257,Sy(y,o,l,i,t),y.mode&1&&_y(i,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var p=new Set;p.add(c),t.updateQueue=p}else w.add(c);break e}else{if(!(t&1)){_y(i,u,t),pg();break e}c=Error(U(426))}}else if(Xe&&l.mode&1){var x=jy(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Sy(x,o,l,i,t),Qp(Zo(c,l));break e}}i=c=Zo(c,l),wt!==4&&(wt=2),Za===null?Za=[i]:Za.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Ob(i,c,t);gy(i,v);break e;case 1:l=c;var g=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ss===null||!Ss.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Ab(i,l,t);gy(i,_);break e}}i=i.return}while(i!==null)}Xb(r)}catch(j){t=j,pt===r&&r!==null&&(pt=r=r.return);continue}break}while(!0)}function Yb(){var e=Su.current;return Su.current=ju,e===null?ju:e}function pg(){(wt===0||wt===3||wt===2)&&(wt=4),Et===null||!(Si&268435455)&&!(jd&268435455)||ss(Et,Rt)}function Eu(e,t){var r=Te;Te|=2;var n=Yb();(Et!==e||Rt!==t)&&(bn=null,xi(e,t));do try{bP();break}catch(s){Qb(e,s)}while(!0);if(Zp(),Te=r,Su.current=n,pt!==null)throw Error(U(261));return Et=null,Rt=0,wt}function bP(){for(;pt!==null;)Zb(pt)}function _P(){for(;pt!==null&&!KE();)Zb(pt)}function Zb(e){var t=e_(e.alternate,e,hr);e.memoizedProps=e.pendingProps,t===null?Xb(e):pt=t,ug.current=null}function Xb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pP(r,t),r!==null){r.flags&=32767,pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,pt=null;return}}else if(r=mP(r,t,hr),r!==null){pt=r;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);wt===0&&(wt=5)}function ti(e,t,r){var n=Fe,s=Pr.transition;try{Pr.transition=null,Fe=1,jP(e,t,r,n)}finally{Pr.transition=s,Fe=n}return null}function jP(e,t,r,n){do Co();while(vs!==null);if(Te&6)throw Error(U(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(nN(e,i),e===Et&&(pt=Et=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_c||(_c=!0,t_(lu,function(){return Co(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Pr.transition,Pr.transition=null;var o=Fe;Fe=1;var l=Te;Te|=4,ug.current=null,vP(e,r),Hb(r,e),VN(Xh),uu=!!Zh,Xh=Zh=null,e.current=r,yP(r),GE(),Te=l,Fe=o,Pr.transition=i}else e.current=r;if(_c&&(_c=!1,vs=e,Cu=s),i=e.pendingLanes,i===0&&(Ss=null),ZE(r.stateNode),ar(e,ft()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ku)throw ku=!1,e=ym,ym=null,e;return Cu&1&&e.tag!==0&&Co(),i=e.pendingLanes,i&1?e===xm?Xa++:(Xa=0,xm=e):Xa=0,Vs(),null}function Co(){if(vs!==null){var e=Ow(Cu),t=Pr.transition,r=Fe;try{if(Pr.transition=null,Fe=16>e?16:e,vs===null)var n=!1;else{if(e=vs,vs=null,Cu=0,Te&6)throw Error(U(331));var s=Te;for(Te|=4,J=e.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Ya(8,d,i)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var m=d.sibling,y=d.return;if(Vb(d),d===u){J=null;break}if(m!==null){m.return=y,J=m;break}J=y}}}var w=i.alternate;if(w!==null){var p=w.child;if(p!==null){w.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ya(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,J=v;break e}J=i.return}}var g=e.current;for(J=g;J!==null;){o=J;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,J=b;else e:for(o=g;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_d(9,l)}}catch(j){lt(l,l.return,j)}if(l===o){J=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,J=_;break e}J=l.return}}if(Te=s,Vs(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(md,e)}catch{}n=!0}return n}finally{Fe=r,Pr.transition=t}}return!1}function Ly(e,t,r){t=Zo(r,t),t=Ob(e,t,1),e=js(e,t,1),t=Ht(),e!==null&&(Kl(e,1,t),ar(e,t))}function lt(e,t,r){if(e.tag===3)Ly(e,e,r);else for(;t!==null;){if(t.tag===3){Ly(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ss===null||!Ss.has(n))){e=Zo(r,e),e=Ab(t,e,1),t=js(t,e,1),e=Ht(),t!==null&&(Kl(t,1,e),ar(t,e));break}}t=t.return}}function SP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&r,Et===e&&(Rt&r)===r&&(wt===4||wt===3&&(Rt&130023424)===Rt&&500>ft()-fg?xi(e,0):dg|=r),ar(e,t)}function Jb(e,t){t===0&&(e.mode&1?(t=fc,fc<<=1,!(fc&130023424)&&(fc=4194304)):t=1);var r=Ht();e=In(e,t),e!==null&&(Kl(e,t,r),ar(e,r))}function kP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Jb(e,r)}function CP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(t),Jb(e,r)}var e_;e_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ir.current)sr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return sr=!1,hP(e,t,r);sr=!!(e.flags&131072)}else sr=!1,Xe&&t.flags&1048576&&sb(t,vu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gc(e,t),e=t.pendingProps;var s=Ko(t,Ut.current);ko(t,r),s=ig(null,t,n,e,s,r);var i=og();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,or(n)?(i=!0,pu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,eg(t),s.updater=bd,t.stateNode=s,s._reactInternals=t,am(t,n,e,r),t=um(null,t,n,!0,i,r)):(t.tag=0,Xe&&i&&Kp(t),Wt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=NP(n),e=Lr(n,e),s){case 0:t=cm(null,t,n,e,r);break e;case 1:t=Ey(null,t,n,e,r);break e;case 11:t=ky(null,t,n,e,r);break e;case 14:t=Cy(null,t,n,Lr(n.type,e),r);break e}throw Error(U(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Lr(n,s),cm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Lr(n,s),Ey(e,t,n,s,r);case 3:e:{if(Lb(t),e===null)throw Error(U(387));n=t.pendingProps,i=t.memoizedState,s=i.element,ub(e,t),wu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Zo(Error(U(423)),t),t=Ny(e,t,n,r,s);break e}else if(n!==s){s=Zo(Error(U(424)),t),t=Ny(e,t,n,r,s);break e}else for(vr=_s(t.stateNode.containerInfo.firstChild),yr=t,Xe=!0,zr=null,r=lb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Go(),n===s){t=Mn(e,t,r);break e}Wt(e,t,n,r)}t=t.child}return t;case 5:return db(t),e===null&&sm(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Jh(n,s)?o=null:i!==null&&Jh(n,i)&&(t.flags|=32),Db(e,t),Wt(e,t,o,r),t.child;case 6:return e===null&&sm(t),null;case 13:return $b(e,t,r);case 4:return tg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qo(t,null,n,r):Wt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Lr(n,s),ky(e,t,n,s,r);case 7:return Wt(e,t,t.pendingProps,r),t.child;case 8:return Wt(e,t,t.pendingProps.children,r),t.child;case 12:return Wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,qe(yu,n._currentValue),n._currentValue=o,i!==null)if(Kr(i.value,o)){if(i.children===s.children&&!ir.current){t=Mn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Pn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),im(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),im(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Wt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ko(t,r),s=Ar(s),n=n(s),t.flags|=1,Wt(e,t,n,r),t.child;case 14:return n=t.type,s=Lr(n,t.pendingProps),s=Lr(n.type,s),Cy(e,t,n,s,r);case 15:return Ib(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Lr(n,s),Gc(e,t),t.tag=1,or(n)?(e=!0,pu(t)):e=!1,ko(t,r),Rb(t,n,s),am(t,n,s,r),um(null,t,n,!0,e,r);case 19:return Fb(e,t,r);case 22:return Mb(e,t,r)}throw Error(U(156,t.tag))};function t_(e,t){return Nw(e,t)}function EP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(e,t,r,n){return new EP(e,t,r,n)}function gg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NP(e){if(typeof e=="function")return gg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mp)return 11;if(e===Dp)return 14}return 2}function Cs(e,t){var r=e.alternate;return r===null?(r=Nr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")gg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case co:return wi(r.children,s,i,t);case Ip:o=8,s|=8;break;case Rh:return e=Nr(12,r,t,s|2),e.elementType=Rh,e.lanes=i,e;case Oh:return e=Nr(13,r,t,s),e.elementType=Oh,e.lanes=i,e;case Ah:return e=Nr(19,r,t,s),e.elementType=Ah,e.lanes=i,e;case dw:return Sd(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cw:o=10;break e;case uw:o=9;break e;case Mp:o=11;break e;case Dp:o=14;break e;case es:o=16,n=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Nr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function wi(e,t,r,n){return e=Nr(7,e,n,t),e.lanes=r,e}function Sd(e,t,r,n){return e=Nr(22,e,n,t),e.elementType=dw,e.lanes=r,e.stateNode={isHidden:!1},e}function Yf(e,t,r){return e=Nr(6,e,null,t),e.lanes=r,e}function Zf(e,t,r){return t=Nr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PP(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vg(e,t,r,n,s,i,o,l,c){return e=new PP(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Nr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},eg(i),e}function TP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function r_(e){if(!e)return Os;e=e._reactInternals;e:{if($i(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(or(r))return rb(e,r,t)}return t}function n_(e,t,r,n,s,i,o,l,c){return e=vg(r,n,!0,e,s,i,o,l,c),e.context=r_(null),r=e.current,n=Ht(),s=ks(r),i=Pn(n,s),i.callback=t??null,js(r,i,s),e.current.lanes=s,Kl(e,s,n),ar(e,n),e}function kd(e,t,r,n){var s=t.current,i=Ht(),o=ks(s);return r=r_(r),t.context===null?t.context=r:t.pendingContext=r,t=Pn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=js(s,t,o),e!==null&&(qr(e,s,o,i),qc(e,s,o)),o}function Nu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $y(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yg(e,t){$y(e,t),(e=e.alternate)&&$y(e,t)}function RP(){return null}var s_=typeof reportError=="function"?reportError:function(e){console.error(e)};function xg(e){this._internalRoot=e}Cd.prototype.render=xg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));kd(e,t,null,null)};Cd.prototype.unmount=xg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ki(function(){kd(null,e,null,null)}),t[An]=null}};function Cd(e){this._internalRoot=e}Cd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ns.length&&t!==0&&t<ns[r].priority;r++);ns.splice(r,0,e),r===0&&Lw(e)}};function wg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fy(){}function OP(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Nu(o);i.call(u)}}var o=n_(t,n,e,0,null,!1,!1,"",Fy);return e._reactRootContainer=o,e[An]=o.current,vl(e.nodeType===8?e.parentNode:e),ki(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Nu(c);l.call(u)}}var c=vg(e,0,!1,null,null,!1,!1,"",Fy);return e._reactRootContainer=c,e[An]=c.current,vl(e.nodeType===8?e.parentNode:e),ki(function(){kd(t,c,r,n)}),c}function Nd(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Nu(o);l.call(c)}}kd(t,o,e,s)}else o=OP(r,t,e,s,n);return Nu(o)}Aw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ma(t.pendingLanes);r!==0&&(Fp(t,r|1),ar(t,ft()),!(Te&6)&&(Xo=ft()+500,Vs()))}break;case 13:ki(function(){var n=In(e,1);if(n!==null){var s=Ht();qr(n,e,1,s)}}),yg(e,1)}};Up=function(e){if(e.tag===13){var t=In(e,134217728);if(t!==null){var r=Ht();qr(t,e,134217728,r)}yg(e,134217728)}};Iw=function(e){if(e.tag===13){var t=ks(e),r=In(e,t);if(r!==null){var n=Ht();qr(r,e,t,n)}yg(e,t)}};Mw=function(){return Fe};Dw=function(e,t){var r=Fe;try{return Fe=e,t()}finally{Fe=r}};Vh=function(e,t,r){switch(t){case"input":if(Dh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=yd(n);if(!s)throw Error(U(90));hw(n),Dh(n,s)}}}break;case"textarea":pw(e,r);break;case"select":t=r.value,t!=null&&bo(e,!!r.multiple,t,!1)}};_w=hg;jw=ki;var AP={usingClientEntryPoint:!1,Events:[Ql,mo,yd,ww,bw,hg]},ka={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IP={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cw(e),e===null?null:e.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||RP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{md=jc.inject(IP),cn=jc}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AP;br.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wg(t))throw Error(U(200));return TP(e,t,null,r)};br.createRoot=function(e,t){if(!wg(e))throw Error(U(299));var r=!1,n="",s=s_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=vg(e,1,!1,null,null,r,!1,n,s),e[An]=t.current,vl(e.nodeType===8?e.parentNode:e),new xg(t)};br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Cw(t),e=e===null?null:e.stateNode,e};br.flushSync=function(e){return ki(e)};br.hydrate=function(e,t,r){if(!Ed(t))throw Error(U(200));return Nd(null,e,t,!0,r)};br.hydrateRoot=function(e,t,r){if(!wg(e))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=s_;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=n_(t,null,e,1,r??null,s,!1,i,o),e[An]=t.current,vl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Cd(t)};br.render=function(e,t,r){if(!Ed(t))throw Error(U(200));return Nd(null,e,t,!1,r)};br.unmountComponentAtNode=function(e){if(!Ed(e))throw Error(U(40));return e._reactRootContainer?(ki(function(){Nd(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};br.unstable_batchedUpdates=hg;br.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ed(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Nd(e,t,r,!1,n)};br.version="18.3.1-next-f1338f8080-20240426";function i_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i_)}catch(e){console.error(e)}}i_(),iw.exports=br;var Ws=iw.exports;const o_=K0(Ws);var a_,Uy=Ws;a_=Uy.createRoot,Uy.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(this,arguments)}var ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ys||(ys={}));const zy="popstate";function MP(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return _m("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Pu(s)}return LP(t,r,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function l_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DP(){return Math.random().toString(36).substr(2,8)}function By(e,t){return{usr:e.state,key:e.key,idx:t}}function _m(e,t,r,n){return r===void 0&&(r=null),Cl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ca(t):t,{state:r,key:t&&t.key||n||DP()})}function Pu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ca(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function LP(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=ys.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Cl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ys.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:v})}function m(x,v){l=ys.Push;let g=_m(p.location,x,v);u=d()+1;let b=By(g,u),_=p.createHref(g);try{o.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function y(x,v){l=ys.Replace;let g=_m(p.location,x,v);u=d();let b=By(g,u),_=p.createHref(g);o.replaceState(b,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function w(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:Pu(x);return g=g.replace(/ $/,"%20"),ht(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let p={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zy,f),c=x,()=>{s.removeEventListener(zy,f),c=null}},createHref(x){return t(s,x)},createURL:w,encodeLocation(x){let v=w(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(x){return o.go(x)}};return p}var Vy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Vy||(Vy={}));function $P(e,t,r){return r===void 0&&(r="/"),FP(e,t,r,!1)}function FP(e,t,r,n){let s=typeof t=="string"?ca(t):t,i=bg(s.pathname||"/",r);if(i==null)return null;let o=c_(e);UP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ZP(i);l=QP(o[c],u,n)}return l}function c_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ht(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Es([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),c_(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:KP(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of u_(i.path))s(i,o,c)}),t}function u_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=u_(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function UP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:GP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zP=/^:[\w-]+$/,BP=3,VP=2,WP=1,qP=10,HP=-2,Wy=e=>e==="*";function KP(e,t){let r=e.split("/"),n=r.length;return r.some(Wy)&&(n+=HP),t&&(n+=VP),r.filter(s=>!Wy(s)).reduce((s,i)=>s+(zP.test(i)?BP:i===""?WP:qP),n)}function GP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function QP(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=qy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=qy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Es([i,f.pathname]),pathnameBase:tT(Es([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Es([i,f.pathnameBase]))}return o}function qy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=YP(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:y}=d;if(m==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const w=l[f];return y&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function YP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),l_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function ZP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return l_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function XP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ca(e):e;return{pathname:r?r.startsWith("/")?r:JP(r,t):t,search:rT(n),hash:nT(s)}}function JP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Xf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _g(e,t){let r=eT(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ca(e):(s=Cl({},e),ht(!s.pathname||!s.pathname.includes("?"),Xf("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Xf("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Xf("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=XP(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Es=e=>e.join("/").replace(/\/\/+/g,"/"),tT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const d_=["post","put","patch","delete"];new Set(d_);const iT=["get",...d_];new Set(iT);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},El.apply(this,arguments)}const Sg=h.createContext(null),oT=h.createContext(null),qs=h.createContext(null),Pd=h.createContext(null),Hs=h.createContext({outlet:null,matches:[],isDataRoute:!1}),f_=h.createContext(null);function aT(e,t){let{relative:r}=t===void 0?{}:t;ua()||ht(!1);let{basename:n,navigator:s}=h.useContext(qs),{hash:i,pathname:o,search:l}=m_(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Es([n,o])),s.createHref({pathname:c,search:l,hash:i})}function ua(){return h.useContext(Pd)!=null}function Vn(){return ua()||ht(!1),h.useContext(Pd).location}function h_(e){h.useContext(qs).static||h.useLayoutEffect(e)}function Fi(){let{isDataRoute:e}=h.useContext(Hs);return e?wT():lT()}function lT(){ua()||ht(!1);let e=h.useContext(Sg),{basename:t,future:r,navigator:n}=h.useContext(qs),{matches:s}=h.useContext(Hs),{pathname:i}=Vn(),o=JSON.stringify(_g(s,r.v7_relativeSplatPath)),l=h.useRef(!1);return h_(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=jg(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Es([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function m_(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(qs),{matches:s}=h.useContext(Hs),{pathname:i}=Vn(),o=JSON.stringify(_g(s,n.v7_relativeSplatPath));return h.useMemo(()=>jg(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function cT(e,t){return uT(e,t)}function uT(e,t,r,n){ua()||ht(!1);let{navigator:s}=h.useContext(qs),{matches:i}=h.useContext(Hs),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Vn(),d;if(t){var f;let x=typeof t=="string"?ca(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||ht(!1),d=x}else d=u;let m=d.pathname||"/",y=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=$P(e,{pathname:y}),p=pT(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Es([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Es([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&p?h.createElement(Pd.Provider,{value:{location:El({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ys.Pop}},p):p}function dT(){let e=xT(),t=sT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const fT=h.createElement(dT,null);class hT extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Hs.Provider,{value:this.props.routeContext},h.createElement(f_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mT(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(Sg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Hs.Provider,{value:t},n)}function pT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:y}=r,w=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let y,w=!1,p=null,x=null;r&&(y=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||fT,c&&(u<0&&m===0?(w=!0,x=null):u===m&&(w=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,m+1)),g=()=>{let b;return y?b=p:w?b=x:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,h.createElement(mT,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(hT,{location:r.location,revalidation:r.revalidation,component:p,error:y,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var p_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(p_||{}),Tu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tu||{});function gT(e){let t=h.useContext(Sg);return t||ht(!1),t}function vT(e){let t=h.useContext(oT);return t||ht(!1),t}function yT(e){let t=h.useContext(Hs);return t||ht(!1),t}function g_(e){let t=yT(),r=t.matches[t.matches.length-1];return r.route.id||ht(!1),r.route.id}function xT(){var e;let t=h.useContext(f_),r=vT(Tu.UseRouteError),n=g_(Tu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function wT(){let{router:e}=gT(p_.UseNavigateStable),t=g_(Tu.UseNavigateStable),r=h.useRef(!1);return h_(()=>{r.current=!0}),h.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,El({fromRouteId:t},i)))},[e,t])}function Hy(e){let{to:t,replace:r,state:n,relative:s}=e;ua()||ht(!1);let{future:i,static:o}=h.useContext(qs),{matches:l}=h.useContext(Hs),{pathname:c}=Vn(),u=Fi(),d=jg(t,_g(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function ur(e){ht(!1)}function bT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ys.Pop,navigator:i,static:o=!1,future:l}=e;ua()&&ht(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:i,static:o,future:El({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=ca(n));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:w="default"}=n,p=h.useMemo(()=>{let x=bg(d,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:y,key:w},navigationType:s}},[c,d,f,m,y,w,s]);return p==null?null:h.createElement(qs.Provider,{value:u},h.createElement(Pd.Provider,{children:r,value:p}))}function _T(e){let{children:t,location:r}=e;return cT(jm(t),r)}new Promise(()=>{});function jm(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let i=[...t,s];if(n.type===h.Fragment){r.push.apply(r,jm(n.props.children,i));return}n.type!==ur&&ht(!1),!n.props.index||!n.props.children||ht(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=jm(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sm.apply(this,arguments)}function jT(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ST(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kT(e,t){return e.button===0&&(!t||t==="_self")&&!ST(e)}const CT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ET="6";try{window.__reactRouterVersion=ET}catch{}const NT="startTransition",Ky=hd[NT];function PT(e){let{basename:t,children:r,future:n,window:s}=e,i=h.useRef();i.current==null&&(i.current=MP({window:s,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&Ky?Ky(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>o.listen(d),[o,d]),h.createElement(bT,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const TT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ci=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=jT(t,CT),{basename:y}=h.useContext(qs),w,p=!1;if(typeof u=="string"&&RT.test(u)&&(w=u,TT))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=bg(_.pathname,y);_.origin===b.origin&&j!=null?u=j+_.search+_.hash:p=!0}catch{}let x=aT(u,{relative:s}),v=OT(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(b){n&&n(b),b.defaultPrevented||v(b)}return h.createElement("a",Sm({},m,{href:w||x,onClick:p||i?n:g,ref:r,target:c}))});var Gy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gy||(Gy={}));var Qy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qy||(Qy={}));function OT(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Fi(),u=Vn(),d=m_(e,{relative:o});return h.useCallback(f=>{if(kT(f,r)){f.preventDefault();let m=n!==void 0?n:Pu(u)===Pu(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}var da=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ci=typeof window>"u"||"Deno"in globalThis;function Sr(){}function AT(e,t){return typeof e=="function"?e(t):e}function km(e){return typeof e=="number"&&e>=0&&e!==1/0}function v_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Eo(e,t){return typeof e=="function"?e(t):e}function Br(e,t){return typeof e=="function"?e(t):e}function Yy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==kg(o,t.options))return!1}else if(!Nl(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Zy(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ei(t.options.mutationKey)!==Ei(i))return!1}else if(!Nl(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function kg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ei)(e)}function Ei(e){return JSON.stringify(e,(t,r)=>Cm(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Nl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Nl(e[r],t[r])):!1}function y_(e,t){if(e===t)return e;const r=Xy(e)&&Xy(t);if(r||Cm(e)&&Cm(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=y_(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function Ru(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Xy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cm(e){if(!Jy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Jy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Jy(e){return Object.prototype.toString.call(e)==="[object Object]"}function IT(e){return new Promise(t=>{setTimeout(t,e)})}function Em(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?y_(e,t):t}function MT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function DT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Cg=Symbol();function x_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Cg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var fi,as,Ao,L0,LT=(L0=class extends da{constructor(){super();oe(this,fi);oe(this,as);oe(this,Ao);Z(this,Ao,t=>{if(!Ci&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,as)||this.setEventListener(C(this,Ao))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,as))==null||t.call(this),Z(this,as,void 0))}setEventListener(t){var r;Z(this,Ao,t),(r=C(this,as))==null||r.call(this),Z(this,as,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,fi)!==t&&(Z(this,fi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,fi)=="boolean"?C(this,fi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fi=new WeakMap,as=new WeakMap,Ao=new WeakMap,L0),Eg=new LT,Io,ls,Mo,$0,$T=($0=class extends da{constructor(){super();oe(this,Io,!0);oe(this,ls);oe(this,Mo);Z(this,Mo,t=>{if(!Ci&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,ls)||this.setEventListener(C(this,Mo))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,ls))==null||t.call(this),Z(this,ls,void 0))}setEventListener(t){var r;Z(this,Mo,t),(r=C(this,ls))==null||r.call(this),Z(this,ls,t(this.setOnline.bind(this)))}setOnline(t){C(this,Io)!==t&&(Z(this,Io,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,Io)}},Io=new WeakMap,ls=new WeakMap,Mo=new WeakMap,$0),Ou=new $T;function Nm(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function FT(e){return Math.min(1e3*2**e,3e4)}function w_(e){return(e??"online")==="online"?Ou.isOnline():!0}var b_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Jf(e){return e instanceof b_}function __(e){let t=!1,r=0,n=!1,s;const i=Nm(),o=p=>{var x;n||(m(new b_(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Eg.isFocused()&&(e.networkMode==="always"||Ou.isOnline())&&e.canRun(),d=()=>w_(e.networkMode)&&e.canRun(),f=p=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),i.resolve(p))},m=p=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),i.reject(p))},y=()=>new Promise(p=>{var x;s=v=>{(n||u())&&p(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,n||(p=e.onContinue)==null||p.call(e)}),w=()=>{if(n)return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(f).catch(v=>{var k;if(n)return;const g=e.retry??(Ci?0:3),b=e.retryDelay??FT,_=typeof b=="function"?b(r,v):b,j=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,v);if(t||!j){m(v);return}r++,(k=e.onFail)==null||k.call(e,r,v),IT(_).then(()=>u()?void 0:y()).then(()=>{t?m(v):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():y().then(w),i)}}function UT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var xt=UT(),hi,F0,j_=(F0=class{constructor(){oe(this,hi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),km(this.gcTime)&&Z(this,hi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ci?1/0:5*60*1e3))}clearGcTimeout(){C(this,hi)&&(clearTimeout(C(this,hi)),Z(this,hi,void 0))}},hi=new WeakMap,F0),Do,Lo,jr,Lt,Bl,mi,$r,xn,U0,zT=(U0=class extends j_{constructor(t){super();oe(this,$r);oe(this,Do);oe(this,Lo);oe(this,jr);oe(this,Lt);oe(this,Bl);oe(this,mi);Z(this,mi,!1),Z(this,Bl,t.defaultOptions),this.setOptions(t.options),this.observers=[],Z(this,jr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Z(this,Do,BT(this.options)),this.state=t.state??C(this,Do),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Lt))==null?void 0:t.promise}setOptions(t){this.options={...C(this,Bl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,jr).remove(this)}setData(t,r){const n=Em(this.state.data,t,this.options);return ve(this,$r,xn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ve(this,$r,xn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=C(this,Lt))==null?void 0:n.promise;return(s=C(this,Lt))==null||s.cancel(t),r?r.then(Sr).catch(Sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Do))}isActive(){return this.observers.some(t=>Br(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!v_(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Lt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Lt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,jr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,Lt)&&(C(this,mi)?C(this,Lt).cancel({revert:!0}):C(this,Lt).cancelRetry()),this.scheduleGc()),C(this,jr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ve(this,$r,xn).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Lt))return C(this,Lt).continueRetry(),C(this,Lt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Z(this,mi,!0),n.signal)})},i=()=>{const f=x_(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),Z(this,mi,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),Z(this,Lo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&ve(this,$r,xn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var m,y,w,p;Jf(f)&&f.silent||ve(this,$r,xn).call(this,{type:"error",error:f}),Jf(f)||((y=(m=C(this,jr).config).onError)==null||y.call(m,f,this),(p=(w=C(this,jr).config).onSettled)==null||p.call(w,this.state.data,f,this)),this.scheduleGc()};return Z(this,Lt,__({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var m,y,w,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(y=(m=C(this,jr).config).onSuccess)==null||y.call(m,f,this),(p=(w=C(this,jr).config).onSettled)==null||p.call(w,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{ve(this,$r,xn).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{ve(this,$r,xn).call(this,{type:"pause"})},onContinue:()=>{ve(this,$r,xn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),C(this,Lt).start()}},Do=new WeakMap,Lo=new WeakMap,jr=new WeakMap,Lt=new WeakMap,Bl=new WeakMap,mi=new WeakMap,$r=new WeakSet,xn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...S_(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Jf(s)&&s.revert&&C(this,Lo)?{...C(this,Lo),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),xt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,jr).notify({query:this,type:"updated",action:t})})},U0);function S_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:w_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function BT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var rn,z0,VT=(z0=class extends da{constructor(t={}){super();oe(this,rn);this.config=t,Z(this,rn,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??kg(s,r);let o=this.get(i);return o||(o=new zT({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){C(this,rn).has(t.queryHash)||(C(this,rn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,rn).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,rn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,rn).get(t)}getAll(){return[...C(this,rn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Yy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Yy(t,n)):r}notify(t){xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rn=new WeakMap,z0),nn,Bt,pi,sn,Qn,B0,WT=(B0=class extends j_{constructor(t){super();oe(this,sn);oe(this,nn);oe(this,Bt);oe(this,pi);this.mutationId=t.mutationId,Z(this,Bt,t.mutationCache),Z(this,nn,[]),this.state=t.state||k_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,nn).includes(t)||(C(this,nn).push(t),this.clearGcTimeout(),C(this,Bt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Z(this,nn,C(this,nn).filter(r=>r!==t)),this.scheduleGc(),C(this,Bt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,nn).length||(this.state.status==="pending"?this.scheduleGc():C(this,Bt).remove(this))}continue(){var t;return((t=C(this,pi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,l,c,u,d,f,m,y,w,p,x,v,g,b,_,j,k,S;Z(this,pi,__({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,T)=>{ve(this,sn,Qn).call(this,{type:"failed",failureCount:N,error:T})},onPause:()=>{ve(this,sn,Qn).call(this,{type:"pause"})},onContinue:()=>{ve(this,sn,Qn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Bt).canRun(this)}));const r=this.state.status==="pending",n=!C(this,pi).canStart();try{if(!r){ve(this,sn,Qn).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=C(this,Bt).config).onMutate)==null?void 0:i.call(s,t,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));T!==this.state.context&&ve(this,sn,Qn).call(this,{type:"pending",context:T,variables:t,isPaused:n})}const N=await C(this,pi).start();return await((u=(c=C(this,Bt).config).onSuccess)==null?void 0:u.call(c,N,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,N,t,this.state.context)),await((y=(m=C(this,Bt).config).onSettled)==null?void 0:y.call(m,N,null,this.state.variables,this.state.context,this)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,N,null,t,this.state.context)),ve(this,sn,Qn).call(this,{type:"success",data:N}),N}catch(N){try{throw await((v=(x=C(this,Bt).config).onError)==null?void 0:v.call(x,N,t,this.state.context,this)),await((b=(g=this.options).onError)==null?void 0:b.call(g,N,t,this.state.context)),await((j=(_=C(this,Bt).config).onSettled)==null?void 0:j.call(_,void 0,N,this.state.variables,this.state.context,this)),await((S=(k=this.options).onSettled)==null?void 0:S.call(k,void 0,N,t,this.state.context)),N}finally{ve(this,sn,Qn).call(this,{type:"error",error:N})}}finally{C(this,Bt).runNext(this)}}},nn=new WeakMap,Bt=new WeakMap,pi=new WeakMap,sn=new WeakSet,Qn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xt.batch(()=>{C(this,nn).forEach(n=>{n.onMutationUpdate(t)}),C(this,Bt).notify({mutation:this,type:"updated",action:t})})},B0);function k_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fr,Vl,V0,qT=(V0=class extends da{constructor(t={}){super();oe(this,fr);oe(this,Vl);this.config=t,Z(this,fr,new Map),Z(this,Vl,Date.now())}build(t,r,n){const s=new WT({mutationCache:this,mutationId:++oc(this,Vl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Sc(t),n=C(this,fr).get(r)??[];n.push(t),C(this,fr).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Sc(t);if(C(this,fr).has(r)){const s=(n=C(this,fr).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?C(this,fr).delete(r):C(this,fr).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=C(this,fr).get(Sc(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=C(this,fr).get(Sc(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...C(this,fr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Zy(r,n))}findAll(t={}){return this.getAll().filter(r=>Zy(t,r))}notify(t){xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return xt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Sr))))}},fr=new WeakMap,Vl=new WeakMap,V0);function Sc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function ex(e){return{onFetch:(t,r)=>{var d,f,m,y,w;const n=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=x_(t.options,t.fetchOptions),g=async(b,_,j)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const k={queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};x(k);const S=await v(k),{maxPages:N}=t.options,T=j?DT:MT;return{pages:T(b.pages,S,N),pageParams:T(b.pageParams,_,N)}};if(s&&i.length){const b=s==="backward",_=b?HT:tx,j={pages:i,pageParams:o},k=_(n,j);l=await g(j,k,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:tx(n,l);if(c>0&&_==null)break;l=await g(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function tx(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function HT(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var it,cs,us,$o,Fo,ds,Uo,zo,W0,KT=(W0=class{constructor(e={}){oe(this,it);oe(this,cs);oe(this,us);oe(this,$o);oe(this,Fo);oe(this,ds);oe(this,Uo);oe(this,zo);Z(this,it,e.queryCache||new VT),Z(this,cs,e.mutationCache||new qT),Z(this,us,e.defaultOptions||{}),Z(this,$o,new Map),Z(this,Fo,new Map),Z(this,ds,0)}mount(){oc(this,ds)._++,C(this,ds)===1&&(Z(this,Uo,Eg.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,it).onFocus())})),Z(this,zo,Ou.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,it).onOnline())})))}unmount(){var e,t;oc(this,ds)._--,C(this,ds)===0&&((e=C(this,Uo))==null||e.call(this),Z(this,Uo,void 0),(t=C(this,zo))==null||t.call(this),Z(this,zo,void 0))}isFetching(e){return C(this,it).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,cs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,it).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=C(this,it).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Eo(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return C(this,it).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=C(this,it).get(n.queryHash),i=s==null?void 0:s.state.data,o=AT(t,i);if(o!==void 0)return C(this,it).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return xt.batch(()=>C(this,it).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,it).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,it);xt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,it),n={type:"active",...e};return xt.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=xt.batch(()=>C(this,it).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Sr).catch(Sr)}invalidateQueries(e={},t={}){return xt.batch(()=>{if(C(this,it).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=xt.batch(()=>C(this,it).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Sr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Sr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,it).build(this,t);return r.isStaleByTime(Eo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sr).catch(Sr)}fetchInfiniteQuery(e){return e.behavior=ex(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sr).catch(Sr)}ensureInfiniteQueryData(e){return e.behavior=ex(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ou.isOnline()?C(this,cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,it)}getMutationCache(){return C(this,cs)}getDefaultOptions(){return C(this,us)}setDefaultOptions(e){Z(this,us,e)}setQueryDefaults(e,t){C(this,$o).set(Ei(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,$o).values()];let r={};return t.forEach(n=>{Nl(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){C(this,Fo).set(Ei(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Fo).values()];let r={};return t.forEach(n=>{Nl(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,us).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=kg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Cg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,us).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,it).clear(),C(this,cs).clear()}},it=new WeakMap,cs=new WeakMap,us=new WeakMap,$o=new WeakMap,Fo=new WeakMap,ds=new WeakMap,Uo=new WeakMap,zo=new WeakMap,W0),Jt,ke,Wl,Vt,gi,Bo,fs,on,ql,Vo,Wo,vi,yi,hs,qo,De,La,Pm,Tm,Rm,Om,Am,Im,Mm,C_,q0,GT=(q0=class extends da{constructor(t,r){super();oe(this,De);oe(this,Jt);oe(this,ke);oe(this,Wl);oe(this,Vt);oe(this,gi);oe(this,Bo);oe(this,fs);oe(this,on);oe(this,ql);oe(this,Vo);oe(this,Wo);oe(this,vi);oe(this,yi);oe(this,hs);oe(this,qo,new Set);this.options=r,Z(this,Jt,t),Z(this,on,null),Z(this,fs,Nm()),this.options.experimental_prefetchInRender||C(this,fs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,ke).addObserver(this),rx(C(this,ke),this.options)?ve(this,De,La).call(this):this.updateResult(),ve(this,De,Om).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dm(C(this,ke),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dm(C(this,ke),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ve(this,De,Am).call(this),ve(this,De,Im).call(this),C(this,ke).removeObserver(this)}setOptions(t,r){const n=this.options,s=C(this,ke);if(this.options=C(this,Jt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Br(this.options.enabled,C(this,ke))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ve(this,De,Mm).call(this),C(this,ke).setOptions(this.options),n._defaulted&&!Ru(this.options,n)&&C(this,Jt).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,ke),observer:this});const i=this.hasListeners();i&&nx(C(this,ke),s,this.options,n)&&ve(this,De,La).call(this),this.updateResult(r),i&&(C(this,ke)!==s||Br(this.options.enabled,C(this,ke))!==Br(n.enabled,C(this,ke))||Eo(this.options.staleTime,C(this,ke))!==Eo(n.staleTime,C(this,ke)))&&ve(this,De,Pm).call(this);const o=ve(this,De,Tm).call(this);i&&(C(this,ke)!==s||Br(this.options.enabled,C(this,ke))!==Br(n.enabled,C(this,ke))||o!==C(this,hs))&&ve(this,De,Rm).call(this,o)}getOptimisticResult(t){const r=C(this,Jt).getQueryCache().build(C(this,Jt),t),n=this.createResult(r,t);return YT(this,n)&&(Z(this,Vt,n),Z(this,Bo,this.options),Z(this,gi,C(this,ke).state)),n}getCurrentResult(){return C(this,Vt)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){C(this,qo).add(t)}getCurrentQuery(){return C(this,ke)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,Jt).defaultQueryOptions(t),n=C(this,Jt).getQueryCache().build(C(this,Jt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ve(this,De,La).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,Vt)))}createResult(t,r){var N;const n=C(this,ke),s=this.options,i=C(this,Vt),o=C(this,gi),l=C(this,Bo),u=t!==n?t.state:C(this,Wl),{state:d}=t;let f={...d},m=!1,y;if(r._optimisticResults){const T=this.hasListeners(),O=!T&&rx(t,r),F=T&&nx(t,n,r,s);(O||F)&&(f={...f,...S_(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:p,status:x}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===C(this,ql))y=C(this,Vo);else try{Z(this,ql,r.select),y=r.select(f.data),y=Em(i==null?void 0:i.data,y,r),Z(this,Vo,y),Z(this,on,null)}catch(T){Z(this,on,T)}else y=f.data;if(r.placeholderData!==void 0&&y===void 0&&x==="pending"){let T;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))T=i.data;else if(T=typeof r.placeholderData=="function"?r.placeholderData((N=C(this,Wo))==null?void 0:N.state.data,C(this,Wo)):r.placeholderData,r.select&&T!==void 0)try{T=r.select(T),Z(this,on,null)}catch(O){Z(this,on,O)}T!==void 0&&(x="success",y=Em(i==null?void 0:i.data,T,r),m=!0)}C(this,on)&&(w=C(this,on),y=C(this,Vo),p=Date.now(),x="error");const v=f.fetchStatus==="fetching",g=x==="pending",b=x==="error",_=g&&v,j=y!==void 0,S={status:x,fetchStatus:f.fetchStatus,isPending:g,isSuccess:x==="success",isError:b,isInitialLoading:_,isLoading:_,data:y,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!g,isLoadingError:b&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&j,isStale:Ng(t,r),refetch:this.refetch,promise:C(this,fs)};if(this.options.experimental_prefetchInRender){const T=P=>{S.status==="error"?P.reject(S.error):S.data!==void 0&&P.resolve(S.data)},O=()=>{const P=Z(this,fs,S.promise=Nm());T(P)},F=C(this,fs);switch(F.status){case"pending":t.queryHash===n.queryHash&&T(F);break;case"fulfilled":(S.status==="error"||S.data!==F.value)&&O();break;case"rejected":(S.status!=="error"||S.error!==F.reason)&&O();break}}return S}updateResult(t){const r=C(this,Vt),n=this.createResult(C(this,ke),this.options);if(Z(this,gi,C(this,ke).state),Z(this,Bo,this.options),C(this,gi).data!==void 0&&Z(this,Wo,C(this,ke)),Ru(n,r))return;Z(this,Vt,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!C(this,qo).size)return!0;const c=new Set(l??C(this,qo));return this.options.throwOnError&&c.add("error"),Object.keys(C(this,Vt)).some(u=>{const d=u;return C(this,Vt)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),ve(this,De,C_).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ve(this,De,Om).call(this)}},Jt=new WeakMap,ke=new WeakMap,Wl=new WeakMap,Vt=new WeakMap,gi=new WeakMap,Bo=new WeakMap,fs=new WeakMap,on=new WeakMap,ql=new WeakMap,Vo=new WeakMap,Wo=new WeakMap,vi=new WeakMap,yi=new WeakMap,hs=new WeakMap,qo=new WeakMap,De=new WeakSet,La=function(t){ve(this,De,Mm).call(this);let r=C(this,ke).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Sr)),r},Pm=function(){ve(this,De,Am).call(this);const t=Eo(this.options.staleTime,C(this,ke));if(Ci||C(this,Vt).isStale||!km(t))return;const n=v_(C(this,Vt).dataUpdatedAt,t)+1;Z(this,vi,setTimeout(()=>{C(this,Vt).isStale||this.updateResult()},n))},Tm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,ke)):this.options.refetchInterval)??!1},Rm=function(t){ve(this,De,Im).call(this),Z(this,hs,t),!(Ci||Br(this.options.enabled,C(this,ke))===!1||!km(C(this,hs))||C(this,hs)===0)&&Z(this,yi,setInterval(()=>{(this.options.refetchIntervalInBackground||Eg.isFocused())&&ve(this,De,La).call(this)},C(this,hs)))},Om=function(){ve(this,De,Pm).call(this),ve(this,De,Rm).call(this,ve(this,De,Tm).call(this))},Am=function(){C(this,vi)&&(clearTimeout(C(this,vi)),Z(this,vi,void 0))},Im=function(){C(this,yi)&&(clearInterval(C(this,yi)),Z(this,yi,void 0))},Mm=function(){const t=C(this,Jt).getQueryCache().build(C(this,Jt),this.options);if(t===C(this,ke))return;const r=C(this,ke);Z(this,ke,t),Z(this,Wl,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},C_=function(t){xt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,Vt))}),C(this,Jt).getQueryCache().notify({query:C(this,ke),type:"observerResultsUpdated"})})},q0);function QT(e,t){return Br(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function rx(e,t){return QT(e,t)||e.state.data!==void 0&&Dm(e,t,t.refetchOnMount)}function Dm(e,t,r){if(Br(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Ng(e,t)}return!1}function nx(e,t,r,n){return(e!==t||Br(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ng(e,r)}function Ng(e,t){return Br(t.enabled,e)!==!1&&e.isStaleByTime(Eo(t.staleTime,e))}function YT(e,t){return!Ru(e.getCurrentResult(),t)}var ms,ps,er,Sn,Rn,Xc,Lm,H0,ZT=(H0=class extends da{constructor(r,n){super();oe(this,Rn);oe(this,ms);oe(this,ps);oe(this,er);oe(this,Sn);Z(this,ms,r),this.setOptions(n),this.bindMethods(),ve(this,Rn,Xc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=C(this,ms).defaultMutationOptions(r),Ru(this.options,n)||C(this,ms).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,er),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ei(n.mutationKey)!==Ei(this.options.mutationKey)?this.reset():((s=C(this,er))==null?void 0:s.state.status)==="pending"&&C(this,er).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,er))==null||r.removeObserver(this)}onMutationUpdate(r){ve(this,Rn,Xc).call(this),ve(this,Rn,Lm).call(this,r)}getCurrentResult(){return C(this,ps)}reset(){var r;(r=C(this,er))==null||r.removeObserver(this),Z(this,er,void 0),ve(this,Rn,Xc).call(this),ve(this,Rn,Lm).call(this)}mutate(r,n){var s;return Z(this,Sn,n),(s=C(this,er))==null||s.removeObserver(this),Z(this,er,C(this,ms).getMutationCache().build(C(this,ms),this.options)),C(this,er).addObserver(this),C(this,er).execute(r)}},ms=new WeakMap,ps=new WeakMap,er=new WeakMap,Sn=new WeakMap,Rn=new WeakSet,Xc=function(){var n;const r=((n=C(this,er))==null?void 0:n.state)??k_();Z(this,ps,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Lm=function(r){xt.batch(()=>{var n,s,i,o,l,c,u,d;if(C(this,Sn)&&this.hasListeners()){const f=C(this,ps).variables,m=C(this,ps).context;(r==null?void 0:r.type)==="success"?((s=(n=C(this,Sn)).onSuccess)==null||s.call(n,r.data,f,m),(o=(i=C(this,Sn)).onSettled)==null||o.call(i,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=C(this,Sn)).onError)==null||c.call(l,r.error,f,m),(d=(u=C(this,Sn)).onSettled)==null||d.call(u,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(C(this,ps))})})},H0),E_=h.createContext(void 0),Ui=e=>{const t=h.useContext(E_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},XT=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(E_.Provider,{value:e,children:t})),N_=h.createContext(!1),JT=()=>h.useContext(N_);N_.Provider;function eR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var tR=h.createContext(eR()),rR=()=>h.useContext(tR);function P_(e,t){return typeof e=="function"?e(...t):!!e}function T_(){}var nR=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},sR=e=>{h.useEffect(()=>{e.clearReset()},[e])},iR=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&P_(r,[e.error,n]),oR=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},aR=(e,t)=>e.isLoading&&e.isFetching&&!t,lR=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,sx=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function cR(e,t,r){var d,f,m,y,w;const n=Ui(),s=JT(),i=rR(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",oR(o),nR(o,i),sR(i);const l=!n.getQueryCache().get(o.queryHash),[c]=h.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(h.useSyncExternalStore(h.useCallback(p=>{const x=s?()=>{}:c.subscribe(xt.batchCalls(p));return c.updateResult(),x},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),lR(o,u))throw sx(o,c,i);if(iR({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((y=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,u),o.experimental_prefetchInRender&&!Ci&&aR(u,s)){const p=l?sx(o,c,i):(w=n.getQueryCache().get(o.queryHash))==null?void 0:w.promise;p==null||p.catch(T_).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function fn(e,t){return cR(e,GT)}function ix(e,t){const r=Ui(),[n]=h.useState(()=>new ZT(r,e));h.useEffect(()=>{n.setOptions(e)},[n,e]);const s=h.useSyncExternalStore(h.useCallback(o=>n.subscribe(xt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=h.useCallback((o,l)=>{n.mutate(o,l).catch(T_)},[n]);if(s.error&&P_(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const uR={user:null,loading:!0,signOut:async()=>{}},R_=h.createContext(uR),pn=()=>h.useContext(R_),dR="modulepreload",fR=function(e){return"/stock2store/"+e},ox={},Jo=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=fR(c),c in ox)return;ox[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":dR,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},hR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jo(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Pg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class mR extends Pg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pR extends Pg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gR extends Pg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $m;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($m||($m={}));var vR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class yR{constructor(t,{headers:r={},customFetch:n,region:s=$m.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=hR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return vR(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new mR(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new pR(d);if(!d.ok)throw new gR(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield d.json():m==="application/octet-stream"?y=yield d.blob():m==="text/event-stream"?y=d:m==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var nr={},Tg={},Td={},Zl={},Rd={},Od={},xR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ea=xR();const wR=ea.fetch,O_=ea.fetch.bind(ea),A_=ea.Headers,bR=ea.Request,_R=ea.Response,fa=Object.freeze(Object.defineProperty({__proto__:null,Headers:A_,Request:bR,Response:_R,default:O_,fetch:wR},Symbol.toStringTag,{value:"Module"})),jR=cE(fa);var Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});let SR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ad.default=SR;var I_=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Od,"__esModule",{value:!0});const kR=I_(jR),CR=I_(Ad);let ER=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=kR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,y="OK")}catch{i.status===404&&p===""?(m=204,y="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&this.shouldThrowOnError)throw new CR.default(u)}return{error:u,data:d,count:f,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Od.default=ER;var NR=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rd,"__esModule",{value:!0});const PR=NR(Od);let TR=class extends PR.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Rd.default=TR;var RR=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zl,"__esModule",{value:!0});const OR=RR(Rd);let AR=class extends OR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Zl.default=AR;var IR=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Td,"__esModule",{value:!0});const Ca=IR(Zl);let MR=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ca.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ca.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ca.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ca.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ca.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Td.default=MR;var Id={},Md={};Object.defineProperty(Md,"__esModule",{value:!0});Md.version=void 0;Md.version="0.0.0-automated";Object.defineProperty(Id,"__esModule",{value:!0});Id.DEFAULT_HEADERS=void 0;const DR=Md;Id.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${DR.version}`};var M_=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tg,"__esModule",{value:!0});const LR=M_(Td),$R=M_(Zl),FR=Id;let UR=class D_{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},FR.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new LR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new D_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new $R.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Tg.default=UR;var ha=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nr,"__esModule",{value:!0});nr.PostgrestError=nr.PostgrestBuilder=nr.PostgrestTransformBuilder=nr.PostgrestFilterBuilder=nr.PostgrestQueryBuilder=nr.PostgrestClient=void 0;const L_=ha(Tg);nr.PostgrestClient=L_.default;const $_=ha(Td);nr.PostgrestQueryBuilder=$_.default;const F_=ha(Zl);nr.PostgrestFilterBuilder=F_.default;const U_=ha(Rd);nr.PostgrestTransformBuilder=U_.default;const z_=ha(Od);nr.PostgrestBuilder=z_.default;const B_=ha(Ad);nr.PostgrestError=B_.default;var zR=nr.default={PostgrestClient:L_.default,PostgrestQueryBuilder:$_.default,PostgrestFilterBuilder:F_.default,PostgrestTransformBuilder:U_.default,PostgrestBuilder:z_.default,PostgrestError:B_.default};const{PostgrestClient:BR,PostgrestQueryBuilder:g5,PostgrestFilterBuilder:v5,PostgrestTransformBuilder:y5,PostgrestBuilder:x5,PostgrestError:w5}=zR,VR="2.11.2",WR={"X-Client-Info":`realtime-js/${VR}`},qR="1.0.0",V_=1e4,HR=1e3;var No;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(No||(No={}));var dr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(dr||(dr={}));var Ur;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ur||(Ur={}));var Fm;(function(e){e.websocket="websocket"})(Fm||(Fm={}));var si;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(si||(si={}));class KR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class W_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(We||(We={}));const ax=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=GR(o,e,t,s),i),{})},GR=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?q_(i,o):Um(o)},q_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return XR(t,r)}switch(e){case We.bool:return QR(t);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return YR(t);case We.json:case We.jsonb:return ZR(t);case We.timestamp:return JR(t);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Um(t);default:return Um(t)}},Um=e=>e,QR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},YR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},XR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>q_(t,l))}return e},JR=e=>typeof e=="string"?e.replace(" ","T"):e,H_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class eh{constructor(t,r,n={},s=V_){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lx||(lx={}));class Ja{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ja.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ja.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ja.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(x=>x.presence_ref),y=f.map(x=>x.presence_ref),w=d.filter(x=>y.indexOf(x.presence_ref)<0),p=f.filter(x=>m.indexOf(x.presence_ref)<0);w.length>0&&(l[u]=w),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(y=>y.presence_ref),m=d.filter(y=>f.indexOf(y.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cx||(cx={}));var ux;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ux||(ux={}));var _n;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class Rg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new eh(this,Ur.join,this.params,this.timeout),this.rejoinTimer=new W_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ur.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ja(this),this.broadcastEndpointURL=H_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(_n.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(_n.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(_n.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,w=[];for(let p=0;p<y;p++){const x=m[p],{filter:{event:v,schema:g,table:b,filter:_}}=x,j=d&&d[p];if(j&&j.event===v&&j.schema===g&&j.table===b&&j.filter===_)w.push(Object.assign(Object.assign({},x),{id:j.id}));else{this.unsubscribe(),t==null||t(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(_n.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=dr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ur.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new eh(this,Ur.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new eh(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ur;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,p,x;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(p=y.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(y=>y.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,p,x,v,g,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,j=(w=y.filter)===null||w===void 0?void 0:w.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(g=(v=y==null?void 0:y.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:p,table:x,commit_timestamp:v,type:g,errors:b}=w;m=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:v,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(w))}y.callback(m,n)})}_isClosed(){return this.state===dr.closed}_isJoined(){return this.state===dr.joined}_isJoining(){return this.state===dr.joining}_isLeaving(){return this.state===dr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Rg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ur.close,{},t)}_onError(t){this._on(Ur.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ax(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ax(t.columns,t.old_record)),r}}const e2=()=>{},t2=typeof WebSocket<"u",r2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n2{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=WR,this.params={},this.timeout=V_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=e2,this.conn=null,this.sendBuffer=[],this.serializer=new KR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Jo(async()=>{const{default:c}=await Promise.resolve().then(()=>fa);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Fm.websocket}`,this.httpEndpoint=H_(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new W_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(t2){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new s2(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Jo(async()=>{const{default:t}=await import("./browser-CpBNBbIX.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case No.connecting:return si.Connecting;case No.open:return si.Open;case No.closing:return si.Closing;default:return si.Closed}}isConnected(){return this.connectionState()===si.Open}channel(t,r={config:{}}){const n=new Rg(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Ur.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(HR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ur.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([r2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class s2{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=No.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Og extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function St(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class i2 extends Og{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zm extends Og{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var o2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const K_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jo(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},a2=()=>o2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jo(()=>Promise.resolve().then(()=>fa),void 0)).Response:Response}),Bm=e=>{if(Array.isArray(e))return e.map(r=>Bm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Bm(n)}),t};var zi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const th=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l2=(e,t,r)=>zi(void 0,void 0,void 0,function*(){const n=yield a2();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new i2(th(s),e.status||500))}).catch(s=>{t(new zm(th(s),s))}):t(new zm(th(e),e))}),c2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Xl(e,t,r,n,s,i){return zi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,c2(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>l2(c,l,n))})})}function Au(e,t,r,n){return zi(this,void 0,void 0,function*(){return Xl(e,"GET",t,r,n)})}function rs(e,t,r,n,s){return zi(this,void 0,void 0,function*(){return Xl(e,"POST",t,n,s,r)})}function u2(e,t,r,n,s){return zi(this,void 0,void 0,function*(){return Xl(e,"PUT",t,n,s,r)})}function d2(e,t,r,n){return zi(this,void 0,void 0,function*(){return Xl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function G_(e,t,r,n,s){return zi(this,void 0,void 0,function*(){return Xl(e,"DELETE",t,n,s,r)})}var Zt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const f2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class h2{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=K_(s)}uploadOrUpdate(t,r,n,s){return Zt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},dx),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(St(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Zt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:dx.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(St(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Zt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield rs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Og("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}update(t,r,n){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Zt(this,void 0,void 0,function*(){try{return{data:{path:(yield rs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Zt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield rs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Zt(this,void 0,void 0,function*(){try{const s=yield rs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}download(t,r){return Zt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Au(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(St(l))return{data:null,error:l};throw l}})}info(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Au(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bm(n),error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}exists(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield d2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(St(n)&&n instanceof zm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield G_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}list(t,r,n){return Zt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},f2),r),{prefix:t||""});return{data:yield rs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const m2="2.7.1",p2={"X-Client-Info":`storage-js/${m2}`};var Qi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class g2{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},p2),r),this.fetch=K_(n)}listBuckets(){return Qi(this,void 0,void 0,function*(){try{return{data:yield Au(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(St(t))return{data:null,error:t};throw t}})}getBucket(t){return Qi(this,void 0,void 0,function*(){try{return{data:yield Au(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Qi(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Qi(this,void 0,void 0,function*(){try{return{data:yield u2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Qi(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Qi(this,void 0,void 0,function*(){try{return{data:yield G_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}}class v2 extends g2{constructor(t,r={},n){super(t,r,n)}from(t){return new h2(this.url,this.headers,t,this.fetch)}}const y2="2.49.4";let $a="";typeof Deno<"u"?$a="deno":typeof document<"u"?$a="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$a="react-native":$a="node";const x2={"X-Client-Info":`supabase-js-${$a}/${y2}`},w2={headers:x2},b2={schema:"public"},_2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j2={};var S2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const k2=e=>{let t;return e?t=e:typeof fetch>"u"?t=O_:t=fetch,(...r)=>t(...r)},C2=()=>typeof Headers>"u"?A_:Headers,E2=(e,t,r)=>{const n=k2(r),s=C2();return(i,o)=>S2(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var N2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function P2(e){return e.replace(/\/$/,"")}function T2(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>N2(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Q_="2.69.1",io=30*1e3,Vm=3,rh=Vm*io,R2="http://localhost:9999",O2="supabase.auth.token",A2={"X-Client-Info":`gotrue-js/${Q_}`},Wm="X-Supabase-Api-Version",Y_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},I2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,M2=6e5;class Ag extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function he(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class D2 extends Ag{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function L2(e){return he(e)&&e.name==="AuthApiError"}class Z_ extends Ag{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ks extends Ag{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Yn extends Ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $2(e){return he(e)&&e.name==="AuthSessionMissingError"}class nh extends Ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kc extends Ks{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Cc extends Ks{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function F2(e){return he(e)&&e.name==="AuthImplicitGrantRedirectError"}class fx extends Ks{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qm extends Ks{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function sh(e){return he(e)&&e.name==="AuthRetryableFetchError"}class hx extends Ks{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class el extends Ks{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),px=` 	
\r=`.split(""),U2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<px.length;t+=1)e[px[t].charCodeAt(0)]=-2;for(let t=0;t<mx.length;t+=1)e[mx[t].charCodeAt(0)]=t;return e})();function X_(e,t,r){const n=U2[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gx(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{V2(o,n,r)};for(let o=0;o<e.length;o+=1)X_(e.charCodeAt(o),s,i);return t.join("")}function z2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function B2(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}z2(n,t)}}function V2(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function W2(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)X_(e.charCodeAt(s),r,n);return new Uint8Array(t)}function q2(e){const t=[];return B2(e,r=>t.push(r)),new Uint8Array(t)}function H2(e){return Math.round(Date.now()/1e3)+e}function K2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const en=()=>typeof window<"u"&&typeof document<"u",Js={tested:!1,writable:!1},tl=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Js.tested)return Js.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Js.tested=!0,Js.writable=!0}catch{Js.tested=!0,Js.writable=!1}return Js.writable};function G2(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const J_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jo(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Q2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",e1=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ec=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Nc=async(e,t)=>{await e.removeItem(t)};class Dd{constructor(){this.promise=new Dd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Dd.promiseConstructor=Promise;function ih(e){const t=e.split(".");if(t.length!==3)throw new el("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!I2.test(t[n]))throw new el("JWT not in base64url format");return{header:JSON.parse(gx(t[0])),payload:JSON.parse(gx(t[1])),signature:W2(t[2]),raw:{header:t[0],payload:t[1]}}}async function Y2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Z2(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function X2(e){return("0"+e.toString(16)).substr(-2)}function J2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,X2).join("")}async function eO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function tO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await eO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yi(e,t,r=!1){const n=J2();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await e1(e,`${t}-code-verifier`,s);const i=await tO(n);return[i,n===i?"plain":"s256"]}const rO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nO(e){const t=e.headers.get(Wm);if(!t||!t.match(rO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var oO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aO=[502,503,504];async function vx(e){var t;if(!Q2(e))throw new qm(ri(e),0);if(aO.includes(e.status))throw new qm(ri(e),e.status);let r;try{r=await e.json()}catch(i){throw new Z_(ri(i),i)}let n;const s=nO(e);if(s&&s.getTime()>=Y_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hx(ri(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new hx(ri(r),e.status,r.weak_password.reasons);throw new D2(ri(r),e.status||500,n)}const lO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Se(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Wm]||(i[Wm]=Y_["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await cO(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function cO(e,t,r,n,s,i){const o=lO(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new qm(ri(c),0)}if(l.ok||await vx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await vx(c)}}function Zn(e){var t;let r=null;hO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=H2(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function yx(e){const t=Zn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function is(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uO(e){return{data:e,error:null}}function dO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=oO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function fO(e){return e}function hO(e){return e.access_token&&e.refresh_token&&e.expires_in}var mO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class pO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=J_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:is})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=mO(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:dO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(he(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:is})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fO});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const p=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(he(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:is})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:is})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:is})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}}const gO={getItem:e=>tl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{tl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{tl()&&globalThis.localStorage.removeItem(e)}};function xx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function vO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zi={debug:!!(globalThis&&tl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class t1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yO extends t1{}async function xO(e,t,r){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}vO();const wO={url:R2,storageKey:O2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wx(e,t,r){return await r()}class Pl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pl.nextInstanceID,Pl.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new pO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=J_(s.fetch),this.lock=s.lock||wx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:en()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=xO:this.lock=wx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:tl()?this.storage=gO:(this.memoryStorage={},this.storage=xx(this.memoryStorage)):(this.memoryStorage={},this.storage=xx(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Q_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=G2(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),en()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),F2(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return he(r)?{error:r}:{error:new Z_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Zn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Yi(this.storage,this.storageKey)),i=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:w},xform:Zn})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Zn})}else throw new kc("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yx})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yx})}else throw new kc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new nh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Ec(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Zn});if(await Nc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new nh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(he(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new nh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Yi(this.storage,this.storageKey));const{error:f}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new kc("You must provide either an email or phone number.")}catch(l){if(he(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Zn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Yi(this.storage,this.storageKey)),await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:uO})}catch(i){if(he(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Yn;const{error:s}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new kc("You must provide either an email or phone number and a type")}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ec(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<rh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:is}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:is})})}catch(r){if(he(r))return $2(r)&&(await this._removeSession(),await Nc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Yn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Yi(this.storage,this.storageKey));const{data:u,error:d}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:is});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ih(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(he(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Yn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!en())throw new Cc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Cc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fx("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Cc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const y=m-d;y*1e3<=io&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const w=m-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(he(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ec(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(L2(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Nc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=K2(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Yi(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(he(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return en()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(he(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Z2(async s=>(s>0&&await Y2(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&sh(i)&&Date.now()+o-n<io})}catch(n){if(this._debug(r,"error",n),he(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),en()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ec(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<rh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${rh}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),sh(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Yn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),he(i)){const o={session:null,error:i};return sh(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await e1(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Nc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),io);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/io);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${io}ms, refresh threshold is ${Vm} ticks`),s<=Vm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof t1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Yi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(he(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(he(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ih(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+M2>Date.now()))return n;const{data:s,error:i}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new el("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new el("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=ih(n);if(sO(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const u=iO(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,q2(`${l}.${c}`)))throw new el("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}Pl.nextInstanceID=0;const bO=Pl;class _O extends bO{constructor(t){super(t)}}var jO=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class SO{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=P2(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:b2,realtime:j2,auth:Object.assign(Object.assign({},_2),{storageKey:c}),global:w2},d=T2(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=E2(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new BR(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new yR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new v2(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return jO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _O({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new n2(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kO=(e,t,r)=>new SO(e,t,r),CO="https://fshdsmmyuvhqwngkzndm.supabase.co",EO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzaGRzbW15dXZocXduZ2t6bmRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczODkzMTIsImV4cCI6MjA2Mjk2NTMxMn0.6sgzv8A8x2nMgLOjAf44lXB72L70FxkhUbtrBml7onM",W=kO(CO,EO,{auth:{persistSession:!0,autoRefreshToken:!0,storage:localStorage}}),NO=1,PO=1e6;let oh=0;function TO(){return oh=(oh+1)%Number.MAX_SAFE_INTEGER,oh.toString()}const ah=new Map,bx=e=>{if(ah.has(e))return;const t=setTimeout(()=>{ah.delete(e),rl({type:"REMOVE_TOAST",toastId:e})},PO);ah.set(e,t)},RO=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,NO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?bx(r):e.toasts.forEach(n=>{bx(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Jc=[];let eu={toasts:[]};function rl(e){eu=RO(eu,e),Jc.forEach(t=>{t(eu)})}function ui({...e}){const t=TO(),r=s=>rl({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>rl({type:"DISMISS_TOAST",toastId:t});return rl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Pt(){const[e,t]=h.useState(eu);return h.useEffect(()=>(Jc.push(t),()=>{const r=Jc.indexOf(t);r>-1&&Jc.splice(r,1)}),[e]),{...e,toast:ui,dismiss:r=>rl({type:"DISMISS_TOAST",toastId:r})}}const OO=async e=>{try{const{data:t,error:r}=await W.from("profiles").select("*").eq("id",e).single();return r?(console.error("Error fetching user profile:",r),null):t?{id:t.id,name:t.name||"User",email:t.email||"",role:t.role||"customer",avatar:"",createdAt:new Date(t.created_at||Date.now()),updatedAt:new Date(t.updated_at||Date.now())}:null}catch(t){return console.error("Error in getUserProfile:",t),null}},Hr=()=>{console.log("Cleaning up auth state..."),localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&(console.log(`Removing localStorage key: ${e}`),localStorage.removeItem(e))}),Object.keys(sessionStorage||{}).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&(console.log(`Removing sessionStorage key: ${e}`),sessionStorage.removeItem(e))}),localStorage.removeItem("sb-access-token"),localStorage.removeItem("sb-refresh-token"),sessionStorage.removeItem("sb-access-token"),sessionStorage.removeItem("sb-refresh-token")},_x=async()=>{try{console.log("Fetching current user...");const{data:{session:e},error:t}=await W.auth.getSession();if(t)return console.error("Error getting session:",t),Hr(),null;if(!e)return console.log("No active session found"),null;console.log("Active session found, fetching user profile...");const r=await OO(e.user.id);return r||(console.error("User profile not found, cleaning up auth state"),Hr(),null)}catch(e){return console.error("Error in fetchCurrentUser:",e),Hr(),null}};function AO(){const[e,t]=h.useState(null),[r,n]=h.useState(!0),s=h.useRef(!1),i=h.useRef(null);return h.useEffect(()=>{if(s.current)return;s.current=!0,console.log("Initializing auth state...");const{data:{subscription:o}}=W.auth.onAuthStateChange(async(c,u)=>{console.log("Auth state changed:",c,u?"with session":"no session");const d=u?`${u.user.id}-${u.access_token.substring(0,10)}`:null;if(d===i.current&&c!=="SIGNED_OUT"){console.log("Duplicate session event, skipping...");return}if(i.current=d,c==="SIGNED_OUT"||!u){console.log("User signed out or no session"),t(null),n(!1),c==="SIGNED_OUT"&&Hr();return}(c==="SIGNED_IN"||c==="TOKEN_REFRESHED")&&setTimeout(async()=>{try{console.log("Processing sign in/token refresh...");const f=await _x();console.log("User data fetched:",f?"success":"failed"),t(f)}catch(f){console.error("Error fetching user data:",f),t(null),Hr()}finally{n(!1)}},100)});return(async()=>{try{console.log("Checking for existing session...");const c=new Promise((f,m)=>{setTimeout(()=>m(new Error("Session check timeout")),5e3)}),u=_x(),d=await Promise.race([u,c]);console.log("Session check result:",d?"user found":"no user"),t(d)}catch(c){console.error("Error checking session:",c),t(null),Hr()}finally{n(!1)}})(),()=>{console.log("Cleaning up auth state listener"),o.unsubscribe(),s.current=!1}},[]),[{user:e,loading:r},t]}const IO=async(e,t)=>{try{console.log("Starting sign in process..."),Hr();try{console.log("Attempting global sign out before sign in..."),await W.auth.signOut({scope:"global"}),await new Promise(s=>setTimeout(s,500))}catch(s){console.log("Pre-auth signout failed, continuing:",s)}console.log("Attempting to sign in with email/password...");const{data:r,error:n}=await W.auth.signInWithPassword({email:e,password:t});return n?(console.error("Sign in error:",n),n.message.includes("Email not confirmed")?ui({title:"Email not confirmed",description:"Please check your email for the confirmation link or request a new one.",variant:"destructive"}):ui({title:"Login failed",description:n.message,variant:"destructive"}),{user:null,error:n}):(r.user&&(console.log("Sign in successful, user:",r.user.id),ui({title:"Login successful",description:"Welcome back!",variant:"default"})),{user:r.user,error:null})}catch(r){return console.error("Unexpected error during sign in:",r),Hr(),ui({title:"Login failed",description:"An unexpected error occurred",variant:"destructive"}),{user:null,error:r}}},MO=async(e,t,r)=>{try{Hr();const{data:n,error:s}=await W.auth.signUp({email:e,password:t,options:{data:{name:r},emailRedirectTo:window.location.origin+"/stock2store/login"}});return s?(ui({title:"Registration failed",description:s.message,variant:"destructive"}),{user:null,error:s}):(await W.auth.signOut(),ui({title:"Registration successful",description:"Please check your email for confirmation instructions.",variant:"default"}),{user:n.user,error:null})}catch(n){return console.error("Unexpected error during sign up:",n),{user:null,error:n}}},DO=async()=>{try{console.log("Starting sign out process..."),Hr();const{error:e}=await W.auth.signOut({scope:"global"});return e?(console.error("Sign out error:",e),{error:e}):(console.log("Sign out successful"),setTimeout(()=>{window.location.href="/stock2store/login"},200),{error:null})}catch(e){return console.error("Unexpected error during sign out:",e),window.location.href="/stock2store/login",{error:e}}},LO={admin:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"warehouse",action:"manage"},{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"analytics",action:"view"},{resource:"users",action:"view"},{resource:"users",action:"manage"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"},{resource:"cart",action:"view"},{resource:"cart",action:"update"},{resource:"orders",action:"view"},{resource:"orders",action:"manage"},{resource:"returns",action:"view"},{resource:"returns",action:"manage"},{resource:"checkout",action:"view"}],warehouse:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"warehouse",action:"manage"},{resource:"store",action:"view"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"},{resource:"orders",action:"view"},{resource:"orders",action:"manage"},{resource:"returns",action:"view"},{resource:"returns",action:"manage"}],customer:[{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"},{resource:"cart",action:"view"},{resource:"cart",action:"update"},{resource:"orders",action:"view"},{resource:"returns",action:"view"},{resource:"returns",action:"manage"},{resource:"checkout",action:"view"}],analyst:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"analytics",action:"view"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"cart",action:"view"},{resource:"cart",action:"update"},{resource:"orders",action:"view"},{resource:"returns",action:"view"}]},r1=async()=>{try{const{data:e,error:t}=await W.from("roles").select("id").limit(1),{data:r,error:n}=await W.from("permissions").select("id").limit(1);return t||n?(console.log("Error checking RBAC initialization:",t||n),!1):e&&e.length>0&&r&&r.length>0}catch(e){return console.error("Error checking RBAC initialization:",e),!1}},jx=(e,t,r)=>(LO[e]||[]).some(s=>s.resource===t&&s.action===r),$O=async e=>{try{const{data:{session:t}}=await W.auth.getSession();if(!(t!=null&&t.user))return!1;const{data:r}=await W.from("profiles").select("role").eq("id",t.user.id).single();return(r==null?void 0:r.role)===e}catch(t){return console.error("Error checking user role:",t),!1}},FO=async(e,t)=>{try{const{data:{session:r}}=await W.auth.getSession();if(!(r!=null&&r.user))return console.log("No user session found"),!1;const{data:n}=await W.from("profiles").select("role").eq("id",r.user.id).single();if(!(n!=null&&n.role))return console.log("No user role found in profile"),!1;const s=n.role;if(console.log(`Checking permission for ${e}:${t} for role: ${s}`),!await r1()){console.log("RBAC not initialized, using fallback permissions for role:",s);const c=jx(s,e,t);return console.log(`Fallback permission result: ${c}`),c}console.log("Using full RBAC system for permission check");const{data:o,error:l}=await W.rpc("user_has_permission",{user_id:r.user.id,req_resource:e,req_action:t});if(l){console.error("Error checking permissions via RPC:",l),console.log("Falling back to role-based permissions due to RPC error");const c=jx(s,e,t);return console.log(`Fallback permission result after RPC error: ${c}`),c}return console.log(`RPC permission result: ${!!o}`),!!o}catch(r){return console.error("Error checking user permissions:",r),!1}},UO=async()=>{try{return await r1()?(console.log("RBAC system already initialized"),!0):(console.log("RBAC system not initialized, but this should be handled by the SQL migration"),!1)}catch(e){return console.error("Error initializing RBAC system:",e),!1}},zO=async(e,t)=>{try{const{data:{session:r}}=await W.auth.getSession();if(!(r!=null&&r.user))return console.error("No user session found"),!1;if(!await $O("admin"))return console.error("User is not admin, cannot update roles"),!1;const{error:s}=await W.from("profiles").update({role:t}).eq("id",e);return s?(console.error("Error updating user role:",s),!1):(console.log(`Successfully updated user ${e} role to ${t}`),!0)}catch(r){return console.error("Error updating user role:",r),!1}},BO=({children:e})=>{const[{user:t,loading:r},n]=AO(),{toast:s}=Pt();h.useEffect(()=>{t&&t.role==="admin"&&!r&&(async()=>{try{console.log("Initializing RBAC for admin user...");const c=await UO();console.log(c?"RBAC system initialized successfully":"RBAC system was already initialized")}catch(c){console.error("Error initializing RBAC system:",c)}})()},[t==null?void 0:t.id,t==null?void 0:t.role,r]);const o={user:t,loading:r,signOut:async()=>{try{await DO(),n(null)}catch(l){console.error("Error during sign out:",l),s({title:"Sign out failed",description:"An error occurred while signing out. Please try again.",variant:"destructive"})}}};return a.jsx(R_.Provider,{value:o,children:e})},VO={items:[],total:0,itemCount:0,isLoading:!1};function n1(e,t){switch(t.type){case"ADD_ITEM":{const{product:r,quantity:n}=t.payload,s=e.items.find(c=>c.product.id===r.id);let i;if(s)i=e.items.map(c=>c.product.id===r.id?{...c,quantity:Math.min(c.quantity+n,r.stock)}:c);else{const c={id:`cart-${r.id}-${Date.now()}`,product:r,quantity:Math.min(n,r.stock),addedAt:new Date,status:r.stock>0?"available":"unavailable"};i=[...e.items,c]}const o=i.reduce((c,u)=>c+u.product.price*u.quantity,0),l=i.reduce((c,u)=>c+u.quantity,0);return{...e,items:i,total:o,itemCount:l}}case"REMOVE_ITEM":{const r=e.items.filter(i=>i.product.id!==t.payload.productId),n=r.reduce((i,o)=>i+o.product.price*o.quantity,0),s=r.reduce((i,o)=>i+o.quantity,0);return{...e,items:r,total:n,itemCount:s}}case"UPDATE_QUANTITY":{const{productId:r,quantity:n}=t.payload;if(n<=0)return n1(e,{type:"REMOVE_ITEM",payload:{productId:r}});const s=e.items.map(l=>l.product.id===r?{...l,quantity:Math.min(n,l.product.stock)}:l),i=s.reduce((l,c)=>l+c.product.price*c.quantity,0),o=s.reduce((l,c)=>l+c.quantity,0);return{...e,items:s,total:i,itemCount:o}}case"UPDATE_ITEM_STATUS":{const{productId:r,status:n}=t.payload,s=e.items.map(i=>i.product.id===r?{...i,status:n}:i);return{...e,items:s}}case"CLEAR_CART":return{...e,items:[],total:0,itemCount:0};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ITEMS":{const r=t.payload,n=r.reduce((i,o)=>i+o.product.price*o.quantity,0),s=r.reduce((i,o)=>i+o.quantity,0);return{...e,items:r,total:n,itemCount:s}}default:return e}}const s1=h.createContext(void 0);function WO({children:e}){const[t,r]=h.useReducer(n1,VO),{user:n}=pn(),{toast:s}=Pt();h.useEffect(()=>{if(n){const f=localStorage.getItem(`cart-${n.id}`);if(f)try{const m=JSON.parse(f);r({type:"SET_ITEMS",payload:m})}catch(m){console.error("Error loading cart from localStorage:",m)}}},[n]),h.useEffect(()=>{n&&t.items.length>=0&&localStorage.setItem(`cart-${n.id}`,JSON.stringify(t.items))},[t.items,n]);const i=(f,m=1)=>{if(f.stock<=0){s({title:"Product unavailable",description:"This product is currently out of stock.",variant:"destructive"});return}const y=u(f.id);if(y+m>f.stock){s({title:"Insufficient stock",description:`Only ${f.stock} items available. You already have ${y} in your cart.`,variant:"destructive"});return}r({type:"ADD_ITEM",payload:{product:f,quantity:m}}),s({title:"Added to cart",description:`${f.name} has been added to your cart.`})},o=f=>{r({type:"REMOVE_ITEM",payload:{productId:f}}),s({title:"Removed from cart",description:"Item has been removed from your cart."})},l=(f,m)=>{r({type:"UPDATE_QUANTITY",payload:{productId:f,quantity:m}})},c=()=>{r({type:"CLEAR_CART"}),s({title:"Cart cleared",description:"All items have been removed from your cart."})},u=f=>{const m=t.items.find(y=>y.product.id===f);return(m==null?void 0:m.quantity)||0},d={...t,addToCart:i,removeFromCart:o,updateQuantity:l,clearCart:c,getCartItemQuantity:u};return a.jsx(s1.Provider,{value:d,children:e})}function Ig(){const e=h.useContext(s1);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}function ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function qO(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ld(...e){return t=>e.forEach(r=>qO(r,t))}function Be(...e){return h.useCallback(Ld(...e),e)}function HO(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:m,children:y,...w}=f,p=(m==null?void 0:m[e][c])||l,x=h.useMemo(()=>w,Object.values(w));return a.jsx(p.Provider,{value:x,children:y})}function d(f,m){const y=(m==null?void 0:m[e][c])||l,w=h.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,KO(s,...t)]}function KO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var As=h.forwardRef((e,t)=>{const{children:r,...n}=e,s=h.Children.toArray(r),i=s.find(QO);if(i){const o=i.props.children,l=s.map(c=>c===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:c);return a.jsx(Hm,{...n,ref:t,children:h.isValidElement(o)?h.cloneElement(o,void 0,l):null})}return a.jsx(Hm,{...n,ref:t,children:r})});As.displayName="Slot";var Hm=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const s=ZO(r);return h.cloneElement(r,{...YO(n,r.props),ref:t?Ld(t,s):s})}return h.Children.count(r)>1?h.Children.only(null):null});Hm.displayName="SlotClone";var GO=({children:e})=>a.jsx(a.Fragment,{children:e});function QO(e){return h.isValidElement(e)&&e.type===GO}function YO(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function ZO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function $d(e){const t=e+"CollectionProvider",[r,n]=HO(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:p}=y,x=we.useRef(null),v=we.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:v,collectionRef:x,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=we.forwardRef((y,w)=>{const{scope:p,children:x}=y,v=i(l,p),g=Be(w,v.collectionRef);return a.jsx(As,{ref:g,children:x})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=we.forwardRef((y,w)=>{const{scope:p,children:x,...v}=y,g=we.useRef(null),b=Be(w,g),_=i(u,p);return we.useEffect(()=>(_.itemMap.set(g,{ref:g,...v}),()=>void _.itemMap.delete(g))),a.jsx(As,{[d]:"",ref:b,children:x})});f.displayName=u;function m(y){const w=i(e+"CollectionConsumer",y);return we.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((_,j)=>v.indexOf(_.ref.current)-v.indexOf(j.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,n]}function Bi(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:m,children:y,...w}=f,p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=h.useMemo(()=>w,Object.values(w));return a.jsx(p.Provider,{value:x,children:y})};u.displayName=i+"Provider";function d(f,m){var p;const y=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,w=h.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,XO(s,...t)]}function XO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var JO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=JO.reduce((e,t)=>{const r=h.forwardRef((n,s)=>{const{asChild:i,...o}=n,l=i?As:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Mg(e,t){e&&Ws.flushSync(()=>e.dispatchEvent(t))}function At(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function eA(e,t=globalThis==null?void 0:globalThis.document){const r=At(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var tA="DismissableLayer",Km="dismissableLayer.update",rA="dismissableLayer.pointerDownOutside",nA="dismissableLayer.focusOutside",Sx,i1=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fd=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=h.useContext(i1),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),w=Be(t,S=>f(S)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),g=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=v,j=iA(S=>{const N=S.target,T=[...u.branches].some(O=>O.contains(N));!_||T||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),k=oA(S=>{const N=S.target;[...u.branches].some(O=>O.contains(N))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return eA(S=>{g===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Sx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),kx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Sx)}},[d,m,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),kx())},[d,u]),h.useEffect(()=>{const S=()=>y({});return document.addEventListener(Km,S),()=>document.removeEventListener(Km,S)},[]),a.jsx(ue.div,{...c,ref:w,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,j.onPointerDownCapture)})});Fd.displayName=tA;var sA="DismissableLayerBranch",o1=h.forwardRef((e,t)=>{const r=h.useContext(i1),n=h.useRef(null),s=Be(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(ue.div,{...e,ref:s})});o1.displayName=sA;function iA(e,t=globalThis==null?void 0:globalThis.document){const r=At(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){a1(rA,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function oA(e,t=globalThis==null?void 0:globalThis.document){const r=At(e),n=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!n.current&&a1(nA,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function kx(){const e=new CustomEvent(Km);document.dispatchEvent(e)}function a1(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Mg(s,i):s.dispatchEvent(i)}var aA=Fd,lA=o1,Nt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},cA="Portal",Ud=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=h.useState(!1);Nt(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?o_.createPortal(a.jsx(ue.div,{...n,ref:t}),o):null});Ud.displayName=cA;function uA(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Gs=e=>{const{present:t,children:r}=e,n=dA(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=Be(n.ref,fA(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:i}):null};Gs.displayName="Presence";function dA(e){const[t,r]=h.useState(),n=h.useRef({}),s=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=uA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Pc(n.current);i.current=l==="mounted"?u:"none"},[l]),Nt(()=>{const u=n.current,d=s.current;if(d!==e){const m=i.current,y=Pc(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Nt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=y=>{const p=Pc(n.current).includes(y.animationName);if(y.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=y=>{y.target===t&&(i.current=Pc(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Pc(e){return(e==null?void 0:e.animationName)||"none"}function fA(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ni({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=hA({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=At(r),c=h.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[i,e,s,l]);return[o,c]}function hA({defaultProp:e,onChange:t}){const r=h.useState(e),[n]=r,s=h.useRef(n),i=At(t);return h.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var mA="VisuallyHidden",zd=h.forwardRef((e,t)=>a.jsx(ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));zd.displayName=mA;var Dg="ToastProvider",[Lg,pA,gA]=$d("Toast"),[l1,b5]=Bi("Toast",[gA]),[vA,Bd]=l1(Dg),c1=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dg}\`. Expected non-empty \`string\`.`),a.jsx(Lg.Provider,{scope:t,children:a.jsx(vA,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(y=>y+1),[]),onToastRemove:h.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};c1.displayName=Dg;var u1="ToastViewport",yA=["F8"],Gm="toast.viewportPause",Qm="toast.viewportResume",d1=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=yA,label:s="Notifications ({hotkey})",...i}=e,o=Bd(u1,r),l=pA(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=Be(t,f,o.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;h.useEffect(()=>{const x=v=>{var b;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),h.useEffect(()=>{const x=c.current,v=f.current;if(w&&x&&v){const g=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(Gm);v.dispatchEvent(k),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(Qm);v.dispatchEvent(k),o.isClosePausedRef.current=!1}},_=k=>{!x.contains(k.relatedTarget)&&b()},j=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",g),x.addEventListener("focusout",_),x.addEventListener("pointermove",g),x.addEventListener("pointerleave",j),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",g),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",g),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const p=h.useCallback(({tabbingDirection:x})=>{const g=l().map(b=>{const _=b.ref.current,j=[_,...RA(_)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?g.reverse():g).flat()},[l]);return h.useEffect(()=>{const x=f.current;if(x){const v=g=>{var j,k,S;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const N=document.activeElement,T=g.shiftKey;if(g.target===x&&T){(j=u.current)==null||j.focus();return}const P=p({tabbingDirection:T?"backwards":"forwards"}),L=P.findIndex(D=>D===N);lh(P.slice(L+1))?g.preventDefault():T?(k=u.current)==null||k.focus():(S=d.current)==null||S.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[l,p]),a.jsxs(lA,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(Ym,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});lh(x)}}),a.jsx(Lg.Slot,{scope:r,children:a.jsx(ue.ol,{tabIndex:-1,...i,ref:m})}),w&&a.jsx(Ym,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});lh(x)}})]})});d1.displayName=u1;var f1="ToastFocusProxy",Ym=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Bd(f1,r);return a.jsx(zd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Ym.displayName=f1;var Vd="Toast",xA="toast.swipeStart",wA="toast.swipeMove",bA="toast.swipeCancel",_A="toast.swipeEnd",h1=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l=!0,c]=Ni({prop:n,defaultProp:s,onChange:i});return a.jsx(Gs,{present:r||l,children:a.jsx(kA,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:At(e.onPause),onResume:At(e.onResume),onSwipeStart:ee(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ee(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});h1.displayName=Vd;var[jA,SA]=l1(Vd,{onClose(){}}),kA=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:y,...w}=e,p=Bd(Vd,r),[x,v]=h.useState(null),g=Be(t,D=>v(D)),b=h.useRef(null),_=h.useRef(null),j=s||p.duration,k=h.useRef(0),S=h.useRef(j),N=h.useRef(0),{onToastAdd:T,onToastRemove:O}=p,F=At(()=>{var K;(x==null?void 0:x.contains(document.activeElement))&&((K=p.viewport)==null||K.focus()),o()}),P=h.useCallback(D=>{!D||D===1/0||(window.clearTimeout(N.current),k.current=new Date().getTime(),N.current=window.setTimeout(F,D))},[F]);h.useEffect(()=>{const D=p.viewport;if(D){const K=()=>{P(S.current),u==null||u()},$=()=>{const G=new Date().getTime()-k.current;S.current=S.current-G,window.clearTimeout(N.current),c==null||c()};return D.addEventListener(Gm,$),D.addEventListener(Qm,K),()=>{D.removeEventListener(Gm,$),D.removeEventListener(Qm,K)}}},[p.viewport,j,c,u,P]),h.useEffect(()=>{i&&!p.isClosePausedRef.current&&P(j)},[i,j,p.isClosePausedRef,P]),h.useEffect(()=>(T(),()=>O()),[T,O]);const L=h.useMemo(()=>x?w1(x):null,[x]);return p.viewport?a.jsxs(a.Fragment,{children:[L&&a.jsx(CA,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),a.jsx(jA,{scope:r,onClose:F,children:Ws.createPortal(a.jsx(Lg.ItemSlot,{scope:r,children:a.jsx(aA,{asChild:!0,onEscapeKeyDown:ee(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||F(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ee(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ee(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:ee(e.onPointerMove,D=>{if(!b.current)return;const K=D.clientX-b.current.x,$=D.clientY-b.current.y,G=!!_.current,A=["left","right"].includes(p.swipeDirection),I=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,q=A?I(0,K):0,ne=A?0:I(0,$),ge=D.pointerType==="touch"?10:2,ut={x:q,y:ne},Ve={originalEvent:D,delta:ut};G?(_.current=ut,Tc(wA,f,Ve,{discrete:!1})):Cx(ut,p.swipeDirection,ge)?(_.current=ut,Tc(xA,d,Ve,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(K)>ge||Math.abs($)>ge)&&(b.current=null)}),onPointerUp:ee(e.onPointerUp,D=>{const K=_.current,$=D.target;if($.hasPointerCapture(D.pointerId)&&$.releasePointerCapture(D.pointerId),_.current=null,b.current=null,K){const G=D.currentTarget,A={originalEvent:D,delta:K};Cx(K,p.swipeDirection,p.swipeThreshold)?Tc(_A,y,A,{discrete:!0}):Tc(bA,m,A,{discrete:!0}),G.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),CA=e=>{const{__scopeToast:t,children:r,...n}=e,s=Bd(Vd,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return PA(()=>o(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Ud,{asChild:!0,children:a.jsx(zd,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},EA="ToastTitle",m1=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});m1.displayName=EA;var NA="ToastDescription",p1=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});p1.displayName=NA;var g1="ToastAction",v1=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(x1,{altText:r,asChild:!0,children:a.jsx($g,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${g1}\`. Expected non-empty \`string\`.`),null)});v1.displayName=g1;var y1="ToastClose",$g=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=SA(y1,r);return a.jsx(x1,{asChild:!0,children:a.jsx(ue.button,{type:"button",...n,ref:t,onClick:ee(e.onClick,s.onClose)})})});$g.displayName=y1;var x1=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function w1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),TA(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...w1(n))}}),t}function Tc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Mg(s,i):s.dispatchEvent(i)}var Cx=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function PA(e=()=>{}){const t=At(e);Nt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function TA(e){return e.nodeType===e.ELEMENT_NODE}function RA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var OA=c1,b1=d1,_1=h1,j1=m1,S1=p1,k1=v1,C1=$g;function E1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=E1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function N1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=E1(e))&&(n&&(n+=" "),n+=t);return n}const Ex=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Nx=N1,Wd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Nx(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const m=Ex(d)||Ex(f);return s[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...y}=d;return Object.entries(y).every(w=>{let[p,x]=w;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,f,m]:u},[]);return Nx(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...IA,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:P1("lucide",s),...l},[...o.map(([u,d])=>h.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const r=h.forwardRef(({className:n,...s},i)=>h.createElement(MA,{ref:i,iconNode:t,className:P1(`lucide-${AA(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=ae("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=ae("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ae("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=ae("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=ae("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=ae("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=ae("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=ae("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=ae("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bg="-",sI=e=>{const t=oI(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Bg);return l[0]===""&&l.length!==1&&l.shift(),$1(l,t)||iI(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},$1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?$1(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Bg);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Ix=/^\[(.+)\]$/,iI=e=>{if(Ix.test(e)){const t=Ix.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},oI=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return lI(Object.entries(e.classGroups),r).forEach(([i,o])=>{ep(o,n,i,t)}),n},ep=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Mx(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(aI(s)){ep(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{ep(o,Mx(t,i),r,n)})})},Mx=(e,t)=>{let r=e;return t.split(Bg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},aI=e=>e.isThemeGetter,lI=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,cI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},F1="!",uI=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let v=l[x];if(u===0){if(v===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const m=c.length===0?l:l.substring(d),y=m.startsWith(F1),w=y?m.substring(1):m,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},dI=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},fI=e=>({cache:cI(e.cacheSize),parseClassName:uI(e),...sI(e)}),hI=/\s+/,mI=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(hI);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=r(u);let w=!!y,p=n(w?m.substring(0,y):m);if(!p){if(!w){l=u+(l.length>0?" "+l:l);continue}if(p=n(m),!p){l=u+(l.length>0?" "+l:l);continue}w=!1}const x=dI(d).join(":"),v=f?x+F1:x,g=v+p;if(i.includes(g))continue;i.push(g);const b=s(p,w);for(let _=0;_<b.length;++_){const j=b[_];i.push(v+j)}l=u+(l.length>0?" "+l:l)}return l};function pI(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=U1(t))&&(n&&(n+=" "),n+=r);return n}const U1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=U1(e[n]))&&(r&&(r+=" "),r+=t);return r};function gI(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=fI(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=mI(c,r);return s(c,d),d}return function(){return i(pI.apply(null,arguments))}}const Ke=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},z1=/^\[(?:([a-z-]+):)?(.+)\]$/i,vI=/^\d+\/\d+$/,yI=new Set(["px","full","screen"]),xI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_I=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vn=e=>Po(e)||yI.has(e)||vI.test(e),Hn=e=>ma(e,"length",RI),Po=e=>!!e&&!Number.isNaN(Number(e)),ch=e=>ma(e,"number",Po),Ea=e=>!!e&&Number.isInteger(Number(e)),SI=e=>e.endsWith("%")&&Po(e.slice(0,-1)),fe=e=>z1.test(e),Kn=e=>xI.test(e),kI=new Set(["length","size","percentage"]),CI=e=>ma(e,kI,B1),EI=e=>ma(e,"position",B1),NI=new Set(["image","url"]),PI=e=>ma(e,NI,AI),TI=e=>ma(e,"",OI),Na=()=>!0,ma=(e,t,r)=>{const n=z1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},RI=e=>wI.test(e)&&!bI.test(e),B1=()=>!1,OI=e=>_I.test(e),AI=e=>jI.test(e),II=()=>{const e=Ke("colors"),t=Ke("spacing"),r=Ke("blur"),n=Ke("brightness"),s=Ke("borderColor"),i=Ke("borderRadius"),o=Ke("borderSpacing"),l=Ke("borderWidth"),c=Ke("contrast"),u=Ke("grayscale"),d=Ke("hueRotate"),f=Ke("invert"),m=Ke("gap"),y=Ke("gradientColorStops"),w=Ke("gradientColorStopPositions"),p=Ke("inset"),x=Ke("margin"),v=Ke("opacity"),g=Ke("padding"),b=Ke("saturate"),_=Ke("scale"),j=Ke("sepia"),k=Ke("skew"),S=Ke("space"),N=Ke("translate"),T=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",fe,t],P=()=>[fe,t],L=()=>["",vn,Hn],D=()=>["auto",Po,fe],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",fe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Po,fe];return{cacheSize:500,separator:":",theme:{colors:[Na],spacing:[vn,Hn],blur:["none","",Kn,fe],brightness:ne(),borderColor:[e],borderRadius:["none","","full",Kn,fe],borderSpacing:P(),borderWidth:L(),contrast:ne(),grayscale:I(),hueRotate:ne(),invert:I(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[SI,Hn],inset:F(),margin:F(),opacity:ne(),padding:P(),saturate:ne(),scale:ne(),sepia:I(),skew:ne(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Kn]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),fe]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ea,fe]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Ea,fe]}],"grid-cols":[{"grid-cols":[Na]}],"col-start-end":[{col:["auto",{span:["full",Ea,fe]},fe]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Na]}],"row-start-end":[{row:["auto",{span:[Ea,fe]},fe]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,t]}],"min-w":[{"min-w":[fe,t,"min","max","fit"]}],"max-w":[{"max-w":[fe,t,"none","full","min","max","fit","prose",{screen:[Kn]},Kn]}],h:[{h:[fe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Kn,Hn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ch]}],"font-family":[{font:[Na]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Po,ch]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vn,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vn,Hn]}],"underline-offset":[{"underline-offset":["auto",vn,fe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),EI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},PI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[vn,fe]}],"outline-w":[{outline:[vn,Hn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[vn,Hn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Kn,TI]}],"shadow-color":[{shadow:[Na]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Kn,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ea,fe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[vn,Hn,ch]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},MI=gI(II);function te(...e){return MI(N1(e))}const DI=OA,V1=h.forwardRef(({className:e,...t},r)=>a.jsx(b1,{ref:r,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));V1.displayName=b1.displayName;const LI=Wd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),W1=h.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(_1,{ref:n,className:te(LI({variant:t}),e),...r}));W1.displayName=_1.displayName;const $I=h.forwardRef(({className:e,...t},r)=>a.jsx(k1,{ref:r,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));$I.displayName=k1.displayName;const q1=h.forwardRef(({className:e,...t},r)=>a.jsx(C1,{ref:r,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Jl,{className:"h-4 w-4"})}));q1.displayName=C1.displayName;const H1=h.forwardRef(({className:e,...t},r)=>a.jsx(j1,{ref:r,className:te("text-sm font-semibold",e),...t}));H1.displayName=j1.displayName;const K1=h.forwardRef(({className:e,...t},r)=>a.jsx(S1,{ref:r,className:te("text-sm opacity-90",e),...t}));K1.displayName=S1.displayName;function FI(){const{toasts:e}=Pt();return a.jsxs(DI,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(W1,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(H1,{children:r}),n&&a.jsx(K1,{children:n})]}),s,a.jsx(q1,{})]},t)}),a.jsx(V1,{})]})}const Xr=({children:e,resource:t,action:r,fallbackPath:n="/login"})=>{const{user:s,loading:i}=pn(),o=Vn(),{toast:l}=Pt(),[c,u]=h.useState(!1),[d,f]=h.useState(!1);return h.useEffect(()=>{(async()=>{if(!s||i){u(!1),f(!i);return}try{console.log(`Checking permission for ${t}:${r} for user role: ${s.role}`);const y=await FO(t,r);console.log(`Permission result for ${t}:${r}: ${y}`),u(y),y||(console.log(`Access denied for ${t}:${r}, redirecting to ${n}`),l({title:"Access denied",description:"You don't have permission to access this resource.",variant:"destructive"}))}catch(y){console.error("Error checking permission:",y),u(!1)}finally{f(!0)}})()},[s==null?void 0:s.id,s==null?void 0:s.role,i,t,r,l,n]),i||!d?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?c?a.jsx(a.Fragment,{children:e}):a.jsx(Hy,{to:n,state:{from:o},replace:!0}):a.jsx(Hy,{to:"/login",state:{from:o},replace:!0})},ye=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ye.displayName="Card";const Ce=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:te("flex flex-col space-y-1.5 p-6",e),...t}));Ce.displayName="CardHeader";const Ee=h.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:te("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ee.displayName="CardTitle";const Ze=h.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:te("text-sm text-muted-foreground",e),...t}));Ze.displayName="CardDescription";const be=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:te("p-6 pt-0",e),...t}));be.displayName="CardContent";const G1=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:te("flex items-center p-6 pt-0",e),...t}));G1.displayName="CardFooter";function UI(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:m,children:y,...w}=f,p=(m==null?void 0:m[e][c])||l,x=h.useMemo(()=>w,Object.values(w));return a.jsx(p.Provider,{value:x,children:y})}function d(f,m){const y=(m==null?void 0:m[e][c])||l,w=h.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,zI(s,...t)]}function zI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var BI=hd.useId||(()=>{}),VI=0;function Pi(e){const[t,r]=h.useState(BI());return Nt(()=>{e||r(n=>n??String(VI++))},[e]),e||(t?`radix-${t}`:"")}var WI=h.createContext(void 0);function Kd(e){const t=h.useContext(WI);return e||t||"ltr"}var uh="rovingFocusGroup.onEntryFocus",qI={bubbles:!1,cancelable:!0},Gd="RovingFocusGroup",[tp,Q1,HI]=$d(Gd),[KI,Qd]=UI(Gd,[HI]),[GI,QI]=KI(Gd),Y1=h.forwardRef((e,t)=>a.jsx(tp.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(tp.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(YI,{...e,ref:t})})}));Y1.displayName=Gd;var YI=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),y=Be(t,m),w=Kd(i),[p=null,x]=Ni({prop:o,defaultProp:l,onChange:c}),[v,g]=h.useState(!1),b=At(u),_=Q1(r),j=h.useRef(!1),[k,S]=h.useState(0);return h.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(uh,b),()=>N.removeEventListener(uh,b)},[b]),a.jsx(GI,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:p,onItemFocus:h.useCallback(N=>x(N),[x]),onItemShiftTab:h.useCallback(()=>g(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(N=>N+1),[]),onFocusableItemRemove:h.useCallback(()=>S(N=>N-1),[]),children:a.jsx(ue.div,{tabIndex:v||k===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{j.current=!0}),onFocus:ee(e.onFocus,N=>{const T=!j.current;if(N.target===N.currentTarget&&T&&!v){const O=new CustomEvent(uh,qI);if(N.currentTarget.dispatchEvent(O),!O.defaultPrevented){const F=_().filter($=>$.focusable),P=F.find($=>$.active),L=F.find($=>$.id===p),K=[P,L,...F].filter(Boolean).map($=>$.ref.current);J1(K,d)}}j.current=!1}),onBlur:ee(e.onBlur,()=>g(!1))})})}),Z1="RovingFocusGroupItem",X1=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,l=Pi(),c=i||l,u=QI(Z1,r),d=u.currentTabStopId===c,f=Q1(r),{onFocusableItemAdd:m,onFocusableItemRemove:y}=u;return h.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),a.jsx(tp.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(ue.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:ee(e.onMouseDown,w=>{n?u.onItemFocus(c):w.preventDefault()}),onFocus:ee(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ee(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=JI(w,u.orientation,u.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=f().filter(g=>g.focusable).map(g=>g.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const g=v.indexOf(w.currentTarget);v=u.loop?eM(v,g+1):v.slice(g+1)}setTimeout(()=>J1(v))}})})})});X1.displayName=Z1;var ZI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function JI(e,t,r){const n=XI(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ZI[n]}function J1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function eM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ej=Y1,tj=X1,Vg="Tabs",[tM,_5]=Bi(Vg,[Qd]),rj=Qd(),[rM,Wg]=tM(Vg),nj=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Kd(l),[f,m]=Ni({prop:n,onChange:s,defaultProp:i});return a.jsx(rM,{scope:r,baseId:Pi(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:a.jsx(ue.div,{dir:d,"data-orientation":o,...u,ref:t})})});nj.displayName=Vg;var sj="TabsList",ij=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Wg(sj,r),o=rj(r);return a.jsx(ej,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(ue.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});ij.displayName=sj;var oj="TabsTrigger",aj=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=Wg(oj,r),l=rj(r),c=uj(o.baseId,n),u=dj(o.baseId,n),d=n===o.value;return a.jsx(tj,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(ue.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ee(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ee(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});aj.displayName=oj;var lj="TabsContent",cj=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=Wg(lj,r),c=uj(l.baseId,n),u=dj(l.baseId,n),d=n===l.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Gs,{present:s||d,children:({present:m})=>a.jsx(ue.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});cj.displayName=lj;function uj(e,t){return`${e}-trigger-${t}`}function dj(e,t){return`${e}-content-${t}`}var nM=nj,fj=ij,hj=aj,mj=cj;const qg=nM,Yd=h.forwardRef(({className:e,...t},r)=>a.jsx(fj,{ref:r,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Yd.displayName=fj.displayName;const mr=h.forwardRef(({className:e,...t},r)=>a.jsx(hj,{ref:r,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mr.displayName=hj.displayName;const pr=h.forwardRef(({className:e,...t},r)=>a.jsx(mj,{ref:r,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pr.displayName=mj.displayName;const sM=Wd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?As:"button";return a.jsx(o,{className:te(sM({variant:t,size:r,className:e})),ref:i,...s})});pe.displayName="Button";const me=h.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));me.displayName="Input";var iM="Label",pj=h.forwardRef((e,t)=>a.jsx(ue.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));pj.displayName=iM;var gj=pj;const oM=Wd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=h.forwardRef(({className:e,...t},r)=>a.jsx(gj,{ref:r,className:te(oM(),e),...t}));Qe.displayName=gj.displayName;const aM=({email:e,setEmail:t})=>{const[r,n]=h.useState(""),[s,i]=h.useState(!1),{toast:o}=Pt(),l=async c=>{c.preventDefault(),i(!0);try{const{user:u,error:d}=await IO(e,r);d&&console.error("Login error:",d)}catch{o({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(!1)}};return a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"email",children:"Email"}),a.jsx(me,{id:"email",type:"email",value:e,onChange:c=>t(c.target.value),placeholder:"Your email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Qe,{htmlFor:"password",children:"Password"}),a.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})]}),a.jsx(me,{id:"password",type:"password",value:r,onChange:c=>n(c.target.value),placeholder:"Your password",required:!0})]}),a.jsx(pe,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(nl,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]})},lM=()=>{const[e,t]=h.useState(""),[r,n]=h.useState(""),[s,i]=h.useState(""),[o,l]=h.useState("");h.useState("customer");const[c,u]=h.useState(!1),{toast:d}=Pt();Fi();const f=async m=>{if(m.preventDefault(),!e||!r||!s){d({title:"Missing information",description:"Please fill in all fields",variant:"destructive"});return}if(s!==o){d({title:"Passwords don't match",description:"Please make sure your passwords match",variant:"destructive"});return}u(!0);try{const{user:y,error:w}=await MO(r,s,e);w?d({title:"Registration failed",description:w.message,variant:"destructive"}):(t(""),n(""),i(""),l(""),console.log("Registration successful, redirecting to login page"),window.location.href="/stock2store/login")}catch{d({title:"Registration failed",description:"An unexpected error occurred",variant:"destructive"})}finally{u(!1)}};return a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"name",children:"Name"}),a.jsx(me,{id:"name",type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"Your name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"email",children:"Email"}),a.jsx(me,{id:"email",type:"email",value:r,onChange:m=>n(m.target.value),placeholder:"Your email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"password",children:"Password"}),a.jsx(me,{id:"password",type:"password",value:s,onChange:m=>i(m.target.value),placeholder:"Create a password",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx(me,{id:"confirmPassword",type:"password",value:o,onChange:m=>l(m.target.value),placeholder:"Confirm your password",required:!0})]}),a.jsx(pe,{type:"submit",className:"w-full",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(nl,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})},cM=()=>{const[e,t]=h.useState("");return a.jsxs(ye,{className:"w-full max-w-md",children:[a.jsxs(Ce,{className:"space-y-1",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"text-3xl font-bold text-blue-700",children:"Stock2Store"})}),a.jsx(Ee,{className:"text-2xl text-center",children:"Welcome"}),a.jsx(Ze,{className:"text-center",children:"Sign in to your account or create a new one"})]}),a.jsx(be,{children:a.jsxs(qg,{defaultValue:"login",className:"w-full",children:[a.jsxs(Yd,{className:"grid w-full grid-cols-2",children:[a.jsx(mr,{value:"login",children:"Login"}),a.jsx(mr,{value:"register",children:"Register"})]}),a.jsx(pr,{value:"login",children:a.jsx(aM,{email:e,setEmail:t})}),a.jsx(pr,{value:"register",children:a.jsx(lM,{})})]})}),a.jsx(G1,{className:"flex flex-col space-y-4",children:a.jsx("div",{className:"text-sm text-center text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})},Dx=({message:e})=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{children:e})]})}),uM=()=>{const e=Fi(),{user:t,loading:r}=pn(),n=h.useRef(!1);return h.useEffect(()=>{!t&&!r&&(console.log("Cleaning up auth state on login page"),Hr())},[t,r]),h.useEffect(()=>{if(t&&!r&&!n.current){n.current=!0,console.log(`User authenticated with role: ${t.role}, redirecting...`);const i={customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"}[t.role]||"/store";console.log(`Redirecting ${t.role} user to ${i}`),e(i,{replace:!0})}},[t,e,r]),h.useEffect(()=>{t||(n.current=!1)},[t]),r?a.jsx(Dx,{message:"Checking authentication status..."}):t?a.jsx(Dx,{message:"Redirecting..."}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:a.jsx(cM,{})})};var Hg="Avatar",[dM,j5]=Bi(Hg),[fM,vj]=dM(Hg),yj=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=h.useState("idle");return a.jsx(fM,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(ue.span,{...n,ref:t})})});yj.displayName=Hg;var xj="AvatarImage",wj=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=vj(xj,r),l=hM(n,i.referrerPolicy),c=At(u=>{s(u),o.onImageLoadingStatusChange(u)});return Nt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(ue.img,{...i,ref:t,src:n}):null});wj.displayName=xj;var bj="AvatarFallback",_j=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=vj(bj,r),[o,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(ue.span,{...s,ref:t}):null});_j.displayName=bj;function hM(e,t){const[r,n]=h.useState("idle");return Nt(()=>{if(!e){n("error");return}let s=!0;const i=new window.Image,o=l=>()=>{s&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var jj=yj,Sj=wj,kj=_j;const Zd=h.forwardRef(({className:e,...t},r)=>a.jsx(jj,{ref:r,className:te("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Zd.displayName=jj.displayName;const Xd=h.forwardRef(({className:e,...t},r)=>a.jsx(Sj,{ref:r,className:te("aspect-square h-full w-full",e),...t}));Xd.displayName=Sj.displayName;const Jd=h.forwardRef(({className:e,...t},r)=>a.jsx(kj,{ref:r,className:te("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Jd.displayName=kj.displayName;const mM=({user:e})=>{const[t,r]=h.useState("");h.useEffect(()=>{(async()=>{try{const{data:i,error:o}=await W.from("profiles").select("avatar_url").eq("id",e.id).single();!o&&(i!=null&&i.avatar_url)&&r(i.avatar_url)}catch(i){console.error("Error fetching avatar:",i)}})()},[e.id]);const n=e.name?e.name.substring(0,2).toUpperCase():e.email?e.email.substring(0,2).toUpperCase():"US";return a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsxs(Zd,{children:[a.jsx(Xd,{src:t||e.avatar,alt:e.name||"User"}),a.jsx(Jd,{children:n})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e.name||e.email||"User"}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.role})]})]})},pM=[{name:"Warehouse",href:"/warehouse",icon:bt,roles:["admin","warehouse"]},{name:"Store",href:"/store",icon:tI,roles:["admin","customer","analyst","warehouse"]},{name:"Analytics",href:"/analytics",icon:Jm,roles:["admin","analyst"]},{name:"Users",href:"/users",icon:zg,roles:["admin"]},{name:"Shopping Cart",href:"/cart",icon:Fg,roles:["customer","admin","warehouse","analyst"]},{name:"Orders",href:"/orders",icon:qA,roles:["customer","admin","warehouse","analyst"]},{name:"Returns",href:"/returns",icon:Tl,roles:["customer","admin","warehouse","analyst"]},{name:"Profile",href:"/profile",icon:Ug,roles:["admin","warehouse","analyst","customer"]},{name:"Settings",href:"/settings",icon:ZA,roles:["admin","warehouse","analyst","customer"]}];function gM(e){return pM.filter(t=>t.roles.includes(e))}const vM=({name:e,href:t,icon:r,active:n})=>a.jsxs(ci,{to:t,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${n?"bg-blue-50 text-blue-700 dark:bg-blue-900/50 dark:text-blue-200":"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700/50"}`,children:[a.jsx(r,{size:20,className:`mr-3 ${n?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`}),e]}),yM=({userRole:e})=>{const t=Vn(),r=s=>t.pathname===s,n=gM(e);return a.jsx("nav",{className:"space-y-1 mt-4",children:n.map(s=>a.jsx(vM,{name:s.name,href:s.href,icon:s.icon,active:r(s.href)},s.name))})},xM=({user:e,sidebarOpen:t,setSidebarOpen:r,onSignOut:n})=>{const s=()=>({customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"})[e.role]||"/store";return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden ${t?"block":"hidden"}`,onClick:()=>r(!1)}),a.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 shadow-lg transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-50 flex flex-col`,children:[a.jsxs("div",{className:"flex items-center justify-between px-4 h-16 border-b border-gray-200 dark:border-gray-700",children:[a.jsx(ci,{to:s(),className:"flex items-center",children:a.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Stock2Store"})}),a.jsx("button",{className:"lg:hidden",onClick:()=>r(!1),children:a.jsx(Jl,{size:24,className:"text-gray-600 dark:text-gray-300"})})]}),a.jsxs("div",{className:"flex-1 px-4 py-4 overflow-y-auto",children:[a.jsx(mM,{user:e}),a.jsx(yM,{userRole:e.role})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:a.jsxs(pe,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",onClick:n,children:[a.jsx(KA,{size:20,className:"mr-2"}),"Log out"]})})]})]})};var dh=0;function Cj(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Lx()),document.body.insertAdjacentElement("beforeend",e[1]??Lx()),dh++,()=>{dh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dh--}},[])}function Lx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fh="focusScope.autoFocusOnMount",hh="focusScope.autoFocusOnUnmount",$x={bubbles:!1,cancelable:!0},wM="FocusScope",Kg=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),u=At(s),d=At(i),f=h.useRef(null),m=Be(t,p=>c(p)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let p=function(b){if(y.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Xn(f.current,{select:!0})},x=function(b){if(y.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Xn(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Xn(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),g.disconnect()}}},[n,l,y.paused]),h.useEffect(()=>{if(l){Ux.add(y);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(fh,$x);l.addEventListener(fh,u),l.dispatchEvent(v),v.defaultPrevented||(bM(CM(Ej(l)),{select:!0}),document.activeElement===p&&Xn(l))}return()=>{l.removeEventListener(fh,u),setTimeout(()=>{const v=new CustomEvent(hh,$x);l.addEventListener(hh,d),l.dispatchEvent(v),v.defaultPrevented||Xn(p??document.body,{select:!0}),l.removeEventListener(hh,d),Ux.remove(y)},0)}}},[l,u,d,y]);const w=h.useCallback(p=>{if(!r&&!n||y.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(x&&v){const g=p.currentTarget,[b,_]=_M(g);b&&_?!p.shiftKey&&v===_?(p.preventDefault(),r&&Xn(b,{select:!0})):p.shiftKey&&v===b&&(p.preventDefault(),r&&Xn(_,{select:!0})):v===g&&p.preventDefault()}},[r,n,y.paused]);return a.jsx(ue.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});Kg.displayName=wM;function bM(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Xn(n,{select:t}),document.activeElement!==r)return}function _M(e){const t=Ej(e),r=Fx(t,e),n=Fx(t.reverse(),e);return[r,n]}function Ej(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Fx(e,t){for(const r of e)if(!jM(r,{upTo:t}))return r}function jM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function SM(e){return e instanceof HTMLInputElement&&"select"in e}function Xn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&SM(e)&&t&&e.select()}}var Ux=kM();function kM(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=zx(e,t),e.unshift(t)},remove(t){var r;e=zx(e,t),(r=e[0])==null||r.resume()}}}function zx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function CM(e){return e.filter(t=>t.tagName!=="A")}const EM=["top","right","bottom","left"],Is=Math.min,gr=Math.max,Du=Math.round,Rc=Math.floor,Ms=e=>({x:e,y:e}),NM={left:"right",right:"left",bottom:"top",top:"bottom"},PM={start:"end",end:"start"};function rp(e,t,r){return gr(e,Is(t,r))}function Dn(e,t){return typeof e=="function"?e(t):e}function Ln(e){return e.split("-")[0]}function pa(e){return e.split("-")[1]}function Gg(e){return e==="x"?"y":"x"}function Qg(e){return e==="y"?"height":"width"}function Ds(e){return["top","bottom"].includes(Ln(e))?"y":"x"}function Yg(e){return Gg(Ds(e))}function TM(e,t,r){r===void 0&&(r=!1);const n=pa(e),s=Yg(e),i=Qg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Lu(o)),[o,Lu(o)]}function RM(e){const t=Lu(e);return[np(e),t,np(t)]}function np(e){return e.replace(/start|end/g,t=>PM[t])}function OM(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function AM(e,t,r,n){const s=pa(e);let i=OM(Ln(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(np)))),i}function Lu(e){return e.replace(/left|right|bottom|top/g,t=>NM[t])}function IM(e){return{top:0,right:0,bottom:0,left:0,...e}}function Nj(e){return typeof e!="number"?IM(e):{top:e,right:e,bottom:e,left:e}}function $u(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Bx(e,t,r){let{reference:n,floating:s}=e;const i=Ds(t),o=Yg(t),l=Qg(o),c=Ln(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:d,y:n.y-s.height};break;case"bottom":y={x:d,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-s.width,y:f};break;default:y={x:n.x,y:n.y}}switch(pa(t)){case"start":y[o]-=m*(r&&u?-1:1);break;case"end":y[o]+=m*(r&&u?-1:1);break}return y}const MM=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Bx(u,n,c),m=n,y={},w=0;for(let p=0;p<l.length;p++){const{name:x,fn:v}=l[p],{x:g,y:b,data:_,reset:j}=await v({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=b??f,y={...y,[x]:{...y[x],..._}},j&&w<=50&&(w++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=Bx(u,m,c)),p=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:y}};async function Rl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=Dn(t,e),w=Nj(y),x=l[m?f==="floating"?"reference":"floating":f],v=$u(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=$u(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(v.top-j.top+w.top)/_.y,bottom:(j.bottom-v.bottom+w.bottom)/_.y,left:(v.left-j.left+w.left)/_.x,right:(j.right-v.right+w.right)/_.x}}const DM=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Dn(e,t)||{};if(u==null)return{};const f=Nj(d),m={x:r,y:n},y=Yg(s),w=Qg(y),p=await o.getDimensions(u),x=y==="y",v=x?"top":"left",g=x?"bottom":"right",b=x?"clientHeight":"clientWidth",_=i.reference[w]+i.reference[y]-m[y]-i.floating[w],j=m[y]-i.reference[y],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=k?k[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(k)))&&(S=l.floating[b]||i.floating[w]);const N=_/2-j/2,T=S/2-p[w]/2-1,O=Is(f[v],T),F=Is(f[g],T),P=O,L=S-p[w]-F,D=S/2-p[w]/2+N,K=rp(P,D,L),$=!c.arrow&&pa(s)!=null&&D!==K&&i.reference[w]/2-(D<P?O:F)-p[w]/2<0,G=$?D<P?D-P:D-L:0;return{[y]:m[y]+G,data:{[y]:K,centerOffset:D-K-G,...$&&{alignmentOffset:G}},reset:$}}}),LM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:p=!0,...x}=Dn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Ln(s),g=Ds(l),b=Ln(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=m||(b||!p?[Lu(l)]:RM(l)),k=w!=="none";!m&&k&&j.push(...AM(l,p,w,_));const S=[l,...j],N=await Rl(t,x),T=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(N[v]),f){const D=TM(s,o,_);T.push(N[D[0]],N[D[1]])}if(O=[...O,{placement:s,overflows:T}],!T.every(D=>D<=0)){var F,P;const D=(((F=i.flip)==null?void 0:F.index)||0)+1,K=S[D];if(K)return{data:{index:D,overflows:O},reset:{placement:K}};let $=(P=O.filter(G=>G.overflows[0]<=0).sort((G,A)=>G.overflows[1]-A.overflows[1])[0])==null?void 0:P.placement;if(!$)switch(y){case"bestFit":{var L;const G=(L=O.filter(A=>{if(k){const I=Ds(A.placement);return I===g||I==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(I=>I>0).reduce((I,q)=>I+q,0)]).sort((A,I)=>A[1]-I[1])[0])==null?void 0:L[0];G&&($=G);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function Vx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wx(e){return EM.some(t=>e[t]>=0)}const $M=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Dn(e,t);switch(n){case"referenceHidden":{const i=await Rl(t,{...s,elementContext:"reference"}),o=Vx(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Wx(o)}}}case"escaped":{const i=await Rl(t,{...s,altBoundary:!0}),o=Vx(i,r.floating);return{data:{escapedOffsets:o,escaped:Wx(o)}}}default:return{}}}}};async function FM(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ln(r),l=pa(r),c=Ds(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=Dn(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*d,y:m*u}:{x:m*u,y:y*d}}const UM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await FM(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},zM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:v,y:g}=x;return{x:v,y:g}}},...c}=Dn(e,t),u={x:r,y:n},d=await Rl(t,c),f=Ds(Ln(s)),m=Gg(f);let y=u[m],w=u[f];if(i){const x=m==="y"?"top":"left",v=m==="y"?"bottom":"right",g=y+d[x],b=y-d[v];y=rp(g,y,b)}if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=w+d[x],b=w-d[v];w=rp(g,w,b)}const p=l.fn({...t,[m]:y,[f]:w});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[m]:i,[f]:o}}}}}},BM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Dn(e,t),d={x:r,y:n},f=Ds(s),m=Gg(f);let y=d[m],w=d[f];const p=Dn(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=m==="y"?"height":"width",_=i.reference[m]-i.floating[b]+x.mainAxis,j=i.reference[m]+i.reference[b]-x.mainAxis;y<_?y=_:y>j&&(y=j)}if(u){var v,g;const b=m==="y"?"width":"height",_=["top","left"].includes(Ln(s)),j=i.reference[f]-i.floating[b]+(_&&((v=o.offset)==null?void 0:v[f])||0)+(_?0:x.crossAxis),k=i.reference[f]+i.reference[b]+(_?0:((g=o.offset)==null?void 0:g[f])||0)-(_?x.crossAxis:0);w<j?w=j:w>k&&(w=k)}return{[m]:y,[f]:w}}}},VM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Dn(e,t),d=await Rl(t,u),f=Ln(s),m=pa(s),y=Ds(s)==="y",{width:w,height:p}=i.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,x=m==="end"?"top":"bottom");const g=p-d.top-d.bottom,b=w-d.left-d.right,_=Is(p-d[x],g),j=Is(w-d[v],b),k=!t.middlewareData.shift;let S=_,N=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=g),k&&!m){const O=gr(d.left,0),F=gr(d.right,0),P=gr(d.top,0),L=gr(d.bottom,0);y?N=w-2*(O!==0||F!==0?O+F:gr(d.left,d.right)):S=p-2*(P!==0||L!==0?P+L:gr(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:S});const T=await o.getDimensions(l.floating);return w!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function ef(){return typeof window<"u"}function ga(e){return Pj(e)?(e.nodeName||"").toLowerCase():"#document"}function xr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gn(e){var t;return(t=(Pj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pj(e){return ef()?e instanceof Node||e instanceof xr(e).Node:!1}function Gr(e){return ef()?e instanceof Element||e instanceof xr(e).Element:!1}function hn(e){return ef()?e instanceof HTMLElement||e instanceof xr(e).HTMLElement:!1}function qx(e){return!ef()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xr(e).ShadowRoot}function ec(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function WM(e){return["table","td","th"].includes(ga(e))}function tf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Zg(e){const t=Xg(),r=Gr(e)?Qr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function qM(e){let t=Ls(e);for(;hn(t)&&!ra(t);){if(Zg(t))return t;if(tf(t))return null;t=Ls(t)}return null}function Xg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ra(e){return["html","body","#document"].includes(ga(e))}function Qr(e){return xr(e).getComputedStyle(e)}function rf(e){return Gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ls(e){if(ga(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qx(e)&&e.host||gn(e);return qx(t)?t.host:t}function Tj(e){const t=Ls(e);return ra(t)?e.ownerDocument?e.ownerDocument.body:e.body:hn(t)&&ec(t)?t:Tj(t)}function Ol(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Tj(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=xr(s);if(i){const l=sp(o);return t.concat(o,o.visualViewport||[],ec(s)?s:[],l&&r?Ol(l):[])}return t.concat(s,Ol(s,[],r))}function sp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Rj(e){const t=Qr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=hn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Du(r)!==i||Du(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Jg(e){return Gr(e)?e:e.contextElement}function To(e){const t=Jg(e);if(!hn(t))return Ms(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=Rj(t);let o=(i?Du(r.width):r.width)/n,l=(i?Du(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const HM=Ms(0);function Oj(e){const t=xr(e);return!Xg()||!t.visualViewport?HM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KM(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==xr(e)?!1:t}function Ti(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Jg(e);let o=Ms(1);t&&(n?Gr(n)&&(o=To(n)):o=To(e));const l=KM(i,r,n)?Oj(i):Ms(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=xr(i),y=n&&Gr(n)?xr(n):n;let w=m,p=sp(w);for(;p&&n&&y!==w;){const x=To(p),v=p.getBoundingClientRect(),g=Qr(p),b=v.left+(p.clientLeft+parseFloat(g.paddingLeft))*x.x,_=v.top+(p.clientTop+parseFloat(g.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=_,w=xr(p),p=sp(w)}}return $u({width:d,height:f,x:c,y:u})}function GM(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=gn(n),l=t?tf(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ms(1);const d=Ms(0),f=hn(n);if((f||!f&&!i)&&((ga(n)!=="body"||ec(o))&&(c=rf(n)),hn(n))){const m=Ti(n);u=To(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function QM(e){return Array.from(e.getClientRects())}function ip(e,t){const r=rf(e).scrollLeft;return t?t.left+r:Ti(gn(e)).left+r}function YM(e){const t=gn(e),r=rf(e),n=e.ownerDocument.body,s=gr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=gr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ip(e);const l=-r.scrollTop;return Qr(n).direction==="rtl"&&(o+=gr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function ZM(e,t){const r=xr(e),n=gn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=Xg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function XM(e,t){const r=Ti(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=hn(e)?To(e):Ms(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function Hx(e,t,r){let n;if(t==="viewport")n=ZM(e,r);else if(t==="document")n=YM(gn(e));else if(Gr(t))n=XM(t,r);else{const s=Oj(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return $u(n)}function Aj(e,t){const r=Ls(e);return r===t||!Gr(r)||ra(r)?!1:Qr(r).position==="fixed"||Aj(r,t)}function JM(e,t){const r=t.get(e);if(r)return r;let n=Ol(e,[],!1).filter(l=>Gr(l)&&ga(l)!=="body"),s=null;const i=Qr(e).position==="fixed";let o=i?Ls(e):e;for(;Gr(o)&&!ra(o);){const l=Qr(o),c=Zg(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ec(o)&&!c&&Aj(e,o))?n=n.filter(d=>d!==o):s=l,o=Ls(o)}return t.set(e,n),n}function eD(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?tf(t)?[]:JM(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Hx(t,d,s);return u.top=gr(f.top,u.top),u.right=Is(f.right,u.right),u.bottom=Is(f.bottom,u.bottom),u.left=gr(f.left,u.left),u},Hx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tD(e){const{width:t,height:r}=Rj(e);return{width:t,height:r}}function rD(e,t,r){const n=hn(t),s=gn(t),i=r==="fixed",o=Ti(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ms(0);if(n||!n&&!i)if((ga(t)!=="body"||ec(s))&&(l=rf(t)),n){const y=Ti(t,!0,i,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&(c.x=ip(s));let u=0,d=0;if(s&&!n&&!i){const y=s.getBoundingClientRect();d=y.top+l.scrollTop,u=y.left+l.scrollLeft-ip(s,y)}const f=o.left+l.scrollLeft-c.x-u,m=o.top+l.scrollTop-c.y-d;return{x:f,y:m,width:o.width,height:o.height}}function mh(e){return Qr(e).position==="static"}function Kx(e,t){if(!hn(e)||Qr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return gn(e)===r&&(r=r.ownerDocument.body),r}function Ij(e,t){const r=xr(e);if(tf(e))return r;if(!hn(e)){let s=Ls(e);for(;s&&!ra(s);){if(Gr(s)&&!mh(s))return s;s=Ls(s)}return r}let n=Kx(e,t);for(;n&&WM(n)&&mh(n);)n=Kx(n,t);return n&&ra(n)&&mh(n)&&!Zg(n)?r:n||qM(e)||r}const nD=async function(e){const t=this.getOffsetParent||Ij,r=this.getDimensions,n=await r(e.floating);return{reference:rD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function sD(e){return Qr(e).direction==="rtl"}const iD={convertOffsetParentRelativeRectToViewportRelativeRect:GM,getDocumentElement:gn,getClippingRect:eD,getOffsetParent:Ij,getElementRects:nD,getClientRects:QM,getDimensions:tD,getScale:To,isElement:Gr,isRTL:sD};function oD(e,t){let r=null,n;const s=gn(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const y=Rc(d),w=Rc(s.clientWidth-(u+f)),p=Rc(s.clientHeight-(d+m)),x=Rc(u),g={rootMargin:-y+"px "+-w+"px "+-p+"px "+-x+"px",threshold:gr(0,Is(1,c))||1};let b=!0;function _(j){const k=j[0].intersectionRatio;if(k!==c){if(!b)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(_,{...g,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,g)}r.observe(e)}return o(!0),i}function aD(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Jg(e),d=s||i?[...u?Ol(u):[],...Ol(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&l?oD(u,r):null;let m=-1,y=null;o&&(y=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(t)})),r()}),u&&!c&&y.observe(u),y.observe(t));let w,p=c?Ti(e):null;c&&x();function x(){const v=Ti(e);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&r(),p=v,w=requestAnimationFrame(x)}return r(),()=>{var v;d.forEach(g=>{s&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),f==null||f(),(v=y)==null||v.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const lD=UM,cD=zM,uD=LM,dD=VM,fD=$M,Gx=DM,hD=BM,mD=(e,t,r)=>{const n=new Map,s={platform:iD,...r},i={...s.platform,_c:n};return MM(e,t,{...s,platform:i})};var ru=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Fu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Fu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Fu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Mj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qx(e,t){const r=Mj(e);return Math.round(t*r)/r}function ph(e){const t=h.useRef(e);return ru(()=>{t.current=e}),t}function pD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=h.useState(n);Fu(m,n)||y(n);const[w,p]=h.useState(null),[x,v]=h.useState(null),g=h.useCallback(A=>{A!==k.current&&(k.current=A,p(A))},[]),b=h.useCallback(A=>{A!==S.current&&(S.current=A,v(A))},[]),_=i||w,j=o||x,k=h.useRef(null),S=h.useRef(null),N=h.useRef(d),T=c!=null,O=ph(c),F=ph(s),P=ph(u),L=h.useCallback(()=>{if(!k.current||!S.current)return;const A={placement:t,strategy:r,middleware:m};F.current&&(A.platform=F.current),mD(k.current,S.current,A).then(I=>{const q={...I,isPositioned:P.current!==!1};D.current&&!Fu(N.current,q)&&(N.current=q,Ws.flushSync(()=>{f(q)}))})},[m,t,r,F,P]);ru(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const D=h.useRef(!1);ru(()=>(D.current=!0,()=>{D.current=!1}),[]),ru(()=>{if(_&&(k.current=_),j&&(S.current=j),_&&j){if(O.current)return O.current(_,j,L);L()}},[_,j,L,O,T]);const K=h.useMemo(()=>({reference:k,floating:S,setReference:g,setFloating:b}),[g,b]),$=h.useMemo(()=>({reference:_,floating:j}),[_,j]),G=h.useMemo(()=>{const A={position:r,left:0,top:0};if(!$.floating)return A;const I=Qx($.floating,d.x),q=Qx($.floating,d.y);return l?{...A,transform:"translate("+I+"px, "+q+"px)",...Mj($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:q}},[r,l,$.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:L,refs:K,elements:$,floatingStyles:G}),[d,L,K,$,G])}const gD=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Gx({element:n.current,padding:s}).fn(r):{}:n?Gx({element:n,padding:s}).fn(r):{}}}},vD=(e,t)=>({...lD(e),options:[e,t]}),yD=(e,t)=>({...cD(e),options:[e,t]}),xD=(e,t)=>({...hD(e),options:[e,t]}),wD=(e,t)=>({...uD(e),options:[e,t]}),bD=(e,t)=>({...dD(e),options:[e,t]}),_D=(e,t)=>({...fD(e),options:[e,t]}),jD=(e,t)=>({...gD(e),options:[e,t]});var SD="Arrow",Dj=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(ue.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dj.displayName=SD;var kD=Dj;function CD(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:m,children:y,...w}=f,p=(m==null?void 0:m[e][c])||l,x=h.useMemo(()=>w,Object.values(w));return a.jsx(p.Provider,{value:x,children:y})}function d(f,m){const y=(m==null?void 0:m[e][c])||l,w=h.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,ED(s,...t)]}function ED(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Lj(e){const[t,r]=h.useState(void 0);return Nt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ev="Popper",[$j,nf]=CD(ev),[ND,Fj]=$j(ev),Uj=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return a.jsx(ND,{scope:t,anchor:n,onAnchorChange:s,children:r})};Uj.displayName=ev;var zj="PopperAnchor",Bj=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=Fj(zj,r),o=h.useRef(null),l=Be(t,o);return h.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(ue.div,{...s,ref:l})});Bj.displayName=zj;var tv="PopperContent",[PD,TD]=$j(tv),Vj=h.forwardRef((e,t)=>{var re,Re,Le,Oe,Ae,Ie;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:w,...p}=e,x=Fj(tv,r),[v,g]=h.useState(null),b=Be(t,It=>g(It)),[_,j]=h.useState(null),k=Lj(_),S=(k==null?void 0:k.width)??0,N=(k==null?void 0:k.height)??0,T=n+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],P=F.length>0,L={padding:O,boundary:F.filter(OD),altBoundary:P},{refs:D,floatingStyles:K,placement:$,isPositioned:G,middlewareData:A}=pD({strategy:"fixed",placement:T,whileElementsMounted:(...It)=>aD(...It,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[vD({mainAxis:s+N,alignmentAxis:o}),c&&yD({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?xD():void 0,...L}),c&&wD({...L}),bD({...L,apply:({elements:It,rects:cr,availableWidth:qi,availableHeight:Hi})=>{const{width:Ki,height:E}=cr.reference,R=It.floating.style;R.setProperty("--radix-popper-available-width",`${qi}px`),R.setProperty("--radix-popper-available-height",`${Hi}px`),R.setProperty("--radix-popper-anchor-width",`${Ki}px`),R.setProperty("--radix-popper-anchor-height",`${E}px`)}}),_&&jD({element:_,padding:l}),AD({arrowWidth:S,arrowHeight:N}),m&&_D({strategy:"referenceHidden",...L})]}),[I,q]=Hj($),ne=At(w);Nt(()=>{G&&(ne==null||ne())},[G,ne]);const ge=(re=A.arrow)==null?void 0:re.x,ut=(Re=A.arrow)==null?void 0:Re.y,Ve=((Le=A.arrow)==null?void 0:Le.centerOffset)!==0,[zt,He]=h.useState();return Nt(()=>{v&&He(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:G?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:zt,"--radix-popper-transform-origin":[(Oe=A.transformOrigin)==null?void 0:Oe.x,(Ae=A.transformOrigin)==null?void 0:Ae.y].join(" "),...((Ie=A.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(PD,{scope:r,placedSide:I,onArrowChange:j,arrowX:ge,arrowY:ut,shouldHideArrow:Ve,children:a.jsx(ue.div,{"data-side":I,"data-align":q,...p,ref:b,style:{...p.style,animation:G?void 0:"none"}})})})});Vj.displayName=tv;var Wj="PopperArrow",RD={top:"bottom",right:"left",bottom:"top",left:"right"},qj=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=TD(Wj,n),o=RD[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(kD,{...s,ref:r,style:{...s.style,display:"block"}})})});qj.displayName=Wj;function OD(e){return e!==null}var AD=e=>({name:"transformOrigin",options:e,fn(t){var x,v,g;const{placement:r,rects:n,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=Hj(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,y=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",p="";return u==="bottom"?(w=o?f:`${m}px`,p=`${-c}px`):u==="top"?(w=o?f:`${m}px`,p=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,p=o?f:`${y}px`):u==="left"&&(w=`${n.floating.width+c}px`,p=o?f:`${y}px`),{data:{x:w,y:p}}}});function Hj(e){const[t,r="center"]=e.split("-");return[t,r]}var Kj=Uj,Gj=Bj,Qj=Vj,Yj=qj,ID=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xi=new WeakMap,Oc=new WeakMap,Ac={},gh=0,Zj=function(e){return e&&(e.host||Zj(e.parentNode))},MD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Zj(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},DD=function(e,t,r,n){var s=MD(t,Array.isArray(e)?e:[e]);Ac[r]||(Ac[r]=new WeakMap);var i=Ac[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var y=m.getAttribute(n),w=y!==null&&y!=="false",p=(Xi.get(m)||0)+1,x=(i.get(m)||0)+1;Xi.set(m,p),i.set(m,x),o.push(m),p===1&&w&&Oc.set(m,!0),x===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(t),l.clear(),gh++,function(){o.forEach(function(f){var m=Xi.get(f)-1,y=i.get(f)-1;Xi.set(f,m),i.set(f,y),m||(Oc.has(f)||f.removeAttribute(n),Oc.delete(f)),y||f.removeAttribute(r)}),gh--,gh||(Xi=new WeakMap,Xi=new WeakMap,Oc=new WeakMap,Ac={})}},rv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=ID(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),DD(n,s,r,"aria-hidden")):function(){return null}},Ft=function(){return Ft=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ft.apply(this,arguments)};function nv(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Xj(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var sl="right-scroll-bar-position",il="width-before-scroll-bar",LD="with-scroll-bars-hidden",$D="--removed-body-scroll-bar-size";function vh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FD(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var UD=typeof window<"u"?h.useLayoutEffect:h.useEffect,Yx=new WeakMap;function Jj(e,t){var r=FD(null,function(n){return e.forEach(function(s){return vh(s,n)})});return UD(function(){var n=Yx.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||vh(l,null)}),i.forEach(function(l){s.has(l)||vh(l,o)})}Yx.set(r,e)},[e]),r}function zD(e){return e}function BD(e,t){t===void 0&&(t=zD);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function eS(e){e===void 0&&(e={});var t=BD(null);return t.options=Ft({async:!0,ssr:!1},e),t}var tS=function(e){var t=e.sideCar,r=nv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,Ft({},r))};tS.isSideCarExport=!0;function rS(e,t){return e.useMedium(t),tS}var nS=eS(),yh=function(){},sf=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:yh,onWheelCapture:yh,onTouchMoveCapture:yh}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,y=e.noIsolation,w=e.inert,p=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,g=e.gapMode,b=nv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,j=Jj([r,t]),k=Ft(Ft({},b),s);return h.createElement(h.Fragment,null,d&&h.createElement(_,{sideCar:nS,removeScrollBar:u,shards:f,noIsolation:y,inert:w,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:g}),o?h.cloneElement(h.Children.only(l),Ft(Ft({},k),{ref:j})):h.createElement(v,Ft({},k,{className:c,ref:j}),l))});sf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sf.classNames={fullWidth:il,zeroRight:sl};var VD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VD();return t&&e.setAttribute("nonce",t),e}function qD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function HD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var KD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=WD())&&(qD(t,r),HD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GD=function(){var e=KD();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},sv=function(){var e=GD(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},QD={left:0,top:0,right:0,gap:0},xh=function(e){return parseInt(e||"",10)||0},YD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[xh(r),xh(n),xh(s)]},ZD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QD;var t=YD(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},XD=sv(),Ro="data-scroll-locked",JD=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(LD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ro,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sl,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(il,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(sl," .").concat(sl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(il," .").concat(il,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ro,`] {
    `).concat($D,": ").concat(l,`px;
  }
`)},Zx=function(){var e=parseInt(document.body.getAttribute(Ro)||"0",10);return isFinite(e)?e:0},eL=function(){h.useEffect(function(){return document.body.setAttribute(Ro,(Zx()+1).toString()),function(){var e=Zx()-1;e<=0?document.body.removeAttribute(Ro):document.body.setAttribute(Ro,e.toString())}},[])},sS=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;eL();var i=h.useMemo(function(){return ZD(s)},[s]);return h.createElement(XD,{styles:JD(i,!t,s,r?"":"!important")})},op=!1;if(typeof window<"u")try{var Ic=Object.defineProperty({},"passive",{get:function(){return op=!0,!0}});window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{op=!1}var Ji=op?{passive:!1}:!1,tL=function(e){return e.tagName==="TEXTAREA"},iS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!tL(e)&&r[t]==="visible")},rL=function(e){return iS(e,"overflowY")},nL=function(e){return iS(e,"overflowX")},Xx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=oS(e,n);if(s){var i=aS(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},sL=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},iL=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},oS=function(e,t){return e==="v"?rL(t):nL(t)},aS=function(e,t){return e==="v"?sL(t):iL(t)},oL=function(e,t){return e==="h"&&t==="rtl"?-1:1},aL=function(e,t,r,n,s){var i=oL(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{var y=aS(e,l),w=y[0],p=y[1],x=y[2],v=p-x-i*w;(w||v)&&oS(e,l)&&(f+=v,m+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},Mc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Jx=function(e){return[e.deltaX,e.deltaY]},e0=function(e){return e&&"current"in e?e.current:e},lL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},uL=0,eo=[];function dL(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(uL++)[0],i=h.useState(sv)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Xj([e.lockRef.current],(e.shards||[]).map(e0),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var v=Mc(p),g=r.current,b="deltaX"in p?p.deltaX:g[0]-v[0],_="deltaY"in p?p.deltaY:g[1]-v[1],j,k=p.target,S=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&S==="h"&&k.type==="range")return!1;var N=Xx(S,k);if(!N)return!0;if(N?j=S:(j=S==="v"?"h":"v",N=Xx(S,k)),!N)return!1;if(!n.current&&"changedTouches"in p&&(b||_)&&(n.current=j),!j)return!0;var T=n.current||j;return aL(T,x,p,T==="h"?b:_,!0)},[]),c=h.useCallback(function(p){var x=p;if(!(!eo.length||eo[eo.length-1]!==i)){var v="deltaY"in x?Jx(x):Mc(x),g=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&lL(j.delta,v)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var b=(o.current.shards||[]).map(e0).filter(Boolean).filter(function(j){return j.contains(x.target)}),_=b.length>0?l(x,b[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=h.useCallback(function(p,x,v,g){var b={name:p,delta:x,target:v,should:g,shadowParent:fL(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=h.useCallback(function(p){r.current=Mc(p),n.current=void 0},[]),f=h.useCallback(function(p){u(p.type,Jx(p),p.target,l(p,e.lockRef.current))},[]),m=h.useCallback(function(p){u(p.type,Mc(p),p.target,l(p,e.lockRef.current))},[]);h.useEffect(function(){return eo.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ji),document.addEventListener("touchmove",c,Ji),document.addEventListener("touchstart",d,Ji),function(){eo=eo.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Ji),document.removeEventListener("touchmove",c,Ji),document.removeEventListener("touchstart",d,Ji)}},[]);var y=e.removeScrollBar,w=e.inert;return h.createElement(h.Fragment,null,w?h.createElement(i,{styles:cL(s)}):null,y?h.createElement(sS,{gapMode:e.gapMode}):null)}function fL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hL=rS(nS,dL);var iv=h.forwardRef(function(e,t){return h.createElement(sf,Ft({},e,{ref:t,sideCar:hL}))});iv.classNames=sf.classNames;var ap=["Enter"," "],mL=["ArrowDown","PageUp","Home"],lS=["ArrowUp","PageDown","End"],pL=[...mL,...lS],gL={ltr:[...ap,"ArrowRight"],rtl:[...ap,"ArrowLeft"]},vL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tc="Menu",[Al,yL,xL]=$d(tc),[Vi,cS]=Bi(tc,[xL,nf,Qd]),of=nf(),uS=Qd(),[wL,Wi]=Vi(tc),[bL,rc]=Vi(tc),dS=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=of(t),[c,u]=h.useState(null),d=h.useRef(!1),f=At(i),m=Kd(s);return h.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(Kj,{...l,children:a.jsx(wL,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(bL,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};dS.displayName=tc;var _L="MenuAnchor",ov=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=of(r);return a.jsx(Gj,{...s,...n,ref:t})});ov.displayName=_L;var av="MenuPortal",[jL,fS]=Vi(av,{forceMount:void 0}),hS=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Wi(av,t);return a.jsx(jL,{scope:t,forceMount:r,children:a.jsx(Gs,{present:r||i.open,children:a.jsx(Ud,{asChild:!0,container:s,children:n})})})};hS.displayName=av;var Tr="MenuContent",[SL,lv]=Vi(Tr),mS=h.forwardRef((e,t)=>{const r=fS(Tr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Wi(Tr,e.__scopeMenu),o=rc(Tr,e.__scopeMenu);return a.jsx(Al.Provider,{scope:e.__scopeMenu,children:a.jsx(Gs,{present:n||i.open,children:a.jsx(Al.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(kL,{...s,ref:t}):a.jsx(CL,{...s,ref:t})})})})}),kL=h.forwardRef((e,t)=>{const r=Wi(Tr,e.__scopeMenu),n=h.useRef(null),s=Be(t,n);return h.useEffect(()=>{const i=n.current;if(i)return rv(i)},[]),a.jsx(cv,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ee(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),CL=h.forwardRef((e,t)=>{const r=Wi(Tr,e.__scopeMenu);return a.jsx(cv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),cv=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:y,disableOutsideScroll:w,...p}=e,x=Wi(Tr,r),v=rc(Tr,r),g=of(r),b=uS(r),_=yL(r),[j,k]=h.useState(null),S=h.useRef(null),N=Be(t,S,x.onContentChange),T=h.useRef(0),O=h.useRef(""),F=h.useRef(0),P=h.useRef(null),L=h.useRef("right"),D=h.useRef(0),K=w?iv:h.Fragment,$=w?{as:As,allowPinchZoom:!0}:void 0,G=I=>{var re,Re;const q=O.current+I,ne=_().filter(Le=>!Le.disabled),ge=document.activeElement,ut=(re=ne.find(Le=>Le.ref.current===ge))==null?void 0:re.textValue,Ve=ne.map(Le=>Le.textValue),zt=$L(Ve,q,ut),He=(Re=ne.find(Le=>Le.textValue===zt))==null?void 0:Re.ref.current;(function Le(Oe){O.current=Oe,window.clearTimeout(T.current),Oe!==""&&(T.current=window.setTimeout(()=>Le(""),1e3))})(q),He&&setTimeout(()=>He.focus())};h.useEffect(()=>()=>window.clearTimeout(T.current),[]),Cj();const A=h.useCallback(I=>{var ne,ge;return L.current===((ne=P.current)==null?void 0:ne.side)&&UL(I,(ge=P.current)==null?void 0:ge.area)},[]);return a.jsx(SL,{scope:r,searchRef:O,onItemEnter:h.useCallback(I=>{A(I)&&I.preventDefault()},[A]),onItemLeave:h.useCallback(I=>{var q;A(I)||((q=S.current)==null||q.focus(),k(null))},[A]),onTriggerLeave:h.useCallback(I=>{A(I)&&I.preventDefault()},[A]),pointerGraceTimerRef:F,onPointerGraceIntentChange:h.useCallback(I=>{P.current=I},[]),children:a.jsx(K,{...$,children:a.jsx(Kg,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,I=>{var q;I.preventDefault(),(q=S.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:y,children:a.jsx(ej,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:ee(c,I=>{v.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Qj,{role:"menu","aria-orientation":"vertical","data-state":TS(x.open),"data-radix-menu-content":"",dir:v.dir,...g,...p,ref:N,style:{outline:"none",...p.style},onKeyDown:ee(p.onKeyDown,I=>{const ne=I.target.closest("[data-radix-menu-content]")===I.currentTarget,ge=I.ctrlKey||I.altKey||I.metaKey,ut=I.key.length===1;ne&&(I.key==="Tab"&&I.preventDefault(),!ge&&ut&&G(I.key));const Ve=S.current;if(I.target!==Ve||!pL.includes(I.key))return;I.preventDefault();const He=_().filter(re=>!re.disabled).map(re=>re.ref.current);lS.includes(I.key)&&He.reverse(),DL(He)}),onBlur:ee(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(T.current),O.current="")}),onPointerMove:ee(e.onPointerMove,Il(I=>{const q=I.target,ne=D.current!==I.clientX;if(I.currentTarget.contains(q)&&ne){const ge=I.clientX>D.current?"right":"left";L.current=ge,D.current=I.clientX}}))})})})})})})});mS.displayName=Tr;var EL="MenuGroup",uv=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{role:"group",...n,ref:t})});uv.displayName=EL;var NL="MenuLabel",pS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});pS.displayName=NL;var Uu="MenuItem",t0="menu.itemSelect",af=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=h.useRef(null),o=rc(Uu,e.__scopeMenu),l=lv(Uu,e.__scopeMenu),c=Be(t,i),u=h.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(t0,{bubbles:!0,cancelable:!0});f.addEventListener(t0,y=>n==null?void 0:n(y),{once:!0}),Mg(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(gS,{...s,ref:c,disabled:r,onClick:ee(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:ee(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ee(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||ap.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});af.displayName=Uu;var gS=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=lv(Uu,r),l=uS(r),c=h.useRef(null),u=Be(t,c),[d,f]=h.useState(!1),[m,y]=h.useState("");return h.useEffect(()=>{const w=c.current;w&&y((w.textContent??"").trim())},[i.children]),a.jsx(Al.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:a.jsx(tj,{asChild:!0,...l,focusable:!n,children:a.jsx(ue.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:ee(e.onPointerMove,Il(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(e.onPointerLeave,Il(w=>o.onItemLeave(w))),onFocus:ee(e.onFocus,()=>f(!0)),onBlur:ee(e.onBlur,()=>f(!1))})})})}),PL="MenuCheckboxItem",vS=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(_S,{scope:e.__scopeMenu,checked:r,children:a.jsx(af,{role:"menuitemcheckbox","aria-checked":zu(r)?"mixed":r,...s,ref:t,"data-state":fv(r),onSelect:ee(s.onSelect,()=>n==null?void 0:n(zu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});vS.displayName=PL;var yS="MenuRadioGroup",[TL,RL]=Vi(yS,{value:void 0,onValueChange:()=>{}}),xS=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=At(n);return a.jsx(TL,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(uv,{...s,ref:t})})});xS.displayName=yS;var wS="MenuRadioItem",bS=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=RL(wS,e.__scopeMenu),i=r===s.value;return a.jsx(_S,{scope:e.__scopeMenu,checked:i,children:a.jsx(af,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":fv(i),onSelect:ee(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});bS.displayName=wS;var dv="MenuItemIndicator",[_S,OL]=Vi(dv,{checked:!1}),jS=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=OL(dv,r);return a.jsx(Gs,{present:n||zu(i.checked)||i.checked===!0,children:a.jsx(ue.span,{...s,ref:t,"data-state":fv(i.checked)})})});jS.displayName=dv;var AL="MenuSeparator",SS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});SS.displayName=AL;var IL="MenuArrow",kS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=of(r);return a.jsx(Yj,{...s,...n,ref:t})});kS.displayName=IL;var ML="MenuSub",[S5,CS]=Vi(ML),Fa="MenuSubTrigger",ES=h.forwardRef((e,t)=>{const r=Wi(Fa,e.__scopeMenu),n=rc(Fa,e.__scopeMenu),s=CS(Fa,e.__scopeMenu),i=lv(Fa,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(ov,{asChild:!0,...u,children:a.jsx(gS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":TS(r.open),...e,ref:Ld(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ee(e.onPointerMove,Il(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ee(e.onPointerLeave,Il(f=>{var y,w;d();const m=(y=r.content)==null?void 0:y.getBoundingClientRect();if(m){const p=(w=r.content)==null?void 0:w.dataset.side,x=p==="right",v=x?-5:5,g=m[x?"left":"right"],b=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:g,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:g,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(e.onKeyDown,f=>{var y;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||gL[n.dir].includes(f.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),f.preventDefault())})})})});ES.displayName=Fa;var NS="MenuSubContent",PS=h.forwardRef((e,t)=>{const r=fS(Tr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Wi(Tr,e.__scopeMenu),o=rc(Tr,e.__scopeMenu),l=CS(NS,e.__scopeMenu),c=h.useRef(null),u=Be(t,c);return a.jsx(Al.Provider,{scope:e.__scopeMenu,children:a.jsx(Gs,{present:n||i.open,children:a.jsx(Al.Slot,{scope:e.__scopeMenu,children:a.jsx(cv,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ee(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ee(e.onKeyDown,d=>{var y;const f=d.currentTarget.contains(d.target),m=vL[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),d.preventDefault())})})})})})});PS.displayName=NS;function TS(e){return e?"open":"closed"}function zu(e){return e==="indeterminate"}function fv(e){return zu(e)?"indeterminate":e?"checked":"unchecked"}function DL(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function LL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function $L(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=LL(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function FL(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function UL(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return FL(r,t)}function Il(e){return t=>t.pointerType==="mouse"?e(t):void 0}var zL=dS,BL=ov,VL=hS,WL=mS,qL=uv,HL=pS,KL=af,GL=vS,QL=xS,YL=bS,ZL=jS,XL=SS,JL=kS,e$=ES,t$=PS,hv="DropdownMenu",[r$,k5]=Bi(hv,[cS]),Yt=cS(),[n$,RS]=r$(hv),OS=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Yt(t),u=h.useRef(null),[d=!1,f]=Ni({prop:s,defaultProp:i,onChange:o});return a.jsx(n$,{scope:t,triggerId:Pi(),triggerRef:u,contentId:Pi(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(zL,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};OS.displayName=hv;var AS="DropdownMenuTrigger",IS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=RS(AS,r),o=Yt(r);return a.jsx(BL,{asChild:!0,...o,children:a.jsx(ue.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Ld(t,i.triggerRef),onPointerDown:ee(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ee(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});IS.displayName=AS;var s$="DropdownMenuPortal",MS=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Yt(t);return a.jsx(VL,{...n,...r})};MS.displayName=s$;var DS="DropdownMenuContent",LS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=RS(DS,r),i=Yt(r),o=h.useRef(!1);return a.jsx(WL,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:ee(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ee(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LS.displayName=DS;var i$="DropdownMenuGroup",o$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Yt(r);return a.jsx(qL,{...s,...n,ref:t})});o$.displayName=i$;var a$="DropdownMenuLabel",$S=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Yt(r);return a.jsx(HL,{...s,...n,ref:t})});$S.displayName=a$;var l$="DropdownMenuItem",FS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Yt(r);return a.jsx(KL,{...s,...n,ref:t})});FS.displayName=l$;var c$="DropdownMenuCheckboxItem",US=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Yt(r);return a.jsx(GL,{...s,...n,ref:t})});US.displayName=c$;var u$="DropdownMenuRadioGroup",d$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Yt(r);return a.jsx(QL,{...s,...n,ref:t})});d$.displayName=u$;var f$="DropdownMenuRadioItem",zS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Yt(r);return a.jsx(YL,{...s,...n,ref:t})});zS.displayName=f$;var h$="DropdownMenuItemIndicator",BS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Yt(r);return a.jsx(ZL,{...s,...n,ref:t})});BS.displayName=h$;var m$="DropdownMenuSeparator",VS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Yt(r);return a.jsx(XL,{...s,...n,ref:t})});VS.displayName=m$;var p$="DropdownMenuArrow",g$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Yt(r);return a.jsx(JL,{...s,...n,ref:t})});g$.displayName=p$;var v$="DropdownMenuSubTrigger",WS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Yt(r);return a.jsx(e$,{...s,...n,ref:t})});WS.displayName=v$;var y$="DropdownMenuSubContent",qS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Yt(r);return a.jsx(t$,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qS.displayName=y$;var x$=OS,w$=IS,b$=MS,HS=LS,KS=$S,GS=FS,QS=US,YS=zS,ZS=BS,XS=VS,JS=WS,ek=qS;const _$=x$,j$=w$,S$=h.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(JS,{ref:s,className:te("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx($A,{className:"ml-auto h-4 w-4"})]}));S$.displayName=JS.displayName;const k$=h.forwardRef(({className:e,...t},r)=>a.jsx(ek,{ref:r,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));k$.displayName=ek.displayName;const tk=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(b$,{children:a.jsx(HS,{ref:n,sideOffset:t,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));tk.displayName=HS.displayName;const oo=h.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(GS,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));oo.displayName=GS.displayName;const C$=h.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(QS,{ref:s,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ZS,{children:a.jsx(qd,{className:"h-4 w-4"})})}),t]}));C$.displayName=QS.displayName;const E$=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(YS,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ZS,{children:a.jsx(zA,{className:"h-2 w-2 fill-current"})})}),t]}));E$.displayName=YS.displayName;const rk=h.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(KS,{ref:n,className:te("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));rk.displayName=KS.displayName;const lp=h.forwardRef(({className:e,...t},r)=>a.jsx(XS,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));lp.displayName=XS.displayName;const N$=({user:e,setSidebarOpen:t,onSignOut:r})=>a.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 w-full",children:a.jsxs("div",{className:"w-full flex justify-between items-center h-16 px-4 md:px-6",children:[a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsx("button",{className:"lg:hidden text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 mr-4",onClick:()=>t(!0),children:a.jsx(GA,{size:24})}),a.jsx("div",{className:"flex items-center flex-1 max-w-md",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:a.jsx(M1,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 py-2 pl-10 pr-3 text-sm placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Search..."})]})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(pe,{variant:"ghost",size:"icon",className:"text-gray-500 dark:text-gray-400",children:a.jsx(DA,{size:20})}),a.jsxs(_$,{children:[a.jsx(j$,{asChild:!0,children:a.jsx(pe,{variant:"ghost",className:"relative h-8 w-8 rounded-full flex items-center justify-center",children:a.jsxs(Zd,{className:"h-8 w-8",children:[a.jsx(Xd,{src:e.avatar,alt:e.name}),a.jsx(Jd,{className:"bg-blue-500 text-white",children:e.name.substring(0,2).toUpperCase()})]})})}),a.jsxs(tk,{align:"end",className:"w-56",children:[a.jsx(rk,{children:"My Account"}),a.jsx(lp,{}),a.jsx(oo,{children:a.jsx(ci,{to:"/profile",className:"flex w-full",children:"Profile"})}),a.jsx(oo,{children:a.jsx(ci,{to:"/settings",className:"flex w-full",children:"Settings"})}),e.role==="customer"&&a.jsxs(a.Fragment,{children:[a.jsx(oo,{children:a.jsx(ci,{to:"/cart",className:"flex w-full",children:"Shopping Cart"})}),a.jsx(oo,{children:a.jsx(ci,{to:"/returns",className:"flex w-full",children:"Returns"})})]}),a.jsx(lp,{}),a.jsx(oo,{className:"text-red-600",onClick:r,children:"Log out"})]})]})]})]})}),Jr=({children:e})=>{const[t,r]=h.useState(!1),{user:n,signOut:s}=pn(),i=Fi(),o=Vn();if(h.useEffect(()=>{if(!n)return;const c=o.pathname;if(c==="/"||c==="/stock2store"||c==="/stock2store/"){const d={customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"}[n.role]||"/store";console.log(`Redirecting ${n.role} user from ${c} to ${d}`),i(d,{replace:!0})}},[n,i,o.pathname]),h.useEffect(()=>{const c=()=>{window.innerWidth>=1024&&r(!1)};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),!n)return a.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading..."})]});const l=async()=>{await s(),i("/login")};return a.jsxs("div",{className:"min-h-screen w-full bg-gray-50 dark:bg-gray-900 flex",children:[a.jsx(xM,{user:n,sidebarOpen:t,setSidebarOpen:r,onSignOut:l}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-64",children:[a.jsx(N$,{user:n,setSidebarOpen:r,onSignOut:l}),a.jsx("main",{className:"flex-1 w-full",children:a.jsx("div",{className:"w-full h-full",children:e})})]})]})},P$=({products:e,inventoryMovements:t})=>{const r=[...new Set(e.map(n=>n.category))];return a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsx(Ee,{children:"Warehouse Overview"}),a.jsx(Ze,{children:"Current inventory status and key metrics"})]}),a.jsxs(be,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-md",children:a.jsx(LA,{size:20,className:"text-blue-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Total Products"})]}),a.jsx("span",{className:"font-semibold",children:e.length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-md",children:a.jsx(bt,{size:20,className:"text-green-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Total Inventory"})]}),a.jsx("span",{className:"font-semibold",children:e.reduce((n,s)=>n+s.stock,0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-md",children:a.jsx(tu,{size:20,className:"text-red-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Low Stock Items"})]}),a.jsx("span",{className:"font-semibold",children:e.filter(n=>n.stock<=5).length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-yellow-100 p-2 rounded-md",children:a.jsx(Zm,{size:20,className:"text-yellow-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Movements Today"})]}),a.jsx("span",{className:"font-semibold",children:t.filter(n=>{const s=new Date;return new Date(n.timestamp).toDateString()===s.toDateString()}).length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-purple-100 p-2 rounded-md",children:a.jsx(WA,{size:20,className:"text-purple-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Categories"})]}),a.jsx("span",{className:"font-semibold",children:r.length})]})]})]})},T$=({products:e,onProductSelect:t,onViewAllInventory:r})=>{const n=e.filter(i=>i.stock<10).sort((i,o)=>i.stock-o.stock),s=n.length;return a.jsxs(ye,{children:[a.jsx(Ce,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ee,{className:"text-lg font-medium flex items-center",children:[a.jsx(ta,{size:18,className:"text-amber-500 mr-2"}),"Low Stock Alert"]}),a.jsxs("div",{className:"bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded",children:[s," items"]})]})}),a.jsx(be,{className:"pt-1",children:n.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3 mb-3 max-h-[200px] overflow-y-auto",children:n.slice(0,5).map(i=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>t(i),children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:i.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[i.category,"  ID: ",i.id.slice(0,8)]})]}),a.jsxs("div",{className:`text-sm font-medium px-2.5 py-0.5 rounded 
                    ${i.stock===0?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"}`,children:[i.stock," left"]})]},i.id))}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[a.jsx("p",{className:"text-xs text-gray-500",children:n.length>5&&`+${n.length-5} more items`}),a.jsxs(pe,{variant:"ghost",size:"sm",className:"text-xs",onClick:r,children:["View All ",a.jsx(BA,{size:14,className:"ml-1"})]})]})]}):a.jsx("div",{className:"text-center py-6",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"All products have sufficient stock."})})})]})};function ze(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function $s(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const nk=6048e5,R$=864e5,Dc=43200,r0=1440;let O$={};function nc(){return O$}function Ml(e,t){var l,c,u,d;const r=nc(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ze(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Bu(e){return Ml(e,{weekStartsOn:1})}function sk(e){const t=ze(e),r=t.getFullYear(),n=$s(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Bu(n),i=$s(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Bu(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function n0(e){const t=ze(e);return t.setHours(0,0,0,0),t}function Vu(e){const t=ze(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function A$(e,t){const r=n0(e),n=n0(t),s=+r-Vu(r),i=+n-Vu(n);return Math.round((s-i)/R$)}function I$(e){const t=sk(e),r=$s(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Bu(r)}function nu(e,t){const r=ze(e),n=ze(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function M$(e){return $s(e,Date.now())}function D$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function L$(e){if(!D$(e)&&typeof e!="number")return!1;const t=ze(e);return!isNaN(Number(t))}function $$(e,t){const r=ze(e),n=ze(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function F$(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function U$(e,t){return+ze(e)-+ze(t)}function z$(e){const t=ze(e);return t.setHours(23,59,59,999),t}function B$(e){const t=ze(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function V$(e){const t=ze(e);return+z$(t)==+B$(t)}function W$(e,t){const r=ze(e),n=ze(t),s=nu(r,n),i=Math.abs($$(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=nu(r,n)===-s;V$(ze(e))&&i===1&&nu(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function q$(e,t,r){const n=U$(e,t)/1e3;return F$(r==null?void 0:r.roundingMethod)(n)}function H$(e){const t=ze(e),r=$s(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const K$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},G$=(e,t,r)=>{let n;const s=K$[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function wh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Q$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Y$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X$={date:wh({formats:Q$,defaultWidth:"full"}),time:wh({formats:Y$,defaultWidth:"full"}),dateTime:wh({formats:Z$,defaultWidth:"full"})},J$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eF=(e,t,r,n)=>J$[e];function Pa(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const tF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aF=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lF={ordinalNumber:aF,era:Pa({values:tF,defaultWidth:"wide"}),quarter:Pa({values:rF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Pa({values:nF,defaultWidth:"wide"}),day:Pa({values:sF,defaultWidth:"wide"}),dayPeriod:Pa({values:iF,defaultWidth:"wide",formattingValues:oF,defaultFormattingWidth:"wide"})};function Ta(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?uF(l,f=>f.test(o)):cF(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function cF(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function uF(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function dF(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const fF=/^(\d+)(th|st|nd|rd)?/i,hF=/\d+/i,mF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pF={any:[/^b/i,/^(a|c)/i]},gF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vF={any:[/1/i,/2/i,/3/i,/4/i]},yF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_F={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SF={ordinalNumber:dF({matchPattern:fF,parsePattern:hF,valueCallback:e=>parseInt(e,10)}),era:Ta({matchPatterns:mF,defaultMatchWidth:"wide",parsePatterns:pF,defaultParseWidth:"any"}),quarter:Ta({matchPatterns:gF,defaultMatchWidth:"wide",parsePatterns:vF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ta({matchPatterns:yF,defaultMatchWidth:"wide",parsePatterns:xF,defaultParseWidth:"any"}),day:Ta({matchPatterns:wF,defaultMatchWidth:"wide",parsePatterns:bF,defaultParseWidth:"any"}),dayPeriod:Ta({matchPatterns:_F,defaultMatchWidth:"any",parsePatterns:jF,defaultParseWidth:"any"})},ik={code:"en-US",formatDistance:G$,formatLong:X$,formatRelative:eF,localize:lF,match:SF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kF(e){const t=ze(e);return A$(t,H$(t))+1}function CF(e){const t=ze(e),r=+Bu(t)-+I$(t);return Math.round(r/nk)+1}function ok(e,t){var d,f,m,y;const r=ze(e),n=r.getFullYear(),s=nc(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(m=s.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=$s(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Ml(o,t),c=$s(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Ml(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function EF(e,t){var l,c,u,d;const r=nc(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=ok(e,t),i=$s(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Ml(i,t)}function NF(e,t){const r=ze(e),n=+Ml(r,t)-+EF(r,t);return Math.round(n/nk)+1}function $e(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Gn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return $e(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):$e(r+1,2)},d(e,t){return $e(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return $e(e.getHours()%12||12,t.length)},H(e,t){return $e(e.getHours(),t.length)},m(e,t){return $e(e.getMinutes(),t.length)},s(e,t){return $e(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return $e(s,t.length)}},to={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},s0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Gn.y(e,t)},Y:function(e,t,r,n){const s=ok(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return $e(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):$e(i,t.length)},R:function(e,t){const r=sk(e);return $e(r,t.length)},u:function(e,t){const r=e.getFullYear();return $e(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return $e(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return $e(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Gn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return $e(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=NF(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):$e(s,t.length)},I:function(e,t,r){const n=CF(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):$e(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Gn.d(e,t)},D:function(e,t,r){const n=kF(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):$e(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return $e(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return $e(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return $e(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=to.noon:n===0?s=to.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=to.evening:n>=12?s=to.afternoon:n>=4?s=to.morning:s=to.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Gn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Gn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):$e(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):$e(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Gn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Gn.s(e,t)},S:function(e,t){return Gn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return o0(n);case"XXXX":case"XX":return ni(n);case"XXXXX":case"XXX":default:return ni(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return o0(n);case"xxxx":case"xx":return ni(n);case"xxxxx":case"xxx":default:return ni(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+i0(n,":");case"OOOO":default:return"GMT"+ni(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+i0(n,":");case"zzzz":default:return"GMT"+ni(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return $e(n,t.length)},T:function(e,t,r){const n=e.getTime();return $e(n,t.length)}};function i0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+$e(i,2)}function o0(e,t){return e%60===0?(e>0?"-":"+")+$e(Math.abs(e)/60,2):ni(e,t)}function ni(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=$e(Math.trunc(n/60),2),i=$e(n%60,2);return r+s+t+i}const a0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ak=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},PF=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return a0(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",a0(n,t)).replace("{{time}}",ak(s,t))},TF={p:ak,P:PF},RF=/^D+$/,OF=/^Y+$/,AF=["D","DD","YY","YYYY"];function IF(e){return RF.test(e)}function MF(e){return OF.test(e)}function DF(e,t,r){const n=LF(e,t,r);if(console.warn(n),AF.includes(e))throw new RangeError(n)}function LF(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $F=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UF=/^'([^]*?)'?$/,zF=/''/g,BF=/[a-zA-Z]/;function Wu(e,t,r){var d,f,m,y;const n=nc(),s=n.locale??ik,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,l=ze(e);if(!L$(l))throw new RangeError("Invalid time value");let c=t.match(FF).map(w=>{const p=w[0];if(p==="p"||p==="P"){const x=TF[p];return x(w,s.formatLong)}return w}).join("").match($F).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const p=w[0];if(p==="'")return{isToken:!1,value:VF(w)};if(s0[p])return{isToken:!0,value:w};if(p.match(BF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const p=w.value;(MF(p)||IF(p))&&DF(p,t,String(e));const x=s0[p[0]];return x(l,p,s.localize,u)}).join("")}function VF(e){const t=e.match(UF);return t?t[1].replace(zF,"'"):e}function WF(e,t,r){const n=nc(),s=(r==null?void 0:r.locale)??n.locale??ik,i=2520,o=nu(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=ze(t),u=ze(e)):(c=ze(e),u=ze(t));const d=q$(u,c),f=(Vu(u)-Vu(c))/1e3,m=Math.round((d-f)/60);let y;if(m<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<r0){const w=Math.round(m/60);return s.formatDistance("aboutXHours",w,l)}else{if(m<i)return s.formatDistance("xDays",1,l);if(m<Dc){const w=Math.round(m/r0);return s.formatDistance("xDays",w,l)}else if(m<Dc*2)return y=Math.round(m/Dc),s.formatDistance("aboutXMonths",y,l)}if(y=W$(u,c),y<12){const w=Math.round(m/Dc);return s.formatDistance("xMonths",w,l)}else{const w=y%12,p=Math.trunc(y/12);return w<3?s.formatDistance("aboutXYears",p,l):w<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function qF(e,t){return WF(e,M$(e),t)}const HF=Wd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ue({className:e,variant:t,...r}){return a.jsx("div",{className:te(HF({variant:t}),e),...r})}const lf=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:te("w-full caption-bottom text-sm",e),...t})}));lf.displayName="Table";const cf=h.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:te("[&_tr]:border-b",e),...t}));cf.displayName="TableHeader";const uf=h.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:te("[&_tr:last-child]:border-0",e),...t}));uf.displayName="TableBody";const KF=h.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));KF.displayName="TableFooter";const Ns=h.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ns.displayName="TableRow";const kt=h.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));kt.displayName="TableHead";const vt=h.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));vt.displayName="TableCell";const GF=h.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:te("mt-4 text-sm text-muted-foreground",e),...t}));GF.displayName="TableCaption";const QF=({movements:e,getProductById:t})=>{const r=s=>qF(s,{addSuffix:!0}),n=s=>{const o=s.reason.toLowerCase();return o.includes("pending")||o.includes("reserved")?{label:"Reserved",color:"bg-blue-500",icon:Mu,description:"Item reserved for pending order"}:o.includes("sale")||o.includes("sold")?{label:"Sale",color:"bg-red-500",icon:Zm,description:"Item sold to customer"}:o.includes("rejected")||o.includes("unavailable")?{label:"Rejected",color:"bg-gray-500",icon:R1,description:"Order rejected, item marked unavailable"}:o.includes("refund")?{label:"Refund",color:"bg-yellow-500",icon:Tl,description:"Item returned due to refund"}:o.includes("repair")||o.includes("damaged")?{label:"Repair",color:"bg-orange-500",icon:tu,description:"Item sent for repair or marked as damaged"}:o.includes("available")||o.includes("restored")?{label:"Restored",color:"bg-green-500",icon:tu,description:"Item restored to available status"}:{label:s.type==="in"?"Entry":"Exit",color:s.type==="in"?"bg-green-500":"bg-red-500",icon:s.type==="in"?tu:Zm,description:s.type==="in"?"Item added to inventory":"Item removed from inventory"}};return a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-5 w-5"}),"Inventory Movements"]}),a.jsx(Ze,{children:"Recent inventory transactions including sales, refunds, reservations, and status changes"})]}),a.jsx(be,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(bt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No inventory movements recorded yet."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(lf,{children:[a.jsx(cf,{children:a.jsxs(Ns,{children:[a.jsx(kt,{className:"w-[140px]",children:"Type"}),a.jsx(kt,{children:"Product"}),a.jsx(kt,{children:"Serial ID"}),a.jsx(kt,{children:"Quantity"}),a.jsx(kt,{children:"Details"}),a.jsx(kt,{children:"Customer"}),a.jsx(kt,{children:"Order"}),a.jsx(kt,{children:"Date"}),a.jsx(kt,{children:"By"})]})}),a.jsx(uf,{children:e.map(s=>{const i=t(s.productId),o=n(s),l=o.icon;return a.jsxs(Ns,{className:"hover:bg-gray-50",children:[a.jsx(vt,{children:a.jsxs(Ue,{variant:"outline",className:`text-white border-none ${o.color}`,title:o.description,children:[a.jsx(l,{size:12,className:"mr-1"}),o.label]})}),a.jsx(vt,{className:"font-medium",children:a.jsxs("div",{children:[a.jsx("div",{children:(i==null?void 0:i.name)||s.productName||"Unknown Product"}),(i==null?void 0:i.category)&&a.jsx("div",{className:"text-xs text-gray-500",children:i.category})]})}),a.jsx(vt,{className:"text-sm text-gray-600 font-mono",children:s.serialId||"N/A"}),a.jsx(vt,{children:a.jsx("span",{className:"font-medium",children:s.quantity})}),a.jsx(vt,{className:"max-w-xs",children:a.jsx("div",{className:"truncate",title:s.reason,children:s.reason})}),a.jsx(vt,{className:"text-sm text-gray-600",children:s.customerName&&s.customerName!=="Unknown Customer"?a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:s.customerName}),a.jsx("div",{className:"text-xs text-gray-500",children:s.customerEmail})]}):"N/A"}),a.jsx(vt,{className:"text-sm text-gray-600",children:s.orderNumber?a.jsx("span",{className:"font-mono",children:s.orderNumber}):"N/A"}),a.jsx(vt,{className:"text-gray-500 text-sm",children:a.jsx("div",{title:new Date(s.timestamp).toLocaleString(),children:r(s.timestamp)})}),a.jsx(vt,{className:"text-gray-500 text-sm",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:s.userName||"System"}),s.userRole&&s.userRole!=="unknown"&&a.jsx("div",{className:"text-xs text-gray-400 capitalize",children:s.userRole})]})})]},s.id)})})]})})})]})},YF=({products:e,onProductSelect:t})=>{const[r,n]=h.useState("A"),[s,i]=h.useState(null),{toast:o}=Pt(),l=Ui(),{data:c=[],isLoading:u}=fn({queryKey:["detailed-products",e],queryFn:async()=>{if(e.length===0)return[];const{data:v,error:g}=await W.from("items").select(`
          serial_id,
          status,
          inventory_id,
          location_id,
          inventory!inner (
            id,
            name,
            description,
            quantity
          ),
          locations (
            shelf_number,
            slot_number
          )
        `);if(g)throw console.error("Error fetching items:",g),g;console.log("Raw items data:",v);const b=new Map;v==null||v.forEach(j=>{const k=j.inventory_id,S=j.inventory;if(!b.has(k)){const T=e.find(O=>O.id===k);b.set(k,{id:k,name:S.name,description:S.description||"",category:(T==null?void 0:T.category)||"Unknown",stock:S.quantity,location:(T==null?void 0:T.location)||"",price:(T==null?void 0:T.price)||0,images:(T==null?void 0:T.images)||[],createdAt:(T==null?void 0:T.createdAt)||new Date,updatedAt:(T==null?void 0:T.updatedAt)||new Date,itemStatuses:{available:0,sold:0,damaged:0,in_repair:0,unavailable:0},items:[]})}const N=b.get(k);N&&(N.itemStatuses[j.status]++,N.items.push({serial_id:j.serial_id,status:j.status,location_id:j.location_id,location:j.locations}))});const _=Array.from(b.values());return console.log("Processed detailed products:",_),_},enabled:e.length>0}),d=["A","B","C","D"],f=12,m=v=>{const g=[];return c.forEach(b=>{const _=b.items.filter(j=>{var k;return((k=j.location)==null?void 0:k.shelf_number)===v});if(_.length>0){const j=_[0];if(j.location){const[k,S]=j.location.slot_number.split("-"),N=(parseInt(k)-1)*4+parseInt(S)-1;g.push({product:b,slotPosition:N,itemCount:_.length})}}}),g},y=(v,g)=>{i({productId:g.id,product_name:g.name}),v.dataTransfer.setData("text/plain",g.id)},w=v=>{v.preventDefault()},p=async(v,g,b)=>{var _;if(v.preventDefault(),!!s)try{const{data:{user:j}}=await W.auth.getUser();if(!j)throw new Error("User not authenticated");const k=Math.floor(b/4)+1,S=b%4+1,N=`${g}${k}-${S.toString().padStart(2,"0")}`;let{data:T}=await W.from("locations").select("id").eq("shelf_number",g).eq("slot_number",`${k}-${S.toString().padStart(2,"0")}`).single();if(!T){const{data:G,error:A}=await W.from("locations").insert({shelf_number:g,slot_number:`${k}-${S.toString().padStart(2,"0")}`,capacity:100,status:!0}).select("id").single();if(A)throw A;T=G}const{data:O,error:F}=await W.from("items").select("serial_id, location_id, locations(shelf_number, slot_number)").eq("inventory_id",s.productId);if(F)throw F;if(!O||O.length===0){o({title:"No Items Found",description:`No items found for product ${s.product_name}`,variant:"destructive"});return}const P=(_=O[0])!=null&&_.locations?`${O[0].locations.shelf_number}${O[0].locations.slot_number}`:"Unassigned",L=O.map(G=>G.serial_id),{error:D}=await W.from("items").update({location_id:T.id}).in("serial_id",L);if(D)throw D;const K=L.map(G=>{var A;return{item_serial:G,user_id:j.id,transaction_type:"location_change",notes:`Product ${s.product_name} moved from ${P} to ${N}`,source_location_id:(A=O.find(I=>I.serial_id===G))==null?void 0:A.location_id,destination_location_id:T.id}}),{error:$}=await W.from("transactions").insert(K);if($)throw $;o({title:"Product Location Updated",description:`All ${L.length} items of ${s.product_name} moved to ${N}`}),await l.invalidateQueries({queryKey:["detailed-products"]}),await l.invalidateQueries({queryKey:["inventory-movements"]})}catch(j){console.error("Error updating location:",j),o({title:"Error",description:j instanceof Error?j.message:"Failed to update location",variant:"destructive"})}finally{i(null)}};if(u)return a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsx(Ee,{children:"Shelf Mapping"}),a.jsx(Ze,{children:"Loading shelf layout..."})]}),a.jsx(be,{children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})})})]});const x=m(r);return a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(Ox,{className:"h-5 w-5"}),"Warehouse Shelf Mapping"]}),a.jsx(Ze,{children:"Drag and drop products to change their location. All items of a product move together."})]}),a.jsxs(be,{className:"space-y-6",children:[a.jsx("div",{className:"flex gap-2",children:d.map(v=>a.jsxs(pe,{variant:r===v?"default":"outline",onClick:()=>n(v),className:"min-w-[60px]",children:["Shelf ",v]},v))}),a.jsxs("div",{className:"border-2 border-gray-300 rounded-lg p-6 bg-gray-50",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Shelf ",r]}),a.jsx("p",{className:"text-sm text-gray-600",children:"3 rows  4 columns (drag products to move all items together)"})]}),a.jsx("div",{className:"grid grid-cols-4 gap-4 max-w-4xl mx-auto",children:Array.from({length:f},(v,g)=>{const b=Math.floor(g/4)+1,_=g%4+1,j=`${r}${b}-${_.toString().padStart(2,"0")}`,k=x.find(S=>S.slotPosition===g);return a.jsxs("div",{className:`
                    border-2 rounded-lg p-3 h-32 flex flex-col justify-between transition-colors
                    ${k?"border-blue-300 bg-blue-50 cursor-move":"border-gray-200 bg-white border-dashed"}
                    ${s?"hover:border-green-400 hover:bg-green-50":""}
                  `,onDragOver:w,onDrop:S=>p(S,r,g),children:[a.jsx("div",{className:"text-xs font-mono text-gray-500 text-center",children:j}),k?a.jsx("div",{className:"flex-1 flex flex-col justify-center cursor-move",draggable:!0,onDragStart:S=>y(S,k.product),children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:k.product.name}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[k.itemCount," items"]}),a.jsxs("div",{className:"flex justify-center gap-1 mt-2",children:[k.product.itemStatuses.available>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(bt,{className:"h-3 w-3 text-green-600"}),a.jsx("span",{className:"text-xs",children:k.product.itemStatuses.available})]}),k.product.itemStatuses.damaged>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ta,{className:"h-3 w-3 text-red-600"}),a.jsx("span",{className:"text-xs",children:k.product.itemStatuses.damaged})]})]}),a.jsx(Ue,{variant:"outline",className:"mt-2 text-xs",children:k.product.category})]})}):a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-gray-400 text-center",children:[a.jsx(bt,{className:"h-6 w-6 mx-auto mb-1 opacity-50"}),a.jsx("p",{className:"text-xs",children:"Empty"})]})})]},g)})})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Status Legend & Instructions"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{children:"Available"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ta,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{children:"Damaged"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nI,{className:"h-4 w-4 text-yellow-600"}),a.jsx("span",{children:"In Repair"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(R1,{className:"h-4 w-4 text-gray-600"}),a.jsx("span",{children:"Unavailable"})]})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(Ox,{className:"h-4 w-4 inline mr-1"}),"Drag products to move all items of that product together to a new location."]})]}),c.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(bt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No products found for shelf mapping."})]})]})]})},Ri=h.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ri.displayName="Textarea";const ZF=async e=>{console.log("Processing order:",e);try{const t=`ORD-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r=e.items.reduce((i,o)=>i+o.price*o.quantity,0),{data:n,error:s}=await W.from("orders").insert({user_id:e.userId,order_number:t,total_amount:r,status:"pending"}).select("id").single();if(s)throw console.error("Error creating order:",s),s;console.log("Order created:",n);for(const i of e.items){console.log(`Processing ${i.quantity} items for product ${i.productId}`);const{data:o,error:l}=await W.from("inventory").select("id, name, quantity").eq("id",i.productId).single();if(l)throw console.error("Error checking inventory:",l),new Error(`Product ${i.productId} not found`);console.log("Inventory check:",o);const{data:c,error:u}=await W.from("items").select("serial_id, inventory_id").eq("inventory_id",i.productId).eq("status","available").order("serial_id",{ascending:!0}).limit(i.quantity);if(u)throw console.error("Error fetching available items:",u),u;if(console.log(`Found ${(c==null?void 0:c.length)||0} available items for product ${i.productId}`),!c||c.length<i.quantity)throw new Error(`Insufficient stock for product ${o.name}. Available: ${(c==null?void 0:c.length)||0}, Required: ${i.quantity}`);console.log("Available items to reserve for order:",c);const d=c.map(w=>w.serial_id),{error:f}=await W.from("items").update({status:"pending"}).in("serial_id",d);if(f)throw console.error("Error updating item status to pending:",f),f;console.log(`Successfully marked ${d.length} items as pending:`,d);const m=c.map(w=>({order_id:n.id,item_serial:w.serial_id,price:i.price})),{error:y}=await W.from("order_items").insert(m);if(y)throw console.error("Error creating order items:",y),y;console.log(`Successfully processed ${i.quantity} items for product ${i.productId}`)}return console.log("Order processing completed successfully"),{success:!0,orderId:n.id}}catch(t){return console.error("Error processing order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},XF=async e=>{try{const{data:{user:t}}=await W.auth.getUser(),r=t==null?void 0:t.id,{data:n,error:s}=await W.from("order_items").select("item_serial").eq("order_id",e);if(s)throw console.error("Error fetching order items:",s),s;if(n&&n.length>0){const o=n.map(c=>c.item_serial),{error:l}=await W.from("items").update({status:"sold",performed_by_user_id:r}).in("serial_id",o);if(l)throw console.error("Error updating item status to sold:",l),l;console.log(`Successfully marked ${o.length} items as sold:`,o)}const{error:i}=await W.from("orders").update({status:"completed"}).eq("id",e);if(i)throw console.error("Error completing order:",i),i;return console.log("Order completed successfully:",e),{success:!0}}catch(t){return console.error("Error completing order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},JF=async(e,t,r)=>{try{console.log("Rejecting order:",e,"Reason:",t,"By user:",r);const{data:n,error:s}=await W.from("order_items").select("item_serial").eq("order_id",e);if(s)throw console.error("Error fetching order items:",s),s;if(n&&n.length>0){const o=n.map(c=>c.item_serial),{error:l}=await W.from("items").update({status:"unavailable",performed_by_user_id:r}).in("serial_id",o);if(l)throw console.error("Error updating item status to unavailable:",l),l;console.log(`Successfully marked ${o.length} items as unavailable due to order rejection:`,o)}const{error:i}=await W.from("orders").update({status:"rejected"}).eq("id",e);if(i)throw console.error("Error rejecting order:",i),i;return console.log("Order rejected successfully:",e),{success:!0}}catch(n){return console.error("Error rejecting order:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}},e4=async(e,t)=>{try{console.log("Processing refund for order:",e);const{data:r,error:n}=await W.from("order_items").select("item_serial").eq("order_id",e);if(n)throw console.error("Error fetching order items:",n),n;if(!r||r.length===0)throw new Error("No items found for this order");const s=r.map(o=>o.item_serial),{error:i}=await W.from("items").update({status:"damaged",performed_by_user_id:t}).in("serial_id",s);if(i)throw console.error("Error updating item status to damaged:",i),i;return console.log(`Successfully processed refund for ${s.length} items - marked as damaged`),{success:!0}}catch(r){return console.error("Error processing refund:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}},t4=()=>{const[e,t]=h.useState({}),[r,n]=h.useState(null),{toast:s}=Pt(),i=Ui(),{data:o=[],isLoading:l}=fn({queryKey:["refund-requests"],queryFn:async()=>{const{data:f,error:m}=await W.from("refund_requests").select(`
          id,
          order_id,
          user_id,
          description,
          status,
          photo_url,
          created_at,
          admin_notes,
          reviewed_at,
          reviewed_by,
          orders (
            order_number,
            total_amount
          ),
          profiles!user_id (
            name,
            email
          )
        `).order("created_at",{ascending:!1});if(m)throw m;return f}}),c=async(f,m,y)=>{try{m==="approved"&&n(f);const{data:{user:w}}=await W.auth.getUser();if(!w)throw new Error("User not authenticated");const{error:p}=await W.from("refund_requests").update({status:m,reviewed_by:w.id,reviewed_at:new Date().toISOString(),admin_notes:e[f]||null}).eq("id",f);if(p)throw p;if(m==="approved"&&y){const x=await e4(y,w.id);if(!x.success)throw new Error(x.error||"Failed to process refund")}i.invalidateQueries({queryKey:["refund-requests"]}),i.invalidateQueries({queryKey:["inventory-movements"]}),i.invalidateQueries({queryKey:["warehouse-products"]}),s({title:"Success",description:`Refund request ${m} successfully${m==="approved"?" and items marked for repair":""}`}),t(x=>{const v={...x};return delete v[f],v})}catch(w){console.error("Error updating refund request:",w),s({title:"Error",description:w instanceof Error?w.message:"Failed to update refund request",variant:"destructive"})}finally{n(null)}},u=f=>{switch(f){case"pending":return a.jsx(Mu,{className:"h-4 w-4 text-yellow-500"});case"approved":return a.jsx(Iu,{className:"h-4 w-4 text-green-500"});case"rejected":return a.jsx(Rx,{className:"h-4 w-4 text-red-500"});default:return a.jsx(UA,{className:"h-4 w-4 text-gray-500"})}},d=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?a.jsx(ye,{children:a.jsxs(be,{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3",children:"Loading refund requests..."})]})}):a.jsx("div",{className:"space-y-4",children:a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-5 w-5"}),"Refund Requests Management"]}),a.jsx(Ze,{children:"Review and process customer refund requests"})]}),a.jsx(be,{children:o.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(bt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No refund requests found."})]}):a.jsx("div",{className:"space-y-4",children:o.map(f=>{var m,y,w,p;return a.jsx(ye,{className:"border-l-4 border-l-blue-500",children:a.jsxs(be,{className:"p-6",children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ue,{className:d(f.status),children:[u(f.status),a.jsx("span",{className:"ml-1 capitalize",children:f.status})]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Order #",((m=f.orders)==null?void 0:m.order_number)||"Unknown"]})]}),a.jsxs("h3",{className:"font-semibold",children:["Refund Request from ",((y=f.profiles)==null?void 0:y.name)||"Unknown User"]}),a.jsx("p",{className:"text-sm text-gray-600",children:((w=f.profiles)==null?void 0:w.email)||"No email"}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Amount:"})," $",((p=f.orders)==null?void 0:p.total_amount)||0]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Submitted:"})," ",new Date(f.created_at).toLocaleDateString()]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Customer Description:"}),a.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded",children:f.description})]}),f.photo_url&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Attached Photo:"}),a.jsx("img",{src:f.photo_url,alt:"Refund request",className:"max-w-xs rounded border"})]}),f.admin_notes&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Admin Notes:"}),a.jsx("p",{className:"text-sm text-gray-700 bg-blue-50 p-3 rounded",children:f.admin_notes})]}),f.status==="pending"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Notes (Optional):"}),a.jsx(Ri,{placeholder:"Add any notes about this refund decision...",value:e[f.id]||"",onChange:x=>t(v=>({...v,[f.id]:x.target.value})),className:"min-h-20"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(pe,{onClick:()=>c(f.id,"approved",f.order_id),className:"bg-green-600 hover:bg-green-700",disabled:r===f.id,children:r===f.id?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-white mr-2"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Iu,{className:"h-4 w-4 mr-2"}),"Approve Refund"]})}),a.jsxs(pe,{onClick:()=>c(f.id,"rejected"),variant:"destructive",disabled:r===f.id,children:[a.jsx(Rx,{className:"h-4 w-4 mr-2"}),"Reject Refund"]})]})]})]})},f.id)})})})]})})};function l0(e,[t,r]){return Math.min(r,Math.max(t,e))}function lk(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var r4=[" ","Enter","ArrowUp","ArrowDown"],n4=[" ","Enter"],sc="Select",[df,ff,s4]=$d(sc),[va,C5]=Bi(sc,[s4,nf]),hf=nf(),[i4,Qs]=va(sc),[o4,a4]=va(sc),ck=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:y,form:w}=e,p=hf(t),[x,v]=h.useState(null),[g,b]=h.useState(null),[_,j]=h.useState(!1),k=Kd(u),[S=!1,N]=Ni({prop:n,defaultProp:s,onChange:i}),[T,O]=Ni({prop:o,defaultProp:l,onChange:c}),F=h.useRef(null),P=x?w||!!x.closest("form"):!0,[L,D]=h.useState(new Set),K=Array.from(L).map($=>$.props.value).join(";");return a.jsx(Kj,{...p,children:a.jsxs(i4,{required:y,scope:t,trigger:x,onTriggerChange:v,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Pi(),value:T,onValueChange:O,open:S,onOpenChange:N,dir:k,triggerPointerDownPosRef:F,disabled:m,children:[a.jsx(df.Provider,{scope:t,children:a.jsx(o4,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback($=>{D(G=>new Set(G).add($))},[]),onNativeOptionRemove:h.useCallback($=>{D(G=>{const A=new Set(G);return A.delete($),A})},[]),children:r})}),P?a.jsxs(Ik,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:$=>O($.target.value),disabled:m,form:w,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(L)]},K):null]})})};ck.displayName=sc;var uk="SelectTrigger",dk=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=hf(r),o=Qs(uk,r),l=o.disabled||n,c=Be(t,o.onTriggerChange),u=ff(r),d=h.useRef("touch"),[f,m,y]=Mk(p=>{const x=u().filter(b=>!b.disabled),v=x.find(b=>b.value===o.value),g=Dk(x,p,v);g!==void 0&&o.onValueChange(g.value)}),w=p=>{l||(o.onOpenChange(!0),y()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(Gj,{asChild:!0,...i,children:a.jsx(ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Ak(o.value)?"":void 0,...s,ref:c,onClick:ee(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&w(p)}),onPointerDown:ee(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(w(p),p.preventDefault())}),onKeyDown:ee(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(x&&p.key===" ")&&r4.includes(p.key)&&(w(),p.preventDefault())})})})});dk.displayName=uk;var fk="SelectValue",hk=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Qs(fk,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Be(t,c.onValueNodeChange);return Nt(()=>{u(d)},[u,d]),a.jsx(ue.span,{...l,ref:f,style:{pointerEvents:"none"},children:Ak(c.value)?a.jsx(a.Fragment,{children:o}):i})});hk.displayName=fk;var l4="SelectIcon",mk=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});mk.displayName=l4;var c4="SelectPortal",pk=e=>a.jsx(Ud,{asChild:!0,...e});pk.displayName=c4;var Oi="SelectContent",gk=h.forwardRef((e,t)=>{const r=Qs(Oi,e.__scopeSelect),[n,s]=h.useState();if(Nt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Ws.createPortal(a.jsx(vk,{scope:e.__scopeSelect,children:a.jsx(df.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(yk,{...e,ref:t})});gk.displayName=Oi;var Dr=10,[vk,Ys]=va(Oi),u4="SelectContentImpl",yk=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:p,avoidCollisions:x,...v}=e,g=Qs(Oi,r),[b,_]=h.useState(null),[j,k]=h.useState(null),S=Be(t,re=>_(re)),[N,T]=h.useState(null),[O,F]=h.useState(null),P=ff(r),[L,D]=h.useState(!1),K=h.useRef(!1);h.useEffect(()=>{if(b)return rv(b)},[b]),Cj();const $=h.useCallback(re=>{const[Re,...Le]=P().map(Ie=>Ie.ref.current),[Oe]=Le.slice(-1),Ae=document.activeElement;for(const Ie of re)if(Ie===Ae||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===Re&&j&&(j.scrollTop=0),Ie===Oe&&j&&(j.scrollTop=j.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==Ae))return},[P,j]),G=h.useCallback(()=>$([N,b]),[$,N,b]);h.useEffect(()=>{L&&G()},[L,G]);const{onOpenChange:A,triggerPointerDownPosRef:I}=g;h.useEffect(()=>{if(b){let re={x:0,y:0};const Re=Oe=>{var Ae,Ie;re={x:Math.abs(Math.round(Oe.pageX)-(((Ae=I.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Ie=I.current)==null?void 0:Ie.y)??0))}},Le=Oe=>{re.x<=10&&re.y<=10?Oe.preventDefault():b.contains(Oe.target)||A(!1),document.removeEventListener("pointermove",Re),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",Le,{capture:!0})}}},[b,A,I]),h.useEffect(()=>{const re=()=>A(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[A]);const[q,ne]=Mk(re=>{const Re=P().filter(Ae=>!Ae.disabled),Le=Re.find(Ae=>Ae.ref.current===document.activeElement),Oe=Dk(Re,re,Le);Oe&&setTimeout(()=>Oe.ref.current.focus())}),ge=h.useCallback((re,Re,Le)=>{const Oe=!K.current&&!Le;(g.value!==void 0&&g.value===Re||Oe)&&(T(re),Oe&&(K.current=!0))},[g.value]),ut=h.useCallback(()=>b==null?void 0:b.focus(),[b]),Ve=h.useCallback((re,Re,Le)=>{const Oe=!K.current&&!Le;(g.value!==void 0&&g.value===Re||Oe)&&F(re)},[g.value]),zt=n==="popper"?cp:xk,He=zt===cp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(vk,{scope:r,content:b,viewport:j,onViewportChange:k,itemRefCallback:ge,selectedItem:N,onItemLeave:ut,itemTextRefCallback:Ve,focusSelectedItem:G,selectedItemText:O,position:n,isPositioned:L,searchRef:q,children:a.jsx(iv,{as:As,allowPinchZoom:!0,children:a.jsx(Kg,{asChild:!0,trapped:g.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ee(s,re=>{var Re;(Re=g.trigger)==null||Re.focus({preventScroll:!0}),re.preventDefault()}),children:a.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(zt,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:re=>re.preventDefault(),...v,...He,onPlaced:()=>D(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,re=>{const Re=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Re&&re.key.length===1&&ne(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Oe=P().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ae=re.target,Ie=Oe.indexOf(Ae);Oe=Oe.slice(Ie+1)}setTimeout(()=>$(Oe)),re.preventDefault()}})})})})})})});yk.displayName=u4;var d4="SelectItemAlignedPosition",xk=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Qs(Oi,r),o=Ys(Oi,r),[l,c]=h.useState(null),[u,d]=h.useState(null),f=Be(t,S=>d(S)),m=ff(r),y=h.useRef(!1),w=h.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:v,focusSelectedItem:g}=o,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&v){const S=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(i.dir!=="rtl"){const Ae=O.left-N.left,Ie=T.left-Ae,It=S.left-Ie,cr=S.width+It,qi=Math.max(cr,N.width),Hi=window.innerWidth-Dr,Ki=l0(Ie,[Dr,Math.max(Dr,Hi-qi)]);l.style.minWidth=cr+"px",l.style.left=Ki+"px"}else{const Ae=N.right-O.right,Ie=window.innerWidth-T.right-Ae,It=window.innerWidth-S.right-Ie,cr=S.width+It,qi=Math.max(cr,N.width),Hi=window.innerWidth-Dr,Ki=l0(Ie,[Dr,Math.max(Dr,Hi-qi)]);l.style.minWidth=cr+"px",l.style.right=Ki+"px"}const F=m(),P=window.innerHeight-Dr*2,L=p.scrollHeight,D=window.getComputedStyle(u),K=parseInt(D.borderTopWidth,10),$=parseInt(D.paddingTop,10),G=parseInt(D.borderBottomWidth,10),A=parseInt(D.paddingBottom,10),I=K+$+L+A+G,q=Math.min(x.offsetHeight*5,I),ne=window.getComputedStyle(p),ge=parseInt(ne.paddingTop,10),ut=parseInt(ne.paddingBottom,10),Ve=S.top+S.height/2-Dr,zt=P-Ve,He=x.offsetHeight/2,re=x.offsetTop+He,Re=K+$+re,Le=I-Re;if(Re<=Ve){const Ae=F.length>0&&x===F[F.length-1].ref.current;l.style.bottom="0px";const Ie=u.clientHeight-p.offsetTop-p.offsetHeight,It=Math.max(zt,He+(Ae?ut:0)+Ie+G),cr=Re+It;l.style.height=cr+"px"}else{const Ae=F.length>0&&x===F[0].ref.current;l.style.top="0px";const It=Math.max(Ve,K+p.offsetTop+(Ae?ge:0)+He)+Le;l.style.height=It+"px",p.scrollTop=Re-Ve+p.offsetTop}l.style.margin=`${Dr}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,u,p,x,v,i.dir,n]);Nt(()=>b(),[b]);const[_,j]=h.useState();Nt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const k=h.useCallback(S=>{S&&w.current===!0&&(b(),g==null||g(),w.current=!1)},[b,g]);return a.jsx(h4,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xk.displayName=d4;var f4="SelectPopperPosition",cp=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Dr,...i}=e,o=hf(r);return a.jsx(Qj,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cp.displayName=f4;var[h4,mv]=va(Oi,{}),up="SelectViewport",wk=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Ys(up,r),o=mv(up,r),l=Be(t,i.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(df.Slot,{scope:r,children:a.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const y=Math.abs(c.current-d.scrollTop);if(y>0){const w=window.innerHeight-Dr*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(p,x);if(v<w){const g=v+y,b=Math.min(w,g),_=g-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});wk.displayName=up;var bk="SelectGroup",[m4,p4]=va(bk),g4=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Pi();return a.jsx(m4,{scope:r,id:s,children:a.jsx(ue.div,{role:"group","aria-labelledby":s,...n,ref:t})})});g4.displayName=bk;var _k="SelectLabel",jk=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=p4(_k,r);return a.jsx(ue.div,{id:s.id,...n,ref:t})});jk.displayName=_k;var qu="SelectItem",[v4,Sk]=va(qu),kk=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Qs(qu,r),c=Ys(qu,r),u=l.value===n,[d,f]=h.useState(i??""),[m,y]=h.useState(!1),w=Be(t,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,n,s)}),p=Pi(),x=h.useRef("touch"),v=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(v4,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:h.useCallback(g=>{f(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(df.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(ue.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ee(o.onFocus,()=>y(!0)),onBlur:ee(o.onBlur,()=>y(!1)),onClick:ee(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:ee(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:ee(o.onPointerDown,g=>{x.current=g.pointerType}),onPointerMove:ee(o.onPointerMove,g=>{var b;x.current=g.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ee(o.onKeyDown,g=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(n4.includes(g.key)&&v(),g.key===" "&&g.preventDefault())})})})})});kk.displayName=qu;var Ua="SelectItemText",Ck=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Qs(Ua,r),l=Ys(Ua,r),c=Sk(Ua,r),u=a4(Ua,r),[d,f]=h.useState(null),m=Be(t,v=>f(v),c.onItemTextChange,v=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,v,c.value,c.disabled)}),y=d==null?void 0:d.textContent,w=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return Nt(()=>(p(w),()=>x(w)),[p,x,w]),a.jsxs(a.Fragment,{children:[a.jsx(ue.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ws.createPortal(i.children,o.valueNode):null]})});Ck.displayName=Ua;var Ek="SelectItemIndicator",Nk=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Sk(Ek,r).isSelected?a.jsx(ue.span,{"aria-hidden":!0,...n,ref:t}):null});Nk.displayName=Ek;var dp="SelectScrollUpButton",Pk=h.forwardRef((e,t)=>{const r=Ys(dp,e.__scopeSelect),n=mv(dp,e.__scopeSelect),[s,i]=h.useState(!1),o=Be(t,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(Rk,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Pk.displayName=dp;var fp="SelectScrollDownButton",Tk=h.forwardRef((e,t)=>{const r=Ys(fp,e.__scopeSelect),n=mv(fp,e.__scopeSelect),[s,i]=h.useState(!1),o=Be(t,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(Rk,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Tk.displayName=fp;var Rk=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Ys("SelectScrollButton",r),o=h.useRef(null),l=ff(r),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Nt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ee(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{c()})})}),y4="SelectSeparator",Ok=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(ue.div,{"aria-hidden":!0,...n,ref:t})});Ok.displayName=y4;var hp="SelectArrow",x4=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=hf(r),i=Qs(hp,r),o=Ys(hp,r);return i.open&&o.position==="popper"?a.jsx(Yj,{...s,...n,ref:t}):null});x4.displayName=hp;function Ak(e){return e===""||e===void 0}var Ik=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=h.useRef(null),i=Be(t,s),o=lk(r);return h.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),a.jsx(zd,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});Ik.displayName="BubbleSelect";function Mk(e){const t=At(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function Dk(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=w4(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function w4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var b4=ck,Lk=dk,_4=hk,j4=mk,S4=pk,$k=gk,k4=wk,Fk=jk,Uk=kk,C4=Ck,E4=Nk,zk=Pk,Bk=Tk,Vk=Ok;const Fs=b4,Ai=_4,$n=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Lk,{ref:n,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(j4,{asChild:!0,children:a.jsx(O1,{className:"h-4 w-4 opacity-50"})})]}));$n.displayName=Lk.displayName;const Wk=h.forwardRef(({className:e,...t},r)=>a.jsx(zk,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(FA,{className:"h-4 w-4"})}));Wk.displayName=zk.displayName;const qk=h.forwardRef(({className:e,...t},r)=>a.jsx(Bk,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(O1,{className:"h-4 w-4"})}));qk.displayName=Bk.displayName;const Fn=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(S4,{children:a.jsxs($k,{ref:s,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(Wk,{}),a.jsx(k4,{className:te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(qk,{})]})}));Fn.displayName=$k.displayName;const N4=h.forwardRef(({className:e,...t},r)=>a.jsx(Fk,{ref:r,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));N4.displayName=Fk.displayName;const Ne=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Uk,{ref:n,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(E4,{children:a.jsx(qd,{className:"h-4 w-4"})})}),a.jsx(C4,{children:t})]}));Ne.displayName=Uk.displayName;const P4=h.forwardRef(({className:e,...t},r)=>a.jsx(Vk,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));P4.displayName=Vk.displayName;var pv="Checkbox",[T4,E5]=Bi(pv),[R4,O4]=T4(pv),Hk=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,y]=h.useState(null),w=Be(t,_=>y(_)),p=h.useRef(!1),x=m?d||!!m.closest("form"):!0,[v=!1,g]=Ni({prop:s,defaultProp:i,onChange:u}),b=h.useRef(v);return h.useEffect(()=>{const _=m==null?void 0:m.form;if(_){const j=()=>g(b.current);return _.addEventListener("reset",j),()=>_.removeEventListener("reset",j)}},[m,g]),a.jsxs(R4,{scope:r,state:v,disabled:l,children:[a.jsx(ue.button,{type:"button",role:"checkbox","aria-checked":Ps(v)?"mixed":v,"aria-required":o,"data-state":Qk(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onKeyDown:ee(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:ee(e.onClick,_=>{g(j=>Ps(j)?!0:!j),x&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})}),x&&a.jsx(A4,{control:m,bubbles:!p.current,name:n,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ps(i)?!1:i})]})});Hk.displayName=pv;var Kk="CheckboxIndicator",Gk=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=O4(Kk,r);return a.jsx(Gs,{present:n||Ps(i.state)||i.state===!0,children:a.jsx(ue.span,{"data-state":Qk(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Gk.displayName=Kk;var A4=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...i}=e,o=h.useRef(null),l=lk(r),c=Lj(t);h.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&y){const w=new Event("click",{bubbles:n});d.indeterminate=Ps(r),y.call(d,Ps(r)?!1:r),d.dispatchEvent(w)}},[l,r,n]);const u=h.useRef(Ps(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ps(e){return e==="indeterminate"}function Qk(e){return Ps(e)?"indeterminate":e?"checked":"unchecked"}var Yk=Hk,I4=Gk;const mp=h.forwardRef(({className:e,...t},r)=>a.jsx(Yk,{ref:r,className:te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(I4,{className:te("flex items-center justify-center text-current"),children:a.jsx(qd,{className:"h-4 w-4"})})}));mp.displayName=Yk.displayName;const M4=async()=>{console.log("Fetching detailed inventory with item statuses...");try{const{data:e,error:t}=await W.from("inventory").select(`
        id,
        name,
        description,
        quantity,
        status,
        product_type_id,
        items!inner (
          serial_id,
          status
        )
      `);if(t)throw console.error("Error fetching detailed inventory:",t),t;if(console.log("Detailed inventory data:",e),!e||e.length===0)return console.log("No detailed inventory data found"),[];const{data:r,error:n}=await W.from("product_types").select("id, name");n&&console.error("Error fetching product types:",n);const s=new Map;r&&r.forEach(l=>{s.set(l.id,l.name)});const i=new Map;e.forEach(l=>{const c=l.id;i.has(c)||i.set(c,{id:l.id,name:l.name,description:l.description||"",quantity:l.quantity,status:l.status,category:s.get(l.product_type_id)||"Uncategorized",serial_items:[]}),l.items&&Array.isArray(l.items)&&l.items.forEach(u=>{i.get(c).serial_items.push({serial_id:u.serial_id,status:u.status})})});const o=Array.from(i.values());return console.log("Processed detailed inventory:",o),o}catch(e){throw console.error("Error in getDetailedInventory:",e),e}},c0=async(e,t,r,n)=>{try{console.log(`Updating item ${e} status to ${t} by user ${r}`);const{error:s}=await W.from("items").update({status:t,performed_by_user_id:r}).eq("serial_id",e);if(s)throw console.error("Error updating item status:",s),s;return console.log(`Successfully updated item ${e} to status ${t} - transaction logged by trigger`),!0}catch(s){return console.error("Error in updateItemStatus:",s),!1}},D4=e=>{const t={available:0,sold:0,damaged:0,in_repair:0,unavailable:0,pending:0};return e.forEach(r=>{t[r.status]++}),t},L4=()=>{const[e,t]=h.useState(null),[r,n]=h.useState({}),[s,i]=h.useState({}),[o,l]=h.useState({}),[c,u]=h.useState({}),[d,f]=h.useState({}),{toast:m}=Pt(),y=Ui(),{data:w=[],isLoading:p,refetch:x}=fn({queryKey:["detailed-inventory"],queryFn:M4}),v=async(S,N)=>{try{t(S);const{data:{user:T}}=await W.auth.getUser();if(!T)throw new Error("User not authenticated");const O=s[S]||void 0;if(await c0(S,N,T.id,O))m({title:"Status Updated",description:`Item ${S} status updated to ${N}`}),n(P=>{const L={...P};return delete L[S],L}),i(P=>{const L={...P};return delete L[S],L}),y.invalidateQueries({queryKey:["detailed-inventory"]}),y.invalidateQueries({queryKey:["inventory-movements"]}),y.invalidateQueries({queryKey:["warehouse-products"]});else throw new Error("Failed to update item status")}catch(T){console.error("Error updating item status:",T),m({title:"Error",description:T instanceof Error?T.message:"Failed to update item status",variant:"destructive"})}finally{t(null)}},g=async S=>{const N=o[S]||[],T=c[S],O=d[S];if(N.length===0||!T){m({title:"Error",description:"Please select items and a new status",variant:"destructive"});return}try{t(S);const{data:{user:F}}=await W.auth.getUser();if(!F)throw new Error("User not authenticated");const P=N.map(K=>c0(K,T,F.id,O)),D=(await Promise.all(P)).filter(Boolean).length;D===N.length?m({title:"Bulk Status Update Complete",description:`Updated ${D} items to ${T}`}):m({title:"Partial Success",description:`Updated ${D} out of ${N.length} items`,variant:"destructive"}),l(K=>({...K,[S]:[]})),u(K=>{const $={...K};return delete $[S],$}),f(K=>{const $={...K};return delete $[S],$}),y.invalidateQueries({queryKey:["detailed-inventory"]}),y.invalidateQueries({queryKey:["inventory-movements"]}),y.invalidateQueries({queryKey:["warehouse-products"]})}catch(F){console.error("Error updating bulk item status:",F),m({title:"Error",description:F instanceof Error?F.message:"Failed to update item statuses",variant:"destructive"})}finally{t(null)}},b=(S,N,T)=>{l(O=>{const F=O[S]||[];return T?{...O,[S]:[...F,N]}:{...O,[S]:F.filter(P=>P!==N)}})},_=(S,N,T)=>{const O=N.filter(F=>F.status!=="sold");l(T?F=>({...F,[S]:O.map(P=>P.serial_id)}):F=>({...F,[S]:[]}))},j=S=>{switch(S){case"available":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"damaged":return"bg-red-100 text-red-800";case"in_repair":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-500 text-blue-800";case"unavailable":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=S=>S!=="sold";return p?a.jsx(ye,{children:a.jsxs(be,{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3",children:"Loading inventory items..."})]})}):a.jsx("div",{className:"space-y-6",children:a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-5 w-5"}),"Item Status Management"]}),a.jsx(Ze,{children:"View and update individual item statuses or change multiple items at once. Items marked as sold cannot be changed."}),a.jsxs(pe,{onClick:()=>x(),variant:"outline",size:"sm",className:"w-fit",children:[a.jsx(YA,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),a.jsx(be,{children:w.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(bt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No inventory items found."})]}):a.jsx("div",{className:"space-y-4",children:w.map(S=>{const N=D4(S.serial_items),T=S.serial_items.filter(P=>k(P.status)),O=o[S.id]||[],F=T.length>0&&T.every(P=>O.includes(P.serial_id));return a.jsx(ye,{className:"border-l-4 border-l-blue-500",children:a.jsxs(be,{className:"p-6",children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:S.name}),a.jsx("p",{className:"text-sm text-gray-600",children:S.description}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Category: ",S.category]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsxs(Ue,{variant:"outline",children:["Available: ",N.available]}),a.jsxs(Ue,{variant:"outline",children:["Sold: ",N.sold]}),a.jsxs(Ue,{variant:"outline",children:["Damaged: ",N.damaged]}),a.jsxs(Ue,{variant:"outline",children:["In Repair: ",N.in_repair]}),a.jsxs(Ue,{variant:"outline",children:["Pending: ",N.pending]}),a.jsxs(Ue,{variant:"outline",children:["Unavailable: ",N.unavailable]})]})]})}),T.length>0&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Bulk Actions"}),a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mp,{id:`select-all-${S.id}`,checked:F,onCheckedChange:P=>_(S.id,T,P)}),a.jsxs("label",{htmlFor:`select-all-${S.id}`,className:"text-sm",children:["Select All (",T.length,")"]})]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[O.length," selected"]})]}),O.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Fs,{value:c[S.id]||"",onValueChange:P=>u(L=>({...L,[S.id]:P})),children:[a.jsx($n,{className:"w-40",children:a.jsx(Ai,{placeholder:"New status"})}),a.jsxs(Fn,{children:[a.jsx(Ne,{value:"available",children:"Available"}),a.jsx(Ne,{value:"damaged",children:"Damaged"}),a.jsx(Ne,{value:"in_repair",children:"In Repair"}),a.jsx(Ne,{value:"pending",children:"Pending"}),a.jsx(Ne,{value:"unavailable",children:"Unavailable"})]})]}),a.jsx(Ri,{placeholder:"Reason for status change (optional)",value:d[S.id]||"",onChange:P=>f(L=>({...L,[S.id]:P.target.value})),className:"min-h-8 w-48"}),a.jsx(pe,{onClick:()=>g(S.id),disabled:e===S.id||!c[S.id],size:"sm",children:e===S.id?"Updating...":`Update ${O.length} Items`})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium",children:"Individual Items:"}),S.serial_items.map(P=>a.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded",children:[k(P.status)&&a.jsx(mp,{checked:O.includes(P.serial_id),onCheckedChange:L=>b(S.id,P.serial_id,L)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-mono text-sm",children:P.serial_id}),a.jsx(Ue,{className:`ml-2 ${j(P.status)}`,children:P.status}),P.status==="sold"&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Cannot be changed)"})]}),k(P.status)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Fs,{value:r[P.serial_id]||"",onValueChange:L=>n(D=>({...D,[P.serial_id]:L})),children:[a.jsx($n,{className:"w-40",children:a.jsx(Ai,{placeholder:"Change status"})}),a.jsxs(Fn,{children:[a.jsx(Ne,{value:"available",children:"Available"}),a.jsx(Ne,{value:"damaged",children:"Damaged"}),a.jsx(Ne,{value:"in_repair",children:"In Repair"}),a.jsx(Ne,{value:"pending",children:"Pending"}),a.jsx(Ne,{value:"unavailable",children:"Unavailable"})]})]}),r[P.serial_id]&&a.jsxs(a.Fragment,{children:[a.jsx(Ri,{placeholder:"Reason for status change (optional)",value:s[P.serial_id]||"",onChange:L=>i(D=>({...D,[P.serial_id]:L.target.value})),className:"min-h-8 w-48"}),a.jsx(pe,{onClick:()=>v(P.serial_id,r[P.serial_id]),disabled:e===P.serial_id,size:"sm",children:e===P.serial_id?"Updating...":"Update"})]})]})]},P.serial_id))]})]})},S.id)})})})]})})};function Ts(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function u0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $4(...e){return t=>{let r=!1;const n=e.map(s=>{const i=u0(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():u0(e[s],null)}}}}function Zs(...e){return h.useCallback($4(...e),e)}function F4(e,t){const r=h.createContext(t),n=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=h.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function U4(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:m,children:y,...w}=f,p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=h.useMemo(()=>w,Object.values(w));return a.jsx(p.Provider,{value:x,children:y})};u.displayName=i+"Provider";function d(f,m){var p;const y=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,w=h.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,z4(s,...t)]}function z4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Dl=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},B4=hd[" useId ".trim().toString()]||(()=>{}),V4=0;function bh(e){const[t,r]=h.useState(B4());return Dl(()=>{e||r(n=>n??String(V4++))},[e]),e||(t?`radix-${t}`:"")}var W4=hd[" useInsertionEffect ".trim().toString()]||Dl;function q4({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=H4({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=h.useCallback(d=>{var f;if(l){const m=K4(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else i(d)},[l,e,i,o]);return[c,u]}function H4({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),i=h.useRef(t);return W4(()=>{i.current=t},[t]),h.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function K4(e){return typeof e=="function"}function Zk(e){const t=G4(e),r=h.forwardRef((n,s)=>{const{children:i,...o}=n,l=h.Children.toArray(i),c=l.find(Y4);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function G4(e){const t=h.forwardRef((r,n)=>{const{children:s,...i}=r,o=h.isValidElement(s)?X4(s):void 0,l=Zs(o,n);if(h.isValidElement(s)){const c=Z4(i,s.props);return s.type!==h.Fragment&&(c.ref=l),h.cloneElement(s,c)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Q4=Symbol("radix.slottable");function Y4(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Q4}function Z4(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function X4(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var J4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wn=J4.reduce((e,t)=>{const r=Zk(`Primitive.${t}`),n=h.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function eU(e,t){e&&Ws.flushSync(()=>e.dispatchEvent(t))}function Ll(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function tU(e,t=globalThis==null?void 0:globalThis.document){const r=Ll(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var rU="DismissableLayer",pp="dismissableLayer.update",nU="dismissableLayer.pointerDownOutside",sU="dismissableLayer.focusOutside",d0,Xk=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jk=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=h.useContext(Xk),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),w=Zs(t,S=>f(S)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),g=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=v,j=aU(S=>{const N=S.target,T=[...u.branches].some(O=>O.contains(N));!_||T||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),k=lU(S=>{const N=S.target;[...u.branches].some(O=>O.contains(N))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return tU(S=>{g===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(d0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),f0(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=d0)}},[d,m,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),f0())},[d,u]),h.useEffect(()=>{const S=()=>y({});return document.addEventListener(pp,S),()=>document.removeEventListener(pp,S)},[]),a.jsx(Wn.div,{...c,ref:w,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Ts(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ts(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ts(e.onPointerDownCapture,j.onPointerDownCapture)})});Jk.displayName=rU;var iU="DismissableLayerBranch",oU=h.forwardRef((e,t)=>{const r=h.useContext(Xk),n=h.useRef(null),s=Zs(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Wn.div,{...e,ref:s})});oU.displayName=iU;function aU(e,t=globalThis==null?void 0:globalThis.document){const r=Ll(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){eC(nU,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function lU(e,t=globalThis==null?void 0:globalThis.document){const r=Ll(e),n=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!n.current&&eC(sU,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function f0(){const e=new CustomEvent(pp);document.dispatchEvent(e)}function eC(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?eU(s,i):s.dispatchEvent(i)}var _h="focusScope.autoFocusOnMount",jh="focusScope.autoFocusOnUnmount",h0={bubbles:!1,cancelable:!0},cU="FocusScope",tC=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),u=Ll(s),d=Ll(i),f=h.useRef(null),m=Zs(t,p=>c(p)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let p=function(b){if(y.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Jn(f.current,{select:!0})},x=function(b){if(y.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Jn(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Jn(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),g.disconnect()}}},[n,l,y.paused]),h.useEffect(()=>{if(l){p0.add(y);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(_h,h0);l.addEventListener(_h,u),l.dispatchEvent(v),v.defaultPrevented||(uU(pU(rC(l)),{select:!0}),document.activeElement===p&&Jn(l))}return()=>{l.removeEventListener(_h,u),setTimeout(()=>{const v=new CustomEvent(jh,h0);l.addEventListener(jh,d),l.dispatchEvent(v),v.defaultPrevented||Jn(p??document.body,{select:!0}),l.removeEventListener(jh,d),p0.remove(y)},0)}}},[l,u,d,y]);const w=h.useCallback(p=>{if(!r&&!n||y.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(x&&v){const g=p.currentTarget,[b,_]=dU(g);b&&_?!p.shiftKey&&v===_?(p.preventDefault(),r&&Jn(b,{select:!0})):p.shiftKey&&v===b&&(p.preventDefault(),r&&Jn(_,{select:!0})):v===g&&p.preventDefault()}},[r,n,y.paused]);return a.jsx(Wn.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});tC.displayName=cU;function uU(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Jn(n,{select:t}),document.activeElement!==r)return}function dU(e){const t=rC(e),r=m0(t,e),n=m0(t.reverse(),e);return[r,n]}function rC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function m0(e,t){for(const r of e)if(!fU(r,{upTo:t}))return r}function fU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hU(e){return e instanceof HTMLInputElement&&"select"in e}function Jn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&hU(e)&&t&&e.select()}}var p0=mU();function mU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=g0(e,t),e.unshift(t)},remove(t){var r;e=g0(e,t),(r=e[0])==null||r.resume()}}}function g0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function pU(e){return e.filter(t=>t.tagName!=="A")}var gU="Portal",nC=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=h.useState(!1);Dl(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?o_.createPortal(a.jsx(Wn.div,{...n,ref:t}),o):null});nC.displayName=gU;function vU(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var mf=e=>{const{present:t,children:r}=e,n=yU(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=Zs(n.ref,xU(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:i}):null};mf.displayName="Presence";function yU(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=vU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Lc(n.current);i.current=l==="mounted"?u:"none"},[l]),Dl(()=>{const u=n.current,d=s.current;if(d!==e){const m=i.current,y=Lc(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Dl(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=y=>{const p=Lc(n.current).includes(y.animationName);if(y.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=y=>{y.target===t&&(i.current=Lc(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Lc(e){return(e==null?void 0:e.animationName)||"none"}function xU(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Sh=0;function wU(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??v0()),document.body.insertAdjacentElement("beforeend",e[1]??v0()),Sh++,()=>{Sh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sh--}},[])}function v0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sC=eS(),kh=function(){},pf=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:kh,onWheelCapture:kh,onTouchMoveCapture:kh}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,y=e.noRelative,w=e.noIsolation,p=e.inert,x=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,b=e.gapMode,_=nv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,k=Jj([r,t]),S=Ft(Ft({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(j,{sideCar:sC,removeScrollBar:u,shards:f,noRelative:y,noIsolation:w,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:b}),o?h.cloneElement(h.Children.only(l),Ft(Ft({},S),{ref:k})):h.createElement(g,Ft({},S,{className:c,ref:k}),l))});pf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pf.classNames={fullWidth:il,zeroRight:sl};var gp=!1;if(typeof window<"u")try{var $c=Object.defineProperty({},"passive",{get:function(){return gp=!0,!0}});window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{gp=!1}var ro=gp?{passive:!1}:!1,bU=function(e){return e.tagName==="TEXTAREA"},iC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!bU(e)&&r[t]==="visible")},_U=function(e){return iC(e,"overflowY")},jU=function(e){return iC(e,"overflowX")},y0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=oC(e,n);if(s){var i=aC(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},SU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},kU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},oC=function(e,t){return e==="v"?_U(t):jU(t)},aC=function(e,t){return e==="v"?SU(t):kU(t)},CU=function(e,t){return e==="h"&&t==="rtl"?-1:1},EU=function(e,t,r,n,s){var i=CU(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{var y=aC(e,l),w=y[0],p=y[1],x=y[2],v=p-x-i*w;(w||v)&&oC(e,l)&&(f+=v,m+=w),l=l.parentNode.host||l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},Fc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},x0=function(e){return[e.deltaX,e.deltaY]},w0=function(e){return e&&"current"in e?e.current:e},NU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},PU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},TU=0,no=[];function RU(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(TU++)[0],i=h.useState(sv)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Xj([e.lockRef.current],(e.shards||[]).map(w0),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var v=Fc(p),g=r.current,b="deltaX"in p?p.deltaX:g[0]-v[0],_="deltaY"in p?p.deltaY:g[1]-v[1],j,k=p.target,S=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&S==="h"&&k.type==="range")return!1;var N=y0(S,k);if(!N)return!0;if(N?j=S:(j=S==="v"?"h":"v",N=y0(S,k)),!N)return!1;if(!n.current&&"changedTouches"in p&&(b||_)&&(n.current=j),!j)return!0;var T=n.current||j;return EU(T,x,p,T==="h"?b:_,!0)},[]),c=h.useCallback(function(p){var x=p;if(!(!no.length||no[no.length-1]!==i)){var v="deltaY"in x?x0(x):Fc(x),g=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&NU(j.delta,v)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var b=(o.current.shards||[]).map(w0).filter(Boolean).filter(function(j){return j.contains(x.target)}),_=b.length>0?l(x,b[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=h.useCallback(function(p,x,v,g){var b={name:p,delta:x,target:v,should:g,shadowParent:OU(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=h.useCallback(function(p){r.current=Fc(p),n.current=void 0},[]),f=h.useCallback(function(p){u(p.type,x0(p),p.target,l(p,e.lockRef.current))},[]),m=h.useCallback(function(p){u(p.type,Fc(p),p.target,l(p,e.lockRef.current))},[]);h.useEffect(function(){return no.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ro),document.addEventListener("touchmove",c,ro),document.addEventListener("touchstart",d,ro),function(){no=no.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,ro),document.removeEventListener("touchmove",c,ro),document.removeEventListener("touchstart",d,ro)}},[]);var y=e.removeScrollBar,w=e.inert;return h.createElement(h.Fragment,null,w?h.createElement(i,{styles:PU(s)}):null,y?h.createElement(sS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function OU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const AU=rS(sC,RU);var lC=h.forwardRef(function(e,t){return h.createElement(pf,Ft({},e,{ref:t,sideCar:AU}))});lC.classNames=pf.classNames;var gf="Dialog",[cC,N5]=U4(gf),[IU,Yr]=cC(gf),uC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=q4({prop:n,defaultProp:s??!1,onChange:i,caller:gf});return a.jsx(IU,{scope:t,triggerRef:l,contentRef:c,contentId:bh(),titleId:bh(),descriptionId:bh(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};uC.displayName=gf;var dC="DialogTrigger",fC=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yr(dC,r),i=Zs(t,s.triggerRef);return a.jsx(Wn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":yv(s.open),...n,ref:i,onClick:Ts(e.onClick,s.onOpenToggle)})});fC.displayName=dC;var gv="DialogPortal",[MU,hC]=cC(gv,{forceMount:void 0}),mC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Yr(gv,t);return a.jsx(MU,{scope:t,forceMount:r,children:h.Children.map(n,o=>a.jsx(mf,{present:r||i.open,children:a.jsx(nC,{asChild:!0,container:s,children:o})}))})};mC.displayName=gv;var Hu="DialogOverlay",pC=h.forwardRef((e,t)=>{const r=hC(Hu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Yr(Hu,e.__scopeDialog);return i.modal?a.jsx(mf,{present:n||i.open,children:a.jsx(LU,{...s,ref:t})}):null});pC.displayName=Hu;var DU=Zk("DialogOverlay.RemoveScroll"),LU=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yr(Hu,r);return a.jsx(lC,{as:DU,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Wn.div,{"data-state":yv(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ii="DialogContent",gC=h.forwardRef((e,t)=>{const r=hC(Ii,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Yr(Ii,e.__scopeDialog);return a.jsx(mf,{present:n||i.open,children:i.modal?a.jsx($U,{...s,ref:t}):a.jsx(FU,{...s,ref:t})})});gC.displayName=Ii;var $U=h.forwardRef((e,t)=>{const r=Yr(Ii,e.__scopeDialog),n=h.useRef(null),s=Zs(t,r.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return rv(i)},[]),a.jsx(vC,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ts(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ts(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ts(e.onFocusOutside,i=>i.preventDefault())})}),FU=h.forwardRef((e,t)=>{const r=Yr(Ii,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(vC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),vC=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Yr(Ii,r),c=h.useRef(null),u=Zs(t,c);return wU(),a.jsxs(a.Fragment,{children:[a.jsx(tC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Jk,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":yv(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(UU,{titleId:l.titleId}),a.jsx(BU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),vv="DialogTitle",yC=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yr(vv,r);return a.jsx(Wn.h2,{id:s.titleId,...n,ref:t})});yC.displayName=vv;var xC="DialogDescription",wC=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yr(xC,r);return a.jsx(Wn.p,{id:s.descriptionId,...n,ref:t})});wC.displayName=xC;var bC="DialogClose",_C=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yr(bC,r);return a.jsx(Wn.button,{type:"button",...n,ref:t,onClick:Ts(e.onClick,()=>s.onOpenChange(!1))})});_C.displayName=bC;function yv(e){return e?"open":"closed"}var jC="DialogTitleWarning",[P5,SC]=F4(jC,{contentName:Ii,titleName:vv,docsSlug:"dialog"}),UU=({titleId:e})=>{const t=SC(jC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},zU="DialogDescriptionWarning",BU=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SC(zU).contentName}}.`;return h.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},VU=uC,WU=fC,qU=mC,kC=pC,CC=gC,EC=yC,NC=wC,HU=_C;const PC=VU,KU=WU,GU=qU,TC=h.forwardRef(({className:e,...t},r)=>a.jsx(kC,{ref:r,className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));TC.displayName=kC.displayName;const xv=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(GU,{children:[a.jsx(TC,{}),a.jsxs(CC,{ref:n,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(HU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Jl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xv.displayName=CC.displayName;const wv=({className:e,...t})=>a.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wv.displayName="DialogHeader";const RC=({className:e,...t})=>a.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});RC.displayName="DialogFooter";const bv=h.forwardRef(({className:e,...t},r)=>a.jsx(EC,{ref:r,className:te("text-lg font-semibold leading-none tracking-tight",e),...t}));bv.displayName=EC.displayName;const _v=h.forwardRef(({className:e,...t},r)=>a.jsx(NC,{ref:r,className:te("text-sm text-muted-foreground",e),...t}));_v.displayName=NC.displayName;const QU=()=>{const{user:e}=pn(),{toast:t}=Pt(),r=Ui(),[n,s]=h.useState(""),[i,o]=h.useState(!1),[l,c]=h.useState(null),{data:u=[],isLoading:d}=fn({queryKey:["pending-orders"],queryFn:async()=>{const{data:x,error:v}=await W.from("orders").select(`
          id,
          order_number,
          total_amount,
          created_at,
          status,
          user_id,
          order_items (
            id,
            item_serial,
            price,
            items (
              inventory (
                name
              )
            )
          )
        `).eq("status","pending").order("created_at",{ascending:!1});if(v)throw console.error("Error fetching orders:",v),v;const g=x||[],b=[...new Set(g.map(k=>k.user_id))];let _=[];if(b.length>0){const{data:k,error:S}=await W.from("profiles").select("id, name, email").in("id",b);S?console.warn("Could not fetch user profiles:",S):_=k||[]}return g.map(k=>{const S=_.find(N=>N.id===k.user_id);return{...k,profiles:S?{name:S.name,email:S.email}:null}})}}),f=ix({mutationFn:async x=>{const v=await XF(x);if(!v.success)throw new Error(v.error||"Failed to accept order");return v},onSuccess:()=>{t({title:"Order Accepted",description:"The order has been successfully accepted and completed."}),r.invalidateQueries({queryKey:["pending-orders"]}),r.invalidateQueries({queryKey:["inventory-movements"]})},onError:x=>{t({title:"Error",description:x.message,variant:"destructive"})}}),m=ix({mutationFn:async({orderId:x,reason:v})=>{if(!e)throw new Error("User not authenticated");const g=await JF(x,v,e.id);if(!g.success)throw new Error(g.error||"Failed to reject order");return g},onSuccess:()=>{t({title:"Order Rejected",description:"The order has been rejected and items marked as unavailable."}),r.invalidateQueries({queryKey:["pending-orders"]}),r.invalidateQueries({queryKey:["inventory-movements"]}),o(!1),s(""),c(null)},onError:x=>{t({title:"Error",description:x.message,variant:"destructive"})}}),y=x=>{f.mutate(x)},w=x=>{c(x),o(!0)},p=()=>{l&&n.trim()?m.mutate({orderId:l,reason:n.trim()}):t({title:"Error",description:"Please provide a reason for rejection.",variant:"destructive"})};return d?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3",children:"Loading pending orders..."})]}):u.length===0?a.jsx(ye,{children:a.jsxs(Ce,{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(Iu,{className:"h-5 w-5 text-green-600"}),"No Pending Orders"]}),a.jsx(Ze,{children:"All orders have been processed. New orders will appear here when customers make purchases."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Pending Order Requests"}),a.jsx("p",{className:"text-muted-foreground",children:"Review and accept or reject customer orders to complete the fulfillment process."})]}),a.jsxs(Ue,{variant:"secondary",className:"text-lg px-3 py-1",children:[u.length," Pending"]})]}),a.jsx("div",{className:"space-y-4",children:u.map(x=>{var v,g;return a.jsxs(ye,{className:"border-l-4 border-l-yellow-500",children:[a.jsx(Ce,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(Mu,{className:"h-5 w-5 text-yellow-600"}),"Order #",x.order_number]}),a.jsxs(Ze,{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ug,{className:"h-4 w-4"}),((v=x.profiles)==null?void 0:v.name)||"Unknown User"," (",((g=x.profiles)==null?void 0:g.email)||"No email",")"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Mu,{className:"h-4 w-4"}),Wu(new Date(x.created_at),"PPP p")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Hd,{className:"h-4 w-4"}),"$",x.total_amount.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ue,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"Pending Approval"}),a.jsxs(pe,{onClick:()=>y(x.id),disabled:f.isPending,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(Iu,{className:"h-4 w-4 mr-2"}),f.isPending?"Processing...":"Accept Order"]}),a.jsxs(pe,{onClick:()=>w(x.id),disabled:m.isPending,variant:"destructive",children:[a.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Reject Order"]})]})]})}),a.jsx(be,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),"Order Items (",x.order_items.length,")"]}),a.jsxs(lf,{children:[a.jsx(cf,{children:a.jsxs(Ns,{children:[a.jsx(kt,{children:"Product"}),a.jsx(kt,{children:"Serial ID"}),a.jsx(kt,{className:"text-right",children:"Price"})]})}),a.jsx(uf,{children:x.order_items.map(b=>{var _,j;return a.jsxs(Ns,{children:[a.jsx(vt,{className:"font-medium",children:((j=(_=b.items)==null?void 0:_.inventory)==null?void 0:j.name)||"Unknown Product"}),a.jsx(vt,{className:"text-gray-600 dark:text-gray-400",children:b.item_serial}),a.jsxs(vt,{className:"text-right",children:["$",b.price.toFixed(2)]})]},b.id)})})]})]})})})]},x.id)})}),a.jsx(PC,{open:i,onOpenChange:o,children:a.jsxs(xv,{children:[a.jsxs(wv,{children:[a.jsx(bv,{children:"Reject Order"}),a.jsx(_v,{children:"Please provide a reason for rejecting this order. The items will be marked as unavailable."})]}),a.jsx("div",{className:"space-y-4",children:a.jsx(Ri,{placeholder:"Enter rejection reason...",value:n,onChange:x=>s(x.target.value),className:"min-h-[100px]"})}),a.jsxs(RC,{children:[a.jsx(pe,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),a.jsx(pe,{variant:"destructive",onClick:p,disabled:m.isPending||!n.trim(),children:m.isPending?"Rejecting...":"Reject Order"})]})]})})]})};var ic=e=>e.type==="checkbox",di=e=>e instanceof Date,qt=e=>e==null;const OC=e=>typeof e=="object";var mt=e=>!qt(e)&&!Array.isArray(e)&&OC(e)&&!di(e),AC=e=>mt(e)&&e.target?ic(e.target)?e.target.checked:e.target.value:e,YU=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,IC=(e,t)=>e.has(YU(t)),ZU=e=>{const t=e.constructor&&e.constructor.prototype;return mt(t)&&t.hasOwnProperty("isPrototypeOf")},jv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xt(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(jv&&(e instanceof Blob||e instanceof FileList))&&(r||mt(e)))if(t=r?[]:{},!r&&!ZU(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Xt(e[n]));else return e;return t}var vf=e=>Array.isArray(e)?e.filter(Boolean):[],ct=e=>e===void 0,V=(e,t,r)=>{if(!t||!mt(e))return r;const n=vf(t.split(/[,[\].]+?/)).reduce((s,i)=>qt(s)?s:s[i],e);return ct(n)||n===e?ct(e[t])?r:e[t]:n},kr=e=>typeof e=="boolean",Sv=e=>/^\w*$/.test(e),MC=e=>vf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(e,t,r)=>{let n=-1;const s=Sv(t)?[t]:MC(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=mt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const Ku={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},DC=we.createContext(null),yf=()=>we.useContext(DC),XU=e=>{const{children:t,...r}=e;return we.createElement(DC.Provider,{value:r},t)};var LC=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Vr.all&&(t._proxyFormState[o]=!n||Vr.all),r&&(r[o]=!0),e[o]}});return s},tr=e=>mt(e)&&!Object.keys(e).length,$C=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return tr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Vr.all))},ol=e=>Array.isArray(e)?e:[e],FC=(e,t,r)=>!e||!t||e===t||ol(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function kv(e){const t=we.useRef(e);t.current=e,we.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function JU(e){const t=yf(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,l]=we.useState(r._formState),c=we.useRef(!0),u=we.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=we.useRef(s);return d.current=s,kv({disabled:n,next:f=>c.current&&FC(d.current,f.name,i)&&$C(f,u.current,r._updateFormState)&&l({...r._formState,...f}),subject:r._subjects.state}),we.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),LC(o,r,u.current,!1)}var ln=e=>typeof e=="string",UC=(e,t,r,n,s)=>ln(e)?(n&&t.watch.add(e),V(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),V(r,i))):(n&&(t.watchAll=!0),r);function e3(e){const t=yf(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o}=e||{},l=we.useRef(n);l.current=n,kv({disabled:i,subject:r._subjects.values,next:d=>{FC(l.current,d.name,o)&&u(Xt(UC(l.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=we.useState(r._getWatch(n,s));return we.useEffect(()=>r._removeUnmounted()),c}function t3(e){const t=yf(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i}=e,o=IC(s._names.array,r),l=e3({control:s,name:r,defaultValue:V(s._formValues,r,V(s._defaultValues,r,e.defaultValue)),exact:!0}),c=JU({control:s,name:r,exact:!0}),u=we.useRef(s.register(r,{...e.rules,value:l,...kr(e.disabled)?{disabled:e.disabled}:{}}));return we.useEffect(()=>{const d=s._options.shouldUnregister||i,f=(m,y)=>{const w=V(s._fields,m);w&&w._f&&(w._f.mount=y)};if(f(r,!0),d){const m=Xt(V(s._options.defaultValues,r));Me(s._defaultValues,r,m),ct(V(s._formValues,r))&&Me(s._formValues,r,m)}return()=>{(o?d&&!s._state.action:d)?s.unregister(r):f(r,!1)}},[r,s,o,i]),we.useEffect(()=>{V(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:V(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...kr(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:we.useCallback(d=>u.current.onChange({target:{value:AC(d),name:r},type:Ku.CHANGE}),[r]),onBlur:we.useCallback(()=>u.current.onBlur({target:{value:V(s._formValues,r),name:r},type:Ku.BLUR}),[r,s]),ref:we.useCallback(d=>{const f=V(s._fields,r);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:m=>d.setCustomValidity(m),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!V(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!V(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!V(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!V(c.validatingFields,r)},error:{enumerable:!0,get:()=>V(c.errors,r)}})}}const r3=e=>e.render(t3(e));var zC=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},b0=e=>({isOnSubmit:!e||e===Vr.onSubmit,isOnBlur:e===Vr.onBlur,isOnChange:e===Vr.onChange,isOnAll:e===Vr.all,isOnTouch:e===Vr.onTouched}),_0=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const al=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=V(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(al(l,t))break}else if(mt(l)&&al(l,t))break}}};var n3=(e,t,r)=>{const n=ol(V(e,r));return Me(n,"root",t[r]),Me(e,r,n),e},Cv=e=>e.type==="file",En=e=>typeof e=="function",Gu=e=>{if(!jv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},su=e=>ln(e),Ev=e=>e.type==="radio",Qu=e=>e instanceof RegExp;const j0={value:!1,isValid:!1},S0={value:!0,isValid:!0};var BC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ct(e[0].attributes.value)?ct(e[0].value)||e[0].value===""?S0:{value:e[0].value,isValid:!0}:S0:j0}return j0};const k0={isValid:!1,value:null};var VC=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,k0):k0;function C0(e,t,r="validate"){if(su(e)||Array.isArray(e)&&e.every(su)||kr(e)&&!e)return{type:r,message:su(e)?e:"",ref:t}}var so=e=>mt(e)&&!Qu(e)?e:{value:e,message:""},E0=async(e,t,r,n,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:m,validate:y,name:w,valueAsNumber:p,mount:x,disabled:v}=e._f,g=V(t,w);if(!x||v)return{};const b=o?o[0]:i,_=P=>{n&&b.reportValidity&&(b.setCustomValidity(kr(P)?"":P||""),b.reportValidity())},j={},k=Ev(i),S=ic(i),N=k||S,T=(p||Cv(i))&&ct(i.value)&&ct(g)||Gu(i)&&i.value===""||g===""||Array.isArray(g)&&!g.length,O=zC.bind(null,w,r,j),F=(P,L,D,K=yn.maxLength,$=yn.minLength)=>{const G=P?L:D;j[w]={type:P?K:$,message:G,ref:i,...O(P?K:$,G)}};if(s?!Array.isArray(g)||!g.length:l&&(!N&&(T||qt(g))||kr(g)&&!g||S&&!BC(o).isValid||k&&!VC(o).isValid)){const{value:P,message:L}=su(l)?{value:!!l,message:l}:so(l);if(P&&(j[w]={type:yn.required,message:L,ref:b,...O(yn.required,L)},!r))return _(L),j}if(!T&&(!qt(d)||!qt(f))){let P,L;const D=so(f),K=so(d);if(!qt(g)&&!isNaN(g)){const $=i.valueAsNumber||g&&+g;qt(D.value)||(P=$>D.value),qt(K.value)||(L=$<K.value)}else{const $=i.valueAsDate||new Date(g),G=q=>new Date(new Date().toDateString()+" "+q),A=i.type=="time",I=i.type=="week";ln(D.value)&&g&&(P=A?G(g)>G(D.value):I?g>D.value:$>new Date(D.value)),ln(K.value)&&g&&(L=A?G(g)<G(K.value):I?g<K.value:$<new Date(K.value))}if((P||L)&&(F(!!P,D.message,K.message,yn.max,yn.min),!r))return _(j[w].message),j}if((c||u)&&!T&&(ln(g)||s&&Array.isArray(g))){const P=so(c),L=so(u),D=!qt(P.value)&&g.length>+P.value,K=!qt(L.value)&&g.length<+L.value;if((D||K)&&(F(D,P.message,L.message),!r))return _(j[w].message),j}if(m&&!T&&ln(g)){const{value:P,message:L}=so(m);if(Qu(P)&&!g.match(P)&&(j[w]={type:yn.pattern,message:L,ref:i,...O(yn.pattern,L)},!r))return _(L),j}if(y){if(En(y)){const P=await y(g,t),L=C0(P,b);if(L&&(j[w]={...L,...O(yn.validate,L.message)},!r))return _(L.message),j}else if(mt(y)){let P={};for(const L in y){if(!tr(P)&&!r)break;const D=C0(await y[L](g,t),b,L);D&&(P={...D,...O(L,D.message)},_(D.message),r&&(j[w]=P))}if(!tr(P)&&(j[w]={ref:b,...P},!r))return j}}return _(!0),j};function s3(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ct(e)?n++:e[t[n++]];return e}function i3(e){for(const t in e)if(e.hasOwnProperty(t)&&!ct(e[t]))return!1;return!0}function gt(e,t){const r=Array.isArray(t)?t:Sv(t)?[t]:MC(t),n=r.length===1?e:s3(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(mt(n)&&tr(n)||Array.isArray(n)&&i3(n))&&gt(e,r.slice(0,-1)),e}var Ch=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},vp=e=>qt(e)||!OC(e);function os(e,t){if(vp(e)||vp(t))return e===t;if(di(e)&&di(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(di(i)&&di(o)||mt(i)&&mt(o)||Array.isArray(i)&&Array.isArray(o)?!os(i,o):i!==o)return!1}}return!0}var WC=e=>e.type==="select-multiple",o3=e=>Ev(e)||ic(e),Eh=e=>Gu(e)&&e.isConnected,qC=e=>{for(const t in e)if(En(e[t]))return!0;return!1};function Yu(e,t={}){const r=Array.isArray(e);if(mt(e)||r)for(const n in e)Array.isArray(e[n])||mt(e[n])&&!qC(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Yu(e[n],t[n])):qt(e[n])||(t[n]=!0);return t}function HC(e,t,r){const n=Array.isArray(e);if(mt(e)||n)for(const s in e)Array.isArray(e[s])||mt(e[s])&&!qC(e[s])?ct(t)||vp(r[s])?r[s]=Array.isArray(e[s])?Yu(e[s],[]):{...Yu(e[s])}:HC(e[s],qt(t)?{}:t[s],r[s]):r[s]=!os(e[s],t[s]);return r}var Ra=(e,t)=>HC(e,t,Yu(t)),KC=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ct(e)?e:t?e===""?NaN:e&&+e:r&&ln(e)?new Date(e):n?n(e):e;function Nh(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Cv(t)?t.files:Ev(t)?VC(e.refs).value:WC(t)?[...t.selectedOptions].map(({value:r})=>r):ic(t)?BC(e.refs).value:KC(ct(t.value)?e.ref.value:t.value,e)}var a3=(e,t,r,n)=>{const s={};for(const i of e){const o=V(t,i);o&&Me(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Oa=e=>ct(e)?e:Qu(e)?e.source:mt(e)?Qu(e.value)?e.value.source:e.value:e;const N0="AsyncFunction";var l3=e=>(!e||!e.validate)&&!!(En(e.validate)&&e.validate.constructor.name===N0||mt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===N0)),c3=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function P0(e,t,r){const n=V(e,r);if(n||Sv(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=V(t,i),l=V(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var u3=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,d3=(e,t)=>!vf(V(e,t)).length&&gt(e,t);const f3={mode:Vr.onSubmit,reValidateMode:Vr.onChange,shouldFocusError:!0};function h3(e={}){let t={...f3,...e},r={submitCount:0,isDirty:!1,isLoading:En(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=mt(t.defaultValues)||mt(t.values)?Xt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Xt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Ch(),array:Ch(),state:Ch()},m=b0(t.mode),y=b0(t.reValidateMode),w=t.criteriaMode===Vr.all,p=E=>R=>{clearTimeout(u),u=setTimeout(E,R)},x=async E=>{if(!e.disabled&&(d.isValid||E)){const R=t.resolver?tr((await N()).errors):await O(n,!0);R!==r.isValid&&f.state.next({isValid:R})}},v=(E,R)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((E||Array.from(l.mount)).forEach(M=>{M&&(R?Me(r.validatingFields,M,R):gt(r.validatingFields,M))}),f.state.next({validatingFields:r.validatingFields,isValidating:!tr(r.validatingFields)}))},g=(E,R=[],M,Y,H=!0,B=!0)=>{if(Y&&M&&!e.disabled){if(o.action=!0,B&&Array.isArray(V(n,E))){const ie=M(V(n,E),Y.argA,Y.argB);H&&Me(n,E,ie)}if(B&&Array.isArray(V(r.errors,E))){const ie=M(V(r.errors,E),Y.argA,Y.argB);H&&Me(r.errors,E,ie),d3(r.errors,E)}if(d.touchedFields&&B&&Array.isArray(V(r.touchedFields,E))){const ie=M(V(r.touchedFields,E),Y.argA,Y.argB);H&&Me(r.touchedFields,E,ie)}d.dirtyFields&&(r.dirtyFields=Ra(s,i)),f.state.next({name:E,isDirty:P(E,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Me(i,E,R)},b=(E,R)=>{Me(r.errors,E,R),f.state.next({errors:r.errors})},_=E=>{r.errors=E,f.state.next({errors:r.errors,isValid:!1})},j=(E,R,M,Y)=>{const H=V(n,E);if(H){const B=V(i,E,ct(M)?V(s,E):M);ct(B)||Y&&Y.defaultChecked||R?Me(i,E,R?B:Nh(H._f)):K(E,B),o.mount&&x()}},k=(E,R,M,Y,H)=>{let B=!1,ie=!1;const xe={name:E};if(!e.disabled){const _t=!!(V(n,E)&&V(n,E)._f&&V(n,E)._f.disabled);if(!M||Y){d.isDirty&&(ie=r.isDirty,r.isDirty=xe.isDirty=P(),B=ie!==xe.isDirty);const jt=_t||os(V(s,E),R);ie=!!(!_t&&V(r.dirtyFields,E)),jt||_t?gt(r.dirtyFields,E):Me(r.dirtyFields,E,!0),xe.dirtyFields=r.dirtyFields,B=B||d.dirtyFields&&ie!==!jt}if(M){const jt=V(r.touchedFields,E);jt||(Me(r.touchedFields,E,M),xe.touchedFields=r.touchedFields,B=B||d.touchedFields&&jt!==M)}B&&H&&f.state.next(xe)}return B?xe:{}},S=(E,R,M,Y)=>{const H=V(r.errors,E),B=d.isValid&&kr(R)&&r.isValid!==R;if(e.delayError&&M?(c=p(()=>b(E,M)),c(e.delayError)):(clearTimeout(u),c=null,M?Me(r.errors,E,M):gt(r.errors,E)),(M?!os(H,M):H)||!tr(Y)||B){const ie={...Y,...B&&kr(R)?{isValid:R}:{},errors:r.errors,name:E};r={...r,...ie},f.state.next(ie)}},N=async E=>{v(E,!0);const R=await t.resolver(i,t.context,a3(E||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(E),R},T=async E=>{const{errors:R}=await N(E);if(E)for(const M of E){const Y=V(R,M);Y?Me(r.errors,M,Y):gt(r.errors,M)}else r.errors=R;return R},O=async(E,R,M={valid:!0})=>{for(const Y in E){const H=E[Y];if(H){const{_f:B,...ie}=H;if(B){const xe=l.array.has(B.name),_t=H._f&&l3(H._f);_t&&d.validatingFields&&v([Y],!0);const jt=await E0(H,i,w,t.shouldUseNativeValidation&&!R,xe);if(_t&&d.validatingFields&&v([Y]),jt[B.name]&&(M.valid=!1,R))break;!R&&(V(jt,B.name)?xe?n3(r.errors,jt,B.name):Me(r.errors,B.name,jt[B.name]):gt(r.errors,B.name))}!tr(ie)&&await O(ie,R,M)}}return M.valid},F=()=>{for(const E of l.unMount){const R=V(n,E);R&&(R._f.refs?R._f.refs.every(M=>!Eh(M)):!Eh(R._f.ref))&&He(E)}l.unMount=new Set},P=(E,R)=>!e.disabled&&(E&&R&&Me(i,E,R),!os(ne(),s)),L=(E,R,M)=>UC(E,l,{...o.mount?i:ct(R)?s:ln(E)?{[E]:R}:R},M,R),D=E=>vf(V(o.mount?i:s,E,e.shouldUnregister?V(s,E,[]):[])),K=(E,R,M={})=>{const Y=V(n,E);let H=R;if(Y){const B=Y._f;B&&(!B.disabled&&Me(i,E,KC(R,B)),H=Gu(B.ref)&&qt(R)?"":R,WC(B.ref)?[...B.ref.options].forEach(ie=>ie.selected=H.includes(ie.value)):B.refs?ic(B.ref)?B.refs.length>1?B.refs.forEach(ie=>(!ie.defaultChecked||!ie.disabled)&&(ie.checked=Array.isArray(H)?!!H.find(xe=>xe===ie.value):H===ie.value)):B.refs[0]&&(B.refs[0].checked=!!H):B.refs.forEach(ie=>ie.checked=ie.value===H):Cv(B.ref)?B.ref.value="":(B.ref.value=H,B.ref.type||f.values.next({name:E,values:{...i}})))}(M.shouldDirty||M.shouldTouch)&&k(E,H,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&q(E)},$=(E,R,M)=>{for(const Y in R){const H=R[Y],B=`${E}.${Y}`,ie=V(n,B);(l.array.has(E)||mt(H)||ie&&!ie._f)&&!di(H)?$(B,H,M):K(B,H,M)}},G=(E,R,M={})=>{const Y=V(n,E),H=l.array.has(E),B=Xt(R);Me(i,E,B),H?(f.array.next({name:E,values:{...i}}),(d.isDirty||d.dirtyFields)&&M.shouldDirty&&f.state.next({name:E,dirtyFields:Ra(s,i),isDirty:P(E,B)})):Y&&!Y._f&&!qt(B)?$(E,B,M):K(E,B,M),_0(E,l)&&f.state.next({...r}),f.values.next({name:o.mount?E:void 0,values:{...i}})},A=async E=>{o.mount=!0;const R=E.target;let M=R.name,Y=!0;const H=V(n,M),B=()=>R.type?Nh(H._f):AC(E),ie=xe=>{Y=Number.isNaN(xe)||di(xe)&&isNaN(xe.getTime())||os(xe,V(i,M,xe))};if(H){let xe,_t;const jt=B(),Xs=E.type===Ku.BLUR||E.type===Ku.FOCUS_OUT,iE=!c3(H._f)&&!t.resolver&&!V(r.errors,M)&&!H._f.deps||u3(Xs,V(r.touchedFields,M),r.isSubmitted,y,m),jf=_0(M,l,Xs);Me(i,M,jt),Xs?(H._f.onBlur&&H._f.onBlur(E),c&&c(0)):H._f.onChange&&H._f.onChange(E);const Sf=k(M,jt,Xs,!1),oE=!tr(Sf)||jf;if(!Xs&&f.values.next({name:M,type:E.type,values:{...i}}),iE)return d.isValid&&(e.mode==="onBlur"?Xs&&x():x()),oE&&f.state.next({name:M,...jf?{}:Sf});if(!Xs&&jf&&f.state.next({...r}),t.resolver){const{errors:Pv}=await N([M]);if(ie(jt),Y){const aE=P0(r.errors,n,M),Tv=P0(Pv,n,aE.name||M);xe=Tv.error,M=Tv.name,_t=tr(Pv)}}else v([M],!0),xe=(await E0(H,i,w,t.shouldUseNativeValidation))[M],v([M]),ie(jt),Y&&(xe?_t=!1:d.isValid&&(_t=await O(n,!0)));Y&&(H._f.deps&&q(H._f.deps),S(M,_t,xe,Sf))}},I=(E,R)=>{if(V(r.errors,R)&&E.focus)return E.focus(),1},q=async(E,R={})=>{let M,Y;const H=ol(E);if(t.resolver){const B=await T(ct(E)?E:H);M=tr(B),Y=E?!H.some(ie=>V(B,ie)):M}else E?(Y=(await Promise.all(H.map(async B=>{const ie=V(n,B);return await O(ie&&ie._f?{[B]:ie}:ie)}))).every(Boolean),!(!Y&&!r.isValid)&&x()):Y=M=await O(n);return f.state.next({...!ln(E)||d.isValid&&M!==r.isValid?{}:{name:E},...t.resolver||!E?{isValid:M}:{},errors:r.errors}),R.shouldFocus&&!Y&&al(n,I,E?H:l.mount),Y},ne=E=>{const R={...o.mount?i:s};return ct(E)?R:ln(E)?V(R,E):E.map(M=>V(R,M))},ge=(E,R)=>({invalid:!!V((R||r).errors,E),isDirty:!!V((R||r).dirtyFields,E),error:V((R||r).errors,E),isValidating:!!V(r.validatingFields,E),isTouched:!!V((R||r).touchedFields,E)}),ut=E=>{E&&ol(E).forEach(R=>gt(r.errors,R)),f.state.next({errors:E?r.errors:{}})},Ve=(E,R,M)=>{const Y=(V(n,E,{_f:{}})._f||{}).ref,H=V(r.errors,E)||{},{ref:B,message:ie,type:xe,..._t}=H;Me(r.errors,E,{..._t,...R,ref:Y}),f.state.next({name:E,errors:r.errors,isValid:!1}),M&&M.shouldFocus&&Y&&Y.focus&&Y.focus()},zt=(E,R)=>En(E)?f.values.subscribe({next:M=>E(L(void 0,R),M)}):L(E,R,!0),He=(E,R={})=>{for(const M of E?ol(E):l.mount)l.mount.delete(M),l.array.delete(M),R.keepValue||(gt(n,M),gt(i,M)),!R.keepError&&gt(r.errors,M),!R.keepDirty&&gt(r.dirtyFields,M),!R.keepTouched&&gt(r.touchedFields,M),!R.keepIsValidating&&gt(r.validatingFields,M),!t.shouldUnregister&&!R.keepDefaultValue&&gt(s,M);f.values.next({values:{...i}}),f.state.next({...r,...R.keepDirty?{isDirty:P()}:{}}),!R.keepIsValid&&x()},re=({disabled:E,name:R,field:M,fields:Y,value:H})=>{if(kr(E)&&o.mount||E){const B=E?void 0:ct(H)?Nh(M?M._f:V(Y,R)._f):H;Me(i,R,B),k(R,B,!1,!1,!0)}},Re=(E,R={})=>{let M=V(n,E);const Y=kr(R.disabled)||kr(e.disabled);return Me(n,E,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:E}},name:E,mount:!0,...R}}),l.mount.add(E),M?re({field:M,disabled:kr(R.disabled)?R.disabled:e.disabled,name:E,value:R.value}):j(E,!0,R.value),{...Y?{disabled:R.disabled||e.disabled}:{},...t.progressive?{required:!!R.required,min:Oa(R.min),max:Oa(R.max),minLength:Oa(R.minLength),maxLength:Oa(R.maxLength),pattern:Oa(R.pattern)}:{},name:E,onChange:A,onBlur:A,ref:H=>{if(H){Re(E,R),M=V(n,E);const B=ct(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,ie=o3(B),xe=M._f.refs||[];if(ie?xe.find(_t=>_t===B):B===M._f.ref)return;Me(n,E,{_f:{...M._f,...ie?{refs:[...xe.filter(Eh),B,...Array.isArray(V(s,E))?[{}]:[]],ref:{type:B.type,name:E}}:{ref:B}}}),j(E,!1,void 0,B)}else M=V(n,E,{}),M._f&&(M._f.mount=!1),(t.shouldUnregister||R.shouldUnregister)&&!(IC(l.array,E)&&o.action)&&l.unMount.add(E)}}},Le=()=>t.shouldFocusError&&al(n,I,l.mount),Oe=E=>{kr(E)&&(f.state.next({disabled:E}),al(n,(R,M)=>{const Y=V(n,M);Y&&(R.disabled=Y._f.disabled||E,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(H=>{H.disabled=Y._f.disabled||E}))},0,!1))},Ae=(E,R)=>async M=>{let Y;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let H=Xt(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:B,values:ie}=await N();r.errors=B,H=ie}else await O(n);if(gt(r.errors,"root"),tr(r.errors)){f.state.next({errors:{}});try{await E(H,M)}catch(B){Y=B}}else R&&await R({...r.errors},M),Le(),setTimeout(Le);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:tr(r.errors)&&!Y,submitCount:r.submitCount+1,errors:r.errors}),Y)throw Y},Ie=(E,R={})=>{V(n,E)&&(ct(R.defaultValue)?G(E,Xt(V(s,E))):(G(E,R.defaultValue),Me(s,E,Xt(R.defaultValue))),R.keepTouched||gt(r.touchedFields,E),R.keepDirty||(gt(r.dirtyFields,E),r.isDirty=R.defaultValue?P(E,Xt(V(s,E))):P()),R.keepError||(gt(r.errors,E),d.isValid&&x()),f.state.next({...r}))},It=(E,R={})=>{const M=E?Xt(E):s,Y=Xt(M),H=tr(E),B=H?s:Y;if(R.keepDefaultValues||(s=M),!R.keepValues){if(R.keepDirtyValues){const ie=new Set([...l.mount,...Object.keys(Ra(s,i))]);for(const xe of Array.from(ie))V(r.dirtyFields,xe)?Me(B,xe,V(i,xe)):G(xe,V(B,xe))}else{if(jv&&ct(E))for(const ie of l.mount){const xe=V(n,ie);if(xe&&xe._f){const _t=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(Gu(_t)){const jt=_t.closest("form");if(jt){jt.reset();break}}}}n={}}i=e.shouldUnregister?R.keepDefaultValues?Xt(s):{}:Xt(B),f.array.next({values:{...B}}),f.values.next({values:{...B}})}l={mount:R.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!R.keepIsValid||!!R.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:H?!1:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!os(E,s)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:H?{}:R.keepDirtyValues?R.keepDefaultValues&&i?Ra(s,i):r.dirtyFields:R.keepDefaultValues&&E?Ra(s,E):R.keepDirty?r.dirtyFields:{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},cr=(E,R)=>It(En(E)?E(i):E,R);return{control:{register:Re,unregister:He,getFieldState:ge,handleSubmit:Ae,setError:Ve,_executeSchema:N,_getWatch:L,_getDirty:P,_updateValid:x,_removeUnmounted:F,_updateFieldArray:g,_updateDisabledField:re,_getFieldArray:D,_reset:It,_resetDefaultValues:()=>En(t.defaultValues)&&t.defaultValues().then(E=>{cr(E,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:E=>{r={...r,...E}},_disableForm:Oe,_subjects:f,_proxyFormState:d,_setErrors:_,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(E){o=E},get _defaultValues(){return s},get _names(){return l},set _names(E){l=E},get _formState(){return r},set _formState(E){r=E},get _options(){return t},set _options(E){t={...t,...E}}},trigger:q,register:Re,handleSubmit:Ae,watch:zt,setValue:G,getValues:ne,reset:cr,resetField:Ie,clearErrors:ut,unregister:He,setError:Ve,setFocus:(E,R={})=>{const M=V(n,E),Y=M&&M._f;if(Y){const H=Y.refs?Y.refs[0]:Y.ref;H.focus&&(H.focus(),R.shouldSelect&&H.select())}},getFieldState:ge}}function xf(e={}){const t=we.useRef(),r=we.useRef(),[n,s]=we.useState({isDirty:!1,isValidating:!1,isLoading:En(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:En(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...h3(e),formState:n});const i=t.current.control;return i._options=e,kv({subject:i._subjects.state,next:o=>{$C(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),we.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),we.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),we.useEffect(()=>{e.values&&!os(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),we.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),we.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),we.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),we.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=LC(n,i),t.current}const wf=XU,GC=h.createContext({}),ot=({...e})=>a.jsx(GC.Provider,{value:{name:e.name},children:a.jsx(r3,{...e})}),bf=()=>{const e=h.useContext(GC),t=h.useContext(QC),{getFieldState:r,formState:n}=yf(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},QC=h.createContext({}),Je=h.forwardRef(({className:e,...t},r)=>{const n=h.useId();return a.jsx(QC.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:te("space-y-2",e),...t})})});Je.displayName="FormItem";const dt=h.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=bf();return a.jsx(Qe,{ref:r,className:te(n&&"text-destructive",e),htmlFor:s,...t})});dt.displayName="FormLabel";const et=h.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=bf();return a.jsx(As,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});et.displayName="FormControl";const yp=h.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=bf();return a.jsx("p",{ref:r,id:n,className:te("text-sm text-muted-foreground",e),...t})});yp.displayName="FormDescription";const tt=h.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=bf(),o=s?String(s==null?void 0:s.message):t;return o?a.jsx("p",{ref:n,id:i,className:te("text-sm font-medium text-destructive",e),...r,children:o}):null});tt.displayName="FormMessage";const m3=({existingCategories:e})=>{const[t,r]=h.useState(!1),[n,s]=h.useState(!1),[i,o]=h.useState("existing"),{toast:l}=Pt(),c=Ui(),{data:u=[]}=fn({queryKey:["product-types"],queryFn:async()=>{const{data:p,error:x}=await W.from("product_types").select("id, name").order("name");if(x)throw console.error("Error fetching product types:",x),x;return p||[]}}),d=xf({defaultValues:{name:"",description:"",category:"",newCategory:"",quantity:1,price:0}}),f=(p,x)=>{const v=p.trim().split(" "),g=x.trim().split(" ");let b="",_="";return v.forEach(j=>{j.length>0&&(b+=j.substring(0,1).toUpperCase())}),g.forEach(j=>{j.length>0&&(_+=j.substring(0,1).toUpperCase())}),b=b.padEnd(2,"X").substring(0,2),_=_.padEnd(2,"X").substring(0,2),`${b}-${_}`},m=async()=>{const{data:p}=await W.from("items").select("location_id, locations(shelf_number, slot_number)").not("location_id","is",null),x=["A","B","C","D"],v=[1,2,3],g=[1,2,3,4],b=[];for(const j of x)for(const k of v)for(const S of g)b.push(`${j}${k}-${S.toString().padStart(2,"0")}`);const _=new Set;p&&p.forEach(j=>{if(j.locations){const k=`${j.locations.shelf_number}${j.locations.slot_number}`;_.add(k)}});for(const j of b)if(!_.has(j))return j;return null},y=async p=>{const[x,v]=p.split(/(\d)/),g=x,b=p.substring(1),{data:_}=await W.from("locations").select("id").eq("shelf_number",g).eq("slot_number",b).single();if(_)return _.id;const{data:j,error:k}=await W.from("locations").insert({shelf_number:g,slot_number:b,capacity:100,status:!0}).select("id").single();if(k)throw k;return j.id},w=async p=>{try{s(!0);const{data:{user:x}}=await W.auth.getUser();if(!x)throw new Error("User not authenticated");const v=i==="new"?p.newCategory:p.category;let g;const{data:b}=await W.from("product_types").select("id").eq("name",v).single();if(b)g=b.id;else{const{data:$,error:G}=await W.from("product_types").insert({name:v,description:`Auto-generated product type for ${v}`,tax_type:.1}).select("id").single();if(G)throw G;g=$.id}const{data:_,error:j}=await W.from("inventory").insert({name:p.name,description:p.description,quantity:p.quantity,product_type_id:g,status:!0}).select("id").single();if(j)throw j;const{data:k}=await W.from("price").select("id").eq("inventory_id",_.id).eq("status",!0).single();if(k){const{error:$}=await W.from("price").update({amount:p.price}).eq("id",k.id);if($)throw $}else{const{error:$}=await W.from("price").insert({inventory_id:_.id,amount:p.price,status:!0});if($)throw $}const S=f(p.name,v),{data:N}=await W.from("items").select("serial_id").like("serial_id",`${S}-%`);let T=1;if(N&&N.length>0){const $=N.map(G=>{const A=G.serial_id.split("-"),I=A[A.length-1];return parseInt(I,10)}).filter(G=>!isNaN(G));$.length>0&&(T=Math.max(...$)+1)}const O=await m();let F=null;O&&(F=await y(O));const P=[];for(let $=0;$<p.quantity;$++){const G=(T+$).toString().padStart(2,"0");P.push({serial_id:`${S}-${G}`,inventory_id:_.id,status:"available",location_id:F})}const{error:L}=await W.from("items").insert(P);if(L)throw L;const D=P.map($=>({item_serial:$.serial_id,user_id:x.id,transaction_type:"stock_in",notes:`New product added to inventory: ${p.name}${$.location_id?` at ${O}`:""}`,destination_location_id:$.location_id})),{error:K}=await W.from("transactions").insert(D);if(K)throw K;l({title:"Product Added Successfully",description:`Added ${p.quantity} units of ${p.name} to inventory${O?` at location ${O}`:""}`}),d.reset(),r(!1),c.invalidateQueries({queryKey:["warehouse-products"]}),c.invalidateQueries({queryKey:["detailed-inventory"]}),c.invalidateQueries({queryKey:["inventory-products"]}),c.invalidateQueries({queryKey:["detailed-products"]}),c.invalidateQueries({queryKey:["product-types"]})}catch(x){console.error("Error adding product:",x),l({title:"Error",description:x instanceof Error?x.message:"Failed to add product",variant:"destructive"})}finally{s(!1)}};return a.jsxs(PC,{open:t,onOpenChange:r,children:[a.jsx(KU,{asChild:!0,children:a.jsxs(pe,{children:[a.jsx(I1,{className:"h-4 w-4 mr-2"}),"Add Product"]})}),a.jsxs(xv,{className:"sm:max-w-[425px]",children:[a.jsxs(wv,{children:[a.jsx(bv,{children:"Add New Product"}),a.jsx(_v,{children:"Add a new product to your inventory. All items will be grouped together at the same location."})]}),a.jsx(wf,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(w),className:"space-y-4",children:[a.jsx(ot,{control:d.control,name:"name",rules:{required:"Product name is required"},render:({field:p})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Product Name"}),a.jsx(et,{children:a.jsx(me,{placeholder:"e.g., ThinkPad X1",...p})}),a.jsx(tt,{})]})}),a.jsx(ot,{control:d.control,name:"description",render:({field:p})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Description"}),a.jsx(et,{children:a.jsx(Ri,{placeholder:"Product description...",...p})}),a.jsx(tt,{})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Qe,{children:"Category"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",value:"existing",checked:i==="existing",onChange:()=>o("existing")}),a.jsx("span",{children:"Existing"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",value:"new",checked:i==="new",onChange:()=>o("new")}),a.jsx("span",{children:"New"})]})]}),i==="existing"?a.jsx(ot,{control:d.control,name:"category",rules:{required:"Category is required"},render:({field:p})=>a.jsxs(Je,{children:[a.jsx(et,{children:a.jsxs(Fs,{onValueChange:p.onChange,value:p.value,children:[a.jsx($n,{children:a.jsx(Ai,{placeholder:"Select category"})}),a.jsx(Fn,{children:u.map(x=>a.jsx(Ne,{value:x.name,children:x.name},x.id))})]})}),a.jsx(tt,{})]})}):a.jsx(ot,{control:d.control,name:"newCategory",rules:{required:"New category name is required"},render:({field:p})=>a.jsxs(Je,{children:[a.jsx(et,{children:a.jsx(me,{placeholder:"Enter new category name",...p})}),a.jsx(tt,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ot,{control:d.control,name:"quantity",rules:{required:"Quantity is required",min:{value:1,message:"Quantity must be at least 1"}},render:({field:p})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Quantity"}),a.jsx(et,{children:a.jsx(me,{type:"number",min:"1",...p,onChange:x=>p.onChange(parseInt(x.target.value))})}),a.jsx(tt,{})]})}),a.jsx(ot,{control:d.control,name:"price",rules:{required:"Price is required",min:{value:0,message:"Price must be non-negative"}},render:({field:p})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Price ($)"}),a.jsx(et,{children:a.jsx(me,{type:"number",step:"0.01",min:"0",...p,onChange:x=>p.onChange(parseFloat(x.target.value))})}),a.jsx(tt,{})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(pe,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:n,children:"Cancel"}),a.jsx(pe,{type:"submit",disabled:n,children:n?"Adding...":"Add Product"})]})]})})]})]})},p3=({categories:e})=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Warehouse Management"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your inventory, track stock levels, and analyze warehouse operations."})]}),a.jsx(m3,{existingCategories:e})]}),g3=({searchTerm:e,setSearchTerm:t,filterCategory:r,setFilterCategory:n,categories:s})=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(me,{type:"search",placeholder:"Search products...",value:e,onChange:i=>t(i.target.value)}),a.jsxs("div",{className:"md:col-span-2 flex items-center space-x-4",children:[a.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:r,onChange:i=>n(i.target.value),children:[a.jsx("option",{value:"all",children:"All Categories"}),s.map(i=>a.jsx("option",{value:i,children:i},i))]}),a.jsxs(pe,{variant:"outline",children:[a.jsx(VA,{size:16,className:"mr-2"}),"Filter"]})]})]}),v3=({products:e})=>a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(t=>a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsx(Ee,{children:t.name}),a.jsx(Ze,{children:t.description})]}),a.jsxs(be,{children:[a.jsxs("p",{children:["Category: ",t.category]}),a.jsxs("p",{children:["Stock: ",t.stock]}),a.jsxs("p",{children:["Location: ",t.location||"A1-01"]}),a.jsx(Ue,{variant:t.stock>5?"default":"destructive",children:t.stock>5?"In Stock":"Low Stock"})]})]},t.id))}),YC=async()=>{console.log("Fetching products from database...");try{const{data:e,error:t}=await W.from("inventory").select(`
        id, 
        name, 
        description, 
        quantity, 
        created_at, 
        updated_at, 
        product_type_id,
        product_types (
          name
        )
      `);if(t)throw console.error("Error fetching inventory:",t),t;if(console.log("Inventory data:",e),!e||e.length===0)return console.log("No inventory data found"),[];const r=e.map(l=>l.id);console.log("Fetching prices for inventory IDs:",r);const{data:n,error:s}=await W.from("price").select("inventory_id, amount, effective_from, status").in("inventory_id",r).eq("status",!0).order("effective_from",{ascending:!1});s&&console.error("Error fetching prices:",s),console.log("Price data fetched:",n);const i=new Map;n&&n.forEach(l=>{i.has(l.inventory_id)||(i.set(l.inventory_id,l.amount),console.log(`Setting price for inventory ${l.inventory_id}: $${l.amount}`))}),console.log("Price map created:",Array.from(i.entries()));const o=e.map(l=>{var d;const c=i.get(l.id)||0,u=((d=l.product_types)==null?void 0:d.name)||"Uncategorized";return console.log(`Product ${l.name} (ID: ${l.id}) - Price: $${c}, Category: ${u}`),{id:l.id||"",name:l.name||"Unnamed Product",description:l.description||"",price:c,stock:l.quantity||0,images:[],category:u,location:"",createdAt:new Date(l.created_at||Date.now()),updatedAt:new Date(l.updated_at||Date.now())}});return console.log("Final products with prices and categories:",o),o}catch(e){throw console.error("Error in getProducts method:",e),e}},y3=()=>{const[e,t]=h.useState(""),[r,n]=h.useState("all"),{data:s=[],isLoading:i,error:o}=fn({queryKey:["warehouse-products"],queryFn:YC}),{data:l=[]}=fn({queryKey:["inventory-movements"],queryFn:async()=>{console.log("Fetching inventory movements...");const{data:d,error:f}=await W.from("transactions").select(`
          *,
          items!inner (
            serial_id,
            inventory (
              name,
              id
            )
          ),
          orders (
            order_number,
            user_id
          )
        `).order("created_at",{ascending:!1});if(f)throw console.error("Error fetching transactions:",f),f;console.log("Raw transactions data:",d);const m=d.map(v=>v.user_id).filter(Boolean),y=d.filter(v=>{var g;return(g=v.orders)==null?void 0:g.user_id}).map(v=>v.orders.user_id).filter(Boolean),w=[...new Set([...m,...y])];console.log("All user IDs to fetch profiles for:",w);let p=new Map;if(w.length>0)try{console.log("Fetching profiles for user IDs:",w);const{data:v,error:g}=await W.from("profiles").select("id, name, email, role").in("id",w);g?console.error("Error fetching profiles:",g):(console.log("Fetched profiles:",v),v&&v.forEach(b=>{p.set(b.id,b)}))}catch(v){console.warn("Could not fetch user profiles:",v)}console.log("Profiles map:",Object.fromEntries(p));const x=d.map(v=>{var T,O,F,P,L;const g=p.get(v.user_id),b=(T=v.orders)!=null&&T.user_id?p.get(v.orders.user_id):null;console.log(`Transaction ${v.id}:`,{transactionUserId:v.user_id,transactionUserProfile:g,orderUserId:(O=v.orders)==null?void 0:O.user_id,orderUserProfile:b,transactionType:v.transaction_type,notes:v.notes});const _=g,j=(_==null?void 0:_.name)||`User ${(F=v.user_id)==null?void 0:F.slice(0,8)}...`||"System",k=(_==null?void 0:_.role)||"unknown";let S="N/A",N="N/A";return(P=v.orders)!=null&&P.user_id&&b?(S=b.name||`User ${v.orders.user_id.slice(0,8)}...`,N=b.email||"No email"):!v.orders&&v.user_id===v.user_id&&(S=j,N=(_==null?void 0:_.email)||"No email"),{id:v.id,productId:v.items.inventory.id,productName:v.items.inventory.name,quantity:1,type:v.transaction_type==="sale"?"out":"in",reason:v.notes||v.transaction_type,performedBy:j,timestamp:new Date(v.created_at),userId:v.user_id,userName:j,userRole:k,serialId:v.item_serial,orderNumber:(L=v.orders)==null?void 0:L.order_number,customerName:S,customerEmail:N}});return console.log("Final movements data:",x),x}}),c=[...new Set(s.map(d=>d.category))],u=s.filter(d=>d.name.toLowerCase().includes(e.toLowerCase())&&(r==="all"||d.category===r));return{products:s,inventoryMovements:l,categories:c,filteredProducts:u,searchTerm:e,setSearchTerm:t,filterCategory:r,setFilterCategory:n,isLoading:i,error:o}},x3=()=>{const[e,t]=h.useState("overview"),{products:r,inventoryMovements:n,categories:s,filteredProducts:i,searchTerm:o,setSearchTerm:l,filterCategory:c,setFilterCategory:u,isLoading:d,error:f}=y3(),m=p=>{console.log("Product selected:",p)},y=()=>{t("inventory")},w=p=>r.find(x=>x.id===p);return d?a.jsxs("div",{className:"container mx-auto px-4 py-8 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3",children:"Loading warehouse data..."})]}):f?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center text-red-600",children:["Error loading warehouse data: ",f.message]})}):a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[a.jsx(p3,{categories:s}),a.jsx(g3,{searchTerm:o,setSearchTerm:l,filterCategory:c,setFilterCategory:u,categories:s}),a.jsxs(qg,{value:e,onValueChange:t,className:"space-y-4",children:[a.jsxs(Yd,{children:[a.jsx(mr,{value:"overview",children:"Overview"}),a.jsx(mr,{value:"orders",children:"Order Requests"}),a.jsx(mr,{value:"inventory",children:"Inventory"}),a.jsx(mr,{value:"movements",children:"Movements"}),a.jsx(mr,{value:"refunds",children:"Refund Requests"}),a.jsx(mr,{value:"item-status",children:"Item Status"}),a.jsx(mr,{value:"shelf",children:"Shelf Mapping"})]}),a.jsx(pr,{value:"overview",className:"space-y-4",children:a.jsx(P$,{products:r,inventoryMovements:n})}),a.jsx(pr,{value:"orders",className:"space-y-4",children:a.jsx(QU,{})}),a.jsx(pr,{value:"inventory",className:"space-y-4",children:a.jsx(v3,{products:i})}),a.jsx(pr,{value:"movements",className:"space-y-4",children:a.jsx(QF,{movements:n,getProductById:w})}),a.jsx(pr,{value:"refunds",className:"space-y-4",children:a.jsx(t4,{})}),a.jsx(pr,{value:"item-status",className:"space-y-4",children:a.jsx(L4,{})}),a.jsx(pr,{value:"shelf",className:"space-y-4",children:a.jsx(YF,{products:r,onProductSelect:m})})]}),a.jsx(T$,{products:r,onProductSelect:m,onViewAllInventory:y})]})},T0=()=>{const[e,t]=h.useState(""),[r,n]=h.useState("all"),[s,i]=h.useState("name-asc"),{toast:o}=Pt(),{addToCart:l,getCartItemQuantity:c}=Ig(),{data:u=[],isLoading:d,error:f}=fn({queryKey:["store-products"],queryFn:YC});console.log("Products in Store component:",u),we.useEffect(()=>{f&&(console.error("Error in Store page:",f),o({title:"Error",description:"Failed to load products. Please try again later.",variant:"destructive"}))},[f,o]);const m=[...new Set(u.map(x=>x.category||"Uncategorized"))],w=[...u.filter(x=>{const v=x.name.toLowerCase().includes(e.toLowerCase())||(x.description||"").toLowerCase().includes(e.toLowerCase()),g=r==="all"||x.category===r;return v&&g})].sort((x,v)=>{switch(s){case"name-asc":return x.name.localeCompare(v.name);case"name-desc":return v.name.localeCompare(x.name);case"price-asc":return x.price-v.price;case"price-desc":return v.price-x.price;case"stock-asc":return x.stock-v.stock;case"stock-desc":return v.stock-x.stock;default:return 0}}),p=x=>{l(x,1)};return a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Online Store"}),a.jsx("p",{className:"text-muted-foreground",children:"Explore our wide range of products and find the perfect fit for your needs."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"flex items-center space-x-2 w-full md:w-auto",children:a.jsxs("div",{className:"relative flex-1 md:w-64",children:[a.jsx(me,{type:"search",placeholder:"Search for products...",className:"pl-10",value:e,onChange:x=>t(x.target.value)}),a.jsx(M1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[a.jsxs(Fs,{value:r,onValueChange:n,children:[a.jsx($n,{className:"w-full md:w-[180px]",children:a.jsx(Ai,{placeholder:"Category"})}),a.jsxs(Fn,{children:[a.jsx(Ne,{value:"all",children:"All Categories"}),m.map(x=>a.jsx(Ne,{value:x,children:x},x))]})]}),a.jsxs(Fs,{value:s,onValueChange:i,children:[a.jsx($n,{className:"w-full md:w-[180px]",children:a.jsx(Ai,{placeholder:"Sort by"})}),a.jsxs(Fn,{children:[a.jsx(Ne,{value:"name-asc",children:"Name (A-Z)"}),a.jsx(Ne,{value:"name-desc",children:"Name (Z-A)"}),a.jsx(Ne,{value:"price-asc",children:"Price (Low to High)"}),a.jsx(Ne,{value:"price-desc",children:"Price (High to Low)"}),a.jsx(Ne,{value:"stock-asc",children:"Stock (Low to High)"}),a.jsx(Ne,{value:"stock-desc",children:"Stock (High to Low)"})]})]})]})]}),d?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading products..."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:w.map(x=>{const v=c(x.id),g=v>0,b=x.stock<=0;return a.jsxs(ye,{className:"bg-white dark:bg-gray-800 shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200 dark:border-gray-700",children:[a.jsxs(Ce,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx(Ee,{className:"text-lg font-semibold truncate text-gray-900 dark:text-gray-100",children:x.name}),g&&a.jsxs(Ue,{variant:"secondary",className:"ml-2",children:[v," in cart"]})]}),a.jsx(Ze,{className:"text-gray-500 dark:text-gray-400 text-sm line-clamp-2",children:x.description})]}),a.jsxs(be,{className:"p-4 pt-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(Ue,{variant:"secondary",className:"text-xs",children:x.category||"Uncategorized"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(eI,{className:"h-4 w-4 text-yellow-500 fill-current"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"4.5"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["$",x.price]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm ${b?"text-red-600":"text-gray-600 dark:text-gray-400"}`,children:b?"Out of Stock":`Stock: ${x.stock}`}),b&&a.jsx(Ue,{variant:"destructive",children:"Unavailable"})]})]}),a.jsx("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx(pe,{variant:g?"secondary":"default",size:"sm",className:"flex-1 mr-2",onClick:()=>p(x),disabled:b,children:g?a.jsxs(a.Fragment,{children:[a.jsx(qd,{className:"h-4 w-4 mr-2"}),"Added"]}):a.jsxs(a.Fragment,{children:[a.jsx(Fg,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})})})]})]},x.id)})}),w.length===0&&!d&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products found matching your criteria."})})]})})};var w3="Separator",R0="horizontal",b3=["horizontal","vertical"],ZC=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=R0,...s}=e,i=_3(n)?n:R0,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(ue.div,{"data-orientation":i,...l,...s,ref:t})});ZC.displayName=w3;function _3(e){return b3.includes(e)}var XC=ZC;const Zu=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(XC,{ref:s,decorative:r,orientation:t,className:te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Zu.displayName=XC.displayName;const j3=()=>{const{items:e,total:t,itemCount:r,removeFromCart:n,updateQuantity:s,clearCart:i}=Ig(),{toast:o}=Pt(),l=Fi(),c=()=>{if(e.filter(m=>m.status==="unavailable"||m.product.stock<m.quantity).length>0){o({title:"Cannot proceed to checkout",description:"Some items in your cart are no longer available or have insufficient stock.",variant:"destructive"});return}l("/checkout")},u=f=>f.product.stock<=0?"unavailable":f.quantity>f.product.stock?"insufficient":"available",d=f=>{switch(f){case"unavailable":return a.jsx(Ue,{variant:"destructive",children:"Out of Stock"});case"insufficient":return a.jsx(Ue,{variant:"destructive",children:"Insufficient Stock"});default:return a.jsx(Ue,{variant:"secondary",children:"Available"})}};return e.length===0?a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(XA,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start shopping to add items to your cart."}),a.jsx(pe,{onClick:()=>l("/store"),children:"Continue Shopping"})]})})}):a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Shopping Cart"}),a.jsxs("p",{className:"text-muted-foreground",children:[r," ",r===1?"item":"items"," in your cart"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(f=>{const m=u(f);return a.jsx(ye,{className:"relative",children:a.jsx(be,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:f.product.name}),d(m)]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:f.product.description}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:["Category: ",f.product.category]}),m==="insufficient"&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm mb-4",children:[a.jsx(ta,{className:"h-4 w-4"}),a.jsxs("span",{children:["Only ",f.product.stock," available (you have ",f.quantity," in cart)"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(pe,{variant:"outline",size:"icon",onClick:()=>s(f.product.id,f.quantity-1),disabled:f.quantity<=1,children:a.jsx(QA,{className:"h-4 w-4"})}),a.jsx("span",{className:"font-medium text-lg w-8 text-center",children:f.quantity}),a.jsx(pe,{variant:"outline",size:"icon",onClick:()=>s(f.product.id,f.quantity+1),disabled:f.quantity>=f.product.stock,children:a.jsx(I1,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["$",(f.product.price*f.quantity).toFixed(2)]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["$",f.product.price.toFixed(2)," each"]})]})]})]}),a.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>n(f.product.id),className:"ml-4 text-red-500 hover:text-red-700 hover:bg-red-50",children:a.jsx(D1,{className:"h-4 w-4"})})]})})},f.id)})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ye,{children:[a.jsx(Ce,{children:a.jsx(Ee,{children:"Order Summary"})}),a.jsxs(be,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Subtotal (",r," items)"]}),a.jsxs("span",{children:["$",t.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{className:"text-green-600",children:"Free"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{children:["$",(t*.08).toFixed(2)]})]}),a.jsx(Zu,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",(t*1.08).toFixed(2)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pe,{onClick:c,className:"w-full",disabled:e.some(f=>u(f)!=="available"),children:"Proceed to Checkout"}),a.jsx(pe,{variant:"outline",onClick:i,className:"w-full",children:"Clear Cart"}),a.jsx(pe,{variant:"ghost",onClick:()=>l("/store"),className:"w-full",children:"Continue Shopping"})]})]})]}),e.some(f=>u(f)!=="available")&&a.jsxs(ye,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-800",children:[a.jsx(Ce,{children:a.jsxs(Ee,{className:"text-amber-800 dark:text-amber-200 flex items-center gap-2",children:[a.jsx(ta,{className:"h-5 w-5"}),"Stock Issues"]})}),a.jsx(be,{children:a.jsx("p",{className:"text-amber-700 dark:text-amber-300 text-sm",children:"Some items in your cart have stock issues. Please review and adjust quantities before proceeding."})})]})]})]})]})})},S3=({initialData:e,onSubmit:t})=>{const r=xf({defaultValues:e}),n=s=>{t(s)};return a.jsxs(ye,{children:[a.jsx(Ce,{children:a.jsx(Ee,{children:"Invoice Information"})}),a.jsx(be,{children:a.jsx(wf,{...r,children:a.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ot,{control:r.control,name:"firstName",rules:{required:"First name is required"},render:({field:s})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"First Name"}),a.jsx(et,{children:a.jsx(me,{placeholder:"John",...s})}),a.jsx(tt,{})]})}),a.jsx(ot,{control:r.control,name:"lastName",rules:{required:"Last name is required"},render:({field:s})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Last Name"}),a.jsx(et,{children:a.jsx(me,{placeholder:"Doe",...s})}),a.jsx(tt,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ot,{control:r.control,name:"email",rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:s})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Email"}),a.jsx(et,{children:a.jsx(me,{type:"email",placeholder:"john@example.com",...s})}),a.jsx(tt,{})]})}),a.jsx(ot,{control:r.control,name:"phone",rules:{required:"Phone number is required"},render:({field:s})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Phone"}),a.jsx(et,{children:a.jsx(me,{placeholder:"+1 (555) 123-4567",...s})}),a.jsx(tt,{})]})})]}),a.jsx(ot,{control:r.control,name:"company",render:({field:s})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Company (Optional)"}),a.jsx(et,{children:a.jsx(me,{placeholder:"Company Name",...s})}),a.jsx(tt,{})]})}),a.jsx(ot,{control:r.control,name:"address",rules:{required:"Address is required"},render:({field:s})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Address"}),a.jsx(et,{children:a.jsx(me,{placeholder:"123 Main Street",...s})}),a.jsx(tt,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ot,{control:r.control,name:"city",rules:{required:"City is required"},render:({field:s})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"City"}),a.jsx(et,{children:a.jsx(me,{placeholder:"New York",...s})}),a.jsx(tt,{})]})}),a.jsx(ot,{control:r.control,name:"state",rules:{required:"State is required"},render:({field:s})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"State"}),a.jsx(et,{children:a.jsx(me,{placeholder:"NY",...s})}),a.jsx(tt,{})]})}),a.jsx(ot,{control:r.control,name:"postalCode",rules:{required:"Postal code is required"},render:({field:s})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Postal Code"}),a.jsx(et,{children:a.jsx(me,{placeholder:"10001",...s})}),a.jsx(tt,{})]})})]}),a.jsx(ot,{control:r.control,name:"country",rules:{required:"Country is required"},render:({field:s})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Country"}),a.jsxs(Fs,{onValueChange:s.onChange,value:s.value,children:[a.jsx(et,{children:a.jsx($n,{children:a.jsx(Ai,{placeholder:"Select a country"})})}),a.jsxs(Fn,{children:[a.jsx(Ne,{value:"United States",children:"United States"}),a.jsx(Ne,{value:"Canada",children:"Canada"}),a.jsx(Ne,{value:"United Kingdom",children:"United Kingdom"}),a.jsx(Ne,{value:"Germany",children:"Germany"}),a.jsx(Ne,{value:"France",children:"France"}),a.jsx(Ne,{value:"Australia",children:"Australia"})]})]}),a.jsx(tt,{})]})}),a.jsx(pe,{type:"submit",className:"w-full",children:"Continue to Payment"})]})})})]})},k3=({initialData:e,onSubmit:t,onBack:r,isProcessing:n})=>{const s=xf({defaultValues:e}),i=c=>{t(c)},o=c=>{const u=c.replace(/\s+/g,"").replace(/[^0-9]/gi,""),d=u.match(/\d{4,16}/g),f=d&&d[0]||"",m=[];for(let y=0,w=f.length;y<w;y+=4)m.push(f.substring(y,y+4));return m.length?m.join(" "):u},l=c=>{const u=c.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return u.length>=2?u.substring(0,2)+(u.length>2?"/"+u.substring(2,4):""):u};return a.jsxs(ye,{children:[a.jsx(Ce,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(A1,{className:"h-5 w-5"}),"Payment Details"]})}),a.jsx(be,{children:a.jsx(wf,{...s,children:a.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[a.jsx(ot,{control:s.control,name:"cardholderName",rules:{required:"Cardholder name is required"},render:({field:c})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Cardholder Name"}),a.jsx(et,{children:a.jsx(me,{placeholder:"John Doe",...c})}),a.jsx(tt,{})]})}),a.jsx(ot,{control:s.control,name:"cardNumber",rules:{required:"Card number is required",minLength:{value:19,message:"Card number must be complete"}},render:({field:c})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Card Number"}),a.jsx(et,{children:a.jsx(me,{placeholder:"1234 5678 9012 3456",...c,onChange:u=>{const d=o(u.target.value);c.onChange(d)},maxLength:19})}),a.jsx(tt,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ot,{control:s.control,name:"expiryDate",rules:{required:"Expiry date is required",pattern:{value:/^(0[1-9]|1[0-2])\/\d{2}$/,message:"Invalid expiry date format (MM/YY)"}},render:({field:c})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Expiry Date"}),a.jsx(et,{children:a.jsx(me,{placeholder:"MM/YY",...c,onChange:u=>{const d=l(u.target.value);c.onChange(d)},maxLength:5})}),a.jsx(tt,{})]})}),a.jsx(ot,{control:s.control,name:"cvv",rules:{required:"CVV is required",minLength:{value:3,message:"CVV must be 3-4 digits"},maxLength:{value:4,message:"CVV must be 3-4 digits"}},render:({field:c})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"CVV"}),a.jsx(et,{children:a.jsx(me,{placeholder:"123",type:"password",...c,onChange:u=>{const d=u.target.value.replace(/[^0-9]/g,"");c.onChange(d)},maxLength:4})}),a.jsx(tt,{})]})})]}),a.jsxs("div",{className:"pt-4 space-y-3",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Test Card Information:"}),a.jsx("p",{children:" Card Number: 4242 4242 4242 4242"}),a.jsx("p",{children:" Expiry: Any future date (e.g., 12/25)"}),a.jsx("p",{children:" CVV: Any 3-4 digits (e.g., 123)"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(pe,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:[a.jsx(T1,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsx(pe,{type:"submit",disabled:n,className:"flex-1",children:n?"Processing...":"Complete Order"})]})]})]})})})]})},C3=({items:e,total:t,currentStep:r})=>{const n=t,s=n*.08,i=n+s,o=e.some(l=>l.product.stock<=0||l.quantity>l.product.stock);return a.jsx("div",{className:"space-y-4",children:a.jsxs(ye,{className:"sticky top-4",children:[a.jsx(Ce,{children:a.jsx(Ee,{children:"Order Summary"})}),a.jsxs(be,{className:"space-y-4",children:[a.jsx("div",{className:"space-y-3",children:e.map(l=>{const c=l.product.stock<=0||l.quantity>l.product.stock;return a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-sm",children:l.product.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",l.quantity]}),c&&a.jsx(Ue,{variant:"destructive",className:"text-xs",children:"Stock Issue"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["$",l.product.price.toFixed(2)," each"]})]}),a.jsxs("span",{className:"font-medium text-sm",children:["$",(l.product.price*l.quantity).toFixed(2)]})]},l.id)})}),a.jsx(Zu,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",n.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{className:"text-green-600",children:"Free"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tax (8%)"}),a.jsxs("span",{children:["$",s.toFixed(2)]})]}),a.jsx(Zu,{}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",i.toFixed(2)]})]})]}),o&&a.jsx("div",{className:"mt-4 p-3 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ta,{className:"h-4 w-4 text-amber-600 mt-0.5 shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Stock Issues Detected"}),a.jsx("p",{className:"text-amber-700 dark:text-amber-300 mt-1",children:"Some items may not be available. Please review your cart."})]})]})}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Step ",r," of 2"]}),a.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r/2*100}%`}})})]})]})]})})},E3=()=>{const e=Fi(),{items:t,total:r,clearCart:n}=Ig(),{user:s}=pn(),{toast:i}=Pt(),[o,l]=h.useState(1),[c,u]=h.useState({firstName:"",lastName:"",email:"",phone:"",company:"",address:"",city:"",state:"",postalCode:"",country:"United States"}),[d,f]=h.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[m,y]=h.useState(!1);h.useEffect(()=>{t.length===0&&(e("/store"),i({title:"Cart is empty",description:"Add items to your cart before checking out.",variant:"destructive"}))},[t,e,i]),h.useEffect(()=>{s&&u(v=>({...v,firstName:s.name.split(" ")[0]||"",lastName:s.name.split(" ").slice(1).join(" ")||"",email:s.email||""}))},[s]);const w=v=>{u(v),l(2)},p=async v=>{f(v),y(!0);try{if(!s)throw new Error("User not authenticated");const g=t.map(_=>({productId:_.product.id,quantity:_.quantity,price:_.product.price})),b=await ZF({userId:s.id,items:g,invoiceData:c,paymentData:v});if(!b.success)throw new Error(b.error||"Failed to process order");await new Promise(_=>setTimeout(_,2e3)),i({title:"Order placed successfully!",description:`Your order has been submitted for review. Order total: $${(r*1.08).toFixed(2)}`}),n(),e("/store")}catch(g){console.error("Payment processing error:",g),i({title:"Payment failed",description:g instanceof Error?g.message:"There was an error processing your payment. Please try again.",variant:"destructive"})}finally{y(!1)}},x=[{number:1,title:"Invoice Information",icon:Ug},{number:2,title:"Payment Details",icon:A1}];return t.length===0?null:a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>e("/cart"),className:"shrink-0",children:a.jsx(T1,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Checkout"}),a.jsx("p",{className:"text-muted-foreground",children:"Complete your purchase securely"})]})]}),a.jsx("div",{className:"flex items-center justify-center mb-8",children:x.map((v,g)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${o>=v.number?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:a.jsx(v.icon,{className:"h-5 w-5"})}),a.jsx("div",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-100",children:v.title}),g<x.length-1&&a.jsx("div",{className:`mx-6 h-0.5 w-16 ${o>v.number?"bg-blue-600":"bg-gray-300"}`})]},v.number))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o===1&&a.jsx(S3,{initialData:c,onSubmit:w}),o===2&&a.jsx(k3,{initialData:d,onSubmit:p,onBack:()=>l(1),isProcessing:m})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(C3,{items:t,total:r,currentStep:o})})]}),a.jsxs("div",{className:"mt-8 flex items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(HA,{className:"h-4 w-4 mr-2"}),"Your payment information is secure and encrypted"]})]})})},N3=()=>a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Comprehensive insights and performance metrics for your business"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(ye,{children:[a.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ee,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(Hd,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"$45,231"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(rI,{className:"inline h-3 w-3 mr-1 text-green-600"}),"+20.1% from last month"]})]})]}),a.jsxs(ye,{children:[a.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ee,{className:"text-sm font-medium",children:"Products Sold"}),a.jsx(bt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"2,350"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+180 from last month"})]})]}),a.jsxs(ye,{children:[a.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ee,{className:"text-sm font-medium",children:"Total Orders"}),a.jsx(Fg,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"1,234"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+19% from last month"})]})]}),a.jsxs(ye,{children:[a.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ee,{className:"text-sm font-medium",children:"Active Users"}),a.jsx(zg,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"573"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+201 since last hour"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsx(Ee,{children:"Analytics Overview"}),a.jsx(Ze,{children:"Performance metrics and trends over time"})]}),a.jsx(be,{children:a.jsxs(qg,{defaultValue:"revenue",className:"w-full",children:[a.jsxs(Yd,{className:"grid w-full grid-cols-3",children:[a.jsx(mr,{value:"revenue",children:"Revenue"}),a.jsx(mr,{value:"products",children:"Products"}),a.jsx(mr,{value:"customers",children:"Customers"})]}),a.jsx(pr,{value:"revenue",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Px,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold",children:"Revenue Trends"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Px,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Revenue Chart"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly revenue trends"})]})})]})}),a.jsx(pr,{value:"products",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tx,{className:"h-5 w-5 text-green-600"}),a.jsx("h3",{className:"font-semibold",children:"Product Performance"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Tx,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Product Sales Chart"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sales by category"})]})})]})}),a.jsx(pr,{value:"customers",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jm,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"font-semibold",children:"Customer Analytics"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Jm,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Customer Demographics"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"User engagement data"})]})})]})})]})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsx(Ee,{className:"text-lg",children:"Top Performing Products"}),a.jsx(Ze,{children:"Best sellers this month"})]}),a.jsxs(be,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(bt,{size:16,className:"text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Premium Headphones"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Electronics"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$12,450"})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(bt,{size:16,className:"text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Smart Watch"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Wearables"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$8,920"})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx(bt,{size:16,className:"text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Wireless Speaker"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Audio"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$6,750"})]})]})]}),a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsx(Ee,{className:"text-lg",children:"Recent Activity"}),a.jsx(Ze,{children:"Latest system events"})]}),a.jsxs(be,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"New order processed"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"2 minutes ago"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Inventory updated"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"15 minutes ago"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Low stock alert"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"1 hour ago"})]})]})]})]})]})]})]}),P3=()=>{const{user:e}=pn(),{toast:t}=Pt(),[r,n]=h.useState(!1),[s,i]=h.useState(!1),[o,l]=h.useState({name:"",email:"",phone:"",company_name:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",tax_id:"",avatar_url:""});h.useEffect(()=>{e&&(l({name:e.name||"",email:e.email||"",phone:"",company_name:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",tax_id:"",avatar_url:e.avatar||""}),c())},[e]);const c=async()=>{if(e)try{const{data:y,error:w}=await W.from("profiles").select("*").eq("id",e.id).single();if(w){console.error("Error fetching profile:",w);return}y&&l(p=>({...p,phone:y.phone||"",company_name:y.company_name||"",address_line1:y.address_line1||"",address_line2:y.address_line2||"",city:y.city||"",state:y.state||"",postal_code:y.postal_code||"",country:y.country||"",tax_id:y.tax_id||"",avatar_url:y.avatar_url||""}))}catch(y){console.error("Error fetching profile data:",y)}},u=y=>{const{name:w,value:p}=y.target;l(x=>({...x,[w]:p}))},d=async y=>{try{if(i(!0),!y.target.files||y.target.files.length===0)throw new Error("You must select an image to upload.");const w=y.target.files[0],p=w.name.split(".").pop(),x=`${e==null?void 0:e.id}/avatar.${p}`,{error:v}=await W.storage.from("avatars").upload(x,w,{upsert:!0});if(v)throw v;const{data:g}=W.storage.from("avatars").getPublicUrl(x);l(b=>({...b,avatar_url:g.publicUrl})),t({title:"Avatar uploaded",description:"Your profile picture has been updated successfully."})}catch(w){t({title:"Error uploading avatar",description:w.message,variant:"destructive"})}finally{i(!1)}},f=async y=>{if(y.preventDefault(),!!e){n(!0);try{const{error:w}=await W.from("profiles").update({name:o.name,phone:o.phone,company_name:o.company_name,address_line1:o.address_line1,address_line2:o.address_line2,city:o.city,state:o.state,postal_code:o.postal_code,country:o.country,tax_id:o.tax_id,avatar_url:o.avatar_url,updated_at:new Date().toISOString()}).eq("id",e.id);if(w)throw w;t({title:"Profile updated",description:"Your profile has been updated successfully."})}catch(w){t({title:"Error updating profile",description:w.message,variant:"destructive"})}finally{n(!1)}}};if(!e)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})});const m=o.name?o.name.substring(0,2).toUpperCase():o.email.substring(0,2).toUpperCase();return a.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Profile Settings"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your account information and invoice details"})]}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsx(Ee,{children:"Profile Picture"}),a.jsx(Ze,{children:"Upload a profile picture to personalize your account"})]}),a.jsx(be,{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(Zd,{className:"h-20 w-20",children:[a.jsx(Xd,{src:o.avatar_url,alt:o.name}),a.jsx(Jd,{children:m})]}),a.jsxs("div",{children:[a.jsxs(Qe,{htmlFor:"avatar",className:"cursor-pointer",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:[a.jsx(L1,{className:"h-4 w-4"}),a.jsx("span",{children:s?"Uploading...":"Upload Picture"})]}),a.jsx(me,{id:"avatar",type:"file",accept:"image/*",onChange:d,disabled:s,className:"hidden"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"JPG, PNG or GIF. Max size 2MB."})]})]})})]}),a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsx(Ee,{children:"Personal Information"}),a.jsx(Ze,{children:"Update your personal details"})]}),a.jsx(be,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"name",children:"Full Name"}),a.jsx(me,{id:"name",name:"name",value:o.name,onChange:u,placeholder:"Enter your full name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"email",children:"Email"}),a.jsx(me,{id:"email",name:"email",type:"email",value:o.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"phone",children:"Phone Number"}),a.jsx(me,{id:"phone",name:"phone",value:o.phone,onChange:u,placeholder:"Enter your phone number"})]})]})})]}),a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsx(Ee,{children:"Invoice Information"}),a.jsx(Ze,{children:"This information will be used for billing and invoices"})]}),a.jsx(be,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Qe,{htmlFor:"company_name",children:"Company Name"}),a.jsx(me,{id:"company_name",name:"company_name",value:o.company_name,onChange:u,placeholder:"Enter company name (optional)"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Qe,{htmlFor:"address_line1",children:"Address Line 1"}),a.jsx(me,{id:"address_line1",name:"address_line1",value:o.address_line1,onChange:u,placeholder:"Street address"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Qe,{htmlFor:"address_line2",children:"Address Line 2"}),a.jsx(me,{id:"address_line2",name:"address_line2",value:o.address_line2,onChange:u,placeholder:"Apartment, suite, etc. (optional)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"city",children:"City"}),a.jsx(me,{id:"city",name:"city",value:o.city,onChange:u,placeholder:"City"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"state",children:"State/Province"}),a.jsx(me,{id:"state",name:"state",value:o.state,onChange:u,placeholder:"State or Province"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"postal_code",children:"Postal Code"}),a.jsx(me,{id:"postal_code",name:"postal_code",value:o.postal_code,onChange:u,placeholder:"Postal code"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"country",children:"Country"}),a.jsx(me,{id:"country",name:"country",value:o.country,onChange:u,placeholder:"Country"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Qe,{htmlFor:"tax_id",children:"Tax ID"}),a.jsx(me,{id:"tax_id",name:"tax_id",value:o.tax_id,onChange:u,placeholder:"Tax identification number (optional)"})]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(pe,{type:"submit",disabled:r,children:r?"Saving...":"Save Changes"})})]})]})})},T3=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,i]=h.useState(!1),[o,l]=h.useState(null),[c,u]=h.useState(null);h.useState("customer");const[d,f]=h.useState({name:"",email:"",password:"",role:"customer"}),{toast:m}=Pt(),y=async()=>{try{const{data:g,error:b}=await W.from("profiles").select("*").order("created_at",{ascending:!1});if(b){console.error("Error fetching users:",b),m({title:"Error fetching users",description:b.message,variant:"destructive"});return}const _=g.map(j=>({id:j.id,name:j.name||"User",email:j.email||"",role:j.role||"customer",avatar:j.avatar_url||"",createdAt:new Date(j.created_at||Date.now()),updatedAt:new Date(j.updated_at||Date.now())}));t(_)}catch(g){console.error("Error in fetchUsers:",g),m({title:"Error",description:"Failed to fetch users",variant:"destructive"})}finally{n(!1)}},w=async g=>{if(g.preventDefault(),!d.name||!d.email||!d.password){m({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}i(!0);try{const{data:{session:b}}=await W.auth.getSession();if(!b){m({title:"Authentication required",description:"Please log in to create users",variant:"destructive"});return}console.log("Calling create-user edge function...");const{data:_,error:j}=await W.functions.invoke("create-user",{body:{name:d.name,email:d.email,password:d.password,role:d.role},headers:{Authorization:`Bearer ${b.access_token}`}});if(j){console.error("Edge function error:",j),m({title:"Error creating user",description:j.message||"Failed to create user",variant:"destructive"});return}console.log("User creation response:",_),m({title:"User created successfully",description:`${d.name} has been added to the system`,variant:"default"}),f({name:"",email:"",password:"",role:"customer"}),y()}catch(b){console.error("Error in handleCreateUser:",b),m({title:"Error",description:"Failed to create user. Please try again.",variant:"destructive"})}finally{i(!1)}},p=async(g,b)=>{if(confirm(`Are you sure you want to delete ${b}? This action cannot be undone.`)){l(g);try{const{data:{session:_}}=await W.auth.getSession();if(!_){m({title:"Authentication required",description:"Please log in to delete users",variant:"destructive"});return}console.log("Calling delete-user edge function...");const{data:j,error:k}=await W.functions.invoke("delete-user",{body:{userId:g},headers:{Authorization:`Bearer ${_.access_token}`}});if(k){console.error("Edge function error:",k),m({title:"Error deleting user",description:k.message||"Failed to delete user",variant:"destructive"});return}console.log("User deletion response:",j),m({title:"User deleted successfully",description:`${b} has been removed from the system`,variant:"default"}),y()}catch(_){console.error("Error in handleDeleteUser:",_),m({title:"Error",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{l(null)}}},x=async(g,b)=>{u(g);try{await zO(g,b)?(m({title:"Role updated successfully",description:`User role has been changed to ${b}`,variant:"default"}),y()):m({title:"Error updating role",description:"Failed to update user role. Please try again.",variant:"destructive"})}catch(_){console.error("Error in handleUpdateRole:",_),m({title:"Error",description:"Failed to update user role. Please try again.",variant:"destructive"})}finally{u(null)}},v=g=>{switch(g){case"admin":return"destructive";case"warehouse":return"default";case"analyst":return"secondary";case"customer":return"outline";default:return"outline"}};return h.useEffect(()=>{y()},[]),a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts and permissions"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(zg,{className:"h-8 w-8 text-muted-foreground"})})]}),a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsxs(Ee,{className:"flex items-center space-x-2",children:[a.jsx(Ax,{className:"h-5 w-5"}),a.jsx("span",{children:"Create New User"})]}),a.jsx(Ze,{children:"Add a new user account to the system"})]}),a.jsx(be,{children:a.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"name",children:"Full Name *"}),a.jsx(me,{id:"name",type:"text",value:d.name,onChange:g=>f({...d,name:g.target.value}),placeholder:"Enter full name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"email",children:"Email Address *"}),a.jsx(me,{id:"email",type:"email",value:d.email,onChange:g=>f({...d,email:g.target.value}),placeholder:"Enter email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"password",children:"Password *"}),a.jsx(me,{id:"password",type:"password",value:d.password,onChange:g=>f({...d,password:g.target.value}),placeholder:"Enter password",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"role",children:"Role *"}),a.jsxs(Fs,{value:d.role,onValueChange:g=>f({...d,role:g}),children:[a.jsx($n,{children:a.jsx(Ai,{placeholder:"Select role"})}),a.jsxs(Fn,{children:[a.jsx(Ne,{value:"customer",children:"Customer"}),a.jsx(Ne,{value:"warehouse",children:"Warehouse"}),a.jsx(Ne,{value:"analyst",children:"Analyst"}),a.jsx(Ne,{value:"admin",children:"Admin"})]})]})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(pe,{type:"submit",disabled:s,className:"w-full md:w-auto",children:s?a.jsxs(a.Fragment,{children:[a.jsx(nl,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating User..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ax,{className:"mr-2 h-4 w-4"}),"Create User"]})})})]})})]}),a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsx(Ee,{children:"Existing Users"}),a.jsx(Ze,{children:"View and manage all user accounts"})]}),a.jsx(be,{children:r?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(nl,{className:"h-8 w-8 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Loading users..."})]}):a.jsxs(lf,{children:[a.jsx(cf,{children:a.jsxs(Ns,{children:[a.jsx(kt,{children:"Name"}),a.jsx(kt,{children:"Email"}),a.jsx(kt,{children:"Role"}),a.jsx(kt,{children:"Created At"}),a.jsx(kt,{children:"Actions"})]})}),a.jsxs(uf,{children:[e.map(g=>a.jsxs(Ns,{children:[a.jsx(vt,{className:"font-medium",children:g.name}),a.jsx(vt,{children:g.email}),a.jsx(vt,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ue,{variant:v(g.role),children:g.role}),a.jsxs(Fs,{value:g.role,onValueChange:b=>x(g.id,b),disabled:c===g.id,children:[a.jsx($n,{className:"w-24 h-8",children:a.jsx(JA,{className:"h-3 w-3"})}),a.jsxs(Fn,{children:[a.jsx(Ne,{value:"customer",children:"Customer"}),a.jsx(Ne,{value:"warehouse",children:"Warehouse"}),a.jsx(Ne,{value:"analyst",children:"Analyst"}),a.jsx(Ne,{value:"admin",children:"Admin"})]})]})]})}),a.jsx(vt,{children:g.createdAt.toLocaleDateString()}),a.jsx(vt,{children:a.jsx(pe,{variant:"destructive",size:"sm",onClick:()=>p(g.id,g.name),disabled:o===g.id,children:o===g.id?a.jsx(nl,{className:"h-4 w-4 animate-spin"}):a.jsx(D1,{className:"h-4 w-4"})})})]},g.id)),e.length===0&&a.jsx(Ns,{children:a.jsx(vt,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No users found"})})]})]})})]})]})},O0=(e,t,r)=>{if(e&&"reportValidity"in e){const n=V(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},JC=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?O0(n.ref,r,e):n.refs&&n.refs.forEach(s=>O0(s,r,e))}},R3=(e,t)=>{t.shouldUseNativeValidation&&JC(e,t);const r={};for(const n in e){const s=V(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(O3(t.names||Object.keys(e),n)){const o=Object.assign({},V(r,n));Me(o,"root",i),Me(r,n,o)}else Me(r,n,i)}return r},O3=(e,t)=>e.some(r=>r.startsWith(t+"."));var A3=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=zC(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},I3=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&JC({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:R3(A3(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Pe;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Pe||(Pe={}));var A0;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(A0||(A0={}));const X=Pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ii=e=>{switch(typeof e){case"undefined":return X.undefined;case"string":return X.string;case"number":return isNaN(e)?X.nan:X.number;case"boolean":return X.boolean;case"function":return X.function;case"bigint":return X.bigint;case"symbol":return X.symbol;case"object":return Array.isArray(e)?X.array:e===null?X.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?X.promise:typeof Map<"u"&&e instanceof Map?X.map:typeof Set<"u"&&e instanceof Set?X.set:typeof Date<"u"&&e instanceof Date?X.date:X.object;default:return X.unknown}},z=Pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Rr extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Rr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Rr.create=e=>new Rr(e);const $l=(e,t)=>{let r;switch(e.code){case z.invalid_type:e.received===X.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Pe.jsonStringifyReplacer)}`;break;case z.unrecognized_keys:r=`Unrecognized key(s) in object: ${Pe.joinValues(e.keys,", ")}`;break;case z.invalid_union:r="Invalid input";break;case z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Pe.joinValues(e.options)}`;break;case z.invalid_enum_value:r=`Invalid enum value. Expected ${Pe.joinValues(e.options)}, received '${e.received}'`;break;case z.invalid_arguments:r="Invalid function arguments";break;case z.invalid_return_type:r="Invalid function return type";break;case z.invalid_date:r="Invalid date";break;case z.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Pe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case z.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case z.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case z.custom:r="Invalid input";break;case z.invalid_intersection_types:r="Intersection results could not be merged";break;case z.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case z.not_finite:r="Number must be finite";break;default:r=t.defaultError,Pe.assertNever(e)}return{message:r}};let M3=$l;function xp(){return M3}const wp=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Q(e,t){const r=xp(),n=wp({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===$l?void 0:$l].filter(s=>!!s)});e.common.issues.push(n)}class Kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ce;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Kt.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ce;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const ce=Object.freeze({status:"aborted"}),za=e=>({status:"dirty",value:e}),lr=e=>({status:"valid",value:e}),I0=e=>e.status==="aborted",M0=e=>e.status==="dirty",Xu=e=>e.status==="valid",Ju=e=>typeof Promise<"u"&&e instanceof Promise;function ed(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function eE(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(se||(se={}));var Ba,Va;class mn{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const D0=(e,t)=>{if(Xu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Rr(e.common.issues);return this._error=r,this._error}}};function de(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class _e{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return ii(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ii(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Kt,ctx:{common:t.parent.common,data:t.data,parsedType:ii(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ju(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ii(t)},i=this._parseSync({data:t,path:s.path,parent:s});return D0(s,i)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ii(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Ju(s)?s:Promise.resolve(s));return D0(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:z.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new zn({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Tn.create(this,this._def)}nullable(){return Di.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dn.create(this,this._def)}promise(){return zl.create(this,this._def)}or(t){return nd.create([this,t],this._def)}and(t){return sd.create(this,t,this._def)}transform(t){return new zn({...de(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new cd({...de(this._def),innerType:this,defaultValue:r,typeName:le.ZodDefault})}brand(){return new sE({typeName:le.ZodBranded,type:this,...de(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ud({...de(this._def),innerType:this,catchValue:r,typeName:le.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return _f.create(this,t)}readonly(){return dd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const D3=/^c[^\s-]{8,}$/i,L3=/^[0-9a-z]+$/,$3=/^[0-9A-HJKMNP-TV-Z]{26}$/,F3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,U3=/^[a-z0-9_-]{21}$/i,z3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,B3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,V3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ph;const W3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,q3=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,H3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",K3=new RegExp(`^${tE}$`);function rE(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function G3(e){return new RegExp(`^${rE(e)}$`)}function Q3(e){let t=`${tE}T${rE(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Y3(e,t){return!!((t==="v4"||!t)&&W3.test(e)||(t==="v6"||!t)&&q3.test(e))}class Nn extends _e{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==X.string){const i=this._getOrReturnCtx(t);return Q(i,{code:z.invalid_type,expected:X.string,received:i.parsedType}),ce}const n=new Kt;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Q(s,{code:z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Q(s,{code:z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")B3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"email",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ph||(Ph=new RegExp(V3,"u")),Ph.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"emoji",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")F3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"uuid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")U3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"nanoid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")D3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"cuid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")L3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"cuid2",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")$3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"ulid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Q(s,{validation:"url",code:z.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"regex",code:z.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Q3(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?K3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?G3(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:z.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?z3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"duration",code:z.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Y3(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"ip",code:z.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?H3.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"base64",code:z.invalid_string,message:i.message}),n.dirty()):Pe.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:z.invalid_string,...se.errToObj(n)})}_addCheck(t){return new Nn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...se.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...se.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...se.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...se.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...se.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...se.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...se.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...se.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...se.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...se.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...se.errToObj(r)})}nonempty(t){return this.min(1,se.errToObj(t))}trim(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Nn.create=e=>{var t;return new Nn({checks:[],typeName:le.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...de(e)})};function Z3(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class na extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==X.number){const i=this._getOrReturnCtx(t);return Q(i,{code:z.invalid_type,expected:X.number,received:i.parsedType}),ce}let n;const s=new Kt;for(const i of this._def.checks)i.kind==="int"?Pe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Q(n,{code:z.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Z3(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Q(n,{code:z.not_finite,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,se.toString(r))}setLimit(t,r,n,s){return new na({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(t){return new na({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Pe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}na.create=e=>new na({checks:[],typeName:le.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...de(e)});class sa extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==X.bigint){const i=this._getOrReturnCtx(t);return Q(i,{code:z.invalid_type,expected:X.bigint,received:i.parsedType}),ce}let n;const s=new Kt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,se.toString(r))}setLimit(t,r,n,s){return new sa({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(t){return new sa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sa.create=e=>{var t;return new sa({checks:[],typeName:le.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...de(e)})};class bp extends _e{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==X.boolean){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:X.boolean,received:n.parsedType}),ce}return lr(t.data)}}bp.create=e=>new bp({typeName:le.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...de(e)});class Fl extends _e{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==X.date){const i=this._getOrReturnCtx(t);return Q(i,{code:z.invalid_type,expected:X.date,received:i.parsedType}),ce}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Q(i,{code:z.invalid_date}),ce}const n=new Kt;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:z.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:z.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Pe.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Fl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:se.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:se.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Fl.create=e=>new Fl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:le.ZodDate,...de(e)});class _p extends _e{_parse(t){if(this._getType(t)!==X.symbol){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:X.symbol,received:n.parsedType}),ce}return lr(t.data)}}_p.create=e=>new _p({typeName:le.ZodSymbol,...de(e)});class td extends _e{_parse(t){if(this._getType(t)!==X.undefined){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:X.undefined,received:n.parsedType}),ce}return lr(t.data)}}td.create=e=>new td({typeName:le.ZodUndefined,...de(e)});class rd extends _e{_parse(t){if(this._getType(t)!==X.null){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:X.null,received:n.parsedType}),ce}return lr(t.data)}}rd.create=e=>new rd({typeName:le.ZodNull,...de(e)});class Ul extends _e{constructor(){super(...arguments),this._any=!0}_parse(t){return lr(t.data)}}Ul.create=e=>new Ul({typeName:le.ZodAny,...de(e)});class Oo extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(t){return lr(t.data)}}Oo.create=e=>new Oo({typeName:le.ZodUnknown,...de(e)});class Us extends _e{_parse(t){const r=this._getOrReturnCtx(t);return Q(r,{code:z.invalid_type,expected:X.never,received:r.parsedType}),ce}}Us.create=e=>new Us({typeName:le.ZodNever,...de(e)});class jp extends _e{_parse(t){if(this._getType(t)!==X.undefined){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:X.void,received:n.parsedType}),ce}return lr(t.data)}}jp.create=e=>new jp({typeName:le.ZodVoid,...de(e)});class dn extends _e{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==X.array)return Q(r,{code:z.invalid_type,expected:X.array,received:r.parsedType}),ce;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Q(r,{code:o?z.too_big:z.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Q(r,{code:z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Q(r,{code:z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new mn(r,o,r.path,l)))).then(o=>Kt.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new mn(r,o,r.path,l)));return Kt.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new dn({...this._def,minLength:{value:t,message:se.toString(r)}})}max(t,r){return new dn({...this._def,maxLength:{value:t,message:se.toString(r)}})}length(t,r){return new dn({...this._def,exactLength:{value:t,message:se.toString(r)}})}nonempty(t){return this.min(1,t)}}dn.create=(e,t)=>new dn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...de(t)});function ao(e){if(e instanceof at){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Tn.create(ao(n))}return new at({...e._def,shape:()=>t})}else return e instanceof dn?new dn({...e._def,type:ao(e.element)}):e instanceof Tn?Tn.create(ao(e.unwrap())):e instanceof Di?Di.create(ao(e.unwrap())):e instanceof Un?Un.create(e.items.map(t=>ao(t))):e}class at extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Pe.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==X.object){const u=this._getOrReturnCtx(t);return Q(u,{code:z.invalid_type,expected:X.object,received:u.parsedType}),ce}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Us&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new mn(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Us){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Q(s,{code:z.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new mn(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Kt.mergeObjectSync(n,u)):Kt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return se.errToObj,new at({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=se.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new at({...this._def,unknownKeys:"strip"})}passthrough(){return new at({...this._def,unknownKeys:"passthrough"})}extend(t){return new at({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new at({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:le.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new at({...this._def,catchall:t})}pick(t){const r={};return Pe.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new at({...this._def,shape:()=>r})}omit(t){const r={};return Pe.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new at({...this._def,shape:()=>r})}deepPartial(){return ao(this)}partial(t){const r={};return Pe.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new at({...this._def,shape:()=>r})}required(t){const r={};return Pe.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Tn;)i=i._def.innerType;r[n]=i}}),new at({...this._def,shape:()=>r})}keyof(){return nE(Pe.objectKeys(this.shape))}}at.create=(e,t)=>new at({shape:()=>e,unknownKeys:"strip",catchall:Us.create(),typeName:le.ZodObject,...de(t)});at.strictCreate=(e,t)=>new at({shape:()=>e,unknownKeys:"strict",catchall:Us.create(),typeName:le.ZodObject,...de(t)});at.lazycreate=(e,t)=>new at({shape:e,unknownKeys:"strip",catchall:Us.create(),typeName:le.ZodObject,...de(t)});class nd extends _e{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Rr(l.ctx.common.issues));return Q(r,{code:z.invalid_union,unionErrors:o}),ce}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Rr(c));return Q(r,{code:z.invalid_union,unionErrors:l}),ce}}get options(){return this._def.options}}nd.create=(e,t)=>new nd({options:e,typeName:le.ZodUnion,...de(t)});const wn=e=>e instanceof od?wn(e.schema):e instanceof zn?wn(e.innerType()):e instanceof ad?[e.value]:e instanceof Mi?e.options:e instanceof ld?Pe.objectValues(e.enum):e instanceof cd?wn(e._def.innerType):e instanceof td?[void 0]:e instanceof rd?[null]:e instanceof Tn?[void 0,...wn(e.unwrap())]:e instanceof Di?[null,...wn(e.unwrap())]:e instanceof sE||e instanceof dd?wn(e.unwrap()):e instanceof ud?wn(e._def.innerType):[];class Nv extends _e{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==X.object)return Q(r,{code:z.invalid_type,expected:X.object,received:r.parsedType}),ce;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Q(r,{code:z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=wn(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Nv({typeName:le.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...de(n)})}}function Sp(e,t){const r=ii(e),n=ii(t);if(e===t)return{valid:!0,data:e};if(r===X.object&&n===X.object){const s=Pe.objectKeys(t),i=Pe.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Sp(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===X.array&&n===X.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Sp(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===X.date&&n===X.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class sd extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(I0(i)||I0(o))return ce;const l=Sp(i.value,o.value);return l.valid?((M0(i)||M0(o))&&r.dirty(),{status:r.value,value:l.data}):(Q(n,{code:z.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}sd.create=(e,t,r)=>new sd({left:e,right:t,typeName:le.ZodIntersection,...de(r)});class Un extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==X.array)return Q(n,{code:z.invalid_type,expected:X.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return Q(n,{code:z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(Q(n,{code:z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new mn(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Kt.mergeArray(r,o)):Kt.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Un({...this._def,rest:t})}}Un.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Un({items:e,typeName:le.ZodTuple,rest:null,...de(t)})};class id extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==X.object)return Q(n,{code:z.invalid_type,expected:X.object,received:n.parsedType}),ce;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:i._parse(new mn(n,l,n.path,l)),value:o._parse(new mn(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Kt.mergeObjectAsync(r,s):Kt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof _e?new id({keyType:t,valueType:r,typeName:le.ZodRecord,...de(n)}):new id({keyType:Nn.create(),valueType:t,typeName:le.ZodRecord,...de(r)})}}class kp extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==X.map)return Q(n,{code:z.invalid_type,expected:X.map,received:n.parsedType}),ce;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new mn(n,l,n.path,[u,"key"])),value:i._parse(new mn(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}kp.create=(e,t,r)=>new kp({valueType:t,keyType:e,typeName:le.ZodMap,...de(r)});class ia extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==X.set)return Q(n,{code:z.invalid_type,expected:X.set,received:n.parsedType}),ce;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Q(n,{code:z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Q(n,{code:z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ce;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new mn(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new ia({...this._def,minSize:{value:t,message:se.toString(r)}})}max(t,r){return new ia({...this._def,maxSize:{value:t,message:se.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ia.create=(e,t)=>new ia({valueType:e,minSize:null,maxSize:null,typeName:le.ZodSet,...de(t)});class ll extends _e{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==X.function)return Q(r,{code:z.invalid_type,expected:X.function,received:r.parsedType}),ce;function n(l,c){return wp({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,xp(),$l].filter(u=>!!u),issueData:{code:z.invalid_arguments,argumentsError:c}})}function s(l,c){return wp({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,xp(),$l].filter(u=>!!u),issueData:{code:z.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof zl){const l=this;return lr(async function(...c){const u=new Rr([]),d=await l._def.args.parseAsync(c,i).catch(y=>{throw u.addIssue(n(c,y)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(y=>{throw u.addIssue(s(f,y)),u})})}else{const l=this;return lr(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new Rr([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new Rr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ll({...this._def,args:Un.create(t).rest(Oo.create())})}returns(t){return new ll({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new ll({args:t||Un.create([]).rest(Oo.create()),returns:r||Oo.create(),typeName:le.ZodFunction,...de(n)})}}class od extends _e{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}od.create=(e,t)=>new od({getter:e,typeName:le.ZodLazy,...de(t)});class ad extends _e{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Q(r,{received:r.data,code:z.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:t.data}}get value(){return this._def.value}}ad.create=(e,t)=>new ad({value:e,typeName:le.ZodLiteral,...de(t)});function nE(e,t){return new Mi({values:e,typeName:le.ZodEnum,...de(t)})}class Mi extends _e{constructor(){super(...arguments),Ba.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Q(r,{expected:Pe.joinValues(n),received:r.parsedType,code:z.invalid_type}),ce}if(ed(this,Ba)||eE(this,Ba,new Set(this._def.values)),!ed(this,Ba).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Q(r,{received:r.data,code:z.invalid_enum_value,options:n}),ce}return lr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Mi.create(t,{...this._def,...r})}exclude(t,r=this._def){return Mi.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ba=new WeakMap;Mi.create=nE;class ld extends _e{constructor(){super(...arguments),Va.set(this,void 0)}_parse(t){const r=Pe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==X.string&&n.parsedType!==X.number){const s=Pe.objectValues(r);return Q(n,{expected:Pe.joinValues(s),received:n.parsedType,code:z.invalid_type}),ce}if(ed(this,Va)||eE(this,Va,new Set(Pe.getValidEnumValues(this._def.values))),!ed(this,Va).has(t.data)){const s=Pe.objectValues(r);return Q(n,{received:n.data,code:z.invalid_enum_value,options:s}),ce}return lr(t.data)}get enum(){return this._def.values}}Va=new WeakMap;ld.create=(e,t)=>new ld({values:e,typeName:le.ZodNativeEnum,...de(t)});class zl extends _e{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==X.promise&&r.common.async===!1)return Q(r,{code:z.invalid_type,expected:X.promise,received:r.parsedType}),ce;const n=r.parsedType===X.promise?r.data:Promise.resolve(r.data);return lr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}zl.create=(e,t)=>new zl({type:e,typeName:le.ZodPromise,...de(t)});class zn extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Q(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ce;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ce:c.status==="dirty"||r.value==="dirty"?za(c.value):c});{if(r.value==="aborted")return ce;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ce:l.status==="dirty"||r.value==="dirty"?za(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Xu(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Xu(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);Pe.assertNever(s)}}zn.create=(e,t,r)=>new zn({schema:e,typeName:le.ZodEffects,effect:t,...de(r)});zn.createWithPreprocess=(e,t,r)=>new zn({schema:t,effect:{type:"preprocess",transform:e},typeName:le.ZodEffects,...de(r)});class Tn extends _e{_parse(t){return this._getType(t)===X.undefined?lr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Tn.create=(e,t)=>new Tn({innerType:e,typeName:le.ZodOptional,...de(t)});class Di extends _e{_parse(t){return this._getType(t)===X.null?lr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Di.create=(e,t)=>new Di({innerType:e,typeName:le.ZodNullable,...de(t)});class cd extends _e{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===X.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}cd.create=(e,t)=>new cd({innerType:e,typeName:le.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...de(t)});class ud extends _e{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ju(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ud.create=(e,t)=>new ud({innerType:e,typeName:le.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...de(t)});class Cp extends _e{_parse(t){if(this._getType(t)!==X.nan){const n=this._getOrReturnCtx(t);return Q(n,{code:z.invalid_type,expected:X.nan,received:n.parsedType}),ce}return{status:"valid",value:t.data}}}Cp.create=e=>new Cp({typeName:le.ZodNaN,...de(e)});class sE extends _e{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class _f extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ce:i.status==="dirty"?(r.dirty(),za(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ce:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new _f({in:t,out:r,typeName:le.ZodPipeline})}}class dd extends _e{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Xu(s)&&(s.value=Object.freeze(s.value)),s);return Ju(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}dd.create=(e,t)=>new dd({innerType:e,typeName:le.ZodReadonly,...de(t)});function X3(e,t={},r){return e?Ul.create().superRefine((n,s)=>{var i,o;if(!e(n)){const l=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...u,fatal:c})}}):Ul.create()}at.lazycreate;var le;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(le||(le={}));const J3=(e,t={message:`Input not instance of ${e.name}`})=>X3(r=>r instanceof e,t),e5=Nn.create;na.create;Cp.create;sa.create;bp.create;Fl.create;_p.create;td.create;rd.create;Ul.create;Oo.create;Us.create;jp.create;dn.create;const t5=at.create;at.strictCreate;nd.create;Nv.create;sd.create;Un.create;id.create;kp.create;ia.create;ll.create;od.create;ad.create;Mi.create;ld.create;zl.create;zn.create;Tn.create;Di.create;zn.createWithPreprocess;_f.create;const r5=t5({description:e5().min(10,"Description must be at least 10 characters"),photo:J3(File).optional()}),n5=({orderId:e,orderNumber:t,onSuccess:r,onCancel:n})=>{const{user:s}=pn(),{toast:i}=Pt(),[o,l]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState(null),m=xf({resolver:I3(r5),defaultValues:{description:""}}),y=x=>{var g;const v=(g=x.target.files)==null?void 0:g[0];if(v){if(v.size>5*1024*1024){i({title:"File too large",description:"Please select a file smaller than 5MB.",variant:"destructive"});return}if(!v.type.startsWith("image/")){i({title:"Invalid file type",description:"Please select an image file.",variant:"destructive"});return}u(v);const b=URL.createObjectURL(v);f(b),m.setValue("photo",v)}},w=()=>{u(null),d&&(URL.revokeObjectURL(d),f(null)),m.setValue("photo",void 0)},p=async x=>{if(s){l(!0);try{let v=null;if(c){const b=c.name.split(".").pop(),_=`${e}_${Date.now()}.${b}`,{error:j}=await W.storage.from("refund-photos").upload(_,c);if(j)throw j;const{data:k}=W.storage.from("refund-photos").getPublicUrl(_);v=k.publicUrl}const{error:g}=await W.from("refund_requests").insert({order_id:e,user_id:s.id,description:x.description,photo_url:v});if(g)throw g;i({title:"Refund request submitted",description:`Your refund request for order ${t} has been submitted successfully.`}),r()}catch(v){console.error("Error submitting refund request:",v),i({title:"Error",description:"Failed to submit refund request. Please try again.",variant:"destructive"})}finally{l(!1)}}};return a.jsxs(ye,{children:[a.jsxs(Ce,{children:[a.jsxs(Ee,{children:["Request Refund for Order #",t]}),a.jsx(Ze,{children:"Please provide details about the issue and upload a photo if applicable."})]}),a.jsx(be,{children:a.jsx(wf,{...m,children:a.jsxs("form",{onSubmit:m.handleSubmit(p),className:"space-y-6",children:[a.jsx(ot,{control:m.control,name:"description",render:({field:x})=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Description of Issue"}),a.jsx(et,{children:a.jsx(Ri,{placeholder:"Please describe the issue with your order in detail...",className:"min-h-[100px]",...x})}),a.jsx(yp,{children:"Provide a detailed description of the problem (minimum 10 characters)"}),a.jsx(tt,{})]})}),a.jsx(ot,{control:m.control,name:"photo",render:()=>a.jsxs(Je,{children:[a.jsx(dt,{children:"Photo Evidence (Optional)"}),a.jsx(et,{children:a.jsx("div",{className:"space-y-4",children:c?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:d,alt:"Preview",className:"max-w-full h-48 object-cover rounded-lg"}),a.jsx(pe,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:w,children:a.jsx(Jl,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx(L1,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("div",{className:"mt-2",children:a.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:[a.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:"Click to upload a photo"}),a.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:y})]})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF up to 5MB"})]})})}),a.jsx(yp,{children:"Upload a photo showing the issue (optional but recommended)"}),a.jsx(tt,{})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(pe,{type:"submit",disabled:o,children:o?"Submitting...":"Submit Refund Request"}),a.jsx(pe,{type:"button",variant:"outline",onClick:n,children:"Cancel"})]})]})})})]})},s5=()=>{const{user:e}=pn(),{toast:t}=Pt(),[r,n]=h.useState(null),{data:s,isLoading:i,refetch:o}=fn({queryKey:["orders",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const{data:f,error:m}=await W.from("orders").select(`
          id,
          order_number,
          status,
          total_amount,
          created_at,
          order_items (
            id,
            item_serial,
            price,
            items (
              inventory (
                name,
                description
              )
            )
          ),
          refund_requests (
            id,
            status,
            created_at
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(m)throw console.error("Error fetching orders:",m),m;return f},enabled:!!e}),l=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},c=f=>f.refund_requests.length===0?null:f.refund_requests.sort((y,w)=>new Date(w.created_at).getTime()-new Date(y.created_at).getTime())[0].status,u=f=>f.status==="completed"&&f.refund_requests.length===0,d=()=>{n(null),o(),t({title:"Refund request submitted",description:"Your refund request has been submitted and will be reviewed."})};if(i)return a.jsxs("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading orders..."})]});if(r){const f=s==null?void 0:s.find(m=>m.id===r);if(f)return a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx(n5,{orderId:f.id,orderNumber:f.order_number,onSuccess:d,onCancel:()=>n(null)})})})}return a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"My Orders"}),a.jsx("p",{className:"text-muted-foreground",children:"Track your orders and request refunds"})]}),!s||s.length===0?a.jsx(ye,{children:a.jsxs(Ce,{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-5 w-5"}),"No Orders Found"]}),a.jsx(Ze,{children:"You haven't placed any orders yet. Start shopping to see your orders here."})]})}):a.jsx("div",{className:"space-y-4",children:s.map(f=>{const m=c(f);return a.jsxs(ye,{children:[a.jsx(Ce,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-5 w-5"}),"Order #",f.order_number]}),a.jsxs(Ze,{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Xm,{className:"h-4 w-4"}),Wu(new Date(f.created_at),"PPP")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Hd,{className:"h-4 w-4"}),"$",f.total_amount.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ue,{className:l(f.status),children:f.status.charAt(0).toUpperCase()+f.status.slice(1)}),m&&a.jsxs(Ue,{variant:"outline",className:m==="pending"?"bg-yellow-100 text-yellow-800":m==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:["Refund ",m]}),u(f)&&a.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>n(f.id),className:"flex items-center gap-2",children:[a.jsx(Tl,{className:"h-4 w-4"}),"Request Refund"]})]})]})}),a.jsx(be,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Order Items:"}),a.jsx("div",{className:"space-y-2",children:f.order_items.map(y=>{var w,p,x,v;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((p=(w=y.items)==null?void 0:w.inventory)==null?void 0:p.name)||"Unknown Product"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Serial: ",y.item_serial]}),((v=(x=y.items)==null?void 0:x.inventory)==null?void 0:v.description)&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.items.inventory.description})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["$",y.price.toFixed(2)]})})]},y.id)})})]})})]},f.id)})})]})})})},i5=()=>{const{user:e}=pn(),{data:t,isLoading:r}=fn({queryKey:["user-refund-requests",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const{data:s,error:i}=await W.from("refund_requests").select(`
          id,
          description,
          photo_url,
          status,
          admin_notes,
          created_at,
          reviewed_at,
          orders (
            order_number,
            total_amount
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(i)throw i;return s},enabled:!!e}),n=s=>{switch(s){case"pending":return a.jsx(Ue,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"Pending Review"});case"approved":return a.jsx(Ue,{variant:"outline",className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return a.jsx(Ue,{variant:"outline",className:"bg-red-100 text-red-800",children:"Rejected"});default:return a.jsx(Ue,{variant:"outline",children:s})}};return r?a.jsxs("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading refund requests..."})]}):a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Returns & Refunds"}),a.jsx("p",{className:"text-muted-foreground",children:"Track your refund requests and their status"})]}),!t||t.length===0?a.jsx(ye,{children:a.jsxs(Ce,{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(Tl,{className:"h-5 w-5"}),"No Refund Requests"]}),a.jsx(Ze,{children:"You haven't submitted any refund requests yet. You can request refunds for delivered orders from the Orders page."})]})}):a.jsx("div",{className:"space-y-4",children:t.map(s=>a.jsxs(ye,{children:[a.jsx(Ce,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(Tl,{className:"h-5 w-5"}),"Refund Request - Order #",s.orders.order_number]}),a.jsxs(Ze,{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Xm,{className:"h-4 w-4"}),"Submitted: ",Wu(new Date(s.created_at),"PPP")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Hd,{className:"h-4 w-4"}),"Order Amount: $",s.orders.total_amount.toFixed(2)]}),s.reviewed_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Xm,{className:"h-4 w-4"}),"Reviewed: ",Wu(new Date(s.reviewed_at),"PPP")]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:n(s.status)})]})}),a.jsx(be,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Your Description:"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded",children:s.description})]}),s.photo_url&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Photo Evidence:"}),a.jsx("img",{src:s.photo_url,alt:"Refund evidence",className:"max-w-sm h-32 object-cover rounded border"})]}),s.admin_notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:s.status==="approved"?"Approval Notes:":"Rejection Reason:"}),a.jsx("p",{className:`text-sm p-3 rounded ${s.status==="approved"?"text-green-700 bg-green-50 dark:bg-green-900 dark:text-green-300":"text-red-700 bg-red-50 dark:bg-red-900 dark:text-red-300"}`,children:s.admin_notes})]}),s.status==="pending"&&a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-900 p-3 rounded",children:[a.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Your refund request is being reviewed"}),a.jsx("p",{className:"text-blue-600 dark:text-blue-400",children:"Our team will review your request and get back to you soon."})]})]})})]},s.id))})]})})})},o5=()=>{const e=Vn();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center max-w-md px-4",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Oops! The page you're looking for doesn't exist."}),a.jsx("p",{className:"text-gray-500 mb-8",children:"The page may have been moved, deleted, or never existed in the first place."}),a.jsx(pe,{asChild:!0,children:a.jsx(ci,{to:"/login",children:"Go to Login"})})]})})},a5=new KT;function l5(){return a.jsx("div",{className:"min-h-screen w-full bg-gray-50 dark:bg-gray-900",children:a.jsx(XT,{client:a5,children:a.jsxs(BO,{children:[a.jsx(WO,{children:a.jsx(PT,{basename:"/stock2store",children:a.jsxs(_T,{children:[a.jsx(ur,{path:"/",element:a.jsx(Xr,{resource:"store",action:"view",fallbackPath:"/login",children:a.jsx(Jr,{children:a.jsx(T0,{})})})}),a.jsx(ur,{path:"/login",element:a.jsx(uM,{})}),a.jsx(ur,{path:"/warehouse",element:a.jsx(Xr,{resource:"warehouse",action:"view",fallbackPath:"/store",children:a.jsx(Jr,{children:a.jsx(x3,{})})})}),a.jsx(ur,{path:"/store",element:a.jsx(Xr,{resource:"store",action:"view",fallbackPath:"/login",children:a.jsx(Jr,{children:a.jsx(T0,{})})})}),a.jsx(ur,{path:"/cart",element:a.jsx(Xr,{resource:"cart",action:"view",fallbackPath:"/store",children:a.jsx(Jr,{children:a.jsx(j3,{})})})}),a.jsx(ur,{path:"/checkout",element:a.jsx(Xr,{resource:"checkout",action:"view",fallbackPath:"/store",children:a.jsx(Jr,{children:a.jsx(E3,{})})})}),a.jsx(ur,{path:"/analytics",element:a.jsx(Xr,{resource:"analytics",action:"view",fallbackPath:"/store",children:a.jsx(Jr,{children:a.jsx(N3,{})})})}),a.jsx(ur,{path:"/users",element:a.jsx(Xr,{resource:"users",action:"view",fallbackPath:"/store",children:a.jsx(Jr,{children:a.jsx(T3,{})})})}),a.jsx(ur,{path:"/orders",element:a.jsx(Xr,{resource:"orders",action:"view",fallbackPath:"/store",children:a.jsx(Jr,{children:a.jsx(s5,{})})})}),a.jsx(ur,{path:"/returns",element:a.jsx(Xr,{resource:"returns",action:"view",fallbackPath:"/store",children:a.jsx(Jr,{children:a.jsx(i5,{})})})}),a.jsx(ur,{path:"/profile",element:a.jsx(Xr,{resource:"profile",action:"view",fallbackPath:"/store",children:a.jsx(Jr,{children:a.jsx(P3,{})})})}),a.jsx(ur,{path:"*",element:a.jsx(o5,{})})]})})}),a.jsx(FI,{})]})})})}a_(document.getElementById("root")).render(a.jsx(l5,{}));export{K0 as g};
