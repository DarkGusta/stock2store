var ym=e=>{throw TypeError(e)};var $u=(e,t,r)=>t.has(e)||ym("Cannot "+r);var k=(e,t,r)=>($u(e,t,"read from private field"),r?r.call(e):t.get(e)),te=(e,t,r)=>t.has(e)?ym("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),K=(e,t,r,n)=>($u(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),he=(e,t,r)=>($u(e,t,"access private method"),r);var Za=(e,t,r,n)=>({set _(s){K(e,t,s,r)},get _(){return k(e,t,n)}});function O_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function M_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var py={exports:{}},$c={},my={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),I_=Symbol.for("react.portal"),D_=Symbol.for("react.fragment"),L_=Symbol.for("react.strict_mode"),F_=Symbol.for("react.profiler"),$_=Symbol.for("react.provider"),U_=Symbol.for("react.context"),z_=Symbol.for("react.forward_ref"),B_=Symbol.for("react.suspense"),V_=Symbol.for("react.memo"),W_=Symbol.for("react.lazy"),xm=Symbol.iterator;function H_(e){return e===null||typeof e!="object"?null:(e=xm&&e[xm]||e["@@iterator"],typeof e=="function"?e:null)}var gy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vy=Object.assign,yy={};function ci(e,t,r){this.props=e,this.context=t,this.refs=yy,this.updater=r||gy}ci.prototype.isReactComponent={};ci.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ci.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xy(){}xy.prototype=ci.prototype;function bh(e,t,r){this.props=e,this.context=t,this.refs=yy,this.updater=r||gy}var Sh=bh.prototype=new xy;Sh.constructor=bh;vy(Sh,ci.prototype);Sh.isPureReactComponent=!0;var wm=Array.isArray,wy=Object.prototype.hasOwnProperty,_h={current:null},by={key:!0,ref:!0,__self:!0,__source:!0};function Sy(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)wy.call(t,n)&&!by.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:$a,type:e,key:o,ref:i,props:s,_owner:_h.current}}function q_(e,t){return{$$typeof:$a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jh(e){return typeof e=="object"&&e!==null&&e.$$typeof===$a}function K_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bm=/\/+/g;function Uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K_(""+e.key):t.toString(36)}function Tl(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case $a:case I_:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Uu(i,0):n,wm(s)?(r="",e!=null&&(r=e.replace(bm,"$&/")+"/"),Tl(s,t,r,"",function(u){return u})):s!=null&&(jh(s)&&(s=q_(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(bm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",wm(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Uu(o,l);i+=Tl(o,t,r,c,s)}else if(c=H_(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Uu(o,l++),i+=Tl(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function el(e,t,r){if(e==null)return e;var n=[],s=0;return Tl(e,n,"","",function(o){return t.call(r,o,s++)}),n}function G_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},Rl={transition:null},Q_={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Rl,ReactCurrentOwner:_h};function _y(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:el,forEach:function(e,t,r){el(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return el(e,function(){t++}),t},toArray:function(e){return el(e,function(t){return t})||[]},only:function(e){if(!jh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=ci;de.Fragment=D_;de.Profiler=F_;de.PureComponent=bh;de.StrictMode=L_;de.Suspense=B_;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q_;de.act=_y;de.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vy({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=_h.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wy.call(t,c)&&!by.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:$a,type:e.type,key:s,ref:o,props:n,_owner:i}};de.createContext=function(e){return e={$$typeof:U_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$_,_context:e},e.Consumer=e};de.createElement=Sy;de.createFactory=function(e){var t=Sy.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:z_,render:e}};de.isValidElement=jh;de.lazy=function(e){return{$$typeof:W_,_payload:{_status:-1,_result:e},_init:G_}};de.memo=function(e,t){return{$$typeof:V_,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Rl.transition;Rl.transition={};try{e()}finally{Rl.transition=t}};de.unstable_act=_y;de.useCallback=function(e,t){return Tt.current.useCallback(e,t)};de.useContext=function(e){return Tt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};de.useEffect=function(e,t){return Tt.current.useEffect(e,t)};de.useId=function(){return Tt.current.useId()};de.useImperativeHandle=function(e,t,r){return Tt.current.useImperativeHandle(e,t,r)};de.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Tt.current.useMemo(e,t)};de.useReducer=function(e,t,r){return Tt.current.useReducer(e,t,r)};de.useRef=function(e){return Tt.current.useRef(e)};de.useState=function(e){return Tt.current.useState(e)};de.useSyncExternalStore=function(e,t,r){return Tt.current.useSyncExternalStore(e,t,r)};de.useTransition=function(){return Tt.current.useTransition()};de.version="18.3.1";my.exports=de;var p=my.exports;const ce=hy(p),jy=O_({__proto__:null,default:ce},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=p,X_=Symbol.for("react.element"),J_=Symbol.for("react.fragment"),Z_=Object.prototype.hasOwnProperty,ej=Y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tj={key:!0,ref:!0,__self:!0,__source:!0};function ky(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Z_.call(t,n)&&!tj.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:X_,type:e,key:o,ref:i,props:s,_owner:ej.current}}$c.Fragment=J_;$c.jsx=ky;$c.jsxs=ky;py.exports=$c;var a=py.exports,Cy={exports:{}},tr={},Ey={exports:{}},Ny={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,R){var z=T.length;T.push(R);e:for(;0<z;){var J=z-1>>>1,ie=T[J];if(0<s(ie,R))T[J]=R,T[z]=ie,z=J;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var R=T[0],z=T.pop();if(z!==R){T[0]=z;e:for(var J=0,ie=T.length,Ge=ie>>>1;J<Ge;){var Te=2*(J+1)-1,wt=T[Te],Ie=Te+1,Y=T[Ie];if(0>s(wt,z))Ie<ie&&0>s(Y,wt)?(T[J]=Y,T[Ie]=z,J=Ie):(T[J]=wt,T[Te]=z,J=Te);else if(Ie<ie&&0>s(Y,z))T[J]=Y,T[Ie]=z,J=Ie;else break e}}return R}function s(T,R){var z=T.sortIndex-R.sortIndex;return z!==0?z:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,v=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=T)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function S(T){if(g=!1,b(T),!x)if(r(c)!==null)x=!0,V(_);else{var R=r(u);R!==null&&X(S,R.startTime-T)}}function _(T,R){x=!1,g&&(g=!1,y(P),P=-1),v=!0;var z=h;try{for(b(R),f=r(c);f!==null&&(!(f.expirationTime>R)||T&&!H());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var ie=J(f.expirationTime<=R);R=e.unstable_now(),typeof ie=="function"?f.callback=ie:f===r(c)&&n(c),b(R)}else n(c);f=r(c)}if(f!==null)var Ge=!0;else{var Te=r(u);Te!==null&&X(S,Te.startTime-R),Ge=!1}return Ge}finally{f=null,h=z,v=!1}}var N=!1,C=null,P=-1,I=5,M=-1;function H(){return!(e.unstable_now()-M<I)}function O(){if(C!==null){var T=e.unstable_now();M=T;var R=!0;try{R=C(!0,T)}finally{R?$():(N=!1,C=null)}}else N=!1}var $;if(typeof m=="function")$=function(){m(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Q=D.port2;D.port1.onmessage=O,$=function(){Q.postMessage(null)}}else $=function(){w(O,0)};function V(T){C=T,N||(N=!0,$())}function X(T,R){P=w(function(){T(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,V(_))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var z=h;h=R;try{return T()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=h;h=T;try{return R()}finally{h=z}},e.unstable_scheduleCallback=function(T,R,z){var J=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,T){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=z+ie,T={id:d++,callback:R,priorityLevel:T,startTime:z,expirationTime:ie,sortIndex:-1},z>J?(T.sortIndex=z,t(u,T),r(c)===null&&T===r(u)&&(g?(y(P),P=-1):g=!0,X(S,z-J))):(T.sortIndex=ie,t(c,T),x||v||(x=!0,V(_))),T},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(T){var R=h;return function(){var z=h;h=R;try{return T.apply(this,arguments)}finally{h=z}}}})(Ny);Ey.exports=Ny;var rj=Ey.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nj=p,er=rj;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Py=new Set,ia={};function Vs(e,t){Yo(e,t),Yo(e+"Capture",t)}function Yo(e,t){for(ia[e]=t,e=0;e<t.length;e++)Py.add(t[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fd=Object.prototype.hasOwnProperty,sj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sm={},_m={};function oj(e){return Fd.call(_m,e)?!0:Fd.call(Sm,e)?!1:sj.test(e)?_m[e]=!0:(Sm[e]=!0,!1)}function ij(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aj(e,t,r,n){if(t===null||typeof t>"u"||ij(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ft[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ft[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ft[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var kh=/[\-:]([a-z])/g;function Ch(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kh,Ch);ft[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kh,Ch);ft[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kh,Ch);ft[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ft[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Eh(e,t,r,n){var s=ft.hasOwnProperty(t)?ft[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aj(t,r,s,n)&&(r=null),n||s===null?oj(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var pn=nj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=Symbol.for("react.element"),ho=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),Nh=Symbol.for("react.strict_mode"),$d=Symbol.for("react.profiler"),Ty=Symbol.for("react.provider"),Ry=Symbol.for("react.context"),Ph=Symbol.for("react.forward_ref"),Ud=Symbol.for("react.suspense"),zd=Symbol.for("react.suspense_list"),Th=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),Ay=Symbol.for("react.offscreen"),jm=Symbol.iterator;function bi(e){return e===null||typeof e!="object"?null:(e=jm&&e[jm]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,zu;function Di(e){if(zu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zu=t&&t[1]||""}return`
`+zu+e}var Bu=!1;function Vu(e,t){if(!e||Bu)return"";Bu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Bu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Di(e):""}function lj(e){switch(e.tag){case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 2:case 15:return e=Vu(e.type,!1),e;case 11:return e=Vu(e.type.render,!1),e;case 1:return e=Vu(e.type,!0),e;default:return""}}function Bd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case po:return"Fragment";case ho:return"Portal";case $d:return"Profiler";case Nh:return"StrictMode";case Ud:return"Suspense";case zd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ry:return(e.displayName||"Context")+".Consumer";case Ty:return(e._context.displayName||"Context")+".Provider";case Ph:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Th:return t=e.displayName||null,t!==null?t:Bd(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return Bd(e(t))}catch{}}return null}function cj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bd(t);case 8:return t===Nh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uj(e){var t=Oy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rl(e){e._valueTracker||(e._valueTracker=uj(e))}function My(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Oy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vd(e,t){var r=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function km(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Iy(e,t){t=t.checked,t!=null&&Eh(e,"checked",t,!1)}function Wd(e,t){Iy(e,t);var r=Xn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hd(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hd(e,t.type,Xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hd(e,t,r){(t!=="number"||Ql(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Li=Array.isArray;function ko(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Em(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Li(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xn(r)}}function Dy(e,t){var r=Xn(t.value),n=Xn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Nm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ly(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ly(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nl,Fy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nl=nl||document.createElement("div"),nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function aa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dj=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(e){dj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wi[t]=Wi[e]})});function $y(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wi.hasOwnProperty(e)&&Wi[e]?(""+t).trim():t+"px"}function Uy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=$y(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var fj=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gd(e,t){if(t){if(fj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Qd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yd=null;function Rh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xd=null,Co=null,Eo=null;function Pm(e){if(e=Ba(e)){if(typeof Xd!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Wc(t),Xd(e.stateNode,e.type,t))}}function zy(e){Co?Eo?Eo.push(e):Eo=[e]:Co=e}function By(){if(Co){var e=Co,t=Eo;if(Eo=Co=null,Pm(e),t)for(e=0;e<t.length;e++)Pm(t[e])}}function Vy(e,t){return e(t)}function Wy(){}var Wu=!1;function Hy(e,t,r){if(Wu)return e(t,r);Wu=!0;try{return Vy(e,t,r)}finally{Wu=!1,(Co!==null||Eo!==null)&&(Wy(),By())}}function la(e,t){var r=e.stateNode;if(r===null)return null;var n=Wc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Jd=!1;if(ln)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){Jd=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{Jd=!1}function hj(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Hi=!1,Yl=null,Xl=!1,Zd=null,pj={onError:function(e){Hi=!0,Yl=e}};function mj(e,t,r,n,s,o,i,l,c){Hi=!1,Yl=null,hj.apply(pj,arguments)}function gj(e,t,r,n,s,o,i,l,c){if(mj.apply(this,arguments),Hi){if(Hi){var u=Yl;Hi=!1,Yl=null}else throw Error(L(198));Xl||(Xl=!0,Zd=u)}}function Ws(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tm(e){if(Ws(e)!==e)throw Error(L(188))}function vj(e){var t=e.alternate;if(!t){if(t=Ws(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Tm(s),e;if(o===n)return Tm(s),t;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function Ky(e){return e=vj(e),e!==null?Gy(e):null}function Gy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gy(e);if(t!==null)return t;e=e.sibling}return null}var Qy=er.unstable_scheduleCallback,Rm=er.unstable_cancelCallback,yj=er.unstable_shouldYield,xj=er.unstable_requestPaint,Qe=er.unstable_now,wj=er.unstable_getCurrentPriorityLevel,Ah=er.unstable_ImmediatePriority,Yy=er.unstable_UserBlockingPriority,Jl=er.unstable_NormalPriority,bj=er.unstable_LowPriority,Xy=er.unstable_IdlePriority,Uc=null,Kr=null;function Sj(e){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Uc,e,void 0,(e.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:kj,_j=Math.log,jj=Math.LN2;function kj(e){return e>>>=0,e===0?32:31-(_j(e)/jj|0)|0}var sl=64,ol=4194304;function Fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Fi(l):(o&=i,o!==0&&(n=Fi(o)))}else i=r&~s,i!==0?n=Fi(i):o!==0&&(n=Fi(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Er(t),s=1<<r,n|=e[r],t&=~s;return n}function Cj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ej(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Er(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=Cj(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function ef(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jy(){var e=sl;return sl<<=1,!(sl&4194240)&&(sl=64),e}function Hu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ua(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Er(t),e[t]=r}function Nj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Er(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Oh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Er(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ee=0;function Zy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ex,Mh,tx,rx,nx,tf=!1,il=[],Bn=null,Vn=null,Wn=null,ca=new Map,ua=new Map,En=[],Pj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Am(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(t.pointerId)}}function _i(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ba(t),t!==null&&Mh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Tj(e,t,r,n,s){switch(t){case"focusin":return Bn=_i(Bn,e,t,r,n,s),!0;case"dragenter":return Vn=_i(Vn,e,t,r,n,s),!0;case"mouseover":return Wn=_i(Wn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return ca.set(o,_i(ca.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,ua.set(o,_i(ua.get(o)||null,e,t,r,n,s)),!0}return!1}function sx(e){var t=ws(e.target);if(t!==null){var r=Ws(t);if(r!==null){if(t=r.tag,t===13){if(t=qy(r),t!==null){e.blockedOn=t,nx(e.priority,function(){tx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Al(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yd=n,r.target.dispatchEvent(n),Yd=null}else return t=Ba(r),t!==null&&Mh(t),e.blockedOn=r,!1;t.shift()}return!0}function Om(e,t,r){Al(e)&&r.delete(t)}function Rj(){tf=!1,Bn!==null&&Al(Bn)&&(Bn=null),Vn!==null&&Al(Vn)&&(Vn=null),Wn!==null&&Al(Wn)&&(Wn=null),ca.forEach(Om),ua.forEach(Om)}function ji(e,t){e.blockedOn===t&&(e.blockedOn=null,tf||(tf=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,Rj)))}function da(e){function t(s){return ji(s,e)}if(0<il.length){ji(il[0],e);for(var r=1;r<il.length;r++){var n=il[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bn!==null&&ji(Bn,e),Vn!==null&&ji(Vn,e),Wn!==null&&ji(Wn,e),ca.forEach(t),ua.forEach(t),r=0;r<En.length;r++)n=En[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<En.length&&(r=En[0],r.blockedOn===null);)sx(r),r.blockedOn===null&&En.shift()}var No=pn.ReactCurrentBatchConfig,ec=!0;function Aj(e,t,r,n){var s=Ee,o=No.transition;No.transition=null;try{Ee=1,Ih(e,t,r,n)}finally{Ee=s,No.transition=o}}function Oj(e,t,r,n){var s=Ee,o=No.transition;No.transition=null;try{Ee=4,Ih(e,t,r,n)}finally{Ee=s,No.transition=o}}function Ih(e,t,r,n){if(ec){var s=rf(e,t,r,n);if(s===null)td(e,t,n,tc,r),Am(e,n);else if(Tj(s,e,t,r,n))n.stopPropagation();else if(Am(e,n),t&4&&-1<Pj.indexOf(e)){for(;s!==null;){var o=Ba(s);if(o!==null&&ex(o),o=rf(e,t,r,n),o===null&&td(e,t,n,tc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else td(e,t,n,null,r)}}var tc=null;function rf(e,t,r,n){if(tc=null,e=Rh(n),e=ws(e),e!==null)if(t=Ws(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tc=e,null}function ox(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wj()){case Ah:return 1;case Yy:return 4;case Jl:case bj:return 16;case Xy:return 536870912;default:return 16}default:return 16}}var Fn=null,Dh=null,Ol=null;function ix(){if(Ol)return Ol;var e,t=Dh,r=t.length,n,s="value"in Fn?Fn.value:Fn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Ol=s.slice(e,1<n?1-n:void 0)}function Ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function al(){return!0}function Mm(){return!1}function rr(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?al:Mm,this.isPropagationStopped=Mm,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),t}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lh=rr(ui),za=We({},ui,{view:0,detail:0}),Mj=rr(za),qu,Ku,ki,zc=We({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(qu=e.screenX-ki.screenX,Ku=e.screenY-ki.screenY):Ku=qu=0,ki=e),qu)},movementY:function(e){return"movementY"in e?e.movementY:Ku}}),Im=rr(zc),Ij=We({},zc,{dataTransfer:0}),Dj=rr(Ij),Lj=We({},za,{relatedTarget:0}),Gu=rr(Lj),Fj=We({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),$j=rr(Fj),Uj=We({},ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zj=rr(Uj),Bj=We({},ui,{data:0}),Dm=rr(Bj),Vj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hj[e])?!!t[e]:!1}function Fh(){return qj}var Kj=We({},za,{key:function(e){if(e.key){var t=Vj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fh,charCode:function(e){return e.type==="keypress"?Ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gj=rr(Kj),Qj=We({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lm=rr(Qj),Yj=We({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fh}),Xj=rr(Yj),Jj=We({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zj=rr(Jj),ek=We({},zc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tk=rr(ek),rk=[9,13,27,32],$h=ln&&"CompositionEvent"in window,qi=null;ln&&"documentMode"in document&&(qi=document.documentMode);var nk=ln&&"TextEvent"in window&&!qi,ax=ln&&(!$h||qi&&8<qi&&11>=qi),Fm=" ",$m=!1;function lx(e,t){switch(e){case"keyup":return rk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mo=!1;function sk(e,t){switch(e){case"compositionend":return cx(t);case"keypress":return t.which!==32?null:($m=!0,Fm);case"textInput":return e=t.data,e===Fm&&$m?null:e;default:return null}}function ok(e,t){if(mo)return e==="compositionend"||!$h&&lx(e,t)?(e=ix(),Ol=Dh=Fn=null,mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ax&&t.locale!=="ko"?null:t.data;default:return null}}var ik={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ik[e.type]:t==="textarea"}function ux(e,t,r,n){zy(n),t=rc(t,"onChange"),0<t.length&&(r=new Lh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ki=null,fa=null;function ak(e){bx(e,0)}function Bc(e){var t=yo(e);if(My(t))return e}function lk(e,t){if(e==="change")return t}var dx=!1;if(ln){var Qu;if(ln){var Yu="oninput"in document;if(!Yu){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),Yu=typeof zm.oninput=="function"}Qu=Yu}else Qu=!1;dx=Qu&&(!document.documentMode||9<document.documentMode)}function Bm(){Ki&&(Ki.detachEvent("onpropertychange",fx),fa=Ki=null)}function fx(e){if(e.propertyName==="value"&&Bc(fa)){var t=[];ux(t,fa,e,Rh(e)),Hy(ak,t)}}function ck(e,t,r){e==="focusin"?(Bm(),Ki=t,fa=r,Ki.attachEvent("onpropertychange",fx)):e==="focusout"&&Bm()}function uk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bc(fa)}function dk(e,t){if(e==="click")return Bc(t)}function fk(e,t){if(e==="input"||e==="change")return Bc(t)}function hk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rr=typeof Object.is=="function"?Object.is:hk;function ha(e,t){if(Rr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Fd.call(t,s)||!Rr(e[s],t[s]))return!1}return!0}function Vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wm(e,t){var r=Vm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vm(r)}}function hx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function px(){for(var e=window,t=Ql();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ql(e.document)}return t}function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pk(e){var t=px(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hx(r.ownerDocument.documentElement,r)){if(n!==null&&Uh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Wm(r,o);var i=Wm(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mk=ln&&"documentMode"in document&&11>=document.documentMode,go=null,nf=null,Gi=null,sf=!1;function Hm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sf||go==null||go!==Ql(n)||(n=go,"selectionStart"in n&&Uh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gi&&ha(Gi,n)||(Gi=n,n=rc(nf,"onSelect"),0<n.length&&(t=new Lh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=go)))}function ll(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vo={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},Xu={},mx={};ln&&(mx=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Vc(e){if(Xu[e])return Xu[e];if(!vo[e])return e;var t=vo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mx)return Xu[e]=t[r];return e}var gx=Vc("animationend"),vx=Vc("animationiteration"),yx=Vc("animationstart"),xx=Vc("transitionend"),wx=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(e,t){wx.set(e,t),Vs(t,[e])}for(var Ju=0;Ju<qm.length;Ju++){var Zu=qm[Ju],gk=Zu.toLowerCase(),vk=Zu[0].toUpperCase()+Zu.slice(1);os(gk,"on"+vk)}os(gx,"onAnimationEnd");os(vx,"onAnimationIteration");os(yx,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(xx,"onTransitionEnd");Yo("onMouseEnter",["mouseout","mouseover"]);Yo("onMouseLeave",["mouseout","mouseover"]);Yo("onPointerEnter",["pointerout","pointerover"]);Yo("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yk=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function Km(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gj(n,t,void 0,e),e.currentTarget=null}function bx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Km(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Km(s,l,u),o=c}}}if(Xl)throw e=Zd,Xl=!1,Zd=null,e}function Le(e,t){var r=t[uf];r===void 0&&(r=t[uf]=new Set);var n=e+"__bubble";r.has(n)||(Sx(t,e,2,!1),r.add(n))}function ed(e,t,r){var n=0;t&&(n|=4),Sx(r,e,n,t)}var cl="_reactListening"+Math.random().toString(36).slice(2);function pa(e){if(!e[cl]){e[cl]=!0,Py.forEach(function(r){r!=="selectionchange"&&(yk.has(r)||ed(r,!1,e),ed(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cl]||(t[cl]=!0,ed("selectionchange",!1,t))}}function Sx(e,t,r,n){switch(ox(t)){case 1:var s=Aj;break;case 4:s=Oj;break;default:s=Ih}r=s.bind(null,t,r,e),s=void 0,!Jd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function td(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ws(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}Hy(function(){var u=o,d=Rh(r),f=[];e:{var h=wx.get(e);if(h!==void 0){var v=Lh,x=e;switch(e){case"keypress":if(Ml(r)===0)break e;case"keydown":case"keyup":v=Gj;break;case"focusin":x="focus",v=Gu;break;case"focusout":x="blur",v=Gu;break;case"beforeblur":case"afterblur":v=Gu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Im;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Dj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Xj;break;case gx:case vx:case yx:v=$j;break;case xx:v=Zj;break;case"scroll":v=Mj;break;case"wheel":v=tk;break;case"copy":case"cut":case"paste":v=zj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Lm}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var m=u,b;m!==null;){b=m;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=la(m,y),S!=null&&g.push(ma(m,S,b)))),w)break;m=m.return}0<g.length&&(h=new v(h,x,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==Yd&&(x=r.relatedTarget||r.fromElement)&&(ws(x)||x[cn]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=u,x=x?ws(x):null,x!==null&&(w=Ws(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(g=Im,S="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=Lm,S="onPointerLeave",y="onPointerEnter",m="pointer"),w=v==null?h:yo(v),b=x==null?h:yo(x),h=new g(S,m+"leave",v,r,d),h.target=w,h.relatedTarget=b,S=null,ws(d)===u&&(g=new g(y,m+"enter",x,r,d),g.target=b,g.relatedTarget=w,S=g),w=S,v&&x)t:{for(g=v,y=x,m=0,b=g;b;b=to(b))m++;for(b=0,S=y;S;S=to(S))b++;for(;0<m-b;)g=to(g),m--;for(;0<b-m;)y=to(y),b--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=to(g),y=to(y)}g=null}else g=null;v!==null&&Gm(f,h,v,g,!1),x!==null&&w!==null&&Gm(f,w,x,g,!0)}}e:{if(h=u?yo(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var _=lk;else if(Um(h))if(dx)_=fk;else{_=uk;var N=ck}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=dk);if(_&&(_=_(e,u))){ux(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Hd(h,"number",h.value)}switch(N=u?yo(u):window,e){case"focusin":(Um(N)||N.contentEditable==="true")&&(go=N,nf=u,Gi=null);break;case"focusout":Gi=nf=go=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Hm(f,r,d);break;case"selectionchange":if(mk)break;case"keydown":case"keyup":Hm(f,r,d)}var C;if($h)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else mo?lx(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(ax&&r.locale!=="ko"&&(mo||P!=="onCompositionStart"?P==="onCompositionEnd"&&mo&&(C=ix()):(Fn=d,Dh="value"in Fn?Fn.value:Fn.textContent,mo=!0)),N=rc(u,P),0<N.length&&(P=new Dm(P,e,null,r,d),f.push({event:P,listeners:N}),C?P.data=C:(C=cx(r),C!==null&&(P.data=C)))),(C=nk?sk(e,r):ok(e,r))&&(u=rc(u,"onBeforeInput"),0<u.length&&(d=new Dm("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}bx(f,t)})}function ma(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=la(e,r),o!=null&&n.unshift(ma(e,o,s)),o=la(e,t),o!=null&&n.push(ma(e,o,s))),e=e.return}return n}function to(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gm(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=la(r,o),c!=null&&i.unshift(ma(r,c,l))):s||(c=la(r,o),c!=null&&i.push(ma(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var xk=/\r\n?/g,wk=/\u0000|\uFFFD/g;function Qm(e){return(typeof e=="string"?e:""+e).replace(xk,`
`).replace(wk,"")}function ul(e,t,r){if(t=Qm(t),Qm(e)!==t&&r)throw Error(L(425))}function nc(){}var of=null,af=null;function lf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cf=typeof setTimeout=="function"?setTimeout:void 0,bk=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,Sk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(e){return Ym.resolve(null).then(e).catch(_k)}:cf;function _k(e){setTimeout(function(){throw e})}function rd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),da(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);da(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),Vr="__reactFiber$"+di,ga="__reactProps$"+di,cn="__reactContainer$"+di,uf="__reactEvents$"+di,jk="__reactListeners$"+di,kk="__reactHandles$"+di;function ws(e){var t=e[Vr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[cn]||r[Vr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xm(e);e!==null;){if(r=e[Vr])return r;e=Xm(e)}return t}e=r,r=e.parentNode}return null}function Ba(e){return e=e[Vr]||e[cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Wc(e){return e[ga]||null}var df=[],xo=-1;function is(e){return{current:e}}function Fe(e){0>xo||(e.current=df[xo],df[xo]=null,xo--)}function Oe(e,t){xo++,df[xo]=e.current,e.current=t}var Jn={},xt=is(Jn),zt=is(!1),Ms=Jn;function Xo(e,t){var r=e.type.contextTypes;if(!r)return Jn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bt(e){return e=e.childContextTypes,e!=null}function sc(){Fe(zt),Fe(xt)}function Jm(e,t,r){if(xt.current!==Jn)throw Error(L(168));Oe(xt,t),Oe(zt,r)}function _x(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,cj(e)||"Unknown",s));return We({},r,n)}function oc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jn,Ms=xt.current,Oe(xt,e),Oe(zt,zt.current),!0}function Zm(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=_x(e,t,Ms),n.__reactInternalMemoizedMergedChildContext=e,Fe(zt),Fe(xt),Oe(xt,e)):Fe(zt),Oe(zt,r)}var rn=null,Hc=!1,nd=!1;function jx(e){rn===null?rn=[e]:rn.push(e)}function Ck(e){Hc=!0,jx(e)}function as(){if(!nd&&rn!==null){nd=!0;var e=0,t=Ee;try{var r=rn;for(Ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rn=null,Hc=!1}catch(s){throw rn!==null&&(rn=rn.slice(e+1)),Qy(Ah,as),s}finally{Ee=t,nd=!1}}return null}var wo=[],bo=0,ic=null,ac=0,ir=[],ar=0,Is=null,nn=1,sn="";function ms(e,t){wo[bo++]=ac,wo[bo++]=ic,ic=e,ac=t}function kx(e,t,r){ir[ar++]=nn,ir[ar++]=sn,ir[ar++]=Is,Is=e;var n=nn;e=sn;var s=32-Er(n)-1;n&=~(1<<s),r+=1;var o=32-Er(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,nn=1<<32-Er(t)+s|r<<s|n,sn=o+e}else nn=1<<o|r<<s|n,sn=e}function zh(e){e.return!==null&&(ms(e,1),kx(e,1,0))}function Bh(e){for(;e===ic;)ic=wo[--bo],wo[bo]=null,ac=wo[--bo],wo[bo]=null;for(;e===Is;)Is=ir[--ar],ir[ar]=null,sn=ir[--ar],ir[ar]=null,nn=ir[--ar],ir[ar]=null}var Jt=null,Xt=null,Ue=!1,Sr=null;function Cx(e,t){var r=cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function eg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Xt=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Is!==null?{id:nn,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jt=e,Xt=null,!0):!1;default:return!1}}function ff(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hf(e){if(Ue){var t=Xt;if(t){var r=t;if(!eg(e,t)){if(ff(e))throw Error(L(418));t=Hn(r.nextSibling);var n=Jt;t&&eg(e,t)?Cx(n,r):(e.flags=e.flags&-4097|2,Ue=!1,Jt=e)}}else{if(ff(e))throw Error(L(418));e.flags=e.flags&-4097|2,Ue=!1,Jt=e}}}function tg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function dl(e){if(e!==Jt)return!1;if(!Ue)return tg(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lf(e.type,e.memoizedProps)),t&&(t=Xt)){if(ff(e))throw Ex(),Error(L(418));for(;t;)Cx(e,t),t=Hn(t.nextSibling)}if(tg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xt=Hn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Jt?Hn(e.stateNode.nextSibling):null;return!0}function Ex(){for(var e=Xt;e;)e=Hn(e.nextSibling)}function Jo(){Xt=Jt=null,Ue=!1}function Vh(e){Sr===null?Sr=[e]:Sr.push(e)}var Ek=pn.ReactCurrentBatchConfig;function Ci(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function fl(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rg(e){var t=e._init;return t(e._payload)}function Nx(e){function t(y,m){if(e){var b=y.deletions;b===null?(y.deletions=[m],y.flags|=16):b.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Qn(y,m),y.index=0,y.sibling=null,y}function o(y,m,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<m?(y.flags|=2,m):b):(y.flags|=2,m)):(y.flags|=1048576,m)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,m,b,S){return m===null||m.tag!==6?(m=ud(b,y.mode,S),m.return=y,m):(m=s(m,b),m.return=y,m)}function c(y,m,b,S){var _=b.type;return _===po?d(y,m,b.props.children,S,b.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jn&&rg(_)===m.type)?(S=s(m,b.props),S.ref=Ci(y,m,b),S.return=y,S):(S=zl(b.type,b.key,b.props,null,y.mode,S),S.ref=Ci(y,m,b),S.return=y,S)}function u(y,m,b,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=dd(b,y.mode,S),m.return=y,m):(m=s(m,b.children||[]),m.return=y,m)}function d(y,m,b,S,_){return m===null||m.tag!==7?(m=Os(b,y.mode,S,_),m.return=y,m):(m=s(m,b),m.return=y,m)}function f(y,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ud(""+m,y.mode,b),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case tl:return b=zl(m.type,m.key,m.props,null,y.mode,b),b.ref=Ci(y,null,m),b.return=y,b;case ho:return m=dd(m,y.mode,b),m.return=y,m;case jn:var S=m._init;return f(y,S(m._payload),b)}if(Li(m)||bi(m))return m=Os(m,y.mode,b,null),m.return=y,m;fl(y,m)}return null}function h(y,m,b,S){var _=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(y,m,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tl:return b.key===_?c(y,m,b,S):null;case ho:return b.key===_?u(y,m,b,S):null;case jn:return _=b._init,h(y,m,_(b._payload),S)}if(Li(b)||bi(b))return _!==null?null:d(y,m,b,S,null);fl(y,b)}return null}function v(y,m,b,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,l(m,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case tl:return y=y.get(S.key===null?b:S.key)||null,c(m,y,S,_);case ho:return y=y.get(S.key===null?b:S.key)||null,u(m,y,S,_);case jn:var N=S._init;return v(y,m,b,N(S._payload),_)}if(Li(S)||bi(S))return y=y.get(b)||null,d(m,y,S,_,null);fl(m,S)}return null}function x(y,m,b,S){for(var _=null,N=null,C=m,P=m=0,I=null;C!==null&&P<b.length;P++){C.index>P?(I=C,C=null):I=C.sibling;var M=h(y,C,b[P],S);if(M===null){C===null&&(C=I);break}e&&C&&M.alternate===null&&t(y,C),m=o(M,m,P),N===null?_=M:N.sibling=M,N=M,C=I}if(P===b.length)return r(y,C),Ue&&ms(y,P),_;if(C===null){for(;P<b.length;P++)C=f(y,b[P],S),C!==null&&(m=o(C,m,P),N===null?_=C:N.sibling=C,N=C);return Ue&&ms(y,P),_}for(C=n(y,C);P<b.length;P++)I=v(C,y,P,b[P],S),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?P:I.key),m=o(I,m,P),N===null?_=I:N.sibling=I,N=I);return e&&C.forEach(function(H){return t(y,H)}),Ue&&ms(y,P),_}function g(y,m,b,S){var _=bi(b);if(typeof _!="function")throw Error(L(150));if(b=_.call(b),b==null)throw Error(L(151));for(var N=_=null,C=m,P=m=0,I=null,M=b.next();C!==null&&!M.done;P++,M=b.next()){C.index>P?(I=C,C=null):I=C.sibling;var H=h(y,C,M.value,S);if(H===null){C===null&&(C=I);break}e&&C&&H.alternate===null&&t(y,C),m=o(H,m,P),N===null?_=H:N.sibling=H,N=H,C=I}if(M.done)return r(y,C),Ue&&ms(y,P),_;if(C===null){for(;!M.done;P++,M=b.next())M=f(y,M.value,S),M!==null&&(m=o(M,m,P),N===null?_=M:N.sibling=M,N=M);return Ue&&ms(y,P),_}for(C=n(y,C);!M.done;P++,M=b.next())M=v(C,y,P,M.value,S),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?P:M.key),m=o(M,m,P),N===null?_=M:N.sibling=M,N=M);return e&&C.forEach(function(O){return t(y,O)}),Ue&&ms(y,P),_}function w(y,m,b,S){if(typeof b=="object"&&b!==null&&b.type===po&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case tl:e:{for(var _=b.key,N=m;N!==null;){if(N.key===_){if(_=b.type,_===po){if(N.tag===7){r(y,N.sibling),m=s(N,b.props.children),m.return=y,y=m;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jn&&rg(_)===N.type){r(y,N.sibling),m=s(N,b.props),m.ref=Ci(y,N,b),m.return=y,y=m;break e}r(y,N);break}else t(y,N);N=N.sibling}b.type===po?(m=Os(b.props.children,y.mode,S,b.key),m.return=y,y=m):(S=zl(b.type,b.key,b.props,null,y.mode,S),S.ref=Ci(y,m,b),S.return=y,y=S)}return i(y);case ho:e:{for(N=b.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){r(y,m.sibling),m=s(m,b.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=dd(b,y.mode,S),m.return=y,y=m}return i(y);case jn:return N=b._init,w(y,m,N(b._payload),S)}if(Li(b))return x(y,m,b,S);if(bi(b))return g(y,m,b,S);fl(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,b),m.return=y,y=m):(r(y,m),m=ud(b,y.mode,S),m.return=y,y=m),i(y)):r(y,m)}return w}var Zo=Nx(!0),Px=Nx(!1),lc=is(null),cc=null,So=null,Wh=null;function Hh(){Wh=So=cc=null}function qh(e){var t=lc.current;Fe(lc),e._currentValue=t}function pf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Po(e,t){cc=e,Wh=So=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(Wh!==e)if(e={context:e,memoizedValue:t,next:null},So===null){if(cc===null)throw Error(L(308));So=e,cc.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var bs=null;function Kh(e){bs===null?bs=[e]:bs.push(e)}function Tx(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Kh(t)):(r.next=s.next,s.next=r),t.interleaved=r,un(e,n)}function un(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kn=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ge&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,un(e,r)}return s=n.interleaved,s===null?(t.next=t,Kh(n)):(t.next=s.next,s.next=t),n.interleaved=t,un(e,r)}function Il(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Oh(e,r)}}function ng(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function uc(e,t,r,n){var s=e.updateQueue;kn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,v=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(h=t,v=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(v,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(v,f,h):x,h==null)break e;f=We({},f,h);break e;case 2:kn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ls|=i,e.lanes=i,e.memoizedState=f}}function sg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Va={},Gr=is(Va),va=is(Va),ya=is(Va);function Ss(e){if(e===Va)throw Error(L(174));return e}function Qh(e,t){switch(Oe(ya,t),Oe(va,e),Oe(Gr,Va),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kd(t,e)}Fe(Gr),Oe(Gr,t)}function ei(){Fe(Gr),Fe(va),Fe(ya)}function Ax(e){Ss(ya.current);var t=Ss(Gr.current),r=Kd(t,e.type);t!==r&&(Oe(va,e),Oe(Gr,r))}function Yh(e){va.current===e&&(Fe(Gr),Fe(va))}var ze=is(0);function dc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sd=[];function Xh(){for(var e=0;e<sd.length;e++)sd[e]._workInProgressVersionPrimary=null;sd.length=0}var Dl=pn.ReactCurrentDispatcher,od=pn.ReactCurrentBatchConfig,Ds=0,Ve=null,et=null,ot=null,fc=!1,Qi=!1,xa=0,Nk=0;function mt(){throw Error(L(321))}function Jh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rr(e[r],t[r]))return!1;return!0}function Zh(e,t,r,n,s,o){if(Ds=o,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dl.current=e===null||e.memoizedState===null?Ak:Ok,e=r(n,s),Qi){o=0;do{if(Qi=!1,xa=0,25<=o)throw Error(L(301));o+=1,ot=et=null,t.updateQueue=null,Dl.current=Mk,e=r(n,s)}while(Qi)}if(Dl.current=hc,t=et!==null&&et.next!==null,Ds=0,ot=et=Ve=null,fc=!1,t)throw Error(L(300));return e}function ep(){var e=xa!==0;return xa=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ve.memoizedState=ot=e:ot=ot.next=e,ot}function pr(){if(et===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=ot===null?Ve.memoizedState:ot.next;if(t!==null)ot=t,et=e;else{if(e===null)throw Error(L(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},ot===null?Ve.memoizedState=ot=e:ot=ot.next=e}return ot}function wa(e,t){return typeof t=="function"?t(e):t}function id(e){var t=pr(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=et,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Ds&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Ve.lanes|=d,Ls|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Rr(n,t.memoizedState)||(Ut=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ve.lanes|=o,Ls|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ad(e){var t=pr(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Rr(o,t.memoizedState)||(Ut=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Ox(){}function Mx(e,t){var r=Ve,n=pr(),s=t(),o=!Rr(n.memoizedState,s);if(o&&(n.memoizedState=s,Ut=!0),n=n.queue,tp(Lx.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ot!==null&&ot.memoizedState.tag&1){if(r.flags|=2048,ba(9,Dx.bind(null,r,n,s,t),void 0,null),it===null)throw Error(L(349));Ds&30||Ix(r,t,s)}return s}function Ix(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Dx(e,t,r,n){t.value=r,t.getSnapshot=n,Fx(t)&&$x(e)}function Lx(e,t,r){return r(function(){Fx(t)&&$x(e)})}function Fx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rr(e,r)}catch{return!0}}function $x(e){var t=un(e,1);t!==null&&Nr(t,e,1,-1)}function og(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Rk.bind(null,Ve,e),[t.memoizedState,e]}function ba(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ux(){return pr().memoizedState}function Ll(e,t,r,n){var s=Fr();Ve.flags|=e,s.memoizedState=ba(1|t,r,void 0,n===void 0?null:n)}function qc(e,t,r,n){var s=pr();n=n===void 0?null:n;var o=void 0;if(et!==null){var i=et.memoizedState;if(o=i.destroy,n!==null&&Jh(n,i.deps)){s.memoizedState=ba(t,r,o,n);return}}Ve.flags|=e,s.memoizedState=ba(1|t,r,o,n)}function ig(e,t){return Ll(8390656,8,e,t)}function tp(e,t){return qc(2048,8,e,t)}function zx(e,t){return qc(4,2,e,t)}function Bx(e,t){return qc(4,4,e,t)}function Vx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wx(e,t,r){return r=r!=null?r.concat([e]):null,qc(4,4,Vx.bind(null,t,e),r)}function rp(){}function Hx(e,t){var r=pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qx(e,t){var r=pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Kx(e,t,r){return Ds&21?(Rr(r,t)||(r=Jy(),Ve.lanes|=r,Ls|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=r)}function Pk(e,t){var r=Ee;Ee=r!==0&&4>r?r:4,e(!0);var n=od.transition;od.transition={};try{e(!1),t()}finally{Ee=r,od.transition=n}}function Gx(){return pr().memoizedState}function Tk(e,t,r){var n=Gn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qx(e))Yx(t,r);else if(r=Tx(e,t,r,n),r!==null){var s=Pt();Nr(r,e,n,s),Xx(r,t,n)}}function Rk(e,t,r){var n=Gn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qx(e))Yx(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Rr(l,i)){var c=t.interleaved;c===null?(s.next=s,Kh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Tx(e,t,s,n),r!==null&&(s=Pt(),Nr(r,e,n,s),Xx(r,t,n))}}function Qx(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function Yx(e,t){Qi=fc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xx(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Oh(e,r)}}var hc={readContext:hr,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},Ak={readContext:hr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:ig,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ll(4194308,4,Vx.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ll(4,2,e,t)},useMemo:function(e,t){var r=Fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Tk.bind(null,Ve,e),[n.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:og,useDebugValue:rp,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=og(!1),t=e[0];return e=Pk.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ve,s=Fr();if(Ue){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),it===null)throw Error(L(349));Ds&30||Ix(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,ig(Lx.bind(null,n,o,e),[e]),n.flags|=2048,ba(9,Dx.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Fr(),t=it.identifierPrefix;if(Ue){var r=sn,n=nn;r=(n&~(1<<32-Er(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Nk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ok={readContext:hr,useCallback:Hx,useContext:hr,useEffect:tp,useImperativeHandle:Wx,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:qx,useReducer:id,useRef:Ux,useState:function(){return id(wa)},useDebugValue:rp,useDeferredValue:function(e){var t=pr();return Kx(t,et.memoizedState,e)},useTransition:function(){var e=id(wa)[0],t=pr().memoizedState;return[e,t]},useMutableSource:Ox,useSyncExternalStore:Mx,useId:Gx,unstable_isNewReconciler:!1},Mk={readContext:hr,useCallback:Hx,useContext:hr,useEffect:tp,useImperativeHandle:Wx,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:qx,useReducer:ad,useRef:Ux,useState:function(){return ad(wa)},useDebugValue:rp,useDeferredValue:function(e){var t=pr();return et===null?t.memoizedState=e:Kx(t,et.memoizedState,e)},useTransition:function(){var e=ad(wa)[0],t=pr().memoizedState;return[e,t]},useMutableSource:Ox,useSyncExternalStore:Mx,useId:Gx,unstable_isNewReconciler:!1};function yr(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function mf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:We({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Kc={isMounted:function(e){return(e=e._reactInternals)?Ws(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pt(),s=Gn(e),o=an(n,s);o.payload=t,r!=null&&(o.callback=r),t=qn(e,o,s),t!==null&&(Nr(t,e,s,n),Il(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pt(),s=Gn(e),o=an(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=qn(e,o,s),t!==null&&(Nr(t,e,s,n),Il(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pt(),n=Gn(e),s=an(r,n);s.tag=2,t!=null&&(s.callback=t),t=qn(e,s,n),t!==null&&(Nr(t,e,n,r),Il(t,e,n))}};function ag(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!ha(r,n)||!ha(s,o):!0}function Jx(e,t,r){var n=!1,s=Jn,o=t.contextType;return typeof o=="object"&&o!==null?o=hr(o):(s=Bt(t)?Ms:xt.current,n=t.contextTypes,o=(n=n!=null)?Xo(e,s):Jn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function lg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Kc.enqueueReplaceState(t,t.state,null)}function gf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Gh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=hr(o):(o=Bt(t)?Ms:xt.current,s.context=Xo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(mf(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Kc.enqueueReplaceState(s,s.state,null),uc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ti(e,t){try{var r="",n=t;do r+=lj(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function ld(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ik=typeof WeakMap=="function"?WeakMap:Map;function Zx(e,t,r){r=an(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mc||(mc=!0,Ef=n),vf(e,t)},r}function e0(e,t,r){r=an(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){vf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){vf(e,t),typeof n!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function cg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ik;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Qk.bind(null,e,t,r),t.then(e,e))}function ug(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=an(-1,1),t.tag=2,qn(r,t,1))),r.lanes|=1),e)}var Dk=pn.ReactCurrentOwner,Ut=!1;function Et(e,t,r,n){t.child=e===null?Px(t,null,r,n):Zo(t,e.child,r,n)}function fg(e,t,r,n,s){r=r.render;var o=t.ref;return Po(t,s),n=Zh(e,t,r,n,o,s),r=ep(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dn(e,t,s)):(Ue&&r&&zh(t),t.flags|=1,Et(e,t,n,s),t.child)}function hg(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!up(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,t0(e,t,o,n,s)):(e=zl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:ha,r(i,n)&&e.ref===t.ref)return dn(e,t,s)}return t.flags|=1,e=Qn(o,n),e.ref=t.ref,e.return=t,t.child=e}function t0(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(ha(o,n)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,dn(e,t,s)}return yf(e,t,r,n,s)}function r0(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(jo,Gt),Gt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(jo,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Oe(jo,Gt),Gt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Oe(jo,Gt),Gt|=n;return Et(e,t,s,r),t.child}function n0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yf(e,t,r,n,s){var o=Bt(r)?Ms:xt.current;return o=Xo(t,o),Po(t,s),r=Zh(e,t,r,n,o,s),n=ep(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dn(e,t,s)):(Ue&&n&&zh(t),t.flags|=1,Et(e,t,r,s),t.child)}function pg(e,t,r,n,s){if(Bt(r)){var o=!0;oc(t)}else o=!1;if(Po(t,s),t.stateNode===null)Fl(e,t),Jx(t,r,n),gf(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Bt(r)?Ms:xt.current,u=Xo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&lg(t,i,n,u),kn=!1;var h=t.memoizedState;i.state=h,uc(t,n,i,s),c=t.memoizedState,l!==n||h!==c||zt.current||kn?(typeof d=="function"&&(mf(t,r,d,n),c=t.memoizedState),(l=kn||ag(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Rx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:yr(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=hr(c):(c=Bt(r)?Ms:xt.current,c=Xo(t,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&lg(t,i,n,c),kn=!1,h=t.memoizedState,i.state=h,uc(t,n,i,s);var x=t.memoizedState;l!==f||h!==x||zt.current||kn?(typeof v=="function"&&(mf(t,r,v,n),x=t.memoizedState),(u=kn||ag(t,r,u,n,h,x,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return xf(e,t,r,n,o,s)}function xf(e,t,r,n,s,o){n0(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Zm(t,r,!1),dn(e,t,o);n=t.stateNode,Dk.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,l,o)):Et(e,t,l,o),t.memoizedState=n.state,s&&Zm(t,r,!0),t.child}function s0(e){var t=e.stateNode;t.pendingContext?Jm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jm(e,t.context,!1),Qh(e,t.containerInfo)}function mg(e,t,r,n,s){return Jo(),Vh(s),t.flags|=256,Et(e,t,r,n),t.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function bf(e){return{baseLanes:e,cachePool:null,transitions:null}}function o0(e,t,r){var n=t.pendingProps,s=ze.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Oe(ze,s&1),e===null)return hf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Yc(i,n,0,null),e=Os(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=bf(r),t.memoizedState=wf,e):np(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Lk(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Qn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Qn(l,o):(o=Os(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?bf(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=wf,n}return o=e.child,e=o.sibling,n=Qn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function np(e,t){return t=Yc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hl(e,t,r,n){return n!==null&&Vh(n),Zo(t,e.child,null,r),e=np(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lk(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=ld(Error(L(422))),hl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Yc({mode:"visible",children:n.children},s,0,null),o=Os(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Zo(t,e.child,null,i),t.child.memoizedState=bf(i),t.memoizedState=wf,o);if(!(t.mode&1))return hl(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(L(419)),n=ld(o,n,void 0),hl(e,t,i,n)}if(l=(i&e.childLanes)!==0,Ut||l){if(n=it,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,un(e,s),Nr(n,e,s,-1))}return cp(),n=ld(Error(L(421))),hl(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Yk.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Xt=Hn(s.nextSibling),Jt=t,Ue=!0,Sr=null,e!==null&&(ir[ar++]=nn,ir[ar++]=sn,ir[ar++]=Is,nn=e.id,sn=e.overflow,Is=t),t=np(t,n.children),t.flags|=4096,t)}function gg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),pf(e.return,t,r)}function cd(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function i0(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Et(e,t,n.children,r),n=ze.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gg(e,r,t);else if(e.tag===19)gg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(ze,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&dc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),cd(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&dc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}cd(t,!0,r,null,o);break;case"together":cd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ls|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Qn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Fk(e,t,r){switch(t.tag){case 3:s0(t),Jo();break;case 5:Ax(t);break;case 1:Bt(t.type)&&oc(t);break;case 4:Qh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Oe(lc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(ze,ze.current&1),t.flags|=128,null):r&t.child.childLanes?o0(e,t,r):(Oe(ze,ze.current&1),e=dn(e,t,r),e!==null?e.sibling:null);Oe(ze,ze.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return i0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(ze,ze.current),n)break;return null;case 22:case 23:return t.lanes=0,r0(e,t,r)}return dn(e,t,r)}var a0,Sf,l0,c0;a0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sf=function(){};l0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ss(Gr.current);var o=null;switch(r){case"input":s=Vd(e,s),n=Vd(e,n),o=[];break;case"select":s=We({},s,{value:void 0}),n=We({},n,{value:void 0}),o=[];break;case"textarea":s=qd(e,s),n=qd(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nc)}Gd(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ia.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ia.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};c0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ei(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $k(e,t,r){var n=t.pendingProps;switch(Bh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Bt(t.type)&&sc(),gt(t),null;case 3:return n=t.stateNode,ei(),Fe(zt),Fe(xt),Xh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sr!==null&&(Tf(Sr),Sr=null))),Sf(e,t),gt(t),null;case 5:Yh(t);var s=Ss(ya.current);if(r=t.type,e!==null&&t.stateNode!=null)l0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return gt(t),null}if(e=Ss(Gr.current),dl(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Vr]=t,n[ga]=o,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(s=0;s<$i.length;s++)Le($i[s],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":km(n,o),Le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Le("invalid",n);break;case"textarea":Em(n,o),Le("invalid",n)}Gd(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&ul(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ul(n.textContent,l,e),s=["children",""+l]):ia.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Le("scroll",n)}switch(r){case"input":rl(n),Cm(n,o,!0);break;case"textarea":rl(n),Nm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=nc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ly(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Vr]=t,e[ga]=n,a0(e,t,!1,!1),t.stateNode=e;e:{switch(i=Qd(r,n),r){case"dialog":Le("cancel",e),Le("close",e),s=n;break;case"iframe":case"object":case"embed":Le("load",e),s=n;break;case"video":case"audio":for(s=0;s<$i.length;s++)Le($i[s],e);s=n;break;case"source":Le("error",e),s=n;break;case"img":case"image":case"link":Le("error",e),Le("load",e),s=n;break;case"details":Le("toggle",e),s=n;break;case"input":km(e,n),s=Vd(e,n),Le("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=We({},n,{value:void 0}),Le("invalid",e);break;case"textarea":Em(e,n),s=qd(e,n),Le("invalid",e);break;default:s=n}Gd(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Uy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Fy(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&aa(e,c):typeof c=="number"&&aa(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ia.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Le("scroll",e):c!=null&&Eh(e,o,c,i))}switch(r){case"input":rl(e),Cm(e,n,!1);break;case"textarea":rl(e),Nm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ko(e,!!n.multiple,o,!1):n.defaultValue!=null&&ko(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=nc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)c0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Ss(ya.current),Ss(Gr.current),dl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Vr]=t,(o=n.nodeValue!==r)&&(e=Jt,e!==null))switch(e.tag){case 3:ul(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ul(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vr]=t,t.stateNode=n}return gt(t),null;case 13:if(Fe(ze),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Xt!==null&&t.mode&1&&!(t.flags&128))Ex(),Jo(),t.flags|=98560,o=!1;else if(o=dl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Vr]=t}else Jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),o=!1}else Sr!==null&&(Tf(Sr),Sr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?tt===0&&(tt=3):cp())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return ei(),Sf(e,t),e===null&&pa(t.stateNode.containerInfo),gt(t),null;case 10:return qh(t.type._context),gt(t),null;case 17:return Bt(t.type)&&sc(),gt(t),null;case 19:if(Fe(ze),o=t.memoizedState,o===null)return gt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Ei(o,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=dc(e),i!==null){for(t.flags|=128,Ei(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(ze,ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&Qe()>ri&&(t.flags|=128,n=!0,Ei(o,!1),t.lanes=4194304)}else{if(!n)if(e=dc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ei(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ue)return gt(t),null}else 2*Qe()-o.renderingStartTime>ri&&r!==1073741824&&(t.flags|=128,n=!0,Ei(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,r=ze.current,Oe(ze,n?r&1|2:r&1),t):(gt(t),null);case 22:case 23:return lp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gt&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Uk(e,t){switch(Bh(t),t.tag){case 1:return Bt(t.type)&&sc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(),Fe(zt),Fe(xt),Xh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yh(t),null;case 13:if(Fe(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(ze),null;case 4:return ei(),null;case 10:return qh(t.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var pl=!1,yt=!1,zk=typeof WeakSet=="function"?WeakSet:Set,q=null;function _o(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){qe(e,t,n)}else r.current=null}function _f(e,t,r){try{r()}catch(n){qe(e,t,n)}}var vg=!1;function Bk(e,t){if(of=ec,e=px(),Uh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===o&&++d===n&&(c=i),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(af={focusedElem:e,selectionRange:r},ec=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:yr(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){qe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return x=vg,vg=!1,x}function Yi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&_f(t,r,o)}s=s.next}while(s!==n)}}function Gc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function u0(e){var t=e.alternate;t!==null&&(e.alternate=null,u0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vr],delete t[ga],delete t[uf],delete t[jk],delete t[kk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function d0(e){return e.tag===5||e.tag===3||e.tag===4}function yg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nc));else if(n!==4&&(e=e.child,e!==null))for(kf(e,t,r),e=e.sibling;e!==null;)kf(e,t,r),e=e.sibling}function Cf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Cf(e,t,r),e=e.sibling;e!==null;)Cf(e,t,r),e=e.sibling}var ct=null,wr=!1;function gn(e,t,r){for(r=r.child;r!==null;)f0(e,t,r),r=r.sibling}function f0(e,t,r){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Uc,r)}catch{}switch(r.tag){case 5:yt||_o(r,t);case 6:var n=ct,s=wr;ct=null,gn(e,t,r),ct=n,wr=s,ct!==null&&(wr?(e=ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ct.removeChild(r.stateNode));break;case 18:ct!==null&&(wr?(e=ct,r=r.stateNode,e.nodeType===8?rd(e.parentNode,r):e.nodeType===1&&rd(e,r),da(e)):rd(ct,r.stateNode));break;case 4:n=ct,s=wr,ct=r.stateNode.containerInfo,wr=!0,gn(e,t,r),ct=n,wr=s;break;case 0:case 11:case 14:case 15:if(!yt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&_f(r,t,i),s=s.next}while(s!==n)}gn(e,t,r);break;case 1:if(!yt&&(_o(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){qe(r,t,l)}gn(e,t,r);break;case 21:gn(e,t,r);break;case 22:r.mode&1?(yt=(n=yt)||r.memoizedState!==null,gn(e,t,r),yt=n):gn(e,t,r);break;default:gn(e,t,r)}}function xg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zk),t.forEach(function(n){var s=Xk.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function gr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,wr=!1;break e;case 3:ct=l.stateNode.containerInfo,wr=!0;break e;case 4:ct=l.stateNode.containerInfo,wr=!0;break e}l=l.return}if(ct===null)throw Error(L(160));f0(o,i,s),ct=null,wr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){qe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h0(t,e),t=t.sibling}function h0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gr(t,e),Mr(e),n&4){try{Yi(3,e,e.return),Gc(3,e)}catch(g){qe(e,e.return,g)}try{Yi(5,e,e.return)}catch(g){qe(e,e.return,g)}}break;case 1:gr(t,e),Mr(e),n&512&&r!==null&&_o(r,r.return);break;case 5:if(gr(t,e),Mr(e),n&512&&r!==null&&_o(r,r.return),e.flags&32){var s=e.stateNode;try{aa(s,"")}catch(g){qe(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Iy(s,o),Qd(l,i);var u=Qd(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Uy(s,f):d==="dangerouslySetInnerHTML"?Fy(s,f):d==="children"?aa(s,f):Eh(s,d,f,u)}switch(l){case"input":Wd(s,o);break;case"textarea":Dy(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?ko(s,!!o.multiple,v,!1):h!==!!o.multiple&&(o.defaultValue!=null?ko(s,!!o.multiple,o.defaultValue,!0):ko(s,!!o.multiple,o.multiple?[]:"",!1))}s[ga]=o}catch(g){qe(e,e.return,g)}}break;case 6:if(gr(t,e),Mr(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){qe(e,e.return,g)}}break;case 3:if(gr(t,e),Mr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{da(t.containerInfo)}catch(g){qe(e,e.return,g)}break;case 4:gr(t,e),Mr(e);break;case 13:gr(t,e),Mr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(ip=Qe())),n&4&&xg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(yt=(u=yt)||d,gr(t,e),yt=u):gr(t,e),Mr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(q=e,d=e.child;d!==null;){for(f=q=d;q!==null;){switch(h=q,v=h.child,h.tag){case 0:case 11:case 14:case 15:Yi(4,h,h.return);break;case 1:_o(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){qe(n,r,g)}}break;case 5:_o(h,h.return);break;case 22:if(h.memoizedState!==null){bg(f);continue}}v!==null?(v.return=h,q=v):bg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$y("display",i))}catch(g){qe(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){qe(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gr(t,e),Mr(e),n&4&&xg(e);break;case 21:break;default:gr(t,e),Mr(e)}}function Mr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(d0(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(aa(s,""),n.flags&=-33);var o=yg(e);Cf(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=yg(e);kf(e,l,i);break;default:throw Error(L(161))}}catch(c){qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vk(e,t,r){q=e,p0(e)}function p0(e,t,r){for(var n=(e.mode&1)!==0;q!==null;){var s=q,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||pl;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||yt;l=pl;var u=yt;if(pl=i,(yt=c)&&!u)for(q=s;q!==null;)i=q,c=i.child,i.tag===22&&i.memoizedState!==null?Sg(s):c!==null?(c.return=i,q=c):Sg(s);for(;o!==null;)q=o,p0(o),o=o.sibling;q=s,pl=l,yt=u}wg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,q=o):wg(e)}}function wg(e){for(;q!==null;){var t=q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||Gc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!yt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:yr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&sg(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sg(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&da(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}yt||t.flags&512&&jf(t)}catch(h){qe(t,t.return,h)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function bg(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function Sg(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gc(4,t)}catch(c){qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){qe(t,s,c)}}var o=t.return;try{jf(t)}catch(c){qe(t,o,c)}break;case 5:var i=t.return;try{jf(t)}catch(c){qe(t,i,c)}}}catch(c){qe(t,t.return,c)}if(t===e){q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,q=l;break}q=t.return}}var Wk=Math.ceil,pc=pn.ReactCurrentDispatcher,sp=pn.ReactCurrentOwner,ur=pn.ReactCurrentBatchConfig,ge=0,it=null,Je=null,dt=0,Gt=0,jo=is(0),tt=0,Sa=null,Ls=0,Qc=0,op=0,Xi=null,Ft=null,ip=0,ri=1/0,en=null,mc=!1,Ef=null,Kn=null,ml=!1,$n=null,gc=0,Ji=0,Nf=null,$l=-1,Ul=0;function Pt(){return ge&6?Qe():$l!==-1?$l:$l=Qe()}function Gn(e){return e.mode&1?ge&2&&dt!==0?dt&-dt:Ek.transition!==null?(Ul===0&&(Ul=Jy()),Ul):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:ox(e.type)),e):1}function Nr(e,t,r,n){if(50<Ji)throw Ji=0,Nf=null,Error(L(185));Ua(e,r,n),(!(ge&2)||e!==it)&&(e===it&&(!(ge&2)&&(Qc|=r),tt===4&&Nn(e,dt)),Vt(e,n),r===1&&ge===0&&!(t.mode&1)&&(ri=Qe()+500,Hc&&as()))}function Vt(e,t){var r=e.callbackNode;Ej(e,t);var n=Zl(e,e===it?dt:0);if(n===0)r!==null&&Rm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Rm(r),t===1)e.tag===0?Ck(_g.bind(null,e)):jx(_g.bind(null,e)),Sk(function(){!(ge&6)&&as()}),r=null;else{switch(Zy(n)){case 1:r=Ah;break;case 4:r=Yy;break;case 16:r=Jl;break;case 536870912:r=Xy;break;default:r=Jl}r=S0(r,m0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function m0(e,t){if($l=-1,Ul=0,ge&6)throw Error(L(327));var r=e.callbackNode;if(To()&&e.callbackNode!==r)return null;var n=Zl(e,e===it?dt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=vc(e,n);else{t=n;var s=ge;ge|=2;var o=v0();(it!==e||dt!==t)&&(en=null,ri=Qe()+500,As(e,t));do try{Kk();break}catch(l){g0(e,l)}while(!0);Hh(),pc.current=o,ge=s,Je!==null?t=0:(it=null,dt=0,t=tt)}if(t!==0){if(t===2&&(s=ef(e),s!==0&&(n=s,t=Pf(e,s))),t===1)throw r=Sa,As(e,0),Nn(e,n),Vt(e,Qe()),r;if(t===6)Nn(e,n);else{if(s=e.current.alternate,!(n&30)&&!Hk(s)&&(t=vc(e,n),t===2&&(o=ef(e),o!==0&&(n=o,t=Pf(e,o))),t===1))throw r=Sa,As(e,0),Nn(e,n),Vt(e,Qe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:gs(e,Ft,en);break;case 3:if(Nn(e,n),(n&130023424)===n&&(t=ip+500-Qe(),10<t)){if(Zl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Pt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=cf(gs.bind(null,e,Ft,en),t);break}gs(e,Ft,en);break;case 4:if(Nn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Er(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Wk(n/1960))-n,10<n){e.timeoutHandle=cf(gs.bind(null,e,Ft,en),n);break}gs(e,Ft,en);break;case 5:gs(e,Ft,en);break;default:throw Error(L(329))}}}return Vt(e,Qe()),e.callbackNode===r?m0.bind(null,e):null}function Pf(e,t){var r=Xi;return e.current.memoizedState.isDehydrated&&(As(e,t).flags|=256),e=vc(e,t),e!==2&&(t=Ft,Ft=r,t!==null&&Tf(t)),e}function Tf(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function Hk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Rr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nn(e,t){for(t&=~op,t&=~Qc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Er(t),n=1<<r;e[r]=-1,t&=~n}}function _g(e){if(ge&6)throw Error(L(327));To();var t=Zl(e,0);if(!(t&1))return Vt(e,Qe()),null;var r=vc(e,t);if(e.tag!==0&&r===2){var n=ef(e);n!==0&&(t=n,r=Pf(e,n))}if(r===1)throw r=Sa,As(e,0),Nn(e,t),Vt(e,Qe()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gs(e,Ft,en),Vt(e,Qe()),null}function ap(e,t){var r=ge;ge|=1;try{return e(t)}finally{ge=r,ge===0&&(ri=Qe()+500,Hc&&as())}}function Fs(e){$n!==null&&$n.tag===0&&!(ge&6)&&To();var t=ge;ge|=1;var r=ur.transition,n=Ee;try{if(ur.transition=null,Ee=1,e)return e()}finally{Ee=n,ur.transition=r,ge=t,!(ge&6)&&as()}}function lp(){Gt=jo.current,Fe(jo)}function As(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bk(r)),Je!==null)for(r=Je.return;r!==null;){var n=r;switch(Bh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sc();break;case 3:ei(),Fe(zt),Fe(xt),Xh();break;case 5:Yh(n);break;case 4:ei();break;case 13:Fe(ze);break;case 19:Fe(ze);break;case 10:qh(n.type._context);break;case 22:case 23:lp()}r=r.return}if(it=e,Je=e=Qn(e.current,null),dt=Gt=t,tt=0,Sa=null,op=Qc=Ls=0,Ft=Xi=null,bs!==null){for(t=0;t<bs.length;t++)if(r=bs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}bs=null}return e}function g0(e,t){do{var r=Je;try{if(Hh(),Dl.current=hc,fc){for(var n=Ve.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}fc=!1}if(Ds=0,ot=et=Ve=null,Qi=!1,xa=0,sp.current=null,r===null||r.return===null){tt=1,Sa=t,Je=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=dt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=ug(i);if(v!==null){v.flags&=-257,dg(v,i,l,o,t),v.mode&1&&cg(o,u,t),t=v,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){cg(o,u,t),cp();break e}c=Error(L(426))}}else if(Ue&&l.mode&1){var w=ug(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),dg(w,i,l,o,t),Vh(ti(c,l));break e}}o=c=ti(c,l),tt!==4&&(tt=2),Xi===null?Xi=[o]:Xi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Zx(o,c,t);ng(o,y);break e;case 1:l=c;var m=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Kn===null||!Kn.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=e0(o,l,t);ng(o,S);break e}}o=o.return}while(o!==null)}x0(r)}catch(_){t=_,Je===r&&r!==null&&(Je=r=r.return);continue}break}while(!0)}function v0(){var e=pc.current;return pc.current=hc,e===null?hc:e}function cp(){(tt===0||tt===3||tt===2)&&(tt=4),it===null||!(Ls&268435455)&&!(Qc&268435455)||Nn(it,dt)}function vc(e,t){var r=ge;ge|=2;var n=v0();(it!==e||dt!==t)&&(en=null,As(e,t));do try{qk();break}catch(s){g0(e,s)}while(!0);if(Hh(),ge=r,pc.current=n,Je!==null)throw Error(L(261));return it=null,dt=0,tt}function qk(){for(;Je!==null;)y0(Je)}function Kk(){for(;Je!==null&&!yj();)y0(Je)}function y0(e){var t=b0(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?x0(e):Je=t,sp.current=null}function x0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Uk(r,t),r!==null){r.flags&=32767,Je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Je=null;return}}else if(r=$k(r,t,Gt),r!==null){Je=r;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);tt===0&&(tt=5)}function gs(e,t,r){var n=Ee,s=ur.transition;try{ur.transition=null,Ee=1,Gk(e,t,r,n)}finally{ur.transition=s,Ee=n}return null}function Gk(e,t,r,n){do To();while($n!==null);if(ge&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Nj(e,o),e===it&&(Je=it=null,dt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ml||(ml=!0,S0(Jl,function(){return To(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ur.transition,ur.transition=null;var i=Ee;Ee=1;var l=ge;ge|=4,sp.current=null,Bk(e,r),h0(r,e),pk(af),ec=!!of,af=of=null,e.current=r,Vk(r),xj(),ge=l,Ee=i,ur.transition=o}else e.current=r;if(ml&&(ml=!1,$n=e,gc=s),o=e.pendingLanes,o===0&&(Kn=null),Sj(r.stateNode),Vt(e,Qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(mc)throw mc=!1,e=Ef,Ef=null,e;return gc&1&&e.tag!==0&&To(),o=e.pendingLanes,o&1?e===Nf?Ji++:(Ji=0,Nf=e):Ji=0,as(),null}function To(){if($n!==null){var e=Zy(gc),t=ur.transition,r=Ee;try{if(ur.transition=null,Ee=16>e?16:e,$n===null)var n=!1;else{if(e=$n,$n=null,gc=0,ge&6)throw Error(L(331));var s=ge;for(ge|=4,q=e.current;q!==null;){var o=q,i=o.child;if(q.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:Yi(8,d,o)}var f=d.child;if(f!==null)f.return=d,q=f;else for(;q!==null;){d=q;var h=d.sibling,v=d.return;if(u0(d),d===u){q=null;break}if(h!==null){h.return=v,q=h;break}q=v}}}var x=o.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}q=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,q=i;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Yi(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,q=y;break e}q=o.return}}var m=e.current;for(q=m;q!==null;){i=q;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,q=b;else e:for(i=m;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gc(9,l)}}catch(_){qe(l,l.return,_)}if(l===i){q=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,q=S;break e}q=l.return}}if(ge=s,as(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Uc,e)}catch{}n=!0}return n}finally{Ee=r,ur.transition=t}}return!1}function jg(e,t,r){t=ti(r,t),t=Zx(e,t,1),e=qn(e,t,1),t=Pt(),e!==null&&(Ua(e,1,t),Vt(e,t))}function qe(e,t,r){if(e.tag===3)jg(e,e,r);else for(;t!==null;){if(t.tag===3){jg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kn===null||!Kn.has(n))){e=ti(r,e),e=e0(t,e,1),t=qn(t,e,1),e=Pt(),t!==null&&(Ua(t,1,e),Vt(t,e));break}}t=t.return}}function Qk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&r,it===e&&(dt&r)===r&&(tt===4||tt===3&&(dt&130023424)===dt&&500>Qe()-ip?As(e,0):op|=r),Vt(e,t)}function w0(e,t){t===0&&(e.mode&1?(t=ol,ol<<=1,!(ol&130023424)&&(ol=4194304)):t=1);var r=Pt();e=un(e,t),e!==null&&(Ua(e,t,r),Vt(e,r))}function Yk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),w0(e,r)}function Xk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),w0(e,r)}var b0;b0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)Ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ut=!1,Fk(e,t,r);Ut=!!(e.flags&131072)}else Ut=!1,Ue&&t.flags&1048576&&kx(t,ac,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fl(e,t),e=t.pendingProps;var s=Xo(t,xt.current);Po(t,r),s=Zh(null,t,n,e,s,r);var o=ep();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(n)?(o=!0,oc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gh(t),s.updater=Kc,t.stateNode=s,s._reactInternals=t,gf(t,n,e,r),t=xf(null,t,n,!0,o,r)):(t.tag=0,Ue&&o&&zh(t),Et(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Zk(n),e=yr(n,e),s){case 0:t=yf(null,t,n,e,r);break e;case 1:t=pg(null,t,n,e,r);break e;case 11:t=fg(null,t,n,e,r);break e;case 14:t=hg(null,t,n,yr(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),yf(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),pg(e,t,n,s,r);case 3:e:{if(s0(t),e===null)throw Error(L(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Rx(e,t),uc(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ti(Error(L(423)),t),t=mg(e,t,n,r,s);break e}else if(n!==s){s=ti(Error(L(424)),t),t=mg(e,t,n,r,s);break e}else for(Xt=Hn(t.stateNode.containerInfo.firstChild),Jt=t,Ue=!0,Sr=null,r=Px(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jo(),n===s){t=dn(e,t,r);break e}Et(e,t,n,r)}t=t.child}return t;case 5:return Ax(t),e===null&&hf(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,lf(n,s)?i=null:o!==null&&lf(n,o)&&(t.flags|=32),n0(e,t),Et(e,t,i,r),t.child;case 6:return e===null&&hf(t),null;case 13:return o0(e,t,r);case 4:return Qh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zo(t,null,n,r):Et(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),fg(e,t,n,s,r);case 7:return Et(e,t,t.pendingProps,r),t.child;case 8:return Et(e,t,t.pendingProps.children,r),t.child;case 12:return Et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Oe(lc,n._currentValue),n._currentValue=i,o!==null)if(Rr(o.value,i)){if(o.children===s.children&&!zt.current){t=dn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=an(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),pf(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(L(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),pf(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Et(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Po(t,r),s=hr(s),n=n(s),t.flags|=1,Et(e,t,n,r),t.child;case 14:return n=t.type,s=yr(n,t.pendingProps),s=yr(n.type,s),hg(e,t,n,s,r);case 15:return t0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),Fl(e,t),t.tag=1,Bt(n)?(e=!0,oc(t)):e=!1,Po(t,r),Jx(t,n,s),gf(t,n,s,r),xf(null,t,n,!0,e,r);case 19:return i0(e,t,r);case 22:return r0(e,t,r)}throw Error(L(156,t.tag))};function S0(e,t){return Qy(e,t)}function Jk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,t,r,n){return new Jk(e,t,r,n)}function up(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return up(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ph)return 11;if(e===Th)return 14}return 2}function Qn(e,t){var r=e.alternate;return r===null?(r=cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zl(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")up(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case po:return Os(r.children,s,o,t);case Nh:i=8,s|=8;break;case $d:return e=cr(12,r,t,s|2),e.elementType=$d,e.lanes=o,e;case Ud:return e=cr(13,r,t,s),e.elementType=Ud,e.lanes=o,e;case zd:return e=cr(19,r,t,s),e.elementType=zd,e.lanes=o,e;case Ay:return Yc(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ty:i=10;break e;case Ry:i=9;break e;case Ph:i=11;break e;case Th:i=14;break e;case jn:i=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=cr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Os(e,t,r,n){return e=cr(7,e,n,t),e.lanes=r,e}function Yc(e,t,r,n){return e=cr(22,e,n,t),e.elementType=Ay,e.lanes=r,e.stateNode={isHidden:!1},e}function ud(e,t,r){return e=cr(6,e,null,t),e.lanes=r,e}function dd(e,t,r){return t=cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eC(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dp(e,t,r,n,s,o,i,l,c){return e=new eC(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=cr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gh(o),e}function tC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _0(e){if(!e)return Jn;e=e._reactInternals;e:{if(Ws(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(Bt(r))return _x(e,r,t)}return t}function j0(e,t,r,n,s,o,i,l,c){return e=dp(r,n,!0,e,s,o,i,l,c),e.context=_0(null),r=e.current,n=Pt(),s=Gn(r),o=an(n,s),o.callback=t??null,qn(r,o,s),e.current.lanes=s,Ua(e,s,n),Vt(e,n),e}function Xc(e,t,r,n){var s=t.current,o=Pt(),i=Gn(s);return r=_0(r),t.context===null?t.context=r:t.pendingContext=r,t=an(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qn(s,t,i),e!==null&&(Nr(e,s,i,o),Il(e,s,i)),i}function yc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fp(e,t){kg(e,t),(e=e.alternate)&&kg(e,t)}function rC(){return null}var k0=typeof reportError=="function"?reportError:function(e){console.error(e)};function hp(e){this._internalRoot=e}Jc.prototype.render=hp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Xc(e,t,null,null)};Jc.prototype.unmount=hp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fs(function(){Xc(null,e,null,null)}),t[cn]=null}};function Jc(e){this._internalRoot=e}Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=rx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<En.length&&t!==0&&t<En[r].priority;r++);En.splice(r,0,e),r===0&&sx(e)}};function pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cg(){}function nC(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=yc(i);o.call(u)}}var i=j0(t,n,e,0,null,!1,!1,"",Cg);return e._reactRootContainer=i,e[cn]=i.current,pa(e.nodeType===8?e.parentNode:e),Fs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=yc(c);l.call(u)}}var c=dp(e,0,!1,null,null,!1,!1,"",Cg);return e._reactRootContainer=c,e[cn]=c.current,pa(e.nodeType===8?e.parentNode:e),Fs(function(){Xc(t,c,r,n)}),c}function eu(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=yc(i);l.call(c)}}Xc(t,i,e,s)}else i=nC(r,t,e,s,n);return yc(i)}ex=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Fi(t.pendingLanes);r!==0&&(Oh(t,r|1),Vt(t,Qe()),!(ge&6)&&(ri=Qe()+500,as()))}break;case 13:Fs(function(){var n=un(e,1);if(n!==null){var s=Pt();Nr(n,e,1,s)}}),fp(e,1)}};Mh=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var r=Pt();Nr(t,e,134217728,r)}fp(e,134217728)}};tx=function(e){if(e.tag===13){var t=Gn(e),r=un(e,t);if(r!==null){var n=Pt();Nr(r,e,t,n)}fp(e,t)}};rx=function(){return Ee};nx=function(e,t){var r=Ee;try{return Ee=e,t()}finally{Ee=r}};Xd=function(e,t,r){switch(t){case"input":if(Wd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Wc(n);if(!s)throw Error(L(90));My(n),Wd(n,s)}}}break;case"textarea":Dy(e,r);break;case"select":t=r.value,t!=null&&ko(e,!!r.multiple,t,!1)}};Vy=ap;Wy=Fs;var sC={usingClientEntryPoint:!1,Events:[Ba,yo,Wc,zy,By,ap]},Ni={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oC={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ky(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||rC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{Uc=gl.inject(oC),Kr=gl}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sC;tr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pp(t))throw Error(L(200));return tC(e,t,null,r)};tr.createRoot=function(e,t){if(!pp(e))throw Error(L(299));var r=!1,n="",s=k0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=dp(e,1,!1,null,null,r,!1,n,s),e[cn]=t.current,pa(e.nodeType===8?e.parentNode:e),new hp(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Ky(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return Fs(e)};tr.hydrate=function(e,t,r){if(!Zc(t))throw Error(L(200));return eu(null,e,t,!0,r)};tr.hydrateRoot=function(e,t,r){if(!pp(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=k0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=j0(t,null,e,1,r??null,s,!1,o,i),e[cn]=t.current,pa(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Jc(t)};tr.render=function(e,t,r){if(!Zc(t))throw Error(L(200));return eu(null,e,t,!1,r)};tr.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(L(40));return e._reactRootContainer?(Fs(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0):!1};tr.unstable_batchedUpdates=ap;tr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zc(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return eu(e,t,r,!1,n)};tr.version="18.3.1-next-f1338f8080-20240426";function C0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C0)}catch(e){console.error(e)}}C0(),Cy.exports=tr;var Hs=Cy.exports;const iC=hy(Hs);var E0,Eg=Hs;E0=Eg.createRoot,Eg.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(this,arguments)}var Un;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Un||(Un={}));const Ng="popstate";function aC(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return Rf("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:xc(s)}return cC(t,r,null,e)}function Ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function N0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lC(){return Math.random().toString(36).substr(2,8)}function Pg(e,t){return{usr:e.state,key:e.key,idx:t}}function Rf(e,t,r,n){return r===void 0&&(r=null),_a({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fi(t):t,{state:r,key:t&&t.key||n||lC()})}function xc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cC(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=Un.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(_a({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Un.Pop;let w=d(),y=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:y})}function h(w,y){l=Un.Push;let m=Rf(g.location,w,y);u=d()+1;let b=Pg(m,u),S=g.createHref(m);try{i.pushState(b,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}o&&c&&c({action:l,location:g.location,delta:1})}function v(w,y){l=Un.Replace;let m=Rf(g.location,w,y);u=d();let b=Pg(m,u),S=g.createHref(m);i.replaceState(b,"",S),o&&c&&c({action:l,location:g.location,delta:0})}function x(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:xc(w);return m=m.replace(/ $/,"%20"),Ye(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ng,f),c=w,()=>{s.removeEventListener(Ng,f),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:v,go(w){return i.go(w)}};return g}var Tg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tg||(Tg={}));function uC(e,t,r){return r===void 0&&(r="/"),dC(e,t,r,!1)}function dC(e,t,r,n){let s=typeof t=="string"?fi(t):t,o=mp(s.pathname||"/",r);if(o==null)return null;let i=P0(e);fC(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=_C(o);l=bC(i[c],u,n)}return l}function P0(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ye(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Yn([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Ye(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),P0(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:xC(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of T0(o.path))s(o,i,c)}),t}function T0(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=T0(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function fC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:wC(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hC=/^:[\w-]+$/,pC=3,mC=2,gC=1,vC=10,yC=-2,Rg=e=>e==="*";function xC(e,t){let r=e.split("/"),n=r.length;return r.some(Rg)&&(n+=yC),t&&(n+=mC),r.filter(s=>!Rg(s)).reduce((s,o)=>s+(hC.test(o)?pC:o===""?gC:vC),n)}function wC(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function bC(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Ag({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Ag({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Yn([o,f.pathname]),pathnameBase:EC(Yn([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Yn([o,f.pathnameBase]))}return i}function Ag(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=SC(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let g=l[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return v&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function SC(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),N0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function _C(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return N0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function jC(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?fi(e):e;return{pathname:r?r.startsWith("/")?r:kC(r,t):t,search:NC(n),hash:PC(s)}}function kC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function fd(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gp(e,t){let r=CC(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function vp(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=fi(e):(s=_a({},e),Ye(!s.pathname||!s.pathname.includes("?"),fd("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),fd("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),fd("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=jC(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Yn=e=>e.join("/").replace(/\/\/+/g,"/"),EC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,PC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const R0=["post","put","patch","delete"];new Set(R0);const RC=["get",...R0];new Set(RC);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ja.apply(this,arguments)}const yp=p.createContext(null),AC=p.createContext(null),ls=p.createContext(null),tu=p.createContext(null),cs=p.createContext({outlet:null,matches:[],isDataRoute:!1}),A0=p.createContext(null);function OC(e,t){let{relative:r}=t===void 0?{}:t;hi()||Ye(!1);let{basename:n,navigator:s}=p.useContext(ls),{hash:o,pathname:i,search:l}=M0(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Yn([n,i])),s.createHref({pathname:c,search:l,hash:o})}function hi(){return p.useContext(tu)!=null}function mn(){return hi()||Ye(!1),p.useContext(tu).location}function O0(e){p.useContext(ls).static||p.useLayoutEffect(e)}function qs(){let{isDataRoute:e}=p.useContext(cs);return e?qC():MC()}function MC(){hi()||Ye(!1);let e=p.useContext(yp),{basename:t,future:r,navigator:n}=p.useContext(ls),{matches:s}=p.useContext(cs),{pathname:o}=mn(),i=JSON.stringify(gp(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return O0(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=vp(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Yn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function M0(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(ls),{matches:s}=p.useContext(cs),{pathname:o}=mn(),i=JSON.stringify(gp(s,n.v7_relativeSplatPath));return p.useMemo(()=>vp(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function IC(e,t){return DC(e,t)}function DC(e,t,r,n){hi()||Ye(!1);let{navigator:s}=p.useContext(ls),{matches:o}=p.useContext(cs),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=mn(),d;if(t){var f;let w=typeof t=="string"?fi(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Ye(!1),d=w}else d=u;let h=d.pathname||"/",v=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=uC(e,{pathname:v}),g=zC(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Yn([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Yn([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&g?p.createElement(tu.Provider,{value:{location:ja({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Un.Pop}},g):g}function LC(){let e=HC(),t=TC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const FC=p.createElement(LC,null);class $C extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(cs.Provider,{value:this.props.routeContext},p.createElement(A0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UC(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(yp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(cs.Provider,{value:t},n)}function zC(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ye(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:v}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let v,x=!1,g=null,w=null;r&&(v=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||FC,c&&(u<0&&h===0?(x=!0,w=null):u===h&&(x=!0,w=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),m=()=>{let b;return v?b=g:x?b=w:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,p.createElement(UC,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement($C,{location:r.location,revalidation:r.revalidation,component:g,error:v,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var I0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(I0||{}),wc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wc||{});function BC(e){let t=p.useContext(yp);return t||Ye(!1),t}function VC(e){let t=p.useContext(AC);return t||Ye(!1),t}function WC(e){let t=p.useContext(cs);return t||Ye(!1),t}function D0(e){let t=WC(),r=t.matches[t.matches.length-1];return r.route.id||Ye(!1),r.route.id}function HC(){var e;let t=p.useContext(A0),r=VC(wc.UseRouteError),n=D0(wc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qC(){let{router:e}=BC(I0.UseNavigateStable),t=D0(wc.UseNavigateStable),r=p.useRef(!1);return O0(()=>{r.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ja({fromRouteId:t},o)))},[e,t])}function Og(e){let{to:t,replace:r,state:n,relative:s}=e;hi()||Ye(!1);let{future:o,static:i}=p.useContext(ls),{matches:l}=p.useContext(cs),{pathname:c}=mn(),u=qs(),d=vp(t,gp(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Ht(e){Ye(!1)}function KC(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Un.Pop,navigator:o,static:i=!1,future:l}=e;hi()&&Ye(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:i,future:ja({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=fi(n));let{pathname:d="/",search:f="",hash:h="",state:v=null,key:x="default"}=n,g=p.useMemo(()=>{let w=mp(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:v,key:x},navigationType:s}},[c,d,f,h,v,x,s]);return g==null?null:p.createElement(ls.Provider,{value:u},p.createElement(tu.Provider,{children:r,value:g}))}function GC(e){let{children:t,location:r}=e;return IC(Af(t),r)}new Promise(()=>{});function Af(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let o=[...t,s];if(n.type===p.Fragment){r.push.apply(r,Af(n.props.children,o));return}n.type!==Ht&&Ye(!1),!n.props.index||!n.props.children||Ye(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Af(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of.apply(this,arguments)}function QC(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function YC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XC(e,t){return e.button===0&&(!t||t==="_self")&&!YC(e)}const JC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZC="6";try{window.__reactRouterVersion=ZC}catch{}const eE="startTransition",Mg=jy[eE];function tE(e){let{basename:t,children:r,future:n,window:s}=e,o=p.useRef();o.current==null&&(o.current=aC({window:s,v5Compat:!0}));let i=o.current,[l,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&Mg?Mg(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.createElement(KC,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const rE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=QC(t,JC),{basename:v}=p.useContext(ls),x,g=!1;if(typeof u=="string"&&nE.test(u)&&(x=u,rE))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=mp(S.pathname,v);S.origin===b.origin&&_!=null?u=_+S.search+S.hash:g=!0}catch{}let w=OC(u,{relative:s}),y=sE(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function m(b){n&&n(b),b.defaultPrevented||y(b)}return p.createElement("a",Of({},h,{href:x||w,onClick:g||o?n:m,ref:r,target:c}))});var Ig;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ig||(Ig={}));var Dg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dg||(Dg={}));function sE(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=qs(),u=mn(),d=M0(e,{relative:i});return p.useCallback(f=>{if(XC(f,r)){f.preventDefault();let h=n!==void 0?n:xc(u)===xc(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,o,i,l])}var Wa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$s=typeof window>"u"||"Deno"in globalThis;function sr(){}function oE(e,t){return typeof e=="function"?e(t):e}function Mf(e){return typeof e=="number"&&e>=0&&e!==1/0}function L0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ro(e,t){return typeof e=="function"?e(t):e}function _r(e,t){return typeof e=="function"?e(t):e}function Lg(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==xp(i,t.options))return!1}else if(!Ca(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function Fg(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(ka(t.options.mutationKey)!==ka(o))return!1}else if(!Ca(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function xp(e,t){return((t==null?void 0:t.queryKeyHashFn)||ka)(e)}function ka(e){return JSON.stringify(e,(t,r)=>Df(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ca(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Ca(e[r],t[r])):!1}function F0(e,t){if(e===t)return e;const r=$g(e)&&$g(t);if(r||Df(e)&&Df(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:o[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=F0(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function If(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function $g(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Df(e){if(!Ug(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ug(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ug(e){return Object.prototype.toString.call(e)==="[object Object]"}function iE(e){return new Promise(t=>{setTimeout(t,e)})}function Lf(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?F0(e,t):t}function aE(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function lE(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var wp=Symbol();function $0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ks,Rn,Lo,sy,cE=(sy=class extends Wa{constructor(){super();te(this,ks);te(this,Rn);te(this,Lo);K(this,Lo,t=>{if(!$s&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,Rn)||this.setEventListener(k(this,Lo))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Rn))==null||t.call(this),K(this,Rn,void 0))}setEventListener(t){var r;K(this,Lo,t),(r=k(this,Rn))==null||r.call(this),K(this,Rn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){k(this,ks)!==t&&(K(this,ks,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof k(this,ks)=="boolean"?k(this,ks):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ks=new WeakMap,Rn=new WeakMap,Lo=new WeakMap,sy),bp=new cE,Fo,An,$o,oy,uE=(oy=class extends Wa{constructor(){super();te(this,Fo,!0);te(this,An);te(this,$o);K(this,$o,t=>{if(!$s&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,An)||this.setEventListener(k(this,$o))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,An))==null||t.call(this),K(this,An,void 0))}setEventListener(t){var r;K(this,$o,t),(r=k(this,An))==null||r.call(this),K(this,An,t(this.setOnline.bind(this)))}setOnline(t){k(this,Fo)!==t&&(K(this,Fo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return k(this,Fo)}},Fo=new WeakMap,An=new WeakMap,$o=new WeakMap,oy),bc=new uE;function Ff(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function dE(e){return Math.min(1e3*2**e,3e4)}function U0(e){return(e??"online")==="online"?bc.isOnline():!0}var z0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function hd(e){return e instanceof z0}function B0(e){let t=!1,r=0,n=!1,s;const o=Ff(),i=g=>{var w;n||(h(new z0(g)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>bp.isFocused()&&(e.networkMode==="always"||bc.isOnline())&&e.canRun(),d=()=>U0(e.networkMode)&&e.canRun(),f=g=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),o.resolve(g))},h=g=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),o.reject(g))},v=()=>new Promise(g=>{var w;s=y=>{(n||u())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(n)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var N;if(n)return;const m=e.retry??($s?0:3),b=e.retryDelay??dE,S=typeof b=="function"?b(r,y):b,_=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,y);if(t||!_){h(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),iE(S).then(()=>u()?void 0:v()).then(()=>{t?h(y):x()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():v().then(x),o)}}function fE(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const o=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var ut=fE(),Cs,iy,V0=(iy=class{constructor(){te(this,Cs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mf(this.gcTime)&&K(this,Cs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($s?1/0:5*60*1e3))}clearGcTimeout(){k(this,Cs)&&(clearTimeout(k(this,Cs)),K(this,Cs,void 0))}},Cs=new WeakMap,iy),Uo,zo,nr,vt,Ia,Es,xr,Zr,ay,hE=(ay=class extends V0{constructor(t){super();te(this,xr);te(this,Uo);te(this,zo);te(this,nr);te(this,vt);te(this,Ia);te(this,Es);K(this,Es,!1),K(this,Ia,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,nr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,Uo,pE(this.options)),this.state=t.state??k(this,Uo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,vt))==null?void 0:t.promise}setOptions(t){this.options={...k(this,Ia),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,nr).remove(this)}setData(t,r){const n=Lf(this.state.data,t,this.options);return he(this,xr,Zr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){he(this,xr,Zr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=k(this,vt))==null?void 0:n.promise;return(s=k(this,vt))==null||s.cancel(t),r?r.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Uo))}isActive(){return this.observers.some(t=>_r(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!L0(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,vt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,vt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,nr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(k(this,vt)&&(k(this,Es)?k(this,vt).cancel({revert:!0}):k(this,vt).cancelRetry()),this.scheduleGc()),k(this,nr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||he(this,xr,Zr).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,vt))return k(this,vt).continueRetry(),k(this,vt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(K(this,Es,!0),n.signal)})},o=()=>{const f=$0(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),K(this,Es,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),K(this,zo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&he(this,xr,Zr).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,v,x,g;hd(f)&&f.silent||he(this,xr,Zr).call(this,{type:"error",error:f}),hd(f)||((v=(h=k(this,nr).config).onError)==null||v.call(h,f,this),(g=(x=k(this,nr).config).onSettled)==null||g.call(x,this.state.data,f,this)),this.scheduleGc()};return K(this,vt,B0({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,v,x,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(v=(h=k(this,nr).config).onSuccess)==null||v.call(h,f,this),(g=(x=k(this,nr).config).onSettled)==null||g.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{he(this,xr,Zr).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{he(this,xr,Zr).call(this,{type:"pause"})},onContinue:()=>{he(this,xr,Zr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),k(this,vt).start()}},Uo=new WeakMap,zo=new WeakMap,nr=new WeakMap,vt=new WeakMap,Ia=new WeakMap,Es=new WeakMap,xr=new WeakSet,Zr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...W0(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return hd(s)&&s.revert&&k(this,zo)?{...k(this,zo),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ut.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,nr).notify({query:this,type:"updated",action:t})})},ay);function W0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:U0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var $r,ly,mE=(ly=class extends Wa{constructor(t={}){super();te(this,$r);this.config=t,K(this,$r,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??xp(s,r);let i=this.get(o);return i||(i=new hE({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){k(this,$r).has(t.queryHash)||(k(this,$r).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=k(this,$r).get(t.queryHash);r&&(t.destroy(),r===t&&k(this,$r).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,$r).get(t)}getAll(){return[...k(this,$r).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Lg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Lg(t,n)):r}notify(t){ut.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ut.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ut.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$r=new WeakMap,ly),Ur,bt,Ns,zr,wn,cy,gE=(cy=class extends V0{constructor(t){super();te(this,zr);te(this,Ur);te(this,bt);te(this,Ns);this.mutationId=t.mutationId,K(this,bt,t.mutationCache),K(this,Ur,[]),this.state=t.state||vE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,Ur).includes(t)||(k(this,Ur).push(t),this.clearGcTimeout(),k(this,bt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,Ur,k(this,Ur).filter(r=>r!==t)),this.scheduleGc(),k(this,bt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,Ur).length||(this.state.status==="pending"?this.scheduleGc():k(this,bt).remove(this))}continue(){var t;return((t=k(this,Ns))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,l,c,u,d,f,h,v,x,g,w,y,m,b,S,_,N,C;K(this,Ns,B0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{he(this,zr,wn).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{he(this,zr,wn).call(this,{type:"pause"})},onContinue:()=>{he(this,zr,wn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,bt).canRun(this)}));const r=this.state.status==="pending",n=!k(this,Ns).canStart();try{if(!r){he(this,zr,wn).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(s=k(this,bt).config).onMutate)==null?void 0:o.call(s,t,this));const I=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));I!==this.state.context&&he(this,zr,wn).call(this,{type:"pending",context:I,variables:t,isPaused:n})}const P=await k(this,Ns).start();return await((u=(c=k(this,bt).config).onSuccess)==null?void 0:u.call(c,P,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,P,t,this.state.context)),await((v=(h=k(this,bt).config).onSettled)==null?void 0:v.call(h,P,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,P,null,t,this.state.context)),he(this,zr,wn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(w=k(this,bt).config).onError)==null?void 0:y.call(w,P,t,this.state.context,this)),await((b=(m=this.options).onError)==null?void 0:b.call(m,P,t,this.state.context)),await((_=(S=k(this,bt).config).onSettled)==null?void 0:_.call(S,void 0,P,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,P,t,this.state.context)),P}finally{he(this,zr,wn).call(this,{type:"error",error:P})}}finally{k(this,bt).runNext(this)}}},Ur=new WeakMap,bt=new WeakMap,Ns=new WeakMap,zr=new WeakSet,wn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ut.batch(()=>{k(this,Ur).forEach(n=>{n.onMutationUpdate(t)}),k(this,bt).notify({mutation:this,type:"updated",action:t})})},cy);function vE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kt,Da,uy,yE=(uy=class extends Wa{constructor(t={}){super();te(this,Kt);te(this,Da);this.config=t,K(this,Kt,new Map),K(this,Da,Date.now())}build(t,r,n){const s=new gE({mutationCache:this,mutationId:++Za(this,Da)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=vl(t),n=k(this,Kt).get(r)??[];n.push(t),k(this,Kt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=vl(t);if(k(this,Kt).has(r)){const s=(n=k(this,Kt).get(r))==null?void 0:n.filter(o=>o!==t);s&&(s.length===0?k(this,Kt).delete(r):k(this,Kt).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=k(this,Kt).get(vl(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=k(this,Kt).get(vl(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...k(this,Kt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Fg(r,n))}findAll(t={}){return this.getAll().filter(r=>Fg(t,r))}notify(t){ut.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ut.batch(()=>Promise.all(t.map(r=>r.continue().catch(sr))))}},Kt=new WeakMap,Da=new WeakMap,uy);function vl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function zg(e){return{onFetch:(t,r)=>{var d,f,h,v,x;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((v=t.state.data)==null?void 0:v.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=$0(t.options,t.fetchOptions),m=async(b,S,_)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const N={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};w(N);const C=await y(N),{maxPages:P}=t.options,I=_?lE:aE;return{pages:I(b.pages,C,P),pageParams:I(b.pageParams,S,P)}};if(s&&o.length){const b=s==="backward",S=b?xE:Bg,_={pages:o,pageParams:i},N=S(n,_);l=await m(_,N,b)}else{const b=e??o.length;do{const S=c===0?i[0]??n.initialPageParam:Bg(n,l);if(c>0&&S==null)break;l=await m(l,S),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Bg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function xE(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var He,On,Mn,Bo,Vo,In,Wo,Ho,dy,wE=(dy=class{constructor(e={}){te(this,He);te(this,On);te(this,Mn);te(this,Bo);te(this,Vo);te(this,In);te(this,Wo);te(this,Ho);K(this,He,e.queryCache||new mE),K(this,On,e.mutationCache||new yE),K(this,Mn,e.defaultOptions||{}),K(this,Bo,new Map),K(this,Vo,new Map),K(this,In,0)}mount(){Za(this,In)._++,k(this,In)===1&&(K(this,Wo,bp.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,He).onFocus())})),K(this,Ho,bc.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,He).onOnline())})))}unmount(){var e,t;Za(this,In)._--,k(this,In)===0&&((e=k(this,Wo))==null||e.call(this),K(this,Wo,void 0),(t=k(this,Ho))==null||t.call(this),K(this,Ho,void 0))}isFetching(e){return k(this,He).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return k(this,On).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,He).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=k(this,He).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Ro(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return k(this,He).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=k(this,He).get(n.queryHash),o=s==null?void 0:s.state.data,i=oE(t,o);if(i!==void 0)return k(this,He).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ut.batch(()=>k(this,He).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,He).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=k(this,He);ut.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=k(this,He),n={type:"active",...e};return ut.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ut.batch(()=>k(this,He).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(sr).catch(sr)}invalidateQueries(e={},t={}){return ut.batch(()=>{if(k(this,He).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ut.batch(()=>k(this,He).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(sr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(sr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=k(this,He).build(this,t);return r.isStaleByTime(Ro(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sr).catch(sr)}fetchInfiniteQuery(e){return e.behavior=zg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sr).catch(sr)}ensureInfiniteQueryData(e){return e.behavior=zg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bc.isOnline()?k(this,On).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,He)}getMutationCache(){return k(this,On)}getDefaultOptions(){return k(this,Mn)}setDefaultOptions(e){K(this,Mn,e)}setQueryDefaults(e,t){k(this,Bo).set(ka(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...k(this,Bo).values()];let r={};return t.forEach(n=>{Ca(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){k(this,Vo).set(ka(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...k(this,Vo).values()];let r={};return t.forEach(n=>{Ca(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...k(this,Mn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===wp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...k(this,Mn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){k(this,He).clear(),k(this,On).clear()}},He=new WeakMap,On=new WeakMap,Mn=new WeakMap,Bo=new WeakMap,Vo=new WeakMap,In=new WeakMap,Wo=new WeakMap,Ho=new WeakMap,dy),It,pe,La,St,Ps,qo,Dn,Br,Fa,Ko,Go,Ts,Rs,Ln,Qo,je,Ui,$f,Uf,zf,Bf,Vf,Wf,Hf,H0,fy,bE=(fy=class extends Wa{constructor(t,r){super();te(this,je);te(this,It);te(this,pe);te(this,La);te(this,St);te(this,Ps);te(this,qo);te(this,Dn);te(this,Br);te(this,Fa);te(this,Ko);te(this,Go);te(this,Ts);te(this,Rs);te(this,Ln);te(this,Qo,new Set);this.options=r,K(this,It,t),K(this,Br,null),K(this,Dn,Ff()),this.options.experimental_prefetchInRender||k(this,Dn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,pe).addObserver(this),Vg(k(this,pe),this.options)?he(this,je,Ui).call(this):this.updateResult(),he(this,je,Bf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qf(k(this,pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qf(k(this,pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,he(this,je,Vf).call(this),he(this,je,Wf).call(this),k(this,pe).removeObserver(this)}setOptions(t,r){const n=this.options,s=k(this,pe);if(this.options=k(this,It).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _r(this.options.enabled,k(this,pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");he(this,je,Hf).call(this),k(this,pe).setOptions(this.options),n._defaulted&&!If(this.options,n)&&k(this,It).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,pe),observer:this});const o=this.hasListeners();o&&Wg(k(this,pe),s,this.options,n)&&he(this,je,Ui).call(this),this.updateResult(r),o&&(k(this,pe)!==s||_r(this.options.enabled,k(this,pe))!==_r(n.enabled,k(this,pe))||Ro(this.options.staleTime,k(this,pe))!==Ro(n.staleTime,k(this,pe)))&&he(this,je,$f).call(this);const i=he(this,je,Uf).call(this);o&&(k(this,pe)!==s||_r(this.options.enabled,k(this,pe))!==_r(n.enabled,k(this,pe))||i!==k(this,Ln))&&he(this,je,zf).call(this,i)}getOptimisticResult(t){const r=k(this,It).getQueryCache().build(k(this,It),t),n=this.createResult(r,t);return _E(this,n)&&(K(this,St,n),K(this,qo,this.options),K(this,Ps,k(this,pe).state)),n}getCurrentResult(){return k(this,St)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){k(this,Qo).add(t)}getCurrentQuery(){return k(this,pe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=k(this,It).defaultQueryOptions(t),n=k(this,It).getQueryCache().build(k(this,It),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return he(this,je,Ui).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,St)))}createResult(t,r){var P;const n=k(this,pe),s=this.options,o=k(this,St),i=k(this,Ps),l=k(this,qo),u=t!==n?t.state:k(this,La),{state:d}=t;let f={...d},h=!1,v;if(r._optimisticResults){const I=this.hasListeners(),M=!I&&Vg(t,r),H=I&&Wg(t,n,r,s);(M||H)&&(f={...f,...W0(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:w}=f;if(r.select&&f.data!==void 0)if(o&&f.data===(i==null?void 0:i.data)&&r.select===k(this,Fa))v=k(this,Ko);else try{K(this,Fa,r.select),v=r.select(f.data),v=Lf(o==null?void 0:o.data,v,r),K(this,Ko,v),K(this,Br,null)}catch(I){K(this,Br,I)}else v=f.data;if(r.placeholderData!==void 0&&v===void 0&&w==="pending"){let I;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))I=o.data;else if(I=typeof r.placeholderData=="function"?r.placeholderData((P=k(this,Go))==null?void 0:P.state.data,k(this,Go)):r.placeholderData,r.select&&I!==void 0)try{I=r.select(I),K(this,Br,null)}catch(M){K(this,Br,M)}I!==void 0&&(w="success",v=Lf(o==null?void 0:o.data,I,r),h=!0)}k(this,Br)&&(x=k(this,Br),v=k(this,Ko),g=Date.now(),w="error");const y=f.fetchStatus==="fetching",m=w==="pending",b=w==="error",S=m&&y,_=v!==void 0,C={status:w,fetchStatus:f.fetchStatus,isPending:m,isSuccess:w==="success",isError:b,isInitialLoading:S,isLoading:S,data:v,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!m,isLoadingError:b&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&_,isStale:Sp(t,r),refetch:this.refetch,promise:k(this,Dn)};if(this.options.experimental_prefetchInRender){const I=O=>{C.status==="error"?O.reject(C.error):C.data!==void 0&&O.resolve(C.data)},M=()=>{const O=K(this,Dn,C.promise=Ff());I(O)},H=k(this,Dn);switch(H.status){case"pending":t.queryHash===n.queryHash&&I(H);break;case"fulfilled":(C.status==="error"||C.data!==H.value)&&M();break;case"rejected":(C.status!=="error"||C.error!==H.reason)&&M();break}}return C}updateResult(t){const r=k(this,St),n=this.createResult(k(this,pe),this.options);if(K(this,Ps,k(this,pe).state),K(this,qo,this.options),k(this,Ps).data!==void 0&&K(this,Go,k(this,pe)),If(n,r))return;K(this,St,n);const s={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!k(this,Qo).size)return!0;const c=new Set(l??k(this,Qo));return this.options.throwOnError&&c.add("error"),Object.keys(k(this,St)).some(u=>{const d=u;return k(this,St)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&o()&&(s.listeners=!0),he(this,je,H0).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&he(this,je,Bf).call(this)}},It=new WeakMap,pe=new WeakMap,La=new WeakMap,St=new WeakMap,Ps=new WeakMap,qo=new WeakMap,Dn=new WeakMap,Br=new WeakMap,Fa=new WeakMap,Ko=new WeakMap,Go=new WeakMap,Ts=new WeakMap,Rs=new WeakMap,Ln=new WeakMap,Qo=new WeakMap,je=new WeakSet,Ui=function(t){he(this,je,Hf).call(this);let r=k(this,pe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(sr)),r},$f=function(){he(this,je,Vf).call(this);const t=Ro(this.options.staleTime,k(this,pe));if($s||k(this,St).isStale||!Mf(t))return;const n=L0(k(this,St).dataUpdatedAt,t)+1;K(this,Ts,setTimeout(()=>{k(this,St).isStale||this.updateResult()},n))},Uf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,pe)):this.options.refetchInterval)??!1},zf=function(t){he(this,je,Wf).call(this),K(this,Ln,t),!($s||_r(this.options.enabled,k(this,pe))===!1||!Mf(k(this,Ln))||k(this,Ln)===0)&&K(this,Rs,setInterval(()=>{(this.options.refetchIntervalInBackground||bp.isFocused())&&he(this,je,Ui).call(this)},k(this,Ln)))},Bf=function(){he(this,je,$f).call(this),he(this,je,zf).call(this,he(this,je,Uf).call(this))},Vf=function(){k(this,Ts)&&(clearTimeout(k(this,Ts)),K(this,Ts,void 0))},Wf=function(){k(this,Rs)&&(clearInterval(k(this,Rs)),K(this,Rs,void 0))},Hf=function(){const t=k(this,It).getQueryCache().build(k(this,It),this.options);if(t===k(this,pe))return;const r=k(this,pe);K(this,pe,t),K(this,La,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},H0=function(t){ut.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(k(this,St))}),k(this,It).getQueryCache().notify({query:k(this,pe),type:"observerResultsUpdated"})})},fy);function SE(e,t){return _r(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Vg(e,t){return SE(e,t)||e.state.data!==void 0&&qf(e,t,t.refetchOnMount)}function qf(e,t,r){if(_r(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Sp(e,t)}return!1}function Wg(e,t,r,n){return(e!==t||_r(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Sp(e,r)}function Sp(e,t){return _r(t.enabled,e)!==!1&&e.isStaleByTime(Ro(t.staleTime,e))}function _E(e,t){return!If(e.getCurrentResult(),t)}var q0=p.createContext(void 0),jE=e=>{const t=p.useContext(q0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},kE=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(q0.Provider,{value:e,children:t})),K0=p.createContext(!1),CE=()=>p.useContext(K0);K0.Provider;function EE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var NE=p.createContext(EE()),PE=()=>p.useContext(NE);function TE(e,t){return typeof e=="function"?e(...t):!!e}function RE(){}var AE=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},OE=e=>{p.useEffect(()=>{e.clearReset()},[e])},ME=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&TE(r,[e.error,n]),IE=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},DE=(e,t)=>e.isLoading&&e.isFetching&&!t,LE=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Hg=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function FE(e,t,r){var d,f,h,v,x;const n=jE(),s=CE(),o=PE(),i=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=s?"isRestoring":"optimistic",IE(i),AE(i,o),OE(o);const l=!n.getQueryCache().get(i.queryHash),[c]=p.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(p.useSyncExternalStore(p.useCallback(g=>{const w=s?()=>{}:c.subscribe(ut.batchCalls(g));return c.updateResult(),w},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),LE(i,u))throw Hg(i,c,o);if(ME({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((v=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||v.call(h,i,u),i.experimental_prefetchInRender&&!$s&&DE(u,s)){const g=l?Hg(i,c,o):(x=n.getQueryCache().get(i.queryHash))==null?void 0:x.promise;g==null||g.catch(RE).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function _p(e,t){return FE(e,bE)}const $E={user:null,loading:!0,signOut:async()=>{}},G0=p.createContext($E),Ks=()=>p.useContext(G0),UE="modulepreload",zE=function(e){return"/stock2store/"+e},qg={},ni=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=zE(c),c in qg)return;qg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":UE,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},BE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ni(async()=>{const{default:n}=await Promise.resolve().then(()=>pi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class jp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class VE extends jp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class WE extends jp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class HE extends jp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kf||(Kf={}));var qE=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class KE{constructor(t,{headers:r={},customFetch:n,region:s=Kf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=BE(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return qE(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new VE(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new WE(d);if(!d.ok)throw new HE(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield d.json():h==="application/octet-stream"?v=yield d.blob():h==="text/event-stream"?v=d:h==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var $t={},kp={},ru={},Ha={},nu={},su={},GE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},si=GE();const QE=si.fetch,Q0=si.fetch.bind(si),Y0=si.Headers,YE=si.Request,XE=si.Response,pi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Y0,Request:YE,Response:XE,default:Q0,fetch:QE},Symbol.toStringTag,{value:"Module"})),JE=M_(pi);var ou={};Object.defineProperty(ou,"__esModule",{value:!0});let ZE=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ou.default=ZE;var X0=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(su,"__esModule",{value:!0});const eN=X0(JE),tN=X0(ou);let rN=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=eN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,h=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,v="OK")}catch{o.status===404&&g===""?(h=204,v="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,v="OK"),u&&this.shouldThrowOnError)throw new tN.default(u)}return{error:u,data:d,count:f,status:h,statusText:v}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};su.default=rN;var nN=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nu,"__esModule",{value:!0});const sN=nN(su);let oN=class extends sN.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};nu.default=oN;var iN=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ha,"__esModule",{value:!0});const aN=iN(nu);let lN=class extends aN.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ha.default=lN;var cN=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ru,"__esModule",{value:!0});const Pi=cN(Ha);let uN=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Pi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Pi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Pi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Pi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Pi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ru.default=uN;var iu={},au={};Object.defineProperty(au,"__esModule",{value:!0});au.version=void 0;au.version="0.0.0-automated";Object.defineProperty(iu,"__esModule",{value:!0});iu.DEFAULT_HEADERS=void 0;const dN=au;iu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${dN.version}`};var J0=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kp,"__esModule",{value:!0});const fN=J0(ru),hN=J0(Ha),pN=iu;let mN=class Z0{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},pN.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new fN.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Z0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new hN.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};kp.default=mN;var mi=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($t,"__esModule",{value:!0});$t.PostgrestError=$t.PostgrestBuilder=$t.PostgrestTransformBuilder=$t.PostgrestFilterBuilder=$t.PostgrestQueryBuilder=$t.PostgrestClient=void 0;const ew=mi(kp);$t.PostgrestClient=ew.default;const tw=mi(ru);$t.PostgrestQueryBuilder=tw.default;const rw=mi(Ha);$t.PostgrestFilterBuilder=rw.default;const nw=mi(nu);$t.PostgrestTransformBuilder=nw.default;const sw=mi(su);$t.PostgrestBuilder=sw.default;const ow=mi(ou);$t.PostgrestError=ow.default;var gN=$t.default={PostgrestClient:ew.default,PostgrestQueryBuilder:tw.default,PostgrestFilterBuilder:rw.default,PostgrestTransformBuilder:nw.default,PostgrestBuilder:sw.default,PostgrestError:ow.default};const{PostgrestClient:vN,PostgrestQueryBuilder:XL,PostgrestFilterBuilder:JL,PostgrestTransformBuilder:ZL,PostgrestBuilder:eF,PostgrestError:tF}=gN,yN="2.11.2",xN={"X-Client-Info":`realtime-js/${yN}`},wN="1.0.0",iw=1e4,bN=1e3;var Ao;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ao||(Ao={}));var qt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qt||(qt={}));var br;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(br||(br={}));var Gf;(function(e){e.websocket="websocket"})(Gf||(Gf={}));var xs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xs||(xs={}));class SN{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class aw{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Re||(Re={}));const Kg=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=_N(i,e,t,s),o),{})},_N=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?lw(o,i):Qf(i)},lw=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return EN(t,r)}switch(e){case Re.bool:return jN(t);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return kN(t);case Re.json:case Re.jsonb:return CN(t);case Re.timestamp:return NN(t);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return Qf(t);default:return Qf(t)}},Qf=e=>e,jN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},CN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},EN=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>lw(t,l))}return e},NN=e=>typeof e=="string"?e.replace(" ","T"):e,cw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class pd{constructor(t,r,n={},s=iw){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gg||(Gg={}));class Zi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Zi.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zi.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(w=>w.presence_ref),v=f.map(w=>w.presence_ref),x=d.filter(w=>v.indexOf(w.presence_ref)<0),g=f.filter(w=>h.indexOf(w.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qg||(Qg={}));var Yg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yg||(Yg={}));var tn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tn||(tn={}));class Cp{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new pd(this,br.join,this.params,this.timeout),this.rejoinTimer=new aw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(br.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Zi(this),this.broadcastEndpointURL=cw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(tn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(tn.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(tn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,v=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<v;g++){const w=h[g],{filter:{event:y,schema:m,table:b,filter:S}}=w,_=d&&d[g];if(_&&_.event===y&&_.schema===m&&_.table===b&&_.filter===S)x.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),t==null||t(tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(tn.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(br.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new pd(this,br.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pd(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=br;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,g,w;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=v.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(v=>v.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(v=>{var x,g,w,y,m,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const S=v.id,_=(x=v.filter)===null||x===void 0?void 0:x.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(m=(y=v==null?void 0:v.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:w,commit_timestamp:y,type:m,errors:b}=x;h=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:y,eventType:m,new:{},old:{},errors:b}),this._getPayloadRecords(x))}v.callback(h,n)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Cp.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(br.close,{},t)}_onError(t){this._on(br.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Kg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Kg(t.columns,t.old_record)),r}}const PN=()=>{},TN=typeof WebSocket<"u",RN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AN{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=xN,this.params={},this.timeout=iw,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=PN,this.conn=null,this.sendBuffer=[],this.serializer=new SN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>ni(async()=>{const{default:c}=await Promise.resolve().then(()=>pi);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Gf.websocket}`,this.httpEndpoint=cw(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new aw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(TN){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ON(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ni(async()=>{const{default:t}=await import("./browser-DZQ5MZMz.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wN}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ao.connecting:return xs.Connecting;case Ao.open:return xs.Open;case Ao.closing:return xs.Closing;default:return xs.Closed}}isConnected(){return this.connectionState()===xs.Open}channel(t,r={config:{}}){const n=new Cp(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(br.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(bN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(br.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([RN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ON{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ao.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Ep extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function st(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class MN extends Ep{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yf extends Ep{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var IN=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const uw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ni(async()=>{const{default:n}=await Promise.resolve().then(()=>pi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},DN=()=>IN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ni(()=>Promise.resolve().then(()=>pi),void 0)).Response:Response}),Xf=e=>{if(Array.isArray(e))return e.map(r=>Xf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Xf(n)}),t};var Gs=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const md=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LN=(e,t,r)=>Gs(void 0,void 0,void 0,function*(){const n=yield DN();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new MN(md(s),e.status||500))}).catch(s=>{t(new Yf(md(s),s))}):t(new Yf(md(e),e))}),FN=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function qa(e,t,r,n,s,o){return Gs(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,FN(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>LN(c,l,n))})})}function Sc(e,t,r,n){return Gs(this,void 0,void 0,function*(){return qa(e,"GET",t,r,n)})}function Cn(e,t,r,n,s){return Gs(this,void 0,void 0,function*(){return qa(e,"POST",t,n,s,r)})}function $N(e,t,r,n,s){return Gs(this,void 0,void 0,function*(){return qa(e,"PUT",t,n,s,r)})}function UN(e,t,r,n){return Gs(this,void 0,void 0,function*(){return qa(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function dw(e,t,r,n,s){return Gs(this,void 0,void 0,function*(){return qa(e,"DELETE",t,n,s,r)})}var Ot=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const zN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BN{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=uw(s)}uploadOrUpdate(t,r,n,s){return Ot(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Xg),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(st(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ot(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Xg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(st(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ot(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Cn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Ep("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ot(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Cn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ot(this,void 0,void 0,function*(){try{const s=yield Cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}download(t,r){return Ot(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Sc(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(st(l))return{data:null,error:l};throw l}})}info(t){return Ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Sc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xf(n),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}exists(t){return Ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield UN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(st(n)&&n instanceof Yf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield dw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ot(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},zN),r),{prefix:t||""});return{data:yield Cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const VN="2.7.1",WN={"X-Client-Info":`storage-js/${VN}`};var ro=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class HN{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},WN),r),this.fetch=uw(n)}listBuckets(){return ro(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}})}getBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ro(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ro(this,void 0,void 0,function*(){try{return{data:yield $N(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield dw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}})}}class qN extends HN{constructor(t,r={},n){super(t,r,n)}from(t){return new BN(this.url,this.headers,t,this.fetch)}}const KN="2.49.4";let zi="";typeof Deno<"u"?zi="deno":typeof document<"u"?zi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zi="react-native":zi="node";const GN={"X-Client-Info":`supabase-js-${zi}/${KN}`},QN={headers:GN},YN={schema:"public"},XN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JN={};var ZN=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const eP=e=>{let t;return e?t=e:typeof fetch>"u"?t=Q0:t=fetch,(...r)=>t(...r)},tP=()=>typeof Headers>"u"?Y0:Headers,rP=(e,t,r)=>{const n=eP(r),s=tP();return(o,i)=>ZN(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var nP=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function sP(e){return e.replace(/\/$/,"")}function oP(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:i,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o),accessToken:()=>nP(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const fw="2.69.1",uo=30*1e3,Jf=3,gd=Jf*uo,iP="http://localhost:9999",aP="supabase.auth.token",lP={"X-Client-Info":`gotrue-js/${fw}`},Zf="X-Supabase-Api-Version",hw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uP=6e5;class Np extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class dP extends Np{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function fP(e){return oe(e)&&e.name==="AuthApiError"}class pw extends Np{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class us extends Np{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class bn extends us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hP(e){return oe(e)&&e.name==="AuthSessionMissingError"}class vd extends us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yl extends us{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xl extends us{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pP(e){return oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Jg extends us{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eh extends us{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function yd(e){return oe(e)&&e.name==="AuthRetryableFetchError"}class Zg extends us{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ea extends us{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ev="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tv=` 	
\r=`.split(""),mP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tv.length;t+=1)e[tv[t].charCodeAt(0)]=-2;for(let t=0;t<ev.length;t+=1)e[ev[t].charCodeAt(0)]=t;return e})();function mw(e,t,r){const n=mP[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rv(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{yP(i,n,r)};for(let i=0;i<e.length;i+=1)mw(e.charCodeAt(i),s,o);return t.join("")}function gP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vP(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}gP(n,t)}}function yP(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xP(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)mw(e.charCodeAt(s),r,n);return new Uint8Array(t)}function wP(e){const t=[];return vP(e,r=>t.push(r)),new Uint8Array(t)}function bP(e){return Math.round(Date.now()/1e3)+e}function SP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lr=()=>typeof window<"u"&&typeof document<"u",ps={tested:!1,writable:!1},ta=()=>{if(!Lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function _P(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const gw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ni(async()=>{const{default:n}=await Promise.resolve().then(()=>pi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},jP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vw=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},wl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bl=async(e,t)=>{await e.removeItem(t)};class lu{constructor(){this.promise=new lu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}lu.promiseConstructor=Promise;function xd(e){const t=e.split(".");if(t.length!==3)throw new ea("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!cP.test(t[n]))throw new ea("JWT not in base64url format");return{header:JSON.parse(rv(t[0])),payload:JSON.parse(rv(t[1])),signature:xP(t[2]),raw:{header:t[0],payload:t[1]}}}async function kP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function CP(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function EP(e){return("0"+e.toString(16)).substr(-2)}function NP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,EP).join("")}async function PP(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function TP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await PP(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function no(e,t,r=!1){const n=NP();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await vw(e,`${t}-code-verifier`,s);const o=await TP(n);return[o,n===o?"plain":"s256"]}const RP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function AP(e){const t=e.headers.get(Zf);if(!t||!t.match(RP))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function OP(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function MP(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var IP=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const vs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DP=[502,503,504];async function nv(e){var t;if(!jP(e))throw new eh(vs(e),0);if(DP.includes(e.status))throw new eh(vs(e),e.status);let r;try{r=await e.json()}catch(o){throw new pw(vs(o),o)}let n;const s=AP(e);if(s&&s.getTime()>=hw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zg(vs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new bn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Zg(vs(r),e.status,r.weak_password.reasons);throw new dP(vs(r),e.status||500,n)}const LP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function fe(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Zf]||(o[Zf]=hw["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await FP(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function FP(e,t,r,n,s,o){const i=LP(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new eh(vs(c),0)}if(l.ok||await nv(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await nv(c)}}function Sn(e){var t;let r=null;BP(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=bP(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function sv(e){const t=Sn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $P(e){return{data:e,error:null}}function UP(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=IP(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function zP(e){return e}function BP(e){return e.access_token&&e.refresh_token&&e.expires_in}var VP=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class WP{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=gw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pn})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=VP(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:UP,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pn})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:zP});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pn})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Pn})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pn})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}}const HP={getItem:e=>ta()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ta()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ta()&&globalThis.localStorage.removeItem(e)}};function ov(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function qP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const so={debug:!!(globalThis&&ta()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class KP extends yw{}async function GP(e,t,r){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),so.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{so.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw so.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new KP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(so.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}qP();const QP={url:iP,storageKey:aP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function iv(e,t,r){return await r()}class Ea{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ea.nextInstanceID,Ea.nextInstanceID+=1,this.instanceID>0&&Lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},QP),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new WP({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gw(s.fetch),this.lock=s.lock||iv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Lr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=GP:this.lock=iv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ta()?this.storage=HP:(this.memoryStorage={},this.storage=ov(this.memoryStorage)):(this.memoryStorage={},this.storage=ov(this.memoryStorage)),Lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=_P(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),pP(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?{error:r}:{error:new pw("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Sn}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await no(this.storage,this.storageKey)),o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:x},xform:Sn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Sn})}else throw new yl("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sv})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sv})}else throw new yl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await wl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Sn});if(await bl(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new vd}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(oe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Sn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new vd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await no(this.storage,this.storageKey));const{error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new yl("You must provide either an email or phone number.")}catch(l){if(oe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Sn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await no(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:$P})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new bn;const{error:s}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(oe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new yl("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await wl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<gd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Pn})})}catch(r){if(oe(r))return hP(r)&&(await this._removeSession(),await bl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new bn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await no(this.storage,this.storageKey));const{data:u,error:d}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Pn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bn;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=xd(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new bn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Lr())throw new xl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Jg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Jg("No code detected.");const{data:m,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new xl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const v=h-d;v*1e3<=uo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:g,error:w}=await this._getUser(o);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(oe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await wl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(fP(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await bl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=SP(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await no(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Lr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(oe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await CP(async s=>(s>0&&await kP(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Sn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&yd(o)&&Date.now()+i-n<uo})}catch(n){if(this._debug(r,"error",n),oe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Lr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await wl(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<gd;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${gd}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),yd(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new lu;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new bn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),oe(o)){const i={session:null,error:o};return yd(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await vw(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await bl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),uo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/uo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${uo}ms, refresh threshold is ${Jf} ticks`),s<=Jf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await no(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=xd(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+uP>Date.now()))return n;const{data:s,error:o}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new ea("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new ea("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=xd(n);if(OP(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:o,header:s,signature:i},error:null}}const u=MP(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,wP(`${l}.${c}`)))throw new ea("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}}Ea.nextInstanceID=0;const YP=Ea;class XP extends YP{constructor(t){super(t)}}var JP=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ZP{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=sP(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:YN,realtime:JN,auth:Object.assign(Object.assign({},XN),{storageKey:c}),global:QN},d=oP(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=rP(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new vN(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new KE(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qN(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return JP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new XP({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new AN(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const e2=(e,t,r)=>new ZP(e,t,r),t2="https://fshdsmmyuvhqwngkzndm.supabase.co",r2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzaGRzbW15dXZocXduZ2t6bmRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczODkzMTIsImV4cCI6MjA2Mjk2NTMxMn0.6sgzv8A8x2nMgLOjAf44lXB72L70FxkhUbtrBml7onM",ae=e2(t2,r2,{auth:{persistSession:!0,autoRefreshToken:!0,storage:localStorage}}),n2=1,s2=1e6;let wd=0;function o2(){return wd=(wd+1)%Number.MAX_SAFE_INTEGER,wd.toString()}const bd=new Map,av=e=>{if(bd.has(e))return;const t=setTimeout(()=>{bd.delete(e),ra({type:"REMOVE_TOAST",toastId:e})},s2);bd.set(e,t)},i2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,n2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?av(r):e.toasts.forEach(n=>{av(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Bl=[];let Vl={toasts:[]};function ra(e){Vl=i2(Vl,e),Bl.forEach(t=>{t(Vl)})}function _s({...e}){const t=o2(),r=s=>ra({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>ra({type:"DISMISS_TOAST",toastId:t});return ra({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function mr(){const[e,t]=p.useState(Vl);return p.useEffect(()=>(Bl.push(t),()=>{const r=Bl.indexOf(t);r>-1&&Bl.splice(r,1)}),[e]),{...e,toast:_s,dismiss:r=>ra({type:"DISMISS_TOAST",toastId:r})}}const a2=async e=>{try{const{data:t,error:r}=await ae.from("profiles").select("*").eq("id",e).single();return r?(console.error("Error fetching user profile:",r),null):t?{id:t.id,name:t.name||"User",email:t.email||"",role:t.role||"customer",avatar:"",createdAt:new Date(t.created_at||Date.now()),updatedAt:new Date(t.updated_at||Date.now())}:null}catch(t){return console.error("Error in getUserProfile:",t),null}},Pr=()=>{console.log("Cleaning up auth state..."),localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&(console.log(`Removing localStorage key: ${e}`),localStorage.removeItem(e))}),Object.keys(sessionStorage||{}).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&(console.log(`Removing sessionStorage key: ${e}`),sessionStorage.removeItem(e))}),localStorage.removeItem("sb-access-token"),localStorage.removeItem("sb-refresh-token"),sessionStorage.removeItem("sb-access-token"),sessionStorage.removeItem("sb-refresh-token")},lv=async()=>{try{console.log("Fetching current user...");const{data:{session:e},error:t}=await ae.auth.getSession();if(t)return console.error("Error getting session:",t),Pr(),null;if(!e)return console.log("No active session found"),null;console.log("Active session found, fetching user profile...");const r=await a2(e.user.id);return r||(console.error("User profile not found, cleaning up auth state"),Pr(),null)}catch(e){return console.error("Error in fetchCurrentUser:",e),Pr(),null}};function l2(){const[e,t]=p.useState(null),[r,n]=p.useState(!0),s=p.useRef(!1),o=p.useRef(null);return p.useEffect(()=>{if(s.current)return;s.current=!0,console.log("Initializing auth state...");const{data:{subscription:i}}=ae.auth.onAuthStateChange(async(c,u)=>{console.log("Auth state changed:",c,u?"with session":"no session");const d=u?`${u.user.id}-${u.access_token.substring(0,10)}`:null;if(d===o.current&&c!=="SIGNED_OUT"){console.log("Duplicate session event, skipping...");return}if(o.current=d,c==="SIGNED_OUT"||!u){console.log("User signed out or no session"),t(null),n(!1),c==="SIGNED_OUT"&&Pr();return}(c==="SIGNED_IN"||c==="TOKEN_REFRESHED")&&setTimeout(async()=>{try{console.log("Processing sign in/token refresh...");const f=await lv();console.log("User data fetched:",f?"success":"failed"),t(f)}catch(f){console.error("Error fetching user data:",f),t(null),Pr()}finally{n(!1)}},100)});return(async()=>{try{console.log("Checking for existing session...");const c=new Promise((f,h)=>{setTimeout(()=>h(new Error("Session check timeout")),5e3)}),u=lv(),d=await Promise.race([u,c]);console.log("Session check result:",d?"user found":"no user"),t(d)}catch(c){console.error("Error checking session:",c),t(null),Pr()}finally{n(!1)}})(),()=>{console.log("Cleaning up auth state listener"),i.unsubscribe(),s.current=!1}},[]),[{user:e,loading:r},t]}const c2=async(e,t)=>{try{console.log("Starting sign in process..."),Pr();try{console.log("Attempting global sign out before sign in..."),await ae.auth.signOut({scope:"global"}),await new Promise(s=>setTimeout(s,500))}catch(s){console.log("Pre-auth signout failed, continuing:",s)}console.log("Attempting to sign in with email/password...");const{data:r,error:n}=await ae.auth.signInWithPassword({email:e,password:t});return n?(console.error("Sign in error:",n),n.message.includes("Email not confirmed")?_s({title:"Email not confirmed",description:"Please check your email for the confirmation link or request a new one.",variant:"destructive"}):_s({title:"Login failed",description:n.message,variant:"destructive"}),{user:null,error:n}):(r.user&&(console.log("Sign in successful, user:",r.user.id),_s({title:"Login successful",description:"Welcome back!",variant:"default"})),{user:r.user,error:null})}catch(r){return console.error("Unexpected error during sign in:",r),Pr(),_s({title:"Login failed",description:"An unexpected error occurred",variant:"destructive"}),{user:null,error:r}}},u2=async(e,t,r)=>{try{Pr();const{data:n,error:s}=await ae.auth.signUp({email:e,password:t,options:{data:{name:r},emailRedirectTo:window.location.origin+"/stock2store/login"}});return s?(_s({title:"Registration failed",description:s.message,variant:"destructive"}),{user:null,error:s}):(await ae.auth.signOut(),_s({title:"Registration successful",description:"Please check your email for confirmation instructions.",variant:"default"}),{user:n.user,error:null})}catch(n){return console.error("Unexpected error during sign up:",n),{user:null,error:n}}},d2=async()=>{try{console.log("Starting sign out process..."),Pr();const{error:e}=await ae.auth.signOut({scope:"global"});return e?(console.error("Sign out error:",e),{error:e}):(console.log("Sign out successful"),setTimeout(()=>{window.location.href="/stock2store/login"},200),{error:null})}catch(e){return console.error("Unexpected error during sign out:",e),window.location.href="/stock2store/login",{error:e}}},f2={admin:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"warehouse",action:"manage"},{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"analytics",action:"view"},{resource:"users",action:"view"},{resource:"users",action:"manage"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"},{resource:"cart",action:"view"},{resource:"cart",action:"update"},{resource:"returns",action:"view"},{resource:"returns",action:"manage"}],warehouse:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"warehouse",action:"manage"},{resource:"store",action:"view"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"}],customer:[{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"},{resource:"cart",action:"view"},{resource:"cart",action:"update"},{resource:"returns",action:"view"},{resource:"returns",action:"manage"}],analyst:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"analytics",action:"view"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"cart",action:"view"},{resource:"cart",action:"update"}]},xw=async()=>{try{const{data:e,error:t}=await ae.from("roles").select("id").limit(1),{data:r,error:n}=await ae.from("permissions").select("id").limit(1);return t||n?(console.log("Error checking RBAC initialization:",t||n),!1):e&&e.length>0&&r&&r.length>0}catch(e){return console.error("Error checking RBAC initialization:",e),!1}},cv=(e,t,r)=>(f2[e]||[]).some(s=>s.resource===t&&s.action===r),h2=async e=>{try{const{data:{session:t}}=await ae.auth.getSession();if(!(t!=null&&t.user))return!1;const{data:r}=await ae.from("profiles").select("role").eq("id",t.user.id).single();return(r==null?void 0:r.role)===e}catch(t){return console.error("Error checking user role:",t),!1}},p2=async(e,t)=>{try{const{data:{session:r}}=await ae.auth.getSession();if(!(r!=null&&r.user))return console.log("No user session found"),!1;const{data:n}=await ae.from("profiles").select("role").eq("id",r.user.id).single();if(!(n!=null&&n.role))return console.log("No user role found in profile"),!1;const s=n.role;if(console.log(`Checking permission for ${e}:${t} for role: ${s}`),!await xw()){console.log("RBAC not initialized, using fallback permissions for role:",s);const c=cv(s,e,t);return console.log(`Fallback permission result: ${c}`),c}console.log("Using full RBAC system for permission check");const{data:i,error:l}=await ae.rpc("user_has_permission",{user_id:r.user.id,req_resource:e,req_action:t});if(l){console.error("Error checking permissions via RPC:",l),console.log("Falling back to role-based permissions due to RPC error");const c=cv(s,e,t);return console.log(`Fallback permission result after RPC error: ${c}`),c}return console.log(`RPC permission result: ${!!i}`),!!i}catch(r){return console.error("Error checking user permissions:",r),!1}},m2=async()=>{try{return await xw()?(console.log("RBAC system already initialized"),!0):(console.log("RBAC system not initialized, but this should be handled by the SQL migration"),!1)}catch(e){return console.error("Error initializing RBAC system:",e),!1}},g2=async(e,t)=>{try{const{data:{session:r}}=await ae.auth.getSession();if(!(r!=null&&r.user))return console.error("No user session found"),!1;if(!await h2("admin"))return console.error("User is not admin, cannot update roles"),!1;const{error:s}=await ae.from("profiles").update({role:t}).eq("id",e);return s?(console.error("Error updating user role:",s),!1):(console.log(`Successfully updated user ${e} role to ${t}`),!0)}catch(r){return console.error("Error updating user role:",r),!1}},v2=({children:e})=>{const[{user:t,loading:r},n]=l2(),{toast:s}=mr();p.useEffect(()=>{t&&t.role==="admin"&&!r&&(async()=>{try{console.log("Initializing RBAC for admin user...");const c=await m2();console.log(c?"RBAC system initialized successfully":"RBAC system was already initialized")}catch(c){console.error("Error initializing RBAC system:",c)}})()},[t==null?void 0:t.id,t==null?void 0:t.role,r]);const i={user:t,loading:r,signOut:async()=>{try{await d2(),n(null)}catch(l){console.error("Error during sign out:",l),s({title:"Sign out failed",description:"An error occurred while signing out. Please try again.",variant:"destructive"})}}};return a.jsx(G0.Provider,{value:i,children:e})},y2={items:[],total:0,itemCount:0,isLoading:!1};function ww(e,t){switch(t.type){case"ADD_ITEM":{const{product:r,quantity:n}=t.payload,s=e.items.find(c=>c.product.id===r.id);let o;if(s)o=e.items.map(c=>c.product.id===r.id?{...c,quantity:Math.min(c.quantity+n,r.stock)}:c);else{const c={id:`cart-${r.id}-${Date.now()}`,product:r,quantity:Math.min(n,r.stock),addedAt:new Date,status:r.stock>0?"available":"unavailable"};o=[...e.items,c]}const i=o.reduce((c,u)=>c+u.product.price*u.quantity,0),l=o.reduce((c,u)=>c+u.quantity,0);return{...e,items:o,total:i,itemCount:l}}case"REMOVE_ITEM":{const r=e.items.filter(o=>o.product.id!==t.payload.productId),n=r.reduce((o,i)=>o+i.product.price*i.quantity,0),s=r.reduce((o,i)=>o+i.quantity,0);return{...e,items:r,total:n,itemCount:s}}case"UPDATE_QUANTITY":{const{productId:r,quantity:n}=t.payload;if(n<=0)return ww(e,{type:"REMOVE_ITEM",payload:{productId:r}});const s=e.items.map(l=>l.product.id===r?{...l,quantity:Math.min(n,l.product.stock)}:l),o=s.reduce((l,c)=>l+c.product.price*c.quantity,0),i=s.reduce((l,c)=>l+c.quantity,0);return{...e,items:s,total:o,itemCount:i}}case"UPDATE_ITEM_STATUS":{const{productId:r,status:n}=t.payload,s=e.items.map(o=>o.product.id===r?{...o,status:n}:o);return{...e,items:s}}case"CLEAR_CART":return{...e,items:[],total:0,itemCount:0};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ITEMS":{const r=t.payload,n=r.reduce((o,i)=>o+i.product.price*i.quantity,0),s=r.reduce((o,i)=>o+i.quantity,0);return{...e,items:r,total:n,itemCount:s}}default:return e}}const bw=p.createContext(void 0);function x2({children:e}){const[t,r]=p.useReducer(ww,y2),{user:n}=Ks(),{toast:s}=mr();p.useEffect(()=>{if(n){const f=localStorage.getItem(`cart-${n.id}`);if(f)try{const h=JSON.parse(f);r({type:"SET_ITEMS",payload:h})}catch(h){console.error("Error loading cart from localStorage:",h)}}},[n]),p.useEffect(()=>{n&&t.items.length>=0&&localStorage.setItem(`cart-${n.id}`,JSON.stringify(t.items))},[t.items,n]);const o=(f,h=1)=>{if(f.stock<=0){s({title:"Product unavailable",description:"This product is currently out of stock.",variant:"destructive"});return}const v=u(f.id);if(v+h>f.stock){s({title:"Insufficient stock",description:`Only ${f.stock} items available. You already have ${v} in your cart.`,variant:"destructive"});return}r({type:"ADD_ITEM",payload:{product:f,quantity:h}}),s({title:"Added to cart",description:`${f.name} has been added to your cart.`})},i=f=>{r({type:"REMOVE_ITEM",payload:{productId:f}}),s({title:"Removed from cart",description:"Item has been removed from your cart."})},l=(f,h)=>{r({type:"UPDATE_QUANTITY",payload:{productId:f,quantity:h}})},c=()=>{r({type:"CLEAR_CART"}),s({title:"Cart cleared",description:"All items have been removed from your cart."})},u=f=>{const h=t.items.find(v=>v.product.id===f);return(h==null?void 0:h.quantity)||0},d={...t,addToCart:o,removeFromCart:i,updateQuantity:l,clearCart:c,getCartItemQuantity:u};return a.jsx(bw.Provider,{value:d,children:e})}function Pp(){const e=p.useContext(bw);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}function G(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function w2(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function cu(...e){return t=>e.forEach(r=>w2(r,t))}function Me(...e){return p.useCallback(cu(...e),e)}function b2(e,t=[]){let r=[];function n(o,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:v,...x}=f,g=(h==null?void 0:h[e][c])||l,w=p.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||l,x=p.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,S2(s,...t)]}function S2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Zn=p.forwardRef((e,t)=>{const{children:r,...n}=e,s=p.Children.toArray(r),o=s.find(j2);if(o){const i=o.props.children,l=s.map(c=>c===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:c);return a.jsx(th,{...n,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,l):null})}return a.jsx(th,{...n,ref:t,children:r})});Zn.displayName="Slot";var th=p.forwardRef((e,t)=>{const{children:r,...n}=e;if(p.isValidElement(r)){const s=C2(r);return p.cloneElement(r,{...k2(n,r.props),ref:t?cu(t,s):s})}return p.Children.count(r)>1?p.Children.only(null):null});th.displayName="SlotClone";var _2=({children:e})=>a.jsx(a.Fragment,{children:e});function j2(e){return p.isValidElement(e)&&e.type===_2}function k2(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function C2(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function uu(e){const t=e+"CollectionProvider",[r,n]=b2(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:x,children:g}=v,w=ce.useRef(null),y=ce.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:y,collectionRef:w,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=ce.forwardRef((v,x)=>{const{scope:g,children:w}=v,y=o(l,g),m=Me(x,y.collectionRef);return a.jsx(Zn,{ref:m,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=ce.forwardRef((v,x)=>{const{scope:g,children:w,...y}=v,m=ce.useRef(null),b=Me(x,m),S=o(u,g);return ce.useEffect(()=>(S.itemMap.set(m,{ref:m,...y}),()=>void S.itemMap.delete(m))),a.jsx(Zn,{[d]:"",ref:b,children:w})});f.displayName=u;function h(v){const x=o(e+"CollectionConsumer",v);return ce.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((S,_)=>y.indexOf(S.ref.current)-y.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,n]}function gi(e,t=[]){let r=[];function n(o,i){const l=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var y;const{scope:h,children:v,...x}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,w=p.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:v})};u.displayName=o+"Provider";function d(f,h){var g;const v=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=p.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,E2(s,...t)]}function E2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var N2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],re=N2.reduce((e,t)=>{const r=p.forwardRef((n,s)=>{const{asChild:o,...i}=n,l=o?Zn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Tp(e,t){e&&Hs.flushSync(()=>e.dispatchEvent(t))}function ht(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function P2(e,t=globalThis==null?void 0:globalThis.document){const r=ht(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var T2="DismissableLayer",rh="dismissableLayer.update",R2="dismissableLayer.pointerDownOutside",A2="dismissableLayer.focusOutside",uv,Sw=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),du=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(Sw),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),x=Me(t,C=>f(C)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),m=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=m>=y,_=M2(C=>{const P=C.target,I=[...u.branches].some(M=>M.contains(P));!S||I||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},h),N=I2(C=>{const P=C.target;[...u.branches].some(M=>M.contains(P))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},h);return P2(C=>{m===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(uv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),dv(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=uv)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),dv())},[d,u]),p.useEffect(()=>{const C=()=>v({});return document.addEventListener(rh,C),()=>document.removeEventListener(rh,C)},[]),a.jsx(re.div,{...c,ref:x,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,N.onFocusCapture),onBlurCapture:G(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,_.onPointerDownCapture)})});du.displayName=T2;var O2="DismissableLayerBranch",_w=p.forwardRef((e,t)=>{const r=p.useContext(Sw),n=p.useRef(null),s=Me(t,n);return p.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(re.div,{...e,ref:s})});_w.displayName=O2;function M2(e,t=globalThis==null?void 0:globalThis.document){const r=ht(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){jw(R2,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function I2(e,t=globalThis==null?void 0:globalThis.document){const r=ht(e),n=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!n.current&&jw(A2,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function dv(){const e=new CustomEvent(rh);document.dispatchEvent(e)}function jw(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Tp(s,o):s.dispatchEvent(o)}var D2=du,L2=_w,lt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},F2="Portal",fu=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=p.useState(!1);lt(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?iC.createPortal(a.jsx(re.div,{...n,ref:t}),i):null});fu.displayName=F2;function $2(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Qs=e=>{const{present:t,children:r}=e,n=U2(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),o=Me(n.ref,z2(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:o}):null};Qs.displayName="Presence";function U2(e){const[t,r]=p.useState(),n=p.useRef({}),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=$2(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Sl(n.current);o.current=l==="mounted"?u:"none"},[l]),lt(()=>{const u=n.current,d=s.current;if(d!==e){const h=o.current,v=Sl(u);e?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),lt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=v=>{const g=Sl(n.current).includes(v.animationName);if(v.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=v=>{v.target===t&&(o.current=Sl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Sl(e){return(e==null?void 0:e.animationName)||"none"}function z2(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function oi({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=B2({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,l=ht(r),c=p.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[o,e,s,l]);return[i,c]}function B2({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,s=p.useRef(n),o=ht(t);return p.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var V2="VisuallyHidden",hu=p.forwardRef((e,t)=>a.jsx(re.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));hu.displayName=V2;var Rp="ToastProvider",[Ap,W2,H2]=uu("Toast"),[kw,rF]=gi("Toast",[H2]),[q2,pu]=kw(Rp),Cw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Rp}\`. Expected non-empty \`string\`.`),a.jsx(Ap.Provider,{scope:t,children:a.jsx(q2,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(v=>v+1),[]),onToastRemove:p.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};Cw.displayName=Rp;var Ew="ToastViewport",K2=["F8"],nh="toast.viewportPause",sh="toast.viewportResume",Nw=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=K2,label:s="Notifications ({hotkey})",...o}=e,i=pu(Ew,r),l=W2(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=Me(t,f,i.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;p.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(S=>y[S]||y.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),p.useEffect(()=>{const w=c.current,y=f.current;if(x&&w&&y){const m=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(nh);y.dispatchEvent(N),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(sh);y.dispatchEvent(N),i.isClosePausedRef.current=!1}},S=N=>{!w.contains(N.relatedTarget)&&b()},_=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",m),w.addEventListener("focusout",S),w.addEventListener("pointermove",m),w.addEventListener("pointerleave",_),window.addEventListener("blur",m),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",m),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",m),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",m),window.removeEventListener("focus",b)}}},[x,i.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:w})=>{const m=l().map(b=>{const S=b.ref.current,_=[S,...iT(S)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?m.reverse():m).flat()},[l]);return p.useEffect(()=>{const w=f.current;if(w){const y=m=>{var _,N,C;const b=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!b){const P=document.activeElement,I=m.shiftKey;if(m.target===w&&I){(_=u.current)==null||_.focus();return}const O=g({tabbingDirection:I?"backwards":"forwards"}),$=O.findIndex(D=>D===P);Sd(O.slice($+1))?m.preventDefault():I?(N=u.current)==null||N.focus():(C=d.current)==null||C.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,g]),a.jsxs(L2,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(oh,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Sd(w)}}),a.jsx(Ap.Slot,{scope:r,children:a.jsx(re.ol,{tabIndex:-1,...o,ref:h})}),x&&a.jsx(oh,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Sd(w)}})]})});Nw.displayName=Ew;var Pw="ToastFocusProxy",oh=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=pu(Pw,r);return a.jsx(hu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});oh.displayName=Pw;var mu="Toast",G2="toast.swipeStart",Q2="toast.swipeMove",Y2="toast.swipeCancel",X2="toast.swipeEnd",Tw=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[l=!0,c]=oi({prop:n,defaultProp:s,onChange:o});return a.jsx(Qs,{present:r||l,children:a.jsx(eT,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:ht(e.onPause),onResume:ht(e.onResume),onSwipeStart:G(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:G(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:G(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:G(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Tw.displayName=mu;var[J2,Z2]=kw(mu,{onClose(){}}),eT=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:v,...x}=e,g=pu(mu,r),[w,y]=p.useState(null),m=Me(t,D=>y(D)),b=p.useRef(null),S=p.useRef(null),_=s||g.duration,N=p.useRef(0),C=p.useRef(_),P=p.useRef(0),{onToastAdd:I,onToastRemove:M}=g,H=ht(()=>{var Q;(w==null?void 0:w.contains(document.activeElement))&&((Q=g.viewport)==null||Q.focus()),i()}),O=p.useCallback(D=>{!D||D===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout(H,D))},[H]);p.useEffect(()=>{const D=g.viewport;if(D){const Q=()=>{O(C.current),u==null||u()},V=()=>{const X=new Date().getTime()-N.current;C.current=C.current-X,window.clearTimeout(P.current),c==null||c()};return D.addEventListener(nh,V),D.addEventListener(sh,Q),()=>{D.removeEventListener(nh,V),D.removeEventListener(sh,Q)}}},[g.viewport,_,c,u,O]),p.useEffect(()=>{o&&!g.isClosePausedRef.current&&O(_)},[o,_,g.isClosePausedRef,O]),p.useEffect(()=>(I(),()=>M()),[I,M]);const $=p.useMemo(()=>w?Lw(w):null,[w]);return g.viewport?a.jsxs(a.Fragment,{children:[$&&a.jsx(tT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),a.jsx(J2,{scope:r,onClose:H,children:Hs.createPortal(a.jsx(Ap.ItemSlot,{scope:r,children:a.jsx(D2,{asChild:!0,onEscapeKeyDown:G(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||H(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:m,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:G(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:G(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:G(e.onPointerMove,D=>{if(!b.current)return;const Q=D.clientX-b.current.x,V=D.clientY-b.current.y,X=!!S.current,T=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=T?R(0,Q):0,J=T?0:R(0,V),ie=D.pointerType==="touch"?10:2,Ge={x:z,y:J},Te={originalEvent:D,delta:Ge};X?(S.current=Ge,_l(Q2,f,Te,{discrete:!1})):fv(Ge,g.swipeDirection,ie)?(S.current=Ge,_l(G2,d,Te,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(Q)>ie||Math.abs(V)>ie)&&(b.current=null)}),onPointerUp:G(e.onPointerUp,D=>{const Q=S.current,V=D.target;if(V.hasPointerCapture(D.pointerId)&&V.releasePointerCapture(D.pointerId),S.current=null,b.current=null,Q){const X=D.currentTarget,T={originalEvent:D,delta:Q};fv(Q,g.swipeDirection,g.swipeThreshold)?_l(X2,v,T,{discrete:!0}):_l(Y2,h,T,{discrete:!0}),X.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),tT=e=>{const{__scopeToast:t,children:r,...n}=e,s=pu(mu,t),[o,i]=p.useState(!1),[l,c]=p.useState(!1);return sT(()=>i(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(fu,{asChild:!0,children:a.jsx(hu,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},rT="ToastTitle",Rw=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(re.div,{...n,ref:t})});Rw.displayName=rT;var nT="ToastDescription",Aw=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(re.div,{...n,ref:t})});Aw.displayName=nT;var Ow="ToastAction",Mw=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(Dw,{altText:r,asChild:!0,children:a.jsx(Op,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ow}\`. Expected non-empty \`string\`.`),null)});Mw.displayName=Ow;var Iw="ToastClose",Op=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Z2(Iw,r);return a.jsx(Dw,{asChild:!0,children:a.jsx(re.button,{type:"button",...n,ref:t,onClick:G(e.onClick,s.onClose)})})});Op.displayName=Iw;var Dw=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Lw(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),oT(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Lw(n))}}),t}function _l(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Tp(s,o):s.dispatchEvent(o)}var fv=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function sT(e=()=>{}){const t=ht(e);lt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function oT(e){return e.nodeType===e.ELEMENT_NODE}function iT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Sd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var aT=Cw,Fw=Nw,$w=Tw,Uw=Rw,zw=Aw,Bw=Mw,Vw=Op;function Ww(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Ww(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Hw(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Ww(e))&&(n&&(n+=" "),n+=t);return n}const hv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,pv=Hw,gu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return pv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const h=hv(d)||hv(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...v}=d;return Object.entries(v).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...o,...l}[g]):{...o,...l}[g]===w})?[...u,f,h]:u},[]);return pv(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>p.createElement("svg",{ref:c,...cT,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:qw("lucide",s),...l},[...i.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const r=p.forwardRef(({className:n,...s},o)=>p.createElement(uT,{ref:o,iconNode:t,className:qw(`lucide-${lT(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ne("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=ne("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ne("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ne("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=ne("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=ne("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=ne("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=ne("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ne("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fp="-",RT=e=>{const t=OT(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Fp);return l[0]===""&&l.length!==1&&l.shift(),sb(l,t)||AT(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},sb=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?sb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Fp);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},yv=/^\[(.+)\]$/,AT=e=>{if(yv.test(e)){const t=yv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},OT=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return IT(Object.entries(e.classGroups),r).forEach(([o,i])=>{ih(i,n,o,t)}),n},ih=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:xv(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(MT(s)){ih(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{ih(i,xv(t,o),r,n)})})},xv=(e,t)=>{let r=e;return t.split(Fp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},MT=e=>e.isThemeGetter,IT=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,s]}):e,DT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},ob="!",LT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let y=l[w];if(u===0){if(y===s&&(n||l.slice(w,w+o)===t)){c.push(l.slice(d,w)),d=w+o;continue}if(y==="/"){f=w;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),v=h.startsWith(ob),x=v?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},FT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},$T=e=>({cache:DT(e.cacheSize),parseClassName:LT(e),...RT(e)}),UT=/\s+/,zT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(UT);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:v}=r(u);let x=!!v,g=n(x?h.substring(0,v):h);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const w=FT(d).join(":"),y=f?w+ob:w,m=y+g;if(o.includes(m))continue;o.push(m);const b=s(g,x);for(let S=0;S<b.length;++S){const _=b[S];o.push(y+_)}l=u+(l.length>0?" "+l:l)}return l};function BT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ib(t))&&(n&&(n+=" "),n+=r);return n}const ib=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ib(e[n]))&&(r&&(r+=" "),r+=t);return r};function VT(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=$T(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=zT(c,r);return s(c,d),d}return function(){return o(BT.apply(null,arguments))}}const De=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ab=/^\[(?:([a-z-]+):)?(.+)\]$/i,WT=/^\d+\/\d+$/,HT=new Set(["px","full","screen"]),qT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xr=e=>Oo(e)||HT.has(e)||WT.test(e),vn=e=>vi(e,"length",sR),Oo=e=>!!e&&!Number.isNaN(Number(e)),_d=e=>vi(e,"number",Oo),Ti=e=>!!e&&Number.isInteger(Number(e)),XT=e=>e.endsWith("%")&&Oo(e.slice(0,-1)),se=e=>ab.test(e),yn=e=>qT.test(e),JT=new Set(["length","size","percentage"]),ZT=e=>vi(e,JT,lb),eR=e=>vi(e,"position",lb),tR=new Set(["image","url"]),rR=e=>vi(e,tR,iR),nR=e=>vi(e,"",oR),Ri=()=>!0,vi=(e,t,r)=>{const n=ab.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},sR=e=>KT.test(e)&&!GT.test(e),lb=()=>!1,oR=e=>QT.test(e),iR=e=>YT.test(e),aR=()=>{const e=De("colors"),t=De("spacing"),r=De("blur"),n=De("brightness"),s=De("borderColor"),o=De("borderRadius"),i=De("borderSpacing"),l=De("borderWidth"),c=De("contrast"),u=De("grayscale"),d=De("hueRotate"),f=De("invert"),h=De("gap"),v=De("gradientColorStops"),x=De("gradientColorStopPositions"),g=De("inset"),w=De("margin"),y=De("opacity"),m=De("padding"),b=De("saturate"),S=De("scale"),_=De("sepia"),N=De("skew"),C=De("space"),P=De("translate"),I=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",se,t],O=()=>[se,t],$=()=>["",Xr,vn],D=()=>["auto",Oo,se],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",se],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Oo,se];return{cacheSize:500,separator:":",theme:{colors:[Ri],spacing:[Xr,vn],blur:["none","",yn,se],brightness:J(),borderColor:[e],borderRadius:["none","","full",yn,se],borderSpacing:O(),borderWidth:$(),contrast:J(),grayscale:R(),hueRotate:J(),invert:R(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[XT,vn],inset:H(),margin:H(),opacity:J(),padding:O(),saturate:J(),scale:J(),sepia:R(),skew:J(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[yn]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),se]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ti,se]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Ti,se]}],"grid-cols":[{"grid-cols":[Ri]}],"col-start-end":[{col:["auto",{span:["full",Ti,se]},se]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Ri]}],"row-start-end":[{row:["auto",{span:[Ti,se]},se]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,t]}],"min-w":[{"min-w":[se,t,"min","max","fit"]}],"max-w":[{"max-w":[se,t,"none","full","min","max","fit","prose",{screen:[yn]},yn]}],h:[{h:[se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",yn,vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_d]}],"font-family":[{font:[Ri]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",Oo,_d]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xr,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xr,vn]}],"underline-offset":[{"underline-offset":["auto",Xr,se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),eR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Xr,se]}],"outline-w":[{outline:[Xr,vn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Xr,vn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",yn,nR]}],"shadow-color":[{shadow:[Ri]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",yn,se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ti,se]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Xr,vn,_d]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lR=VT(aR);function ee(...e){return lR(Hw(e))}const cR=aT,cb=p.forwardRef(({className:e,...t},r)=>a.jsx(Fw,{ref:r,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));cb.displayName=Fw.displayName;const uR=gu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ub=p.forwardRef(({className:e,variant:t,...r},n)=>a.jsx($w,{ref:n,className:ee(uR({variant:t}),e),...r}));ub.displayName=$w.displayName;const dR=p.forwardRef(({className:e,...t},r)=>a.jsx(Bw,{ref:r,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));dR.displayName=Bw.displayName;const db=p.forwardRef(({className:e,...t},r)=>a.jsx(Vw,{ref:r,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(nb,{className:"h-4 w-4"})}));db.displayName=Vw.displayName;const fb=p.forwardRef(({className:e,...t},r)=>a.jsx(Uw,{ref:r,className:ee("text-sm font-semibold",e),...t}));fb.displayName=Uw.displayName;const hb=p.forwardRef(({className:e,...t},r)=>a.jsx(zw,{ref:r,className:ee("text-sm opacity-90",e),...t}));hb.displayName=zw.displayName;function fR(){const{toasts:e}=mr();return a.jsxs(cR,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return a.jsxs(ub,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(fb,{children:r}),n&&a.jsx(hb,{children:n})]}),s,a.jsx(db,{})]},t)}),a.jsx(cb,{})]})}const Ir=({children:e,resource:t,action:r,fallbackPath:n="/login"})=>{const{user:s,loading:o}=Ks(),i=mn(),{toast:l}=mr(),[c,u]=p.useState(!1),[d,f]=p.useState(!1);return p.useEffect(()=>{(async()=>{if(!s||o){u(!1),f(!o);return}try{console.log(`Checking permission for ${t}:${r} for user role: ${s.role}`);const v=await p2(t,r);console.log(`Permission result for ${t}:${r}: ${v}`),u(v),v||(console.log(`Access denied for ${t}:${r}, redirecting to ${n}`),l({title:"Access denied",description:"You don't have permission to access this resource.",variant:"destructive"}))}catch(v){console.error("Error checking permission:",v),u(!1)}finally{f(!0)}})()},[s==null?void 0:s.id,s==null?void 0:s.role,o,t,r,l,n]),o||!d?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?c?a.jsx(a.Fragment,{children:e}):a.jsx(Og,{to:n,state:{from:i},replace:!0}):a.jsx(Og,{to:"/login",state:{from:i},replace:!0})},me=p.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const ye=p.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));ye.displayName="CardHeader";const xe=p.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));xe.displayName="CardTitle";const at=p.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));at.displayName="CardDescription";const we=p.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ee("p-6 pt-0",e),...t}));we.displayName="CardContent";const pb=p.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ee("flex items-center p-6 pt-0",e),...t}));pb.displayName="CardFooter";function hR(e,t=[]){let r=[];function n(o,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:v,...x}=f,g=(h==null?void 0:h[e][c])||l,w=p.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||l,x=p.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,pR(s,...t)]}function pR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var mR=jy.useId||(()=>{}),gR=0;function Us(e){const[t,r]=p.useState(mR());return lt(()=>{e||r(n=>n??String(gR++))},[e]),e||(t?`radix-${t}`:"")}var vR=p.createContext(void 0);function vu(e){const t=p.useContext(vR);return e||t||"ltr"}var jd="rovingFocusGroup.onEntryFocus",yR={bubbles:!1,cancelable:!0},yu="RovingFocusGroup",[ah,mb,xR]=uu(yu),[wR,xu]=hR(yu,[xR]),[bR,SR]=wR(yu),gb=p.forwardRef((e,t)=>a.jsx(ah.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(ah.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(_R,{...e,ref:t})})}));gb.displayName=yu;var _R=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),v=Me(t,h),x=vu(o),[g=null,w]=oi({prop:i,defaultProp:l,onChange:c}),[y,m]=p.useState(!1),b=ht(u),S=mb(r),_=p.useRef(!1),[N,C]=p.useState(0);return p.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(jd,b),()=>P.removeEventListener(jd,b)},[b]),a.jsx(bR,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(P=>w(P),[w]),onItemShiftTab:p.useCallback(()=>m(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:p.useCallback(()=>C(P=>P-1),[]),children:a.jsx(re.div,{tabIndex:y||N===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{_.current=!0}),onFocus:G(e.onFocus,P=>{const I=!_.current;if(P.target===P.currentTarget&&I&&!y){const M=new CustomEvent(jd,yR);if(P.currentTarget.dispatchEvent(M),!M.defaultPrevented){const H=S().filter(V=>V.focusable),O=H.find(V=>V.active),$=H.find(V=>V.id===g),Q=[O,$,...H].filter(Boolean).map(V=>V.ref.current);xb(Q,d)}}_.current=!1}),onBlur:G(e.onBlur,()=>m(!1))})})}),vb="RovingFocusGroupItem",yb=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=e,l=Us(),c=o||l,u=SR(vb,r),d=u.currentTabStopId===c,f=mb(r),{onFocusableItemAdd:h,onFocusableItemRemove:v}=u;return p.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),a.jsx(ah.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(re.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:G(e.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:G(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:G(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=CR(x,u.orientation,u.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=f().filter(m=>m.focusable).map(m=>m.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const m=y.indexOf(x.currentTarget);y=u.loop?ER(y,m+1):y.slice(m+1)}setTimeout(()=>xb(y))}})})})});yb.displayName=vb;var jR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function CR(e,t,r){const n=kR(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return jR[n]}function xb(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function ER(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var wb=gb,bb=yb,$p="Tabs",[NR,nF]=gi($p,[xu]),Sb=xu(),[PR,Up]=NR($p),_b=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=vu(l),[f,h]=oi({prop:n,onChange:s,defaultProp:o});return a.jsx(PR,{scope:r,baseId:Us(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:a.jsx(re.div,{dir:d,"data-orientation":i,...u,ref:t})})});_b.displayName=$p;var jb="TabsList",kb=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Up(jb,r),i=Sb(r);return a.jsx(wb,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(re.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});kb.displayName=jb;var Cb="TabsTrigger",Eb=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=Up(Cb,r),l=Sb(r),c=Tb(i.baseId,n),u=Rb(i.baseId,n),d=n===i.value;return a.jsx(bb,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(re.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:G(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:G(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:G(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});Eb.displayName=Cb;var Nb="TabsContent",Pb=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,l=Up(Nb,r),c=Tb(l.baseId,n),u=Rb(l.baseId,n),d=n===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Qs,{present:s||d,children:({present:h})=>a.jsx(re.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});Pb.displayName=Nb;function Tb(e,t){return`${e}-trigger-${t}`}function Rb(e,t){return`${e}-content-${t}`}var TR=_b,Ab=kb,Ob=Eb,Mb=Pb;const zp=TR,wu=p.forwardRef(({className:e,...t},r)=>a.jsx(Ab,{ref:r,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));wu.displayName=Ab.displayName;const jr=p.forwardRef(({className:e,...t},r)=>a.jsx(Ob,{ref:r,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));jr.displayName=Ob.displayName;const kr=p.forwardRef(({className:e,...t},r)=>a.jsx(Mb,{ref:r,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));kr.displayName=Mb.displayName;const RR=gu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ae=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?Zn:"button";return a.jsx(i,{className:ee(RR({variant:t,size:r,className:e})),ref:o,...s})});Ae.displayName="Button";const ue=p.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ue.displayName="Input";var AR="Label",Ib=p.forwardRef((e,t)=>a.jsx(re.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Ib.displayName=AR;var Db=Ib;const OR=gu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$e=p.forwardRef(({className:e,...t},r)=>a.jsx(Db,{ref:r,className:ee(OR(),e),...t}));$e.displayName=Db.displayName;const MR=({email:e,setEmail:t})=>{const[r,n]=p.useState(""),[s,o]=p.useState(!1),{toast:i}=mr(),l=async c=>{c.preventDefault(),o(!0);try{const{user:u,error:d}=await c2(e,r);d&&console.error("Login error:",d)}catch{i({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}};return a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",children:"Email"}),a.jsx(ue,{id:"email",type:"email",value:e,onChange:c=>t(c.target.value),placeholder:"Your email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($e,{htmlFor:"password",children:"Password"}),a.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})]}),a.jsx(ue,{id:"password",type:"password",value:r,onChange:c=>n(c.target.value),placeholder:"Your password",required:!0})]}),a.jsx(Ae,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(na,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]})},IR=()=>{const[e,t]=p.useState(""),[r,n]=p.useState(""),[s,o]=p.useState(""),[i,l]=p.useState("");p.useState("customer");const[c,u]=p.useState(!1),{toast:d}=mr();qs();const f=async h=>{if(h.preventDefault(),!e||!r||!s){d({title:"Missing information",description:"Please fill in all fields",variant:"destructive"});return}if(s!==i){d({title:"Passwords don't match",description:"Please make sure your passwords match",variant:"destructive"});return}u(!0);try{const{user:v,error:x}=await u2(r,s,e);x?d({title:"Registration failed",description:x.message,variant:"destructive"}):(t(""),n(""),o(""),l(""),console.log("Registration successful, redirecting to login page"),window.location.href="/stock2store/login")}catch{d({title:"Registration failed",description:"An unexpected error occurred",variant:"destructive"})}finally{u(!1)}};return a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"name",children:"Name"}),a.jsx(ue,{id:"name",type:"text",value:e,onChange:h=>t(h.target.value),placeholder:"Your name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",children:"Email"}),a.jsx(ue,{id:"email",type:"email",value:r,onChange:h=>n(h.target.value),placeholder:"Your email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"password",children:"Password"}),a.jsx(ue,{id:"password",type:"password",value:s,onChange:h=>o(h.target.value),placeholder:"Create a password",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx(ue,{id:"confirmPassword",type:"password",value:i,onChange:h=>l(h.target.value),placeholder:"Confirm your password",required:!0})]}),a.jsx(Ae,{type:"submit",className:"w-full",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(na,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})},DR=()=>{const[e,t]=p.useState("");return a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(ye,{className:"space-y-1",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"text-3xl font-bold text-blue-700",children:"Stock2Store"})}),a.jsx(xe,{className:"text-2xl text-center",children:"Welcome"}),a.jsx(at,{className:"text-center",children:"Sign in to your account or create a new one"})]}),a.jsx(we,{children:a.jsxs(zp,{defaultValue:"login",className:"w-full",children:[a.jsxs(wu,{className:"grid w-full grid-cols-2",children:[a.jsx(jr,{value:"login",children:"Login"}),a.jsx(jr,{value:"register",children:"Register"})]}),a.jsx(kr,{value:"login",children:a.jsx(MR,{email:e,setEmail:t})}),a.jsx(kr,{value:"register",children:a.jsx(IR,{})})]})}),a.jsx(pb,{className:"flex flex-col space-y-4",children:a.jsx("div",{className:"text-sm text-center text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})},wv=({message:e})=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{children:e})]})}),LR=()=>{const e=qs(),{user:t,loading:r}=Ks(),n=p.useRef(!1);return p.useEffect(()=>{!t&&!r&&(console.log("Cleaning up auth state on login page"),Pr())},[t,r]),p.useEffect(()=>{if(t&&!r&&!n.current){n.current=!0,console.log(`User authenticated with role: ${t.role}, redirecting...`);const o={customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"}[t.role]||"/store";console.log(`Redirecting ${t.role} user to ${o}`),e(o,{replace:!0})}},[t,e,r]),p.useEffect(()=>{t||(n.current=!1)},[t]),r?a.jsx(wv,{message:"Checking authentication status..."}):t?a.jsx(wv,{message:"Redirecting..."}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:a.jsx(DR,{})})};var Bp="Avatar",[FR,sF]=gi(Bp),[$R,Lb]=FR(Bp),Fb=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=p.useState("idle");return a.jsx($R,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(re.span,{...n,ref:t})})});Fb.displayName=Bp;var $b="AvatarImage",Ub=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=Lb($b,r),l=UR(n,o.referrerPolicy),c=ht(u=>{s(u),i.onImageLoadingStatusChange(u)});return lt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(re.img,{...o,ref:t,src:n}):null});Ub.displayName=$b;var zb="AvatarFallback",Bb=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=Lb(zb,r),[i,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(re.span,{...s,ref:t}):null});Bb.displayName=zb;function UR(e,t){const[r,n]=p.useState("idle");return lt(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,i=l=>()=>{s&&n(l)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var Vb=Fb,Wb=Ub,Hb=Bb;const bu=p.forwardRef(({className:e,...t},r)=>a.jsx(Vb,{ref:r,className:ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));bu.displayName=Vb.displayName;const Su=p.forwardRef(({className:e,...t},r)=>a.jsx(Wb,{ref:r,className:ee("aspect-square h-full w-full",e),...t}));Su.displayName=Wb.displayName;const _u=p.forwardRef(({className:e,...t},r)=>a.jsx(Hb,{ref:r,className:ee("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));_u.displayName=Hb.displayName;const zR=({user:e})=>{const[t,r]=p.useState("");p.useEffect(()=>{(async()=>{try{const{data:o,error:i}=await ae.from("profiles").select("avatar_url").eq("id",e.id).single();!i&&(o!=null&&o.avatar_url)&&r(o.avatar_url)}catch(o){console.error("Error fetching avatar:",o)}})()},[e.id]);const n=e.name?e.name.substring(0,2).toUpperCase():e.email?e.email.substring(0,2).toUpperCase():"US";return a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsxs(bu,{children:[a.jsx(Su,{src:t||e.avatar,alt:e.name||"User"}),a.jsx(_u,{children:n})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e.name||e.email||"User"}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.role})]})]})},BR=[{name:"Warehouse",href:"/warehouse",icon:Hr,roles:["admin","warehouse"]},{name:"Store",href:"/store",icon:PT,roles:["admin","customer","analyst","warehouse"]},{name:"Analytics",href:"/analytics",icon:_c,roles:["admin","analyst"]},{name:"Users",href:"/users",icon:Lp,roles:["admin"]},{name:"Shopping Cart",href:"/cart",icon:Dp,roles:["customer","admin"]},{name:"Orders",href:"/orders",icon:xT,roles:["customer","admin"]},{name:"Returns",href:"/returns",icon:Ip,roles:["customer","admin"]},{name:"Profile",href:"/profile",icon:rb,roles:["admin","warehouse","analyst","customer"]},{name:"Settings",href:"/settings",icon:kT,roles:["admin","warehouse","analyst","customer"]}];function VR(e){return BR.filter(t=>t.roles.includes(e))}const WR=({name:e,href:t,icon:r,active:n})=>a.jsxs(zn,{to:t,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${n?"bg-blue-50 text-blue-700 dark:bg-blue-900/50 dark:text-blue-200":"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700/50"}`,children:[a.jsx(r,{size:20,className:`mr-3 ${n?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`}),e]}),HR=({userRole:e})=>{const t=mn(),r=s=>t.pathname===s,n=VR(e);return a.jsx("nav",{className:"space-y-1 mt-4",children:n.map(s=>a.jsx(WR,{name:s.name,href:s.href,icon:s.icon,active:r(s.href)},s.name))})},qR=({user:e,sidebarOpen:t,setSidebarOpen:r,onSignOut:n})=>{const s=()=>({customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"})[e.role]||"/store";return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden ${t?"block":"hidden"}`,onClick:()=>r(!1)}),a.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 shadow-lg transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-50 flex flex-col`,children:[a.jsxs("div",{className:"flex items-center justify-between px-4 h-16 border-b border-gray-200 dark:border-gray-700",children:[a.jsx(zn,{to:s(),className:"flex items-center",children:a.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Stock2Store"})}),a.jsx("button",{className:"lg:hidden",onClick:()=>r(!1),children:a.jsx(nb,{size:24,className:"text-gray-600 dark:text-gray-300"})})]}),a.jsxs("div",{className:"flex-1 px-4 py-4 overflow-y-auto",children:[a.jsx(zR,{user:e}),a.jsx(HR,{userRole:e.role})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:a.jsxs(Ae,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",onClick:n,children:[a.jsx(bT,{size:20,className:"mr-2"}),"Log out"]})})]})]})};var kd=0;function qb(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bv()),document.body.insertAdjacentElement("beforeend",e[1]??bv()),kd++,()=>{kd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),kd--}},[])}function bv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Cd="focusScope.autoFocusOnMount",Ed="focusScope.autoFocusOnUnmount",Sv={bubbles:!1,cancelable:!0},KR="FocusScope",Vp=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=p.useState(null),u=ht(s),d=ht(o),f=p.useRef(null),h=Me(t,g=>c(g)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(b){if(v.paused||!l)return;const S=b.target;l.contains(S)?f.current=S:_n(f.current,{select:!0})},w=function(b){if(v.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||_n(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&_n(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const m=new MutationObserver(y);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),m.disconnect()}}},[n,l,v.paused]),p.useEffect(()=>{if(l){jv.add(v);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Cd,Sv);l.addEventListener(Cd,u),l.dispatchEvent(y),y.defaultPrevented||(GR(ZR(Kb(l)),{select:!0}),document.activeElement===g&&_n(l))}return()=>{l.removeEventListener(Cd,u),setTimeout(()=>{const y=new CustomEvent(Ed,Sv);l.addEventListener(Ed,d),l.dispatchEvent(y),y.defaultPrevented||_n(g??document.body,{select:!0}),l.removeEventListener(Ed,d),jv.remove(v)},0)}}},[l,u,d,v]);const x=p.useCallback(g=>{if(!r&&!n||v.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const m=g.currentTarget,[b,S]=QR(m);b&&S?!g.shiftKey&&y===S?(g.preventDefault(),r&&_n(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&_n(S,{select:!0})):y===m&&g.preventDefault()}},[r,n,v.paused]);return a.jsx(re.div,{tabIndex:-1,...i,ref:h,onKeyDown:x})});Vp.displayName=KR;function GR(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_n(n,{select:t}),document.activeElement!==r)return}function QR(e){const t=Kb(e),r=_v(t,e),n=_v(t.reverse(),e);return[r,n]}function Kb(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _v(e,t){for(const r of e)if(!YR(r,{upTo:t}))return r}function YR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XR(e){return e instanceof HTMLInputElement&&"select"in e}function _n(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&XR(e)&&t&&e.select()}}var jv=JR();function JR(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=kv(e,t),e.unshift(t)},remove(t){var r;e=kv(e,t),(r=e[0])==null||r.resume()}}}function kv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ZR(e){return e.filter(t=>t.tagName!=="A")}const eA=["top","right","bottom","left"],es=Math.min,Qt=Math.max,jc=Math.round,jl=Math.floor,ts=e=>({x:e,y:e}),tA={left:"right",right:"left",bottom:"top",top:"bottom"},rA={start:"end",end:"start"};function lh(e,t,r){return Qt(e,es(t,r))}function fn(e,t){return typeof e=="function"?e(t):e}function hn(e){return e.split("-")[0]}function yi(e){return e.split("-")[1]}function Wp(e){return e==="x"?"y":"x"}function Hp(e){return e==="y"?"height":"width"}function rs(e){return["top","bottom"].includes(hn(e))?"y":"x"}function qp(e){return Wp(rs(e))}function nA(e,t,r){r===void 0&&(r=!1);const n=yi(e),s=qp(e),o=Hp(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=kc(i)),[i,kc(i)]}function sA(e){const t=kc(e);return[ch(e),t,ch(t)]}function ch(e){return e.replace(/start|end/g,t=>rA[t])}function oA(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function iA(e,t,r,n){const s=yi(e);let o=oA(hn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(ch)))),o}function kc(e){return e.replace(/left|right|bottom|top/g,t=>tA[t])}function aA(e){return{top:0,right:0,bottom:0,left:0,...e}}function Gb(e){return typeof e!="number"?aA(e):{top:e,right:e,bottom:e,left:e}}function Cc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Cv(e,t,r){let{reference:n,floating:s}=e;const o=rs(t),i=qp(t),l=Hp(i),c=hn(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let v;switch(c){case"top":v={x:d,y:n.y-s.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-s.width,y:f};break;default:v={x:n.x,y:n.y}}switch(yi(t)){case"start":v[i]-=h*(r&&u?-1:1);break;case"end":v[i]+=h*(r&&u?-1:1);break}return v}const lA=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Cv(u,n,c),h=n,v={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:y}=l[g],{x:m,y:b,data:S,reset:_}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:v,rects:u,platform:i,elements:{reference:e,floating:t}});d=m??d,f=b??f,v={...v,[w]:{...v[w],...S}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=Cv(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:v}};async function Pa(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:v=0}=fn(t,e),x=Gb(v),w=l[h?f==="floating"?"reference":"floating":f],y=Cc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),m=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Cc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:b,strategy:c}):m);return{top:(y.top-_.top+x.top)/S.y,bottom:(_.bottom-y.bottom+x.bottom)/S.y,left:(y.left-_.left+x.left)/S.x,right:(_.right-y.right+x.right)/S.x}}const cA=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=fn(e,t)||{};if(u==null)return{};const f=Gb(d),h={x:r,y:n},v=qp(s),x=Hp(v),g=await i.getDimensions(u),w=v==="y",y=w?"top":"left",m=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=o.reference[x]+o.reference[v]-h[v]-o.floating[x],_=h[v]-o.reference[v],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=N?N[b]:0;(!C||!await(i.isElement==null?void 0:i.isElement(N)))&&(C=l.floating[b]||o.floating[x]);const P=S/2-_/2,I=C/2-g[x]/2-1,M=es(f[y],I),H=es(f[m],I),O=M,$=C-g[x]-H,D=C/2-g[x]/2+P,Q=lh(O,D,$),V=!c.arrow&&yi(s)!=null&&D!==Q&&o.reference[x]/2-(D<O?M:H)-g[x]/2<0,X=V?D<O?D-O:D-$:0;return{[v]:h[v]+X,data:{[v]:Q,centerOffset:D-Q-X,...V&&{alignmentOffset:X}},reset:V}}}),uA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=fn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=hn(s),m=rs(l),b=hn(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!g?[kc(l)]:sA(l)),N=x!=="none";!h&&N&&_.push(...iA(l,g,x,S));const C=[l,..._],P=await Pa(t,w),I=[];let M=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&I.push(P[y]),f){const D=nA(s,i,S);I.push(P[D[0]],P[D[1]])}if(M=[...M,{placement:s,overflows:I}],!I.every(D=>D<=0)){var H,O;const D=(((H=o.flip)==null?void 0:H.index)||0)+1,Q=C[D];if(Q)return{data:{index:D,overflows:M},reset:{placement:Q}};let V=(O=M.filter(X=>X.overflows[0]<=0).sort((X,T)=>X.overflows[1]-T.overflows[1])[0])==null?void 0:O.placement;if(!V)switch(v){case"bestFit":{var $;const X=($=M.filter(T=>{if(N){const R=rs(T.placement);return R===m||R==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(R=>R>0).reduce((R,z)=>R+z,0)]).sort((T,R)=>T[1]-R[1])[0])==null?void 0:$[0];X&&(V=X);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function Ev(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nv(e){return eA.some(t=>e[t]>=0)}const dA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=fn(e,t);switch(n){case"referenceHidden":{const o=await Pa(t,{...s,elementContext:"reference"}),i=Ev(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Nv(i)}}}case"escaped":{const o=await Pa(t,{...s,altBoundary:!0}),i=Ev(o,r.floating);return{data:{escapedOffsets:i,escaped:Nv(i)}}}default:return{}}}}};async function fA(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=hn(r),l=yi(r),c=rs(r)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=fn(t,e);let{mainAxis:h,crossAxis:v,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(v=l==="end"?x*-1:x),c?{x:v*d,y:h*u}:{x:h*u,y:v*d}}const hA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await fA(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},pA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:y,y:m}=w;return{x:y,y:m}}},...c}=fn(e,t),u={x:r,y:n},d=await Pa(t,c),f=rs(hn(s)),h=Wp(f);let v=u[h],x=u[f];if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",m=v+d[w],b=v-d[y];v=lh(m,v,b)}if(i){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",m=x+d[w],b=x-d[y];x=lh(m,x,b)}const g=l.fn({...t,[h]:v,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:o,[f]:i}}}}}},mA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=fn(e,t),d={x:r,y:n},f=rs(s),h=Wp(f);let v=d[h],x=d[f];const g=fn(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",S=o.reference[h]-o.floating[b]+w.mainAxis,_=o.reference[h]+o.reference[b]-w.mainAxis;v<S?v=S:v>_&&(v=_)}if(u){var y,m;const b=h==="y"?"width":"height",S=["top","left"].includes(hn(s)),_=o.reference[f]-o.floating[b]+(S&&((y=i.offset)==null?void 0:y[f])||0)+(S?0:w.crossAxis),N=o.reference[f]+o.reference[b]+(S?0:((m=i.offset)==null?void 0:m[f])||0)-(S?w.crossAxis:0);x<_?x=_:x>N&&(x=N)}return{[h]:v,[f]:x}}}},gA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=fn(e,t),d=await Pa(t,u),f=hn(s),h=yi(s),v=rs(s)==="y",{width:x,height:g}=o.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,w=h==="end"?"top":"bottom");const m=g-d.top-d.bottom,b=x-d.left-d.right,S=es(g-d[w],m),_=es(x-d[y],b),N=!t.middlewareData.shift;let C=S,P=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=m),N&&!h){const M=Qt(d.left,0),H=Qt(d.right,0),O=Qt(d.top,0),$=Qt(d.bottom,0);v?P=x-2*(M!==0||H!==0?M+H:Qt(d.left,d.right)):C=g-2*(O!==0||$!==0?O+$:Qt(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:C});const I=await i.getDimensions(l.floating);return x!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function ju(){return typeof window<"u"}function xi(e){return Qb(e)?(e.nodeName||"").toLowerCase():"#document"}function Zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yr(e){var t;return(t=(Qb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Qb(e){return ju()?e instanceof Node||e instanceof Zt(e).Node:!1}function Ar(e){return ju()?e instanceof Element||e instanceof Zt(e).Element:!1}function Qr(e){return ju()?e instanceof HTMLElement||e instanceof Zt(e).HTMLElement:!1}function Pv(e){return!ju()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zt(e).ShadowRoot}function Ka(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Or(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function vA(e){return["table","td","th"].includes(xi(e))}function ku(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Kp(e){const t=Gp(),r=Ar(e)?Or(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function yA(e){let t=ns(e);for(;Qr(t)&&!ii(t);){if(Kp(t))return t;if(ku(t))return null;t=ns(t)}return null}function Gp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ii(e){return["html","body","#document"].includes(xi(e))}function Or(e){return Zt(e).getComputedStyle(e)}function Cu(e){return Ar(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ns(e){if(xi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pv(e)&&e.host||Yr(e);return Pv(t)?t.host:t}function Yb(e){const t=ns(e);return ii(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qr(t)&&Ka(t)?t:Yb(t)}function Ta(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Yb(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Zt(s);if(o){const l=uh(i);return t.concat(i,i.visualViewport||[],Ka(s)?s:[],l&&r?Ta(l):[])}return t.concat(s,Ta(s,[],r))}function uh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Xb(e){const t=Or(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Qr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=jc(r)!==o||jc(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Qp(e){return Ar(e)?e:e.contextElement}function Mo(e){const t=Qp(e);if(!Qr(t))return ts(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=Xb(t);let i=(o?jc(r.width):r.width)/n,l=(o?jc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const xA=ts(0);function Jb(e){const t=Zt(e);return!Gp()||!t.visualViewport?xA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wA(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Zt(e)?!1:t}function zs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Qp(e);let i=ts(1);t&&(n?Ar(n)&&(i=Mo(n)):i=Mo(e));const l=wA(o,r,n)?Jb(o):ts(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=Zt(o),v=n&&Ar(n)?Zt(n):n;let x=h,g=uh(x);for(;g&&n&&v!==x;){const w=Mo(g),y=g.getBoundingClientRect(),m=Or(g),b=y.left+(g.clientLeft+parseFloat(m.paddingLeft))*w.x,S=y.top+(g.clientTop+parseFloat(m.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=S,x=Zt(g),g=uh(x)}}return Cc({width:d,height:f,x:c,y:u})}function bA(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Yr(n),l=t?ku(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=ts(1);const d=ts(0),f=Qr(n);if((f||!f&&!o)&&((xi(n)!=="body"||Ka(i))&&(c=Cu(n)),Qr(n))){const h=zs(n);u=Mo(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function SA(e){return Array.from(e.getClientRects())}function dh(e,t){const r=Cu(e).scrollLeft;return t?t.left+r:zs(Yr(e)).left+r}function _A(e){const t=Yr(e),r=Cu(e),n=e.ownerDocument.body,s=Qt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Qt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+dh(e);const l=-r.scrollTop;return Or(n).direction==="rtl"&&(i+=Qt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function jA(e,t){const r=Zt(e),n=Yr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Gp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function kA(e,t){const r=zs(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Qr(e)?Mo(e):ts(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function Tv(e,t,r){let n;if(t==="viewport")n=jA(e,r);else if(t==="document")n=_A(Yr(e));else if(Ar(t))n=kA(t,r);else{const s=Jb(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Cc(n)}function Zb(e,t){const r=ns(e);return r===t||!Ar(r)||ii(r)?!1:Or(r).position==="fixed"||Zb(r,t)}function CA(e,t){const r=t.get(e);if(r)return r;let n=Ta(e,[],!1).filter(l=>Ar(l)&&xi(l)!=="body"),s=null;const o=Or(e).position==="fixed";let i=o?ns(e):e;for(;Ar(i)&&!ii(i);){const l=Or(i),c=Kp(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ka(i)&&!c&&Zb(e,i))?n=n.filter(d=>d!==i):s=l,i=ns(i)}return t.set(e,n),n}function EA(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?ku(t)?[]:CA(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=Tv(t,d,s);return u.top=Qt(f.top,u.top),u.right=es(f.right,u.right),u.bottom=es(f.bottom,u.bottom),u.left=Qt(f.left,u.left),u},Tv(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function NA(e){const{width:t,height:r}=Xb(e);return{width:t,height:r}}function PA(e,t,r){const n=Qr(t),s=Yr(t),o=r==="fixed",i=zs(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=ts(0);if(n||!n&&!o)if((xi(t)!=="body"||Ka(s))&&(l=Cu(t)),n){const v=zs(t,!0,o,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else s&&(c.x=dh(s));let u=0,d=0;if(s&&!n&&!o){const v=s.getBoundingClientRect();d=v.top+l.scrollTop,u=v.left+l.scrollLeft-dh(s,v)}const f=i.left+l.scrollLeft-c.x-u,h=i.top+l.scrollTop-c.y-d;return{x:f,y:h,width:i.width,height:i.height}}function Nd(e){return Or(e).position==="static"}function Rv(e,t){if(!Qr(e)||Or(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Yr(e)===r&&(r=r.ownerDocument.body),r}function e1(e,t){const r=Zt(e);if(ku(e))return r;if(!Qr(e)){let s=ns(e);for(;s&&!ii(s);){if(Ar(s)&&!Nd(s))return s;s=ns(s)}return r}let n=Rv(e,t);for(;n&&vA(n)&&Nd(n);)n=Rv(n,t);return n&&ii(n)&&Nd(n)&&!Kp(n)?r:n||yA(e)||r}const TA=async function(e){const t=this.getOffsetParent||e1,r=this.getDimensions,n=await r(e.floating);return{reference:PA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function RA(e){return Or(e).direction==="rtl"}const AA={convertOffsetParentRelativeRectToViewportRelativeRect:bA,getDocumentElement:Yr,getClippingRect:EA,getOffsetParent:e1,getElementRects:TA,getClientRects:SA,getDimensions:NA,getScale:Mo,isElement:Ar,isRTL:RA};function OA(e,t){let r=null,n;const s=Yr(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const v=jl(d),x=jl(s.clientWidth-(u+f)),g=jl(s.clientHeight-(d+h)),w=jl(u),m={rootMargin:-v+"px "+-x+"px "+-g+"px "+-w+"px",threshold:Qt(0,es(1,c))||1};let b=!0;function S(_){const N=_[0].intersectionRatio;if(N!==c){if(!b)return i();N?i(!1,N):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(S,{...m,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,m)}r.observe(e)}return i(!0),o}function MA(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Qp(e),d=s||o?[...u?Ta(u):[],...Ta(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const f=u&&l?OA(u,r):null;let h=-1,v=null;i&&(v=new ResizeObserver(y=>{let[m]=y;m&&m.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(t)})),r()}),u&&!c&&v.observe(u),v.observe(t));let x,g=c?zs(e):null;c&&w();function w(){const y=zs(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&r(),g=y,x=requestAnimationFrame(w)}return r(),()=>{var y;d.forEach(m=>{s&&m.removeEventListener("scroll",r),o&&m.removeEventListener("resize",r)}),f==null||f(),(y=v)==null||y.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const IA=hA,DA=pA,LA=uA,FA=gA,$A=dA,Av=cA,UA=mA,zA=(e,t,r)=>{const n=new Map,s={platform:AA,...r},o={...s.platform,_c:n};return lA(e,t,{...s,platform:o})};var Wl=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Ec(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ec(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Ec(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function t1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ov(e,t){const r=t1(e);return Math.round(t*r)/r}function Pd(e){const t=p.useRef(e);return Wl(()=>{t.current=e}),t}function BA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,v]=p.useState(n);Ec(h,n)||v(n);const[x,g]=p.useState(null),[w,y]=p.useState(null),m=p.useCallback(T=>{T!==N.current&&(N.current=T,g(T))},[]),b=p.useCallback(T=>{T!==C.current&&(C.current=T,y(T))},[]),S=o||x,_=i||w,N=p.useRef(null),C=p.useRef(null),P=p.useRef(d),I=c!=null,M=Pd(c),H=Pd(s),O=Pd(u),$=p.useCallback(()=>{if(!N.current||!C.current)return;const T={placement:t,strategy:r,middleware:h};H.current&&(T.platform=H.current),zA(N.current,C.current,T).then(R=>{const z={...R,isPositioned:O.current!==!1};D.current&&!Ec(P.current,z)&&(P.current=z,Hs.flushSync(()=>{f(z)}))})},[h,t,r,H,O]);Wl(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const D=p.useRef(!1);Wl(()=>(D.current=!0,()=>{D.current=!1}),[]),Wl(()=>{if(S&&(N.current=S),_&&(C.current=_),S&&_){if(M.current)return M.current(S,_,$);$()}},[S,_,$,M,I]);const Q=p.useMemo(()=>({reference:N,floating:C,setReference:m,setFloating:b}),[m,b]),V=p.useMemo(()=>({reference:S,floating:_}),[S,_]),X=p.useMemo(()=>{const T={position:r,left:0,top:0};if(!V.floating)return T;const R=Ov(V.floating,d.x),z=Ov(V.floating,d.y);return l?{...T,transform:"translate("+R+"px, "+z+"px)",...t1(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:z}},[r,l,V.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:$,refs:Q,elements:V,floatingStyles:X}),[d,$,Q,V,X])}const VA=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Av({element:n.current,padding:s}).fn(r):{}:n?Av({element:n,padding:s}).fn(r):{}}}},WA=(e,t)=>({...IA(e),options:[e,t]}),HA=(e,t)=>({...DA(e),options:[e,t]}),qA=(e,t)=>({...UA(e),options:[e,t]}),KA=(e,t)=>({...LA(e),options:[e,t]}),GA=(e,t)=>({...FA(e),options:[e,t]}),QA=(e,t)=>({...$A(e),options:[e,t]}),YA=(e,t)=>({...VA(e),options:[e,t]});var XA="Arrow",r1=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(re.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});r1.displayName=XA;var JA=r1;function ZA(e,t=[]){let r=[];function n(o,i){const l=p.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:v,...x}=f,g=(h==null?void 0:h[e][c])||l,w=p.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||l,x=p.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,eO(s,...t)]}function eO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function tO(e){const[t,r]=p.useState(void 0);return lt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Yp="Popper",[n1,Eu]=ZA(Yp),[rO,s1]=n1(Yp),o1=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return a.jsx(rO,{scope:t,anchor:n,onAnchorChange:s,children:r})};o1.displayName=Yp;var i1="PopperAnchor",a1=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=s1(i1,r),i=p.useRef(null),l=Me(t,i);return p.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(re.div,{...s,ref:l})});a1.displayName=i1;var Xp="PopperContent",[nO,sO]=n1(Xp),l1=p.forwardRef((e,t)=>{var Y,ve,ke,be,Se,_e;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:x,...g}=e,w=s1(Xp,r),[y,m]=p.useState(null),b=Me(t,pt=>m(pt)),[S,_]=p.useState(null),N=tO(S),C=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,I=n+(o!=="center"?"-"+o:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},H=Array.isArray(u)?u:[u],O=H.length>0,$={padding:M,boundary:H.filter(iO),altBoundary:O},{refs:D,floatingStyles:Q,placement:V,isPositioned:X,middlewareData:T}=BA({strategy:"fixed",placement:I,whileElementsMounted:(...pt)=>MA(...pt,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[WA({mainAxis:s+P,alignmentAxis:i}),c&&HA({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qA():void 0,...$}),c&&KA({...$}),GA({...$,apply:({elements:pt,rects:Wt,availableWidth:Js,availableHeight:Zs})=>{const{width:eo,height:j}=Wt.reference,E=pt.floating.style;E.setProperty("--radix-popper-available-width",`${Js}px`),E.setProperty("--radix-popper-available-height",`${Zs}px`),E.setProperty("--radix-popper-anchor-width",`${eo}px`),E.setProperty("--radix-popper-anchor-height",`${j}px`)}}),S&&YA({element:S,padding:l}),aO({arrowWidth:C,arrowHeight:P}),h&&QA({strategy:"referenceHidden",...$})]}),[R,z]=d1(V),J=ht(x);lt(()=>{X&&(J==null||J())},[X,J]);const ie=(Y=T.arrow)==null?void 0:Y.x,Ge=(ve=T.arrow)==null?void 0:ve.y,Te=((ke=T.arrow)==null?void 0:ke.centerOffset)!==0,[wt,Ie]=p.useState();return lt(()=>{y&&Ie(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:X?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:wt,"--radix-popper-transform-origin":[(be=T.transformOrigin)==null?void 0:be.x,(Se=T.transformOrigin)==null?void 0:Se.y].join(" "),...((_e=T.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(nO,{scope:r,placedSide:R,onArrowChange:_,arrowX:ie,arrowY:Ge,shouldHideArrow:Te,children:a.jsx(re.div,{"data-side":R,"data-align":z,...g,ref:b,style:{...g.style,animation:X?void 0:"none"}})})})});l1.displayName=Xp;var c1="PopperArrow",oO={top:"bottom",right:"left",bottom:"top",left:"right"},u1=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=sO(c1,n),i=oO[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(JA,{...s,ref:r,style:{...s.style,display:"block"}})})});u1.displayName=c1;function iO(e){return e!==null}var aO=e=>({name:"transformOrigin",options:e,fn(t){var w,y,m;const{placement:r,rects:n,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=d1(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,v=(((m=s.arrow)==null?void 0:m.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=i?f:`${h}px`,g=`${-c}px`):u==="top"?(x=i?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=i?f:`${v}px`):u==="left"&&(x=`${n.floating.width+c}px`,g=i?f:`${v}px`),{data:{x,y:g}}}});function d1(e){const[t,r="center"]=e.split("-");return[t,r]}var f1=o1,h1=a1,p1=l1,m1=u1,lO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},oo=new WeakMap,kl=new WeakMap,Cl={},Td=0,g1=function(e){return e&&(e.host||g1(e.parentNode))},cO=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=g1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},uO=function(e,t,r,n){var s=cO(t,Array.isArray(e)?e:[e]);Cl[r]||(Cl[r]=new WeakMap);var o=Cl[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var v=h.getAttribute(n),x=v!==null&&v!=="false",g=(oo.get(h)||0)+1,w=(o.get(h)||0)+1;oo.set(h,g),o.set(h,w),i.push(h),g===1&&x&&kl.set(h,!0),w===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Td++,function(){i.forEach(function(f){var h=oo.get(f)-1,v=o.get(f)-1;oo.set(f,h),o.set(f,v),h||(kl.has(f)||f.removeAttribute(n),kl.delete(f)),v||f.removeAttribute(r)}),Td--,Td||(oo=new WeakMap,oo=new WeakMap,kl=new WeakMap,Cl={})}},v1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=lO(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),uO(n,s,r,"aria-hidden")):function(){return null}},Wr=function(){return Wr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Wr.apply(this,arguments)};function y1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function dO(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Hl="right-scroll-bar-position",ql="width-before-scroll-bar",fO="with-scroll-bars-hidden",hO="--removed-body-scroll-bar-size";function Rd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pO(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var mO=typeof window<"u"?p.useLayoutEffect:p.useEffect,Mv=new WeakMap;function gO(e,t){var r=pO(null,function(n){return e.forEach(function(s){return Rd(s,n)})});return mO(function(){var n=Mv.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||Rd(l,null)}),o.forEach(function(l){s.has(l)||Rd(l,i)})}Mv.set(r,e)},[e]),r}function vO(e){return e}function yO(e,t){t===void 0&&(t=vO);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function xO(e){e===void 0&&(e={});var t=yO(null);return t.options=Wr({async:!0,ssr:!1},e),t}var x1=function(e){var t=e.sideCar,r=y1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Wr({},r))};x1.isSideCarExport=!0;function wO(e,t){return e.useMedium(t),x1}var w1=xO(),Ad=function(){},Nu=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Ad,onWheelCapture:Ad,onTouchMoveCapture:Ad}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,v=e.noIsolation,x=e.inert,g=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,m=e.gapMode,b=y1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=gO([r,t]),N=Wr(Wr({},b),s);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:w1,removeScrollBar:u,shards:f,noIsolation:v,inert:x,setCallbacks:o,allowPinchZoom:!!g,lockRef:r,gapMode:m}),i?p.cloneElement(p.Children.only(l),Wr(Wr({},N),{ref:_})):p.createElement(y,Wr({},N,{className:c,ref:_}),l))});Nu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nu.classNames={fullWidth:ql,zeroRight:Hl};var bO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bO();return t&&e.setAttribute("nonce",t),e}function _O(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kO=function(){var e=0,t=null;return{add:function(r){e==0&&(t=SO())&&(_O(t,r),jO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},CO=function(){var e=kO();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},b1=function(){var e=CO(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},EO={left:0,top:0,right:0,gap:0},Od=function(e){return parseInt(e||"",10)||0},NO=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Od(r),Od(n),Od(s)]},PO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return EO;var t=NO(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},TO=b1(),Io="data-scroll-locked",RO=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(fO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Io,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hl,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ql,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Hl," .").concat(Hl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ql," .").concat(ql,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Io,`] {
    `).concat(hO,": ").concat(l,`px;
  }
`)},Iv=function(){var e=parseInt(document.body.getAttribute(Io)||"0",10);return isFinite(e)?e:0},AO=function(){p.useEffect(function(){return document.body.setAttribute(Io,(Iv()+1).toString()),function(){var e=Iv()-1;e<=0?document.body.removeAttribute(Io):document.body.setAttribute(Io,e.toString())}},[])},OO=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;AO();var o=p.useMemo(function(){return PO(s)},[s]);return p.createElement(TO,{styles:RO(o,!t,s,r?"":"!important")})},fh=!1;if(typeof window<"u")try{var El=Object.defineProperty({},"passive",{get:function(){return fh=!0,!0}});window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{fh=!1}var io=fh?{passive:!1}:!1,MO=function(e){return e.tagName==="TEXTAREA"},S1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!MO(e)&&r[t]==="visible")},IO=function(e){return S1(e,"overflowY")},DO=function(e){return S1(e,"overflowX")},Dv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=_1(e,n);if(s){var o=j1(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},LO=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},FO=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},_1=function(e,t){return e==="v"?IO(t):DO(t)},j1=function(e,t){return e==="v"?LO(t):FO(t)},$O=function(e,t){return e==="h"&&t==="rtl"?-1:1},UO=function(e,t,r,n,s){var o=$O(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var v=j1(e,l),x=v[0],g=v[1],w=v[2],y=g-w-o*x;(x||y)&&_1(e,l)&&(f+=y,h+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Nl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Lv=function(e){return[e.deltaX,e.deltaY]},Fv=function(e){return e&&"current"in e?e.current:e},zO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},BO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},VO=0,ao=[];function WO(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(VO++)[0],o=p.useState(b1)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=dO([e.lockRef.current],(e.shards||[]).map(Fv),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=Nl(g),m=r.current,b="deltaX"in g?g.deltaX:m[0]-y[0],S="deltaY"in g?g.deltaY:m[1]-y[1],_,N=g.target,C=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&C==="h"&&N.type==="range")return!1;var P=Dv(C,N);if(!P)return!0;if(P?_=C:(_=C==="v"?"h":"v",P=Dv(C,N)),!P)return!1;if(!n.current&&"changedTouches"in g&&(b||S)&&(n.current=_),!_)return!0;var I=n.current||_;return UO(I,w,g,I==="h"?b:S,!0)},[]),c=p.useCallback(function(g){var w=g;if(!(!ao.length||ao[ao.length-1]!==o)){var y="deltaY"in w?Lv(w):Nl(w),m=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&zO(_.delta,y)})[0];if(m&&m.should){w.cancelable&&w.preventDefault();return}if(!m){var b=(i.current.shards||[]).map(Fv).filter(Boolean).filter(function(_){return _.contains(w.target)}),S=b.length>0?l(w,b[0]):!i.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(g,w,y,m){var b={name:g,delta:w,target:y,should:m,shadowParent:HO(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=p.useCallback(function(g){r.current=Nl(g),n.current=void 0},[]),f=p.useCallback(function(g){u(g.type,Lv(g),g.target,l(g,e.lockRef.current))},[]),h=p.useCallback(function(g){u(g.type,Nl(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return ao.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,io),document.addEventListener("touchmove",c,io),document.addEventListener("touchstart",d,io),function(){ao=ao.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,io),document.removeEventListener("touchmove",c,io),document.removeEventListener("touchstart",d,io)}},[]);var v=e.removeScrollBar,x=e.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:BO(s)}):null,v?p.createElement(OO,{gapMode:e.gapMode}):null)}function HO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qO=wO(w1,WO);var Jp=p.forwardRef(function(e,t){return p.createElement(Nu,Wr({},e,{ref:t,sideCar:qO}))});Jp.classNames=Nu.classNames;var hh=["Enter"," "],KO=["ArrowDown","PageUp","Home"],k1=["ArrowUp","PageDown","End"],GO=[...KO,...k1],QO={ltr:[...hh,"ArrowRight"],rtl:[...hh,"ArrowLeft"]},YO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ga="Menu",[Ra,XO,JO]=uu(Ga),[Ys,C1]=gi(Ga,[JO,Eu,xu]),Pu=Eu(),E1=xu(),[ZO,Xs]=Ys(Ga),[eM,Qa]=Ys(Ga),N1=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,l=Pu(t),[c,u]=p.useState(null),d=p.useRef(!1),f=ht(o),h=vu(s);return p.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),a.jsx(f1,{...l,children:a.jsx(ZO,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(eM,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};N1.displayName=Ga;var tM="MenuAnchor",Zp=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Pu(r);return a.jsx(h1,{...s,...n,ref:t})});Zp.displayName=tM;var em="MenuPortal",[rM,P1]=Ys(em,{forceMount:void 0}),T1=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Xs(em,t);return a.jsx(rM,{scope:t,forceMount:r,children:a.jsx(Qs,{present:r||o.open,children:a.jsx(fu,{asChild:!0,container:s,children:n})})})};T1.displayName=em;var dr="MenuContent",[nM,tm]=Ys(dr),R1=p.forwardRef((e,t)=>{const r=P1(dr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Xs(dr,e.__scopeMenu),i=Qa(dr,e.__scopeMenu);return a.jsx(Ra.Provider,{scope:e.__scopeMenu,children:a.jsx(Qs,{present:n||o.open,children:a.jsx(Ra.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(sM,{...s,ref:t}):a.jsx(oM,{...s,ref:t})})})})}),sM=p.forwardRef((e,t)=>{const r=Xs(dr,e.__scopeMenu),n=p.useRef(null),s=Me(t,n);return p.useEffect(()=>{const o=n.current;if(o)return v1(o)},[]),a.jsx(rm,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:G(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),oM=p.forwardRef((e,t)=>{const r=Xs(dr,e.__scopeMenu);return a.jsx(rm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),rm=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,disableOutsideScroll:x,...g}=e,w=Xs(dr,r),y=Qa(dr,r),m=Pu(r),b=E1(r),S=XO(r),[_,N]=p.useState(null),C=p.useRef(null),P=Me(t,C,w.onContentChange),I=p.useRef(0),M=p.useRef(""),H=p.useRef(0),O=p.useRef(null),$=p.useRef("right"),D=p.useRef(0),Q=x?Jp:p.Fragment,V=x?{as:Zn,allowPinchZoom:!0}:void 0,X=R=>{var Y,ve;const z=M.current+R,J=S().filter(ke=>!ke.disabled),ie=document.activeElement,Ge=(Y=J.find(ke=>ke.ref.current===ie))==null?void 0:Y.textValue,Te=J.map(ke=>ke.textValue),wt=vM(Te,z,Ge),Ie=(ve=J.find(ke=>ke.textValue===wt))==null?void 0:ve.ref.current;(function ke(be){M.current=be,window.clearTimeout(I.current),be!==""&&(I.current=window.setTimeout(()=>ke(""),1e3))})(z),Ie&&setTimeout(()=>Ie.focus())};p.useEffect(()=>()=>window.clearTimeout(I.current),[]),qb();const T=p.useCallback(R=>{var J,ie;return $.current===((J=O.current)==null?void 0:J.side)&&xM(R,(ie=O.current)==null?void 0:ie.area)},[]);return a.jsx(nM,{scope:r,searchRef:M,onItemEnter:p.useCallback(R=>{T(R)&&R.preventDefault()},[T]),onItemLeave:p.useCallback(R=>{var z;T(R)||((z=C.current)==null||z.focus(),N(null))},[T]),onTriggerLeave:p.useCallback(R=>{T(R)&&R.preventDefault()},[T]),pointerGraceTimerRef:H,onPointerGraceIntentChange:p.useCallback(R=>{O.current=R},[]),children:a.jsx(Q,{...V,children:a.jsx(Vp,{asChild:!0,trapped:s,onMountAutoFocus:G(o,R=>{var z;R.preventDefault(),(z=C.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(du,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,children:a.jsx(wb,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:N,onEntryFocus:G(c,R=>{y.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(p1,{role:"menu","aria-orientation":"vertical","data-state":K1(w.open),"data-radix-menu-content":"",dir:y.dir,...m,...g,ref:P,style:{outline:"none",...g.style},onKeyDown:G(g.onKeyDown,R=>{const J=R.target.closest("[data-radix-menu-content]")===R.currentTarget,ie=R.ctrlKey||R.altKey||R.metaKey,Ge=R.key.length===1;J&&(R.key==="Tab"&&R.preventDefault(),!ie&&Ge&&X(R.key));const Te=C.current;if(R.target!==Te||!GO.includes(R.key))return;R.preventDefault();const Ie=S().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);k1.includes(R.key)&&Ie.reverse(),mM(Ie)}),onBlur:G(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(I.current),M.current="")}),onPointerMove:G(e.onPointerMove,Aa(R=>{const z=R.target,J=D.current!==R.clientX;if(R.currentTarget.contains(z)&&J){const ie=R.clientX>D.current?"right":"left";$.current=ie,D.current=R.clientX}}))})})})})})})});R1.displayName=dr;var iM="MenuGroup",nm=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(re.div,{role:"group",...n,ref:t})});nm.displayName=iM;var aM="MenuLabel",A1=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(re.div,{...n,ref:t})});A1.displayName=aM;var Nc="MenuItem",$v="menu.itemSelect",Tu=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=p.useRef(null),i=Qa(Nc,e.__scopeMenu),l=tm(Nc,e.__scopeMenu),c=Me(t,o),u=p.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const h=new CustomEvent($v,{bubbles:!0,cancelable:!0});f.addEventListener($v,v=>n==null?void 0:n(v),{once:!0}),Tp(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(O1,{...s,ref:c,disabled:r,onClick:G(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:G(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:G(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||hh.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Tu.displayName=Nc;var O1=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=tm(Nc,r),l=E1(r),c=p.useRef(null),u=Me(t,c),[d,f]=p.useState(!1),[h,v]=p.useState("");return p.useEffect(()=>{const x=c.current;x&&v((x.textContent??"").trim())},[o.children]),a.jsx(Ra.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(bb,{asChild:!0,...l,focusable:!n,children:a.jsx(re.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:G(e.onPointerMove,Aa(x=>{n?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:G(e.onPointerLeave,Aa(x=>i.onItemLeave(x))),onFocus:G(e.onFocus,()=>f(!0)),onBlur:G(e.onBlur,()=>f(!1))})})})}),lM="MenuCheckboxItem",M1=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx($1,{scope:e.__scopeMenu,checked:r,children:a.jsx(Tu,{role:"menuitemcheckbox","aria-checked":Pc(r)?"mixed":r,...s,ref:t,"data-state":om(r),onSelect:G(s.onSelect,()=>n==null?void 0:n(Pc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});M1.displayName=lM;var I1="MenuRadioGroup",[cM,uM]=Ys(I1,{value:void 0,onValueChange:()=>{}}),D1=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=ht(n);return a.jsx(cM,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(nm,{...s,ref:t})})});D1.displayName=I1;var L1="MenuRadioItem",F1=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=uM(L1,e.__scopeMenu),o=r===s.value;return a.jsx($1,{scope:e.__scopeMenu,checked:o,children:a.jsx(Tu,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":om(o),onSelect:G(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});F1.displayName=L1;var sm="MenuItemIndicator",[$1,dM]=Ys(sm,{checked:!1}),U1=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=dM(sm,r);return a.jsx(Qs,{present:n||Pc(o.checked)||o.checked===!0,children:a.jsx(re.span,{...s,ref:t,"data-state":om(o.checked)})})});U1.displayName=sm;var fM="MenuSeparator",z1=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(re.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});z1.displayName=fM;var hM="MenuArrow",B1=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Pu(r);return a.jsx(m1,{...s,...n,ref:t})});B1.displayName=hM;var pM="MenuSub",[oF,V1]=Ys(pM),Bi="MenuSubTrigger",W1=p.forwardRef((e,t)=>{const r=Xs(Bi,e.__scopeMenu),n=Qa(Bi,e.__scopeMenu),s=V1(Bi,e.__scopeMenu),o=tm(Bi,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Zp,{asChild:!0,...u,children:a.jsx(O1,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":K1(r.open),...e,ref:cu(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:G(e.onPointerMove,Aa(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:G(e.onPointerLeave,Aa(f=>{var v,x;d();const h=(v=r.content)==null?void 0:v.getBoundingClientRect();if(h){const g=(x=r.content)==null?void 0:x.dataset.side,w=g==="right",y=w?-5:5,m=h[w?"left":"right"],b=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:m,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:m,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:G(e.onKeyDown,f=>{var v;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||QO[n.dir].includes(f.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),f.preventDefault())})})})});W1.displayName=Bi;var H1="MenuSubContent",q1=p.forwardRef((e,t)=>{const r=P1(dr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Xs(dr,e.__scopeMenu),i=Qa(dr,e.__scopeMenu),l=V1(H1,e.__scopeMenu),c=p.useRef(null),u=Me(t,c);return a.jsx(Ra.Provider,{scope:e.__scopeMenu,children:a.jsx(Qs,{present:n||o.open,children:a.jsx(Ra.Slot,{scope:e.__scopeMenu,children:a.jsx(rm,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:G(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:G(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:G(e.onKeyDown,d=>{var v;const f=d.currentTarget.contains(d.target),h=YO[i.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(v=l.trigger)==null||v.focus(),d.preventDefault())})})})})})});q1.displayName=H1;function K1(e){return e?"open":"closed"}function Pc(e){return e==="indeterminate"}function om(e){return Pc(e)?"indeterminate":e?"checked":"unchecked"}function mM(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function gM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function vM(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=gM(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function yM(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function xM(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return yM(r,t)}function Aa(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wM=N1,bM=Zp,SM=T1,_M=R1,jM=nm,kM=A1,CM=Tu,EM=M1,NM=D1,PM=F1,TM=U1,RM=z1,AM=B1,OM=W1,MM=q1,im="DropdownMenu",[IM,iF]=gi(im,[C1]),At=C1(),[DM,G1]=IM(im),Q1=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=At(t),u=p.useRef(null),[d=!1,f]=oi({prop:s,defaultProp:o,onChange:i});return a.jsx(DM,{scope:t,triggerId:Us(),triggerRef:u,contentId:Us(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(wM,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};Q1.displayName=im;var Y1="DropdownMenuTrigger",X1=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=G1(Y1,r),i=At(r);return a.jsx(bM,{asChild:!0,...i,children:a.jsx(re.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:cu(t,o.triggerRef),onPointerDown:G(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:G(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});X1.displayName=Y1;var LM="DropdownMenuPortal",J1=e=>{const{__scopeDropdownMenu:t,...r}=e,n=At(t);return a.jsx(SM,{...n,...r})};J1.displayName=LM;var Z1="DropdownMenuContent",eS=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=G1(Z1,r),o=At(r),i=p.useRef(!1);return a.jsx(_M,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:G(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:G(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eS.displayName=Z1;var FM="DropdownMenuGroup",$M=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=At(r);return a.jsx(jM,{...s,...n,ref:t})});$M.displayName=FM;var UM="DropdownMenuLabel",tS=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=At(r);return a.jsx(kM,{...s,...n,ref:t})});tS.displayName=UM;var zM="DropdownMenuItem",rS=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=At(r);return a.jsx(CM,{...s,...n,ref:t})});rS.displayName=zM;var BM="DropdownMenuCheckboxItem",nS=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=At(r);return a.jsx(EM,{...s,...n,ref:t})});nS.displayName=BM;var VM="DropdownMenuRadioGroup",WM=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=At(r);return a.jsx(NM,{...s,...n,ref:t})});WM.displayName=VM;var HM="DropdownMenuRadioItem",sS=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=At(r);return a.jsx(PM,{...s,...n,ref:t})});sS.displayName=HM;var qM="DropdownMenuItemIndicator",oS=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=At(r);return a.jsx(TM,{...s,...n,ref:t})});oS.displayName=qM;var KM="DropdownMenuSeparator",iS=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=At(r);return a.jsx(RM,{...s,...n,ref:t})});iS.displayName=KM;var GM="DropdownMenuArrow",QM=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=At(r);return a.jsx(AM,{...s,...n,ref:t})});QM.displayName=GM;var YM="DropdownMenuSubTrigger",aS=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=At(r);return a.jsx(OM,{...s,...n,ref:t})});aS.displayName=YM;var XM="DropdownMenuSubContent",lS=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=At(r);return a.jsx(MM,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lS.displayName=XM;var JM=Q1,ZM=X1,eI=J1,cS=eS,uS=tS,dS=rS,fS=nS,hS=sS,pS=oS,mS=iS,gS=aS,vS=lS;const tI=JM,rI=ZM,nI=p.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(gS,{ref:s,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(pT,{className:"ml-auto h-4 w-4"})]}));nI.displayName=gS.displayName;const sI=p.forwardRef(({className:e,...t},r)=>a.jsx(vS,{ref:r,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));sI.displayName=vS.displayName;const yS=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(eI,{children:a.jsx(cS,{ref:n,sideOffset:t,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));yS.displayName=cS.displayName;const fo=p.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(dS,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));fo.displayName=dS.displayName;const oI=p.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(fS,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(pS,{children:a.jsx(Mp,{className:"h-4 w-4"})})}),t]}));oI.displayName=fS.displayName;const iI=p.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(hS,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(pS,{children:a.jsx(gT,{className:"h-2 w-2 fill-current"})})}),t]}));iI.displayName=hS.displayName;const xS=p.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(uS,{ref:n,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));xS.displayName=uS.displayName;const ph=p.forwardRef(({className:e,...t},r)=>a.jsx(mS,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));ph.displayName=mS.displayName;const aI=({user:e,setSidebarOpen:t,onSignOut:r})=>a.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 w-full",children:a.jsxs("div",{className:"w-full flex justify-between items-center h-16 px-4 md:px-6",children:[a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsx("button",{className:"lg:hidden text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 mr-4",onClick:()=>t(!0),children:a.jsx(ST,{size:24})}),a.jsx("div",{className:"flex items-center flex-1 max-w-md",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:a.jsx(Zw,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 py-2 pl-10 pr-3 text-sm placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Search..."})]})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ae,{variant:"ghost",size:"icon",className:"text-gray-500 dark:text-gray-400",children:a.jsx(dT,{size:20})}),a.jsxs(tI,{children:[a.jsx(rI,{asChild:!0,children:a.jsx(Ae,{variant:"ghost",className:"relative h-8 w-8 rounded-full flex items-center justify-center",children:a.jsxs(bu,{className:"h-8 w-8",children:[a.jsx(Su,{src:e.avatar,alt:e.name}),a.jsx(_u,{className:"bg-blue-500 text-white",children:e.name.substring(0,2).toUpperCase()})]})})}),a.jsxs(yS,{align:"end",className:"w-56",children:[a.jsx(xS,{children:"My Account"}),a.jsx(ph,{}),a.jsx(fo,{children:a.jsx(zn,{to:"/profile",className:"flex w-full",children:"Profile"})}),a.jsx(fo,{children:a.jsx(zn,{to:"/settings",className:"flex w-full",children:"Settings"})}),e.role==="customer"&&a.jsxs(a.Fragment,{children:[a.jsx(fo,{children:a.jsx(zn,{to:"/cart",className:"flex w-full",children:"Shopping Cart"})}),a.jsx(fo,{children:a.jsx(zn,{to:"/returns",className:"flex w-full",children:"Returns"})})]}),a.jsx(ph,{}),a.jsx(fo,{className:"text-red-600",onClick:r,children:"Log out"})]})]})]})]})}),Dr=({children:e})=>{const[t,r]=p.useState(!1),{user:n,signOut:s}=Ks(),o=qs(),i=mn();if(p.useEffect(()=>{if(!n)return;const c=i.pathname;if(c==="/"||c==="/stock2store"||c==="/stock2store/"){const d={customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"}[n.role]||"/store";console.log(`Redirecting ${n.role} user from ${c} to ${d}`),o(d,{replace:!0})}},[n,o,i.pathname]),p.useEffect(()=>{const c=()=>{window.innerWidth>=1024&&r(!1)};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),!n)return a.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading..."})]});const l=async()=>{await s(),o("/login")};return a.jsxs("div",{className:"min-h-screen w-full bg-gray-50 dark:bg-gray-900 flex",children:[a.jsx(qR,{user:n,sidebarOpen:t,setSidebarOpen:r,onSignOut:l}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-64",children:[a.jsx(aI,{user:n,setSidebarOpen:r,onSignOut:l}),a.jsx("main",{className:"flex-1 w-full",children:a.jsx("div",{className:"w-full h-full",children:e})})]})]})},lI=gu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tr({className:e,variant:t,...r}){return a.jsx("div",{className:ee(lI({variant:t}),e),...r})}const cI=({products:e,inventoryMovements:t})=>a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsx(xe,{children:"Warehouse Overview"}),a.jsx(at,{children:"Current inventory status"})]}),a.jsxs(we,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-md",children:a.jsx(fT,{size:20,className:"text-blue-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Total Products"})]}),a.jsx("span",{className:"font-semibold",children:e.length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-md",children:a.jsx(Hr,{size:20,className:"text-green-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Total Inventory"})]}),a.jsx("span",{className:"font-semibold",children:e.reduce((r,n)=>r+n.stock,0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-md",children:a.jsx(Kw,{size:20,className:"text-red-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Low Stock Items"})]}),a.jsx("span",{className:"font-semibold",children:e.filter(r=>r.stock<=5).length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-yellow-100 p-2 rounded-md",children:a.jsx(Qw,{size:20,className:"text-yellow-600"})}),a.jsx("span",{className:"ml-2 text-sm",children:"Movements Today"})]}),a.jsx("span",{className:"font-semibold",children:t.filter(r=>{const n=new Date;return new Date(r.timestamp).toDateString()===n.toDateString()}).length})]})]})]}),uI=({products:e,onProductSelect:t,onViewAllInventory:r})=>{const n=e.filter(o=>o.stock<10).sort((o,i)=>o.stock-i.stock),s=n.length;return a.jsxs(me,{children:[a.jsx(ye,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(xe,{className:"text-lg font-medium flex items-center",children:[a.jsx(Na,{size:18,className:"text-amber-500 mr-2"}),"Low Stock Alert"]}),a.jsxs("div",{className:"bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded",children:[s," items"]})]})}),a.jsx(we,{className:"pt-1",children:n.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3 mb-3 max-h-[200px] overflow-y-auto",children:n.slice(0,5).map(o=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>t(o),children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:o.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[o.category," · ID: ",o.id.slice(0,8)]})]}),a.jsxs("div",{className:`text-sm font-medium px-2.5 py-0.5 rounded 
                    ${o.stock===0?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"}`,children:[o.stock," left"]})]},o.id))}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[a.jsx("p",{className:"text-xs text-gray-500",children:n.length>5&&`+${n.length-5} more items`}),a.jsx(zn,{to:"/inventory",children:a.jsxs(Ae,{variant:"ghost",size:"sm",className:"text-xs",children:["View All ",a.jsx(vT,{size:14,className:"ml-1"})]})})]})]}):a.jsx("div",{className:"text-center py-6",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"All products have sufficient stock."})})})]})};function Pe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ss(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const wS=6048e5,dI=864e5,Pl=43200,Uv=1440;let fI={};function Ya(){return fI}function Oa(e,t){var l,c,u,d;const r=Ya(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Pe(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Tc(e){return Oa(e,{weekStartsOn:1})}function bS(e){const t=Pe(e),r=t.getFullYear(),n=ss(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Tc(n),o=ss(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Tc(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function zv(e){const t=Pe(e);return t.setHours(0,0,0,0),t}function Rc(e){const t=Pe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function hI(e,t){const r=zv(e),n=zv(t),s=+r-Rc(r),o=+n-Rc(n);return Math.round((s-o)/dI)}function pI(e){const t=bS(e),r=ss(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Tc(r)}function Kl(e,t){const r=Pe(e),n=Pe(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function mI(e){return ss(e,Date.now())}function gI(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vI(e){if(!gI(e)&&typeof e!="number")return!1;const t=Pe(e);return!isNaN(Number(t))}function yI(e,t){const r=Pe(e),n=Pe(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function xI(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function wI(e,t){return+Pe(e)-+Pe(t)}function bI(e){const t=Pe(e);return t.setHours(23,59,59,999),t}function SI(e){const t=Pe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function _I(e){const t=Pe(e);return+bI(t)==+SI(t)}function jI(e,t){const r=Pe(e),n=Pe(t),s=Kl(r,n),o=Math.abs(yI(r,n));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let l=Kl(r,n)===-s;_I(Pe(e))&&o===1&&Kl(e,n)===1&&(l=!1),i=s*(o-Number(l))}return i===0?0:i}function kI(e,t,r){const n=wI(e,t)/1e3;return xI(r==null?void 0:r.roundingMethod)(n)}function CI(e){const t=Pe(e),r=ss(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const EI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NI=(e,t,r)=>{let n;const s=EI[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Md(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const PI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},TI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},AI={date:Md({formats:PI,defaultWidth:"full"}),time:Md({formats:TI,defaultWidth:"full"}),dateTime:Md({formats:RI,defaultWidth:"full"})},OI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},MI=(e,t,r,n)=>OI[e];function Ai(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const II={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},DI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},LI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$I={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zI=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},BI={ordinalNumber:zI,era:Ai({values:II,defaultWidth:"wide"}),quarter:Ai({values:DI,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ai({values:LI,defaultWidth:"wide"}),day:Ai({values:FI,defaultWidth:"wide"}),dayPeriod:Ai({values:$I,defaultWidth:"wide",formattingValues:UI,defaultFormattingWidth:"wide"})};function Oi(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?WI(l,f=>f.test(i)):VI(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function VI(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function WI(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function HI(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const qI=/^(\d+)(th|st|nd|rd)?/i,KI=/\d+/i,GI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QI={any:[/^b/i,/^(a|c)/i]},YI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XI={any:[/1/i,/2/i,/3/i,/4/i]},JI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sD={ordinalNumber:HI({matchPattern:qI,parsePattern:KI,valueCallback:e=>parseInt(e,10)}),era:Oi({matchPatterns:GI,defaultMatchWidth:"wide",parsePatterns:QI,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:YI,defaultMatchWidth:"wide",parsePatterns:XI,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Oi({matchPatterns:JI,defaultMatchWidth:"wide",parsePatterns:ZI,defaultParseWidth:"any"}),day:Oi({matchPatterns:eD,defaultMatchWidth:"wide",parsePatterns:tD,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:rD,defaultMatchWidth:"any",parsePatterns:nD,defaultParseWidth:"any"})},SS={code:"en-US",formatDistance:NI,formatLong:AI,formatRelative:MI,localize:BI,match:sD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oD(e){const t=Pe(e);return hI(t,CI(t))+1}function iD(e){const t=Pe(e),r=+Tc(t)-+pI(t);return Math.round(r/wS)+1}function _S(e,t){var d,f,h,v;const r=Pe(e),n=r.getFullYear(),s=Ya(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(h=s.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)??1,i=ss(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=Oa(i,t),c=ss(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=Oa(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function aD(e,t){var l,c,u,d;const r=Ya(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=_S(e,t),o=ss(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Oa(o,t)}function lD(e,t){const r=Pe(e),n=+Oa(r,t)-+aD(r,t);return Math.round(n/wS)+1}function Ce(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const xn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ce(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ce(r+1,2)},d(e,t){return Ce(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ce(e.getHours()%12||12,t.length)},H(e,t){return Ce(e.getHours(),t.length)},m(e,t){return Ce(e.getMinutes(),t.length)},s(e,t){return Ce(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ce(s,t.length)}},lo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bv={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return xn.y(e,t)},Y:function(e,t,r,n){const s=_S(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Ce(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ce(o,t.length)},R:function(e,t){const r=bS(e);return Ce(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ce(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ce(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ce(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return xn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ce(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=lD(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ce(s,t.length)},I:function(e,t,r){const n=iD(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ce(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):xn.d(e,t)},D:function(e,t,r){const n=oD(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ce(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ce(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ce(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ce(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=lo.noon:n===0?s=lo.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=lo.evening:n>=12?s=lo.afternoon:n>=4?s=lo.morning:s=lo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):xn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ce(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ce(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):xn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):xn.s(e,t)},S:function(e,t){return xn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Wv(n);case"XXXX":case"XX":return ys(n);case"XXXXX":case"XXX":default:return ys(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Wv(n);case"xxxx":case"xx":return ys(n);case"xxxxx":case"xxx":default:return ys(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Vv(n,":");case"OOOO":default:return"GMT"+ys(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Vv(n,":");case"zzzz":default:return"GMT"+ys(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ce(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ce(n,t.length)}};function Vv(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+Ce(o,2)}function Wv(e,t){return e%60===0?(e>0?"-":"+")+Ce(Math.abs(e)/60,2):ys(e,t)}function ys(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ce(Math.trunc(n/60),2),o=Ce(n%60,2);return r+s+t+o}const Hv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},cD=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Hv(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Hv(n,t)).replace("{{time}}",jS(s,t))},uD={p:jS,P:cD},dD=/^D+$/,fD=/^Y+$/,hD=["D","DD","YY","YYYY"];function pD(e){return dD.test(e)}function mD(e){return fD.test(e)}function gD(e,t,r){const n=vD(e,t,r);if(console.warn(n),hD.includes(e))throw new RangeError(n)}function vD(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wD=/^'([^]*?)'?$/,bD=/''/g,SD=/[a-zA-Z]/;function _D(e,t,r){var d,f,h,v;const n=Ya(),s=n.locale??SS,o=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((v=(h=n.locale)==null?void 0:h.options)==null?void 0:v.weekStartsOn)??0,l=Pe(e);if(!vI(l))throw new RangeError("Invalid time value");let c=t.match(xD).map(x=>{const g=x[0];if(g==="p"||g==="P"){const w=uD[g];return w(x,s.formatLong)}return x}).join("").match(yD).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:jD(x)};if(Bv[g])return{isToken:!0,value:x};if(g.match(SD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const g=x.value;(mD(g)||pD(g))&&gD(g,t,String(e));const w=Bv[g[0]];return w(l,g,s.localize,u)}).join("")}function jD(e){const t=e.match(wD);return t?t[1].replace(bD,"'"):e}function kD(e,t,r){const n=Ya(),s=(r==null?void 0:r.locale)??n.locale??SS,o=2520,i=Kl(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=Pe(t),u=Pe(e)):(c=Pe(e),u=Pe(t));const d=kI(u,c),f=(Rc(u)-Rc(c))/1e3,h=Math.round((d-f)/60);let v;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<Uv){const x=Math.round(h/60);return s.formatDistance("aboutXHours",x,l)}else{if(h<o)return s.formatDistance("xDays",1,l);if(h<Pl){const x=Math.round(h/Uv);return s.formatDistance("xDays",x,l)}else if(h<Pl*2)return v=Math.round(h/Pl),s.formatDistance("aboutXMonths",v,l)}if(v=jI(u,c),v<12){const x=Math.round(h/Pl);return s.formatDistance("xMonths",x,l)}else{const x=v%12,g=Math.trunc(v/12);return x<3?s.formatDistance("aboutXYears",g,l):x<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function CD(e,t){return kD(e,mI(e),t)}const am=p.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:ee("w-full caption-bottom text-sm",e),...t})}));am.displayName="Table";const lm=p.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:ee("[&_tr]:border-b",e),...t}));lm.displayName="TableHeader";const cm=p.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:ee("[&_tr:last-child]:border-0",e),...t}));cm.displayName="TableBody";const ED=p.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));ED.displayName="TableFooter";const Do=p.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Do.displayName="TableRow";const lr=p.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));lr.displayName="TableHead";const Yt=p.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Yt.displayName="TableCell";const ND=p.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:ee("mt-4 text-sm text-muted-foreground",e),...t}));ND.displayName="TableCaption";const PD=({movements:e,getProductById:t})=>{const r=n=>CD(n,{addSuffix:!0});return a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsx(xe,{children:"Inventory Movements"}),a.jsx(at,{children:"Recent stock entries and exits"})]}),a.jsx(we,{children:a.jsxs(am,{children:[a.jsx(lm,{children:a.jsxs(Do,{children:[a.jsx(lr,{className:"w-[120px]",children:"Type"}),a.jsx(lr,{children:"Product"}),a.jsx(lr,{children:"Quantity"}),a.jsx(lr,{children:"Reason"}),a.jsx(lr,{children:"Date"}),a.jsx(lr,{children:"By"})]})}),a.jsx(cm,{children:e.map(n=>{const s=t(n.productId);return a.jsxs(Do,{children:[a.jsx(Yt,{children:a.jsxs(Tr,{variant:n.type==="in"?"default":"outline",className:n.type==="in"?"bg-green-500":"text-red-500 border-red-500",children:[n.type==="in"?a.jsx(Kw,{size:12,className:"mr-1"}):a.jsx(Qw,{size:12,className:"mr-1"}),n.type==="in"?"Entry":"Exit"]})}),a.jsx(Yt,{className:"font-medium",children:(s==null?void 0:s.name)||"Unknown Product"}),a.jsx(Yt,{children:n.quantity}),a.jsx(Yt,{children:n.reason}),a.jsx(Yt,{className:"text-gray-500 text-sm",children:r(n.timestamp)}),a.jsx(Yt,{className:"text-gray-500 text-sm",children:n.userName||"Warehouse Staff"})]},n.id)})})]})})]})},TD=({products:e,onProductSelect:t})=>a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsx(xe,{children:"Shelf Mapping"}),a.jsx(at,{children:"Visual representation of warehouse shelves and product locations"})]}),a.jsxs(we,{children:[a.jsx("div",{className:"grid grid-cols-4 gap-4",children:e.slice(0,8).map(r=>a.jsxs("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-gray-50",onClick:()=>t(r),children:[a.jsx("div",{className:"text-sm font-medium",children:r.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Stock: ",r.stock]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Location: ",r.location||"A1-01"]})]},r.id))}),e.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No products mapped to shelves yet."})]})]}),kS=async()=>{console.log("Fetching products from database...");try{const{data:e,error:t}=await ae.from("inventory").select(`
        id, 
        name, 
        description, 
        quantity, 
        created_at, 
        updated_at, 
        product_type_id
      `);if(t)throw console.error("Error fetching inventory:",t),t;if(console.log("Inventory data:",e),!e||e.length===0)return console.log("No inventory data found"),[];const{data:r,error:n}=await ae.from("product_types").select("id, name");n&&console.error("Error fetching product types:",n);const s=new Map;r&&r.forEach(g=>{s.set(g.id,g.name)}),console.log("Fetching ALL price records for debugging...");const{data:o,error:i}=await ae.from("price").select("*");console.log("All price records in database:",o),i&&console.error("Error fetching all prices:",i);const l=e.map(g=>g.id);console.log("Fetching prices for inventory IDs:",l);const{data:c,error:u}=await ae.from("price").select("inventory_id, amount, effective_from, status").in("inventory_id",l).eq("status",!0);u&&console.error("Error fetching prices:",u),console.log("Filtered price data fetched:",c);const{data:d,error:f}=await ae.from("price").select("inventory_id, amount, effective_from, status").in("inventory_id",l);console.log("Price data without status filter:",d);const h=new Map,v=c&&c.length>0?c:d;v&&v.sort((w,y)=>new Date(y.effective_from).getTime()-new Date(w.effective_from).getTime()).forEach(w=>{h.has(w.inventory_id)||(h.set(w.inventory_id,w.amount),console.log(`Setting price for inventory ${w.inventory_id}: $${w.amount} (status: ${w.status})`))}),console.log("Price map created:",Array.from(h.entries()));const x=e.map(g=>{const w=h.get(g.id)||0;return console.log(`Product ${g.name} (ID: ${g.id}) - Price: $${w}`),{id:g.id||"",name:g.name||"Unnamed Product",description:g.description||"",price:w,stock:g.quantity||0,image:"",category:s.get(g.product_type_id)||"Uncategorized",location:"",barcode:"",createdAt:new Date(g.created_at||Date.now()),updatedAt:new Date(g.updated_at||Date.now())}});return console.log("Final products with prices:",x),x}catch(e){throw console.error("Error in getProducts method:",e),e}},RD=()=>{const[e,t]=p.useState(""),[r,n]=p.useState("all"),{data:s=[],isLoading:o,error:i}=_p({queryKey:["warehouse-products"],queryFn:kS}),l=[],c=h=>{console.log("Product selected:",h)},u=()=>{console.log("View all inventory")},d=h=>s.find(v=>v.id===h);if(o)return a.jsx("div",{children:"Loading..."});if(i)return a.jsxs("div",{children:["Error: ",i.message]});const f=s.filter(h=>h.name.toLowerCase().includes(e.toLowerCase())&&(r==="all"||h.category===r));return a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Warehouse Management"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your inventory, track stock levels, and analyze warehouse operations."})]}),a.jsxs(Ae,{children:[a.jsx(Hr,{size:16,className:"mr-2"}),"Add New Product"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{type:"search",placeholder:"Search products...",value:e,onChange:h=>t(h.target.value)}),a.jsxs("div",{className:"md:col-span-2 flex items-center space-x-4",children:[a.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:r,onChange:h=>n(h.target.value),children:[a.jsx("option",{value:"all",children:"All Categories"}),a.jsx("option",{value:"electronics",children:"Electronics"}),a.jsx("option",{value:"clothing",children:"Clothing"})]}),a.jsxs(Ae,{variant:"outline",children:[a.jsx(yT,{size:16,className:"mr-2"}),"Filter"]})]})]}),a.jsxs(zp,{defaultValue:"overview",className:"space-y-4",children:[a.jsxs(wu,{children:[a.jsx(jr,{value:"overview",children:"Overview"}),a.jsx(jr,{value:"analytics",children:"Analytics"}),a.jsx(jr,{value:"inventory",children:"Inventory"}),a.jsx(jr,{value:"movements",children:"Movements"}),a.jsx(jr,{value:"shelf",children:"Shelf Mapping"})]}),a.jsx(kr,{value:"overview",className:"space-y-4",children:a.jsx(cI,{products:s,inventoryMovements:l})}),a.jsx(kr,{value:"analytics",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(me,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Total Products"}),a.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(we,{children:a.jsx("div",{className:"text-2xl font-bold",children:s.length})})]}),a.jsxs(me,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Low Stock Items"}),a.jsx(Na,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(we,{children:a.jsx("div",{className:"text-2xl font-bold",children:s.filter(h=>h.stock<=5).length})})]}),a.jsxs(me,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Inventory Turnover"}),a.jsx(tb,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(we,{children:a.jsx("div",{className:"text-2xl font-bold",children:"7.2"})})]}),a.jsxs(me,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Categories"}),a.jsx(_c,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(we,{children:a.jsx("div",{className:"text-2xl font-bold",children:[...new Set(s.map(h=>h.category))].length})})]})]})}),a.jsx(kr,{value:"inventory",className:"space-y-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(h=>a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsx(xe,{children:h.name}),a.jsx(at,{children:h.description})]}),a.jsxs(we,{children:[a.jsxs("p",{children:["Category: ",h.category]}),a.jsxs("p",{children:["Stock: ",h.stock]}),a.jsx(Tr,{variant:"secondary",children:"Active"})]})]},h.id))})}),a.jsx(kr,{value:"movements",className:"space-y-4",children:a.jsx(PD,{movements:l,getProductById:d})}),a.jsx(kr,{value:"shelf",className:"space-y-4",children:a.jsx(TD,{products:s,onProductSelect:c})})]}),a.jsx(uI,{products:s,onProductSelect:c,onViewAllInventory:u})]})};function qv(e,[t,r]){return Math.min(r,Math.max(t,e))}function AD(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var OD=[" ","Enter","ArrowUp","ArrowDown"],MD=[" ","Enter"],Xa="Select",[Ru,Au,ID]=uu(Xa),[wi,aF]=gi(Xa,[ID,Eu]),Ou=Eu(),[DD,ds]=wi(Xa),[LD,FD]=wi(Xa),CS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:v,form:x}=e,g=Ou(t),[w,y]=p.useState(null),[m,b]=p.useState(null),[S,_]=p.useState(!1),N=vu(u),[C=!1,P]=oi({prop:n,defaultProp:s,onChange:o}),[I,M]=oi({prop:i,defaultProp:l,onChange:c}),H=p.useRef(null),O=w?x||!!w.closest("form"):!0,[$,D]=p.useState(new Set),Q=Array.from($).map(V=>V.props.value).join(";");return a.jsx(f1,{...g,children:a.jsxs(DD,{required:v,scope:t,trigger:w,onTriggerChange:y,valueNode:m,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:Us(),value:I,onValueChange:M,open:C,onOpenChange:P,dir:N,triggerPointerDownPosRef:H,disabled:h,children:[a.jsx(Ru.Provider,{scope:t,children:a.jsx(LD,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(V=>{D(X=>new Set(X).add(V))},[]),onNativeOptionRemove:p.useCallback(V=>{D(X=>{const T=new Set(X);return T.delete(V),T})},[]),children:r})}),O?a.jsxs(XS,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:V=>M(V.target.value),disabled:h,form:x,children:[I===void 0?a.jsx("option",{value:""}):null,Array.from($)]},Q):null]})})};CS.displayName=Xa;var ES="SelectTrigger",NS=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Ou(r),i=ds(ES,r),l=i.disabled||n,c=Me(t,i.onTriggerChange),u=Au(r),d=p.useRef("touch"),[f,h,v]=JS(g=>{const w=u().filter(b=>!b.disabled),y=w.find(b=>b.value===i.value),m=ZS(w,g,y);m!==void 0&&i.onValueChange(m.value)}),x=g=>{l||(i.onOpenChange(!0),v()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(h1,{asChild:!0,...o,children:a.jsx(re.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":YS(i.value)?"":void 0,...s,ref:c,onClick:G(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:G(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:G(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&OD.includes(g.key)&&(x(),g.preventDefault())})})})});NS.displayName=ES;var PS="SelectValue",TS=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=ds(PS,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Me(t,c.onValueNodeChange);return lt(()=>{u(d)},[u,d]),a.jsx(re.span,{...l,ref:f,style:{pointerEvents:"none"},children:YS(c.value)?a.jsx(a.Fragment,{children:i}):o})});TS.displayName=PS;var $D="SelectIcon",RS=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(re.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});RS.displayName=$D;var UD="SelectPortal",AS=e=>a.jsx(fu,{asChild:!0,...e});AS.displayName=UD;var Bs="SelectContent",OS=p.forwardRef((e,t)=>{const r=ds(Bs,e.__scopeSelect),[n,s]=p.useState();if(lt(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Hs.createPortal(a.jsx(MS,{scope:e.__scopeSelect,children:a.jsx(Ru.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(IS,{...e,ref:t})});OS.displayName=Bs;var vr=10,[MS,fs]=wi(Bs),zD="SelectContentImpl",IS=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:x,hideWhenDetached:g,avoidCollisions:w,...y}=e,m=ds(Bs,r),[b,S]=p.useState(null),[_,N]=p.useState(null),C=Me(t,Y=>S(Y)),[P,I]=p.useState(null),[M,H]=p.useState(null),O=Au(r),[$,D]=p.useState(!1),Q=p.useRef(!1);p.useEffect(()=>{if(b)return v1(b)},[b]),qb();const V=p.useCallback(Y=>{const[ve,...ke]=O().map(_e=>_e.ref.current),[be]=ke.slice(-1),Se=document.activeElement;for(const _e of Y)if(_e===Se||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===ve&&_&&(_.scrollTop=0),_e===be&&_&&(_.scrollTop=_.scrollHeight),_e==null||_e.focus(),document.activeElement!==Se))return},[O,_]),X=p.useCallback(()=>V([P,b]),[V,P,b]);p.useEffect(()=>{$&&X()},[$,X]);const{onOpenChange:T,triggerPointerDownPosRef:R}=m;p.useEffect(()=>{if(b){let Y={x:0,y:0};const ve=be=>{var Se,_e;Y={x:Math.abs(Math.round(be.pageX)-(((Se=R.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(be.pageY)-(((_e=R.current)==null?void 0:_e.y)??0))}},ke=be=>{Y.x<=10&&Y.y<=10?be.preventDefault():b.contains(be.target)||T(!1),document.removeEventListener("pointermove",ve),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",ke,{capture:!0})}}},[b,T,R]),p.useEffect(()=>{const Y=()=>T(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[T]);const[z,J]=JS(Y=>{const ve=O().filter(Se=>!Se.disabled),ke=ve.find(Se=>Se.ref.current===document.activeElement),be=ZS(ve,Y,ke);be&&setTimeout(()=>be.ref.current.focus())}),ie=p.useCallback((Y,ve,ke)=>{const be=!Q.current&&!ke;(m.value!==void 0&&m.value===ve||be)&&(I(Y),be&&(Q.current=!0))},[m.value]),Ge=p.useCallback(()=>b==null?void 0:b.focus(),[b]),Te=p.useCallback((Y,ve,ke)=>{const be=!Q.current&&!ke;(m.value!==void 0&&m.value===ve||be)&&H(Y)},[m.value]),wt=n==="popper"?mh:DS,Ie=wt===mh?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return a.jsx(MS,{scope:r,content:b,viewport:_,onViewportChange:N,itemRefCallback:ie,selectedItem:P,onItemLeave:Ge,itemTextRefCallback:Te,focusSelectedItem:X,selectedItemText:M,position:n,isPositioned:$,searchRef:z,children:a.jsx(Jp,{as:Zn,allowPinchZoom:!0,children:a.jsx(Vp,{asChild:!0,trapped:m.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:G(s,Y=>{var ve;(ve=m.trigger)==null||ve.focus({preventScroll:!0}),Y.preventDefault()}),children:a.jsx(du,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:a.jsx(wt,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:Y=>Y.preventDefault(),...y,...Ie,onPlaced:()=>D(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:G(y.onKeyDown,Y=>{const ve=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!ve&&Y.key.length===1&&J(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let be=O().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const Se=Y.target,_e=be.indexOf(Se);be=be.slice(_e+1)}setTimeout(()=>V(be)),Y.preventDefault()}})})})})})})});IS.displayName=zD;var BD="SelectItemAlignedPosition",DS=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=ds(Bs,r),i=fs(Bs,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=Me(t,C=>d(C)),h=Au(r),v=p.useRef(!1),x=p.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:m}=i,b=p.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&w&&y){const C=o.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),M=y.getBoundingClientRect();if(o.dir!=="rtl"){const Se=M.left-P.left,_e=I.left-Se,pt=C.left-_e,Wt=C.width+pt,Js=Math.max(Wt,P.width),Zs=window.innerWidth-vr,eo=qv(_e,[vr,Math.max(vr,Zs-Js)]);l.style.minWidth=Wt+"px",l.style.left=eo+"px"}else{const Se=P.right-M.right,_e=window.innerWidth-I.right-Se,pt=window.innerWidth-C.right-_e,Wt=C.width+pt,Js=Math.max(Wt,P.width),Zs=window.innerWidth-vr,eo=qv(_e,[vr,Math.max(vr,Zs-Js)]);l.style.minWidth=Wt+"px",l.style.right=eo+"px"}const H=h(),O=window.innerHeight-vr*2,$=g.scrollHeight,D=window.getComputedStyle(u),Q=parseInt(D.borderTopWidth,10),V=parseInt(D.paddingTop,10),X=parseInt(D.borderBottomWidth,10),T=parseInt(D.paddingBottom,10),R=Q+V+$+T+X,z=Math.min(w.offsetHeight*5,R),J=window.getComputedStyle(g),ie=parseInt(J.paddingTop,10),Ge=parseInt(J.paddingBottom,10),Te=C.top+C.height/2-vr,wt=O-Te,Ie=w.offsetHeight/2,Y=w.offsetTop+Ie,ve=Q+V+Y,ke=R-ve;if(ve<=Te){const Se=H.length>0&&w===H[H.length-1].ref.current;l.style.bottom="0px";const _e=u.clientHeight-g.offsetTop-g.offsetHeight,pt=Math.max(wt,Ie+(Se?Ge:0)+_e+X),Wt=ve+pt;l.style.height=Wt+"px"}else{const Se=H.length>0&&w===H[0].ref.current;l.style.top="0px";const pt=Math.max(Te,Q+g.offsetTop+(Se?ie:0)+Ie)+ke;l.style.height=pt+"px",g.scrollTop=ve-Te+g.offsetTop}l.style.margin=`${vr}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[h,o.trigger,o.valueNode,l,u,g,w,y,o.dir,n]);lt(()=>b(),[b]);const[S,_]=p.useState();lt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=p.useCallback(C=>{C&&x.current===!0&&(b(),m==null||m(),x.current=!1)},[b,m]);return a.jsx(WD,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(re.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});DS.displayName=BD;var VD="SelectPopperPosition",mh=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=vr,...o}=e,i=Ou(r);return a.jsx(p1,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mh.displayName=VD;var[WD,um]=wi(Bs,{}),gh="SelectViewport",LS=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=fs(gh,r),i=um(gh,r),l=Me(t,o.onViewportChange),c=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Ru.Slot,{scope:r,children:a.jsx(re.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:G(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const v=Math.abs(c.current-d.scrollTop);if(v>0){const x=window.innerHeight-vr*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(g,w);if(y<x){const m=y+v,b=Math.min(x,m),S=m-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});LS.displayName=gh;var FS="SelectGroup",[HD,qD]=wi(FS),KD=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Us();return a.jsx(HD,{scope:r,id:s,children:a.jsx(re.div,{role:"group","aria-labelledby":s,...n,ref:t})})});KD.displayName=FS;var $S="SelectLabel",US=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=qD($S,r);return a.jsx(re.div,{id:s.id,...n,ref:t})});US.displayName=$S;var Ac="SelectItem",[GD,zS]=wi(Ac),BS=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=ds(Ac,r),c=fs(Ac,r),u=l.value===n,[d,f]=p.useState(o??""),[h,v]=p.useState(!1),x=Me(t,m=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,m,n,s)}),g=Us(),w=p.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(GD,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(m=>{f(b=>b||((m==null?void 0:m.textContent)??"").trim())},[]),children:a.jsx(Ru.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(re.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:G(i.onFocus,()=>v(!0)),onBlur:G(i.onBlur,()=>v(!1)),onClick:G(i.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:G(i.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:G(i.onPointerDown,m=>{w.current=m.pointerType}),onPointerMove:G(i.onPointerMove,m=>{var b;w.current=m.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:G(i.onPointerLeave,m=>{var b;m.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:G(i.onKeyDown,m=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&m.key===" "||(MD.includes(m.key)&&y(),m.key===" "&&m.preventDefault())})})})})});BS.displayName=Ac;var Vi="SelectItemText",VS=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=ds(Vi,r),l=fs(Vi,r),c=zS(Vi,r),u=FD(Vi,r),[d,f]=p.useState(null),h=Me(t,y=>f(y),c.onItemTextChange,y=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,y,c.value,c.disabled)}),v=d==null?void 0:d.textContent,x=p.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return lt(()=>(g(x),()=>w(x)),[g,w,x]),a.jsxs(a.Fragment,{children:[a.jsx(re.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Hs.createPortal(o.children,i.valueNode):null]})});VS.displayName=Vi;var WS="SelectItemIndicator",HS=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zS(WS,r).isSelected?a.jsx(re.span,{"aria-hidden":!0,...n,ref:t}):null});HS.displayName=WS;var vh="SelectScrollUpButton",qS=p.forwardRef((e,t)=>{const r=fs(vh,e.__scopeSelect),n=um(vh,e.__scopeSelect),[s,o]=p.useState(!1),i=Me(t,n.onScrollButtonChange);return lt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(GS,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});qS.displayName=vh;var yh="SelectScrollDownButton",KS=p.forwardRef((e,t)=>{const r=fs(yh,e.__scopeSelect),n=um(yh,e.__scopeSelect),[s,o]=p.useState(!1),i=Me(t,n.onScrollButtonChange);return lt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(GS,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});KS.displayName=yh;var GS=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=fs("SelectScrollButton",r),i=p.useRef(null),l=Au(r),c=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),lt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(re.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:G(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:G(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:G(s.onPointerLeave,()=>{c()})})}),QD="SelectSeparator",QS=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(re.div,{"aria-hidden":!0,...n,ref:t})});QS.displayName=QD;var xh="SelectArrow",YD=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ou(r),o=ds(xh,r),i=fs(xh,r);return o.open&&i.position==="popper"?a.jsx(m1,{...s,...n,ref:t}):null});YD.displayName=xh;function YS(e){return e===""||e===void 0}var XS=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=p.useRef(null),o=Me(t,s),i=AD(r);return p.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[i,r]),a.jsx(hu,{asChild:!0,children:a.jsx("select",{...n,ref:o,defaultValue:r})})});XS.displayName="BubbleSelect";function JS(e){const t=ht(e),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function ZS(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=XD(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function XD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var JD=CS,e_=NS,ZD=TS,eL=RS,tL=AS,t_=OS,rL=LS,r_=US,n_=BS,nL=VS,sL=HS,s_=qS,o_=KS,i_=QS;const Ma=JD,Oc=ZD,ai=p.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(e_,{ref:n,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(eL,{asChild:!0,children:a.jsx(Yw,{className:"h-4 w-4 opacity-50"})})]}));ai.displayName=e_.displayName;const a_=p.forwardRef(({className:e,...t},r)=>a.jsx(s_,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(mT,{className:"h-4 w-4"})}));a_.displayName=s_.displayName;const l_=p.forwardRef(({className:e,...t},r)=>a.jsx(o_,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Yw,{className:"h-4 w-4"})}));l_.displayName=o_.displayName;const li=p.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(tL,{children:a.jsxs(t_,{ref:s,className:ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(a_,{}),a.jsx(rL,{className:ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(l_,{})]})}));li.displayName=t_.displayName;const oL=p.forwardRef(({className:e,...t},r)=>a.jsx(r_,{ref:r,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));oL.displayName=r_.displayName;const Be=p.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(n_,{ref:n,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(sL,{children:a.jsx(Mp,{className:"h-4 w-4"})})}),a.jsx(nL,{children:t})]}));Be.displayName=n_.displayName;const iL=p.forwardRef(({className:e,...t},r)=>a.jsx(i_,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));iL.displayName=i_.displayName;const Kv=()=>{const[e,t]=p.useState(""),[r,n]=p.useState("all"),[s,o]=p.useState("name-asc"),{toast:i}=mr(),{addToCart:l,getCartItemQuantity:c}=Pp(),{data:u=[],isLoading:d,error:f}=_p({queryKey:["store-products"],queryFn:kS});console.log("Products in Store component:",u),ce.useEffect(()=>{f&&(console.error("Error in Store page:",f),i({title:"Error",description:"Failed to load products. Please try again later.",variant:"destructive"}))},[f,i]);const h=[...new Set(u.map(w=>w.category||"Uncategorized"))],x=[...u.filter(w=>{const y=w.name.toLowerCase().includes(e.toLowerCase())||(w.description||"").toLowerCase().includes(e.toLowerCase()),m=r==="all"||w.category===r;return y&&m})].sort((w,y)=>{switch(s){case"name-asc":return w.name.localeCompare(y.name);case"name-desc":return y.name.localeCompare(w.name);case"price-asc":return w.price-y.price;case"price-desc":return y.price-w.price;case"stock-asc":return w.stock-y.stock;case"stock-desc":return y.stock-w.stock;default:return 0}}),g=w=>{l(w,1)};return a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Online Store"}),a.jsx("p",{className:"text-muted-foreground",children:"Explore our wide range of products and find the perfect fit for your needs."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"flex items-center space-x-2 w-full md:w-auto",children:a.jsxs("div",{className:"relative flex-1 md:w-64",children:[a.jsx(ue,{type:"search",placeholder:"Search for products...",className:"pl-10",value:e,onChange:w=>t(w.target.value)}),a.jsx(Zw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[a.jsxs(Ma,{value:r,onValueChange:n,children:[a.jsx(ai,{className:"w-full md:w-[180px]",children:a.jsx(Oc,{placeholder:"Category"})}),a.jsxs(li,{children:[a.jsx(Be,{value:"all",children:"All Categories"}),h.map(w=>a.jsx(Be,{value:w,children:w},w))]})]}),a.jsxs(Ma,{value:s,onValueChange:o,children:[a.jsx(ai,{className:"w-full md:w-[180px]",children:a.jsx(Oc,{placeholder:"Sort by"})}),a.jsxs(li,{children:[a.jsx(Be,{value:"name-asc",children:"Name (A-Z)"}),a.jsx(Be,{value:"name-desc",children:"Name (Z-A)"}),a.jsx(Be,{value:"price-asc",children:"Price (Low to High)"}),a.jsx(Be,{value:"price-desc",children:"Price (High to Low)"}),a.jsx(Be,{value:"stock-asc",children:"Stock (Low to High)"}),a.jsx(Be,{value:"stock-desc",children:"Stock (High to Low)"})]})]})]})]}),d?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading products..."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:x.map(w=>{const y=c(w.id),m=y>0,b=w.stock<=0;return a.jsxs(me,{className:"bg-white dark:bg-gray-800 shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200 dark:border-gray-700",children:[a.jsxs(ye,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx(xe,{className:"text-lg font-semibold truncate text-gray-900 dark:text-gray-100",children:w.name}),m&&a.jsxs(Tr,{variant:"secondary",className:"ml-2",children:[y," in cart"]})]}),a.jsx(at,{className:"text-gray-500 dark:text-gray-400 text-sm line-clamp-2",children:w.description})]}),a.jsxs(we,{className:"p-4 pt-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(Tr,{variant:"secondary",className:"text-xs",children:w.category||"Uncategorized"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(NT,{className:"h-4 w-4 text-yellow-500 fill-current"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"4.5"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["$",w.price]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm ${b?"text-red-600":"text-gray-600 dark:text-gray-400"}`,children:b?"Out of Stock":`Stock: ${w.stock}`}),b&&a.jsx(Tr,{variant:"destructive",children:"Unavailable"})]})]}),a.jsx("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx(Ae,{variant:m?"secondary":"default",size:"sm",className:"flex-1 mr-2",onClick:()=>g(w),disabled:b,children:m?a.jsxs(a.Fragment,{children:[a.jsx(Mp,{className:"h-4 w-4 mr-2"}),"Added"]}):a.jsxs(a.Fragment,{children:[a.jsx(Dp,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})})})]})]},w.id)})}),x.length===0&&!d&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products found matching your criteria."})})]})})};var aL="Separator",Gv="horizontal",lL=["horizontal","vertical"],c_=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=Gv,...s}=e,o=cL(n)?n:Gv,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(re.div,{"data-orientation":o,...l,...s,ref:t})});c_.displayName=aL;function cL(e){return lL.includes(e)}var u_=c_;const Mc=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(u_,{ref:s,decorative:r,orientation:t,className:ee("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Mc.displayName=u_.displayName;const uL=()=>{const{items:e,total:t,itemCount:r,removeFromCart:n,updateQuantity:s,clearCart:o}=Pp(),{toast:i}=mr(),l=qs(),c=()=>{if(e.filter(h=>h.status==="unavailable"||h.product.stock<h.quantity).length>0){i({title:"Cannot proceed to checkout",description:"Some items in your cart are no longer available or have insufficient stock.",variant:"destructive"});return}l("/checkout")},u=f=>f.product.stock<=0?"unavailable":f.quantity>f.product.stock?"insufficient":"available",d=f=>{switch(f){case"unavailable":return a.jsx(Tr,{variant:"destructive",children:"Out of Stock"});case"insufficient":return a.jsx(Tr,{variant:"destructive",children:"Insufficient Stock"});default:return a.jsx(Tr,{variant:"secondary",children:"Available"})}};return e.length===0?a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(CT,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start shopping to add items to your cart."}),a.jsx(Ae,{onClick:()=>l("/store"),children:"Continue Shopping"})]})})}):a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Shopping Cart"}),a.jsxs("p",{className:"text-muted-foreground",children:[r," ",r===1?"item":"items"," in your cart"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(f=>{const h=u(f);return a.jsx(me,{className:"relative",children:a.jsx(we,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:f.product.name}),d(h)]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:f.product.description}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:["Category: ",f.product.category]}),h==="insufficient"&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm mb-4",children:[a.jsx(Na,{className:"h-4 w-4"}),a.jsxs("span",{children:["Only ",f.product.stock," available (you have ",f.quantity," in cart)"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>s(f.product.id,f.quantity-1),disabled:f.quantity<=1,children:a.jsx(_T,{className:"h-4 w-4"})}),a.jsx("span",{className:"font-medium text-lg w-8 text-center",children:f.quantity}),a.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>s(f.product.id,f.quantity+1),disabled:f.quantity>=f.product.stock,children:a.jsx(jT,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["$",(f.product.price*f.quantity).toFixed(2)]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["$",f.product.price.toFixed(2)," each"]})]})]})]}),a.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>n(f.product.id),className:"ml-4 text-red-500 hover:text-red-700 hover:bg-red-50",children:a.jsx(eb,{className:"h-4 w-4"})})]})})},f.id)})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(me,{children:[a.jsx(ye,{children:a.jsx(xe,{children:"Order Summary"})}),a.jsxs(we,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Subtotal (",r," items)"]}),a.jsxs("span",{children:["$",t.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{className:"text-green-600",children:"Free"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{children:["$",(t*.08).toFixed(2)]})]}),a.jsx(Mc,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",(t*1.08).toFixed(2)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ae,{onClick:c,className:"w-full",disabled:e.some(f=>u(f)!=="available"),children:"Proceed to Checkout"}),a.jsx(Ae,{variant:"outline",onClick:o,className:"w-full",children:"Clear Cart"}),a.jsx(Ae,{variant:"ghost",onClick:()=>l("/store"),className:"w-full",children:"Continue Shopping"})]})]})]}),e.some(f=>u(f)!=="available")&&a.jsxs(me,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-800",children:[a.jsx(ye,{children:a.jsxs(xe,{className:"text-amber-800 dark:text-amber-200 flex items-center gap-2",children:[a.jsx(Na,{className:"h-5 w-5"}),"Stock Issues"]})}),a.jsx(we,{children:a.jsx("p",{className:"text-amber-700 dark:text-amber-300 text-sm",children:"Some items in your cart have stock issues. Please review and adjust quantities before proceeding."})})]})]})]})]})})};var Ja=e=>e.type==="checkbox",js=e=>e instanceof Date,Nt=e=>e==null;const d_=e=>typeof e=="object";var Xe=e=>!Nt(e)&&!Array.isArray(e)&&d_(e)&&!js(e),f_=e=>Xe(e)&&e.target?Ja(e.target)?e.target.checked:e.target.value:e,dL=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,h_=(e,t)=>e.has(dL(t)),fL=e=>{const t=e.constructor&&e.constructor.prototype;return Xe(t)&&t.hasOwnProperty("isPrototypeOf")},dm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mt(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(dm&&(e instanceof Blob||e instanceof FileList))&&(r||Xe(e)))if(t=r?[]:{},!r&&!fL(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Mt(e[n]));else return e;return t}var Mu=e=>Array.isArray(e)?e.filter(Boolean):[],Ke=e=>e===void 0,U=(e,t,r)=>{if(!t||!Xe(e))return r;const n=Mu(t.split(/[,[\].]+?/)).reduce((s,o)=>Nt(s)?s:s[o],e);return Ke(n)||n===e?Ke(e[t])?r:e[t]:n},or=e=>typeof e=="boolean",fm=e=>/^\w*$/.test(e),p_=e=>Mu(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ne=(e,t,r)=>{let n=-1;const s=fm(t)?[t]:p_(t),o=s.length,i=o-1;for(;++n<o;){const l=s[n];let c=r;if(n!==i){const u=e[l];c=Xe(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const Ic={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},m_=ce.createContext(null),Iu=()=>ce.useContext(m_),hL=e=>{const{children:t,...r}=e;return ce.createElement(m_.Provider,{value:r},t)};var g_=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const i=o;return t._proxyFormState[i]!==Cr.all&&(t._proxyFormState[i]=!n||Cr.all),r&&(r[i]=!0),e[i]}});return s},Dt=e=>Xe(e)&&!Object.keys(e).length,v_=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return Dt(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||Cr.all))},sa=e=>Array.isArray(e)?e:[e],y_=(e,t,r)=>!e||!t||e===t||sa(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function hm(e){const t=ce.useRef(e);t.current=e,ce.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function pL(e){const t=Iu(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[i,l]=ce.useState(r._formState),c=ce.useRef(!0),u=ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ce.useRef(s);return d.current=s,hm({disabled:n,next:f=>c.current&&y_(d.current,f.name,o)&&v_(f,u.current,r._updateFormState)&&l({...r._formState,...f}),subject:r._subjects.state}),ce.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),g_(i,r,u.current,!1)}var qr=e=>typeof e=="string",x_=(e,t,r,n,s)=>qr(e)?(n&&t.watch.add(e),U(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),U(r,o))):(n&&(t.watchAll=!0),r);function mL(e){const t=Iu(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:i}=e||{},l=ce.useRef(n);l.current=n,hm({disabled:o,subject:r._subjects.values,next:d=>{y_(l.current,d.name,i)&&u(Mt(x_(l.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=ce.useState(r._getWatch(n,s));return ce.useEffect(()=>r._removeUnmounted()),c}function gL(e){const t=Iu(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o}=e,i=h_(s._names.array,r),l=mL({control:s,name:r,defaultValue:U(s._formValues,r,U(s._defaultValues,r,e.defaultValue)),exact:!0}),c=pL({control:s,name:r,exact:!0}),u=ce.useRef(s.register(r,{...e.rules,value:l,...or(e.disabled)?{disabled:e.disabled}:{}}));return ce.useEffect(()=>{const d=s._options.shouldUnregister||o,f=(h,v)=>{const x=U(s._fields,h);x&&x._f&&(x._f.mount=v)};if(f(r,!0),d){const h=Mt(U(s._options.defaultValues,r));Ne(s._defaultValues,r,h),Ke(U(s._formValues,r))&&Ne(s._formValues,r,h)}return()=>{(i?d&&!s._state.action:d)?s.unregister(r):f(r,!1)}},[r,s,i,o]),ce.useEffect(()=>{U(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:U(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...or(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:ce.useCallback(d=>u.current.onChange({target:{value:f_(d),name:r},type:Ic.CHANGE}),[r]),onBlur:ce.useCallback(()=>u.current.onBlur({target:{value:U(s._formValues,r),name:r},type:Ic.BLUR}),[r,s]),ref:ce.useCallback(d=>{const f=U(s._fields,r);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!U(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!U(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!U(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!U(c.validatingFields,r)},error:{enumerable:!0,get:()=>U(c.errors,r)}})}}const vL=e=>e.render(gL(e));var yL=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Qv=e=>({isOnSubmit:!e||e===Cr.onSubmit,isOnBlur:e===Cr.onBlur,isOnChange:e===Cr.onChange,isOnAll:e===Cr.all,isOnTouch:e===Cr.onTouched}),Yv=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const oa=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=U(e,s);if(o){const{_f:i,...l}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(oa(l,t))break}else if(Xe(l)&&oa(l,t))break}}};var xL=(e,t,r)=>{const n=sa(U(e,r));return Ne(n,"root",t[r]),Ne(e,r,n),e},pm=e=>e.type==="file",on=e=>typeof e=="function",Dc=e=>{if(!dm)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Gl=e=>qr(e),mm=e=>e.type==="radio",Lc=e=>e instanceof RegExp;const Xv={value:!1,isValid:!1},Jv={value:!0,isValid:!0};var w_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ke(e[0].attributes.value)?Ke(e[0].value)||e[0].value===""?Jv:{value:e[0].value,isValid:!0}:Jv:Xv}return Xv};const Zv={isValid:!1,value:null};var b_=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Zv):Zv;function ey(e,t,r="validate"){if(Gl(e)||Array.isArray(e)&&e.every(Gl)||or(e)&&!e)return{type:r,message:Gl(e)?e:"",ref:t}}var co=e=>Xe(e)&&!Lc(e)?e:{value:e,message:""},ty=async(e,t,r,n,s)=>{const{ref:o,refs:i,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:v,name:x,valueAsNumber:g,mount:w,disabled:y}=e._f,m=U(t,x);if(!w||y)return{};const b=i?i[0]:o,S=O=>{n&&b.reportValidity&&(b.setCustomValidity(or(O)?"":O||""),b.reportValidity())},_={},N=mm(o),C=Ja(o),P=N||C,I=(g||pm(o))&&Ke(o.value)&&Ke(m)||Dc(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,M=yL.bind(null,x,r,_),H=(O,$,D,Q=Jr.maxLength,V=Jr.minLength)=>{const X=O?$:D;_[x]={type:O?Q:V,message:X,ref:o,...M(O?Q:V,X)}};if(s?!Array.isArray(m)||!m.length:l&&(!P&&(I||Nt(m))||or(m)&&!m||C&&!w_(i).isValid||N&&!b_(i).isValid)){const{value:O,message:$}=Gl(l)?{value:!!l,message:l}:co(l);if(O&&(_[x]={type:Jr.required,message:$,ref:b,...M(Jr.required,$)},!r))return S($),_}if(!I&&(!Nt(d)||!Nt(f))){let O,$;const D=co(f),Q=co(d);if(!Nt(m)&&!isNaN(m)){const V=o.valueAsNumber||m&&+m;Nt(D.value)||(O=V>D.value),Nt(Q.value)||($=V<Q.value)}else{const V=o.valueAsDate||new Date(m),X=z=>new Date(new Date().toDateString()+" "+z),T=o.type=="time",R=o.type=="week";qr(D.value)&&m&&(O=T?X(m)>X(D.value):R?m>D.value:V>new Date(D.value)),qr(Q.value)&&m&&($=T?X(m)<X(Q.value):R?m<Q.value:V<new Date(Q.value))}if((O||$)&&(H(!!O,D.message,Q.message,Jr.max,Jr.min),!r))return S(_[x].message),_}if((c||u)&&!I&&(qr(m)||s&&Array.isArray(m))){const O=co(c),$=co(u),D=!Nt(O.value)&&m.length>+O.value,Q=!Nt($.value)&&m.length<+$.value;if((D||Q)&&(H(D,O.message,$.message),!r))return S(_[x].message),_}if(h&&!I&&qr(m)){const{value:O,message:$}=co(h);if(Lc(O)&&!m.match(O)&&(_[x]={type:Jr.pattern,message:$,ref:o,...M(Jr.pattern,$)},!r))return S($),_}if(v){if(on(v)){const O=await v(m,t),$=ey(O,b);if($&&(_[x]={...$,...M(Jr.validate,$.message)},!r))return S($.message),_}else if(Xe(v)){let O={};for(const $ in v){if(!Dt(O)&&!r)break;const D=ey(await v[$](m,t),b,$);D&&(O={...D,...M($,D.message)},S(D.message),r&&(_[x]=O))}if(!Dt(O)&&(_[x]={ref:b,...O},!r))return _}}return S(!0),_};function wL(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ke(e)?n++:e[t[n++]];return e}function bL(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ke(e[t]))return!1;return!0}function Ze(e,t){const r=Array.isArray(t)?t:fm(t)?[t]:p_(t),n=r.length===1?e:wL(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(Xe(n)&&Dt(n)||Array.isArray(n)&&bL(n))&&Ze(e,r.slice(0,-1)),e}var Id=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},wh=e=>Nt(e)||!d_(e);function Tn(e,t){if(wh(e)||wh(t))return e===t;if(js(e)&&js(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const o=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const i=t[s];if(js(o)&&js(i)||Xe(o)&&Xe(i)||Array.isArray(o)&&Array.isArray(i)?!Tn(o,i):o!==i)return!1}}return!0}var S_=e=>e.type==="select-multiple",SL=e=>mm(e)||Ja(e),Dd=e=>Dc(e)&&e.isConnected,__=e=>{for(const t in e)if(on(e[t]))return!0;return!1};function Fc(e,t={}){const r=Array.isArray(e);if(Xe(e)||r)for(const n in e)Array.isArray(e[n])||Xe(e[n])&&!__(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Fc(e[n],t[n])):Nt(e[n])||(t[n]=!0);return t}function j_(e,t,r){const n=Array.isArray(e);if(Xe(e)||n)for(const s in e)Array.isArray(e[s])||Xe(e[s])&&!__(e[s])?Ke(t)||wh(r[s])?r[s]=Array.isArray(e[s])?Fc(e[s],[]):{...Fc(e[s])}:j_(e[s],Nt(t)?{}:t[s],r[s]):r[s]=!Tn(e[s],t[s]);return r}var Mi=(e,t)=>j_(e,t,Fc(t)),k_=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ke(e)?e:t?e===""?NaN:e&&+e:r&&qr(e)?new Date(e):n?n(e):e;function Ld(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return pm(t)?t.files:mm(t)?b_(e.refs).value:S_(t)?[...t.selectedOptions].map(({value:r})=>r):Ja(t)?w_(e.refs).value:k_(Ke(t.value)?e.ref.value:t.value,e)}var _L=(e,t,r,n)=>{const s={};for(const o of e){const i=U(t,o);i&&Ne(s,o,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Ii=e=>Ke(e)?e:Lc(e)?e.source:Xe(e)?Lc(e.value)?e.value.source:e.value:e;const ry="AsyncFunction";var jL=e=>(!e||!e.validate)&&!!(on(e.validate)&&e.validate.constructor.name===ry||Xe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ry)),kL=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ny(e,t,r){const n=U(e,r);if(n||fm(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),i=U(t,o),l=U(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(l&&l.type)return{name:o,error:l};s.pop()}return{name:r}}var CL=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,EL=(e,t)=>!Mu(U(e,t)).length&&Ze(e,t);const NL={mode:Cr.onSubmit,reValidateMode:Cr.onChange,shouldFocusError:!0};function PL(e={}){let t={...NL,...e},r={submitCount:0,isDirty:!1,isLoading:on(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Xe(t.defaultValues)||Xe(t.values)?Mt(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Mt(s),i={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Id(),array:Id(),state:Id()},h=Qv(t.mode),v=Qv(t.reValidateMode),x=t.criteriaMode===Cr.all,g=j=>E=>{clearTimeout(u),u=setTimeout(j,E)},w=async j=>{if(!e.disabled&&(d.isValid||j)){const E=t.resolver?Dt((await P()).errors):await M(n,!0);E!==r.isValid&&f.state.next({isValid:E})}},y=(j,E)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((j||Array.from(l.mount)).forEach(A=>{A&&(E?Ne(r.validatingFields,A,E):Ze(r.validatingFields,A))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Dt(r.validatingFields)}))},m=(j,E=[],A,W,B=!0,F=!0)=>{if(W&&A&&!e.disabled){if(i.action=!0,F&&Array.isArray(U(n,j))){const Z=A(U(n,j),W.argA,W.argB);B&&Ne(n,j,Z)}if(F&&Array.isArray(U(r.errors,j))){const Z=A(U(r.errors,j),W.argA,W.argB);B&&Ne(r.errors,j,Z),EL(r.errors,j)}if(d.touchedFields&&F&&Array.isArray(U(r.touchedFields,j))){const Z=A(U(r.touchedFields,j),W.argA,W.argB);B&&Ne(r.touchedFields,j,Z)}d.dirtyFields&&(r.dirtyFields=Mi(s,o)),f.state.next({name:j,isDirty:O(j,E),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ne(o,j,E)},b=(j,E)=>{Ne(r.errors,j,E),f.state.next({errors:r.errors})},S=j=>{r.errors=j,f.state.next({errors:r.errors,isValid:!1})},_=(j,E,A,W)=>{const B=U(n,j);if(B){const F=U(o,j,Ke(A)?U(s,j):A);Ke(F)||W&&W.defaultChecked||E?Ne(o,j,E?F:Ld(B._f)):Q(j,F),i.mount&&w()}},N=(j,E,A,W,B)=>{let F=!1,Z=!1;const le={name:j};if(!e.disabled){const rt=!!(U(n,j)&&U(n,j)._f&&U(n,j)._f.disabled);if(!A||W){d.isDirty&&(Z=r.isDirty,r.isDirty=le.isDirty=O(),F=Z!==le.isDirty);const nt=rt||Tn(U(s,j),E);Z=!!(!rt&&U(r.dirtyFields,j)),nt||rt?Ze(r.dirtyFields,j):Ne(r.dirtyFields,j,!0),le.dirtyFields=r.dirtyFields,F=F||d.dirtyFields&&Z!==!nt}if(A){const nt=U(r.touchedFields,j);nt||(Ne(r.touchedFields,j,A),le.touchedFields=r.touchedFields,F=F||d.touchedFields&&nt!==A)}F&&B&&f.state.next(le)}return F?le:{}},C=(j,E,A,W)=>{const B=U(r.errors,j),F=d.isValid&&or(E)&&r.isValid!==E;if(e.delayError&&A?(c=g(()=>b(j,A)),c(e.delayError)):(clearTimeout(u),c=null,A?Ne(r.errors,j,A):Ze(r.errors,j)),(A?!Tn(B,A):B)||!Dt(W)||F){const Z={...W,...F&&or(E)?{isValid:E}:{},errors:r.errors,name:j};r={...r,...Z},f.state.next(Z)}},P=async j=>{y(j,!0);const E=await t.resolver(o,t.context,_L(j||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(j),E},I=async j=>{const{errors:E}=await P(j);if(j)for(const A of j){const W=U(E,A);W?Ne(r.errors,A,W):Ze(r.errors,A)}else r.errors=E;return E},M=async(j,E,A={valid:!0})=>{for(const W in j){const B=j[W];if(B){const{_f:F,...Z}=B;if(F){const le=l.array.has(F.name),rt=B._f&&jL(B._f);rt&&d.validatingFields&&y([W],!0);const nt=await ty(B,o,x,t.shouldUseNativeValidation&&!E,le);if(rt&&d.validatingFields&&y([W]),nt[F.name]&&(A.valid=!1,E))break;!E&&(U(nt,F.name)?le?xL(r.errors,nt,F.name):Ne(r.errors,F.name,nt[F.name]):Ze(r.errors,F.name))}!Dt(Z)&&await M(Z,E,A)}}return A.valid},H=()=>{for(const j of l.unMount){const E=U(n,j);E&&(E._f.refs?E._f.refs.every(A=>!Dd(A)):!Dd(E._f.ref))&&Ie(j)}l.unMount=new Set},O=(j,E)=>!e.disabled&&(j&&E&&Ne(o,j,E),!Tn(J(),s)),$=(j,E,A)=>x_(j,l,{...i.mount?o:Ke(E)?s:qr(j)?{[j]:E}:E},A,E),D=j=>Mu(U(i.mount?o:s,j,e.shouldUnregister?U(s,j,[]):[])),Q=(j,E,A={})=>{const W=U(n,j);let B=E;if(W){const F=W._f;F&&(!F.disabled&&Ne(o,j,k_(E,F)),B=Dc(F.ref)&&Nt(E)?"":E,S_(F.ref)?[...F.ref.options].forEach(Z=>Z.selected=B.includes(Z.value)):F.refs?Ja(F.ref)?F.refs.length>1?F.refs.forEach(Z=>(!Z.defaultChecked||!Z.disabled)&&(Z.checked=Array.isArray(B)?!!B.find(le=>le===Z.value):B===Z.value)):F.refs[0]&&(F.refs[0].checked=!!B):F.refs.forEach(Z=>Z.checked=Z.value===B):pm(F.ref)?F.ref.value="":(F.ref.value=B,F.ref.type||f.values.next({name:j,values:{...o}})))}(A.shouldDirty||A.shouldTouch)&&N(j,B,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&z(j)},V=(j,E,A)=>{for(const W in E){const B=E[W],F=`${j}.${W}`,Z=U(n,F);(l.array.has(j)||Xe(B)||Z&&!Z._f)&&!js(B)?V(F,B,A):Q(F,B,A)}},X=(j,E,A={})=>{const W=U(n,j),B=l.array.has(j),F=Mt(E);Ne(o,j,F),B?(f.array.next({name:j,values:{...o}}),(d.isDirty||d.dirtyFields)&&A.shouldDirty&&f.state.next({name:j,dirtyFields:Mi(s,o),isDirty:O(j,F)})):W&&!W._f&&!Nt(F)?V(j,F,A):Q(j,F,A),Yv(j,l)&&f.state.next({...r}),f.values.next({name:i.mount?j:void 0,values:{...o}})},T=async j=>{i.mount=!0;const E=j.target;let A=E.name,W=!0;const B=U(n,A),F=()=>E.type?Ld(B._f):f_(j),Z=le=>{W=Number.isNaN(le)||js(le)&&isNaN(le.getTime())||Tn(le,U(o,A,le))};if(B){let le,rt;const nt=F(),hs=j.type===Ic.BLUR||j.type===Ic.FOCUS_OUT,T_=!kL(B._f)&&!t.resolver&&!U(r.errors,A)&&!B._f.deps||CL(hs,U(r.touchedFields,A),r.isSubmitted,v,h),Lu=Yv(A,l,hs);Ne(o,A,nt),hs?(B._f.onBlur&&B._f.onBlur(j),c&&c(0)):B._f.onChange&&B._f.onChange(j);const Fu=N(A,nt,hs,!1),R_=!Dt(Fu)||Lu;if(!hs&&f.values.next({name:A,type:j.type,values:{...o}}),T_)return d.isValid&&(e.mode==="onBlur"?hs&&w():w()),R_&&f.state.next({name:A,...Lu?{}:Fu});if(!hs&&Lu&&f.state.next({...r}),t.resolver){const{errors:gm}=await P([A]);if(Z(nt),W){const A_=ny(r.errors,n,A),vm=ny(gm,n,A_.name||A);le=vm.error,A=vm.name,rt=Dt(gm)}}else y([A],!0),le=(await ty(B,o,x,t.shouldUseNativeValidation))[A],y([A]),Z(nt),W&&(le?rt=!1:d.isValid&&(rt=await M(n,!0)));W&&(B._f.deps&&z(B._f.deps),C(A,rt,le,Fu))}},R=(j,E)=>{if(U(r.errors,E)&&j.focus)return j.focus(),1},z=async(j,E={})=>{let A,W;const B=sa(j);if(t.resolver){const F=await I(Ke(j)?j:B);A=Dt(F),W=j?!B.some(Z=>U(F,Z)):A}else j?(W=(await Promise.all(B.map(async F=>{const Z=U(n,F);return await M(Z&&Z._f?{[F]:Z}:Z)}))).every(Boolean),!(!W&&!r.isValid)&&w()):W=A=await M(n);return f.state.next({...!qr(j)||d.isValid&&A!==r.isValid?{}:{name:j},...t.resolver||!j?{isValid:A}:{},errors:r.errors}),E.shouldFocus&&!W&&oa(n,R,j?B:l.mount),W},J=j=>{const E={...i.mount?o:s};return Ke(j)?E:qr(j)?U(E,j):j.map(A=>U(E,A))},ie=(j,E)=>({invalid:!!U((E||r).errors,j),isDirty:!!U((E||r).dirtyFields,j),error:U((E||r).errors,j),isValidating:!!U(r.validatingFields,j),isTouched:!!U((E||r).touchedFields,j)}),Ge=j=>{j&&sa(j).forEach(E=>Ze(r.errors,E)),f.state.next({errors:j?r.errors:{}})},Te=(j,E,A)=>{const W=(U(n,j,{_f:{}})._f||{}).ref,B=U(r.errors,j)||{},{ref:F,message:Z,type:le,...rt}=B;Ne(r.errors,j,{...rt,...E,ref:W}),f.state.next({name:j,errors:r.errors,isValid:!1}),A&&A.shouldFocus&&W&&W.focus&&W.focus()},wt=(j,E)=>on(j)?f.values.subscribe({next:A=>j($(void 0,E),A)}):$(j,E,!0),Ie=(j,E={})=>{for(const A of j?sa(j):l.mount)l.mount.delete(A),l.array.delete(A),E.keepValue||(Ze(n,A),Ze(o,A)),!E.keepError&&Ze(r.errors,A),!E.keepDirty&&Ze(r.dirtyFields,A),!E.keepTouched&&Ze(r.touchedFields,A),!E.keepIsValidating&&Ze(r.validatingFields,A),!t.shouldUnregister&&!E.keepDefaultValue&&Ze(s,A);f.values.next({values:{...o}}),f.state.next({...r,...E.keepDirty?{isDirty:O()}:{}}),!E.keepIsValid&&w()},Y=({disabled:j,name:E,field:A,fields:W,value:B})=>{if(or(j)&&i.mount||j){const F=j?void 0:Ke(B)?Ld(A?A._f:U(W,E)._f):B;Ne(o,E,F),N(E,F,!1,!1,!0)}},ve=(j,E={})=>{let A=U(n,j);const W=or(E.disabled)||or(e.disabled);return Ne(n,j,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:j}},name:j,mount:!0,...E}}),l.mount.add(j),A?Y({field:A,disabled:or(E.disabled)?E.disabled:e.disabled,name:j,value:E.value}):_(j,!0,E.value),{...W?{disabled:E.disabled||e.disabled}:{},...t.progressive?{required:!!E.required,min:Ii(E.min),max:Ii(E.max),minLength:Ii(E.minLength),maxLength:Ii(E.maxLength),pattern:Ii(E.pattern)}:{},name:j,onChange:T,onBlur:T,ref:B=>{if(B){ve(j,E),A=U(n,j);const F=Ke(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,Z=SL(F),le=A._f.refs||[];if(Z?le.find(rt=>rt===F):F===A._f.ref)return;Ne(n,j,{_f:{...A._f,...Z?{refs:[...le.filter(Dd),F,...Array.isArray(U(s,j))?[{}]:[]],ref:{type:F.type,name:j}}:{ref:F}}}),_(j,!1,void 0,F)}else A=U(n,j,{}),A._f&&(A._f.mount=!1),(t.shouldUnregister||E.shouldUnregister)&&!(h_(l.array,j)&&i.action)&&l.unMount.add(j)}}},ke=()=>t.shouldFocusError&&oa(n,R,l.mount),be=j=>{or(j)&&(f.state.next({disabled:j}),oa(n,(E,A)=>{const W=U(n,A);W&&(E.disabled=W._f.disabled||j,Array.isArray(W._f.refs)&&W._f.refs.forEach(B=>{B.disabled=W._f.disabled||j}))},0,!1))},Se=(j,E)=>async A=>{let W;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let B=Mt(o);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:F,values:Z}=await P();r.errors=F,B=Z}else await M(n);if(Ze(r.errors,"root"),Dt(r.errors)){f.state.next({errors:{}});try{await j(B,A)}catch(F){W=F}}else E&&await E({...r.errors},A),ke(),setTimeout(ke);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dt(r.errors)&&!W,submitCount:r.submitCount+1,errors:r.errors}),W)throw W},_e=(j,E={})=>{U(n,j)&&(Ke(E.defaultValue)?X(j,Mt(U(s,j))):(X(j,E.defaultValue),Ne(s,j,Mt(E.defaultValue))),E.keepTouched||Ze(r.touchedFields,j),E.keepDirty||(Ze(r.dirtyFields,j),r.isDirty=E.defaultValue?O(j,Mt(U(s,j))):O()),E.keepError||(Ze(r.errors,j),d.isValid&&w()),f.state.next({...r}))},pt=(j,E={})=>{const A=j?Mt(j):s,W=Mt(A),B=Dt(j),F=B?s:W;if(E.keepDefaultValues||(s=A),!E.keepValues){if(E.keepDirtyValues){const Z=new Set([...l.mount,...Object.keys(Mi(s,o))]);for(const le of Array.from(Z))U(r.dirtyFields,le)?Ne(F,le,U(o,le)):X(le,U(F,le))}else{if(dm&&Ke(j))for(const Z of l.mount){const le=U(n,Z);if(le&&le._f){const rt=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;if(Dc(rt)){const nt=rt.closest("form");if(nt){nt.reset();break}}}}n={}}o=e.shouldUnregister?E.keepDefaultValues?Mt(s):{}:Mt(F),f.array.next({values:{...F}}),f.values.next({values:{...F}})}l={mount:E.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!E.keepIsValid||!!E.keepDirtyValues,i.watch=!!e.shouldUnregister,f.state.next({submitCount:E.keepSubmitCount?r.submitCount:0,isDirty:B?!1:E.keepDirty?r.isDirty:!!(E.keepDefaultValues&&!Tn(j,s)),isSubmitted:E.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:B?{}:E.keepDirtyValues?E.keepDefaultValues&&o?Mi(s,o):r.dirtyFields:E.keepDefaultValues&&j?Mi(s,j):E.keepDirty?r.dirtyFields:{},touchedFields:E.keepTouched?r.touchedFields:{},errors:E.keepErrors?r.errors:{},isSubmitSuccessful:E.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Wt=(j,E)=>pt(on(j)?j(o):j,E);return{control:{register:ve,unregister:Ie,getFieldState:ie,handleSubmit:Se,setError:Te,_executeSchema:P,_getWatch:$,_getDirty:O,_updateValid:w,_removeUnmounted:H,_updateFieldArray:m,_updateDisabledField:Y,_getFieldArray:D,_reset:pt,_resetDefaultValues:()=>on(t.defaultValues)&&t.defaultValues().then(j=>{Wt(j,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:j=>{r={...r,...j}},_disableForm:be,_subjects:f,_proxyFormState:d,_setErrors:S,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(j){i=j},get _defaultValues(){return s},get _names(){return l},set _names(j){l=j},get _formState(){return r},set _formState(j){r=j},get _options(){return t},set _options(j){t={...t,...j}}},trigger:z,register:ve,handleSubmit:Se,watch:wt,setValue:X,getValues:J,reset:Wt,resetField:_e,clearErrors:Ge,unregister:Ie,setError:Te,setFocus:(j,E={})=>{const A=U(n,j),W=A&&A._f;if(W){const B=W.refs?W.refs[0]:W.ref;B.focus&&(B.focus(),E.shouldSelect&&B.select())}},getFieldState:ie}}function C_(e={}){const t=ce.useRef(),r=ce.useRef(),[n,s]=ce.useState({isDirty:!1,isValidating:!1,isLoading:on(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:on(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...PL(e),formState:n});const o=t.current.control;return o._options=e,hm({subject:o._subjects.state,next:i=>{v_(i,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),ce.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ce.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),ce.useEffect(()=>{e.values&&!Tn(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,s(i=>({...i}))):o._resetDefaultValues()},[e.values,o]),ce.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),ce.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),ce.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),ce.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=g_(n,o),t.current}const E_=hL,N_=p.createContext({}),Lt=({...e})=>a.jsx(N_.Provider,{value:{name:e.name},children:a.jsx(vL,{...e})}),Du=()=>{const e=p.useContext(N_),t=p.useContext(P_),{getFieldState:r,formState:n}=Iu(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},P_=p.createContext({}),_t=p.forwardRef(({className:e,...t},r)=>{const n=p.useId();return a.jsx(P_.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:ee("space-y-2",e),...t})})});_t.displayName="FormItem";const jt=p.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=Du();return a.jsx($e,{ref:r,className:ee(n&&"text-destructive",e),htmlFor:s,...t})});jt.displayName="FormLabel";const kt=p.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:o}=Du();return a.jsx(Zn,{ref:t,id:n,"aria-describedby":r?`${s} ${o}`:`${s}`,"aria-invalid":!!r,...e})});kt.displayName="FormControl";const TL=p.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Du();return a.jsx("p",{ref:r,id:n,className:ee("text-sm text-muted-foreground",e),...t})});TL.displayName="FormDescription";const Ct=p.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:o}=Du(),i=s?String(s==null?void 0:s.message):t;return i?a.jsx("p",{ref:n,id:o,className:ee("text-sm font-medium text-destructive",e),...r,children:i}):null});Ct.displayName="FormMessage";const RL=({initialData:e,onSubmit:t})=>{const r=C_({defaultValues:e}),n=s=>{t(s)};return a.jsxs(me,{children:[a.jsx(ye,{children:a.jsx(xe,{children:"Invoice Information"})}),a.jsx(we,{children:a.jsx(E_,{...r,children:a.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Lt,{control:r.control,name:"firstName",rules:{required:"First name is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"First Name"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"John",...s})}),a.jsx(Ct,{})]})}),a.jsx(Lt,{control:r.control,name:"lastName",rules:{required:"Last name is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"Last Name"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"Doe",...s})}),a.jsx(Ct,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Lt,{control:r.control,name:"email",rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"Email"}),a.jsx(kt,{children:a.jsx(ue,{type:"email",placeholder:"john@example.com",...s})}),a.jsx(Ct,{})]})}),a.jsx(Lt,{control:r.control,name:"phone",rules:{required:"Phone number is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"Phone"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"+1 (555) 123-4567",...s})}),a.jsx(Ct,{})]})})]}),a.jsx(Lt,{control:r.control,name:"company",render:({field:s})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"Company (Optional)"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"Company Name",...s})}),a.jsx(Ct,{})]})}),a.jsx(Lt,{control:r.control,name:"address",rules:{required:"Address is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"Address"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"123 Main Street",...s})}),a.jsx(Ct,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Lt,{control:r.control,name:"city",rules:{required:"City is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"City"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"New York",...s})}),a.jsx(Ct,{})]})}),a.jsx(Lt,{control:r.control,name:"state",rules:{required:"State is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"State"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"NY",...s})}),a.jsx(Ct,{})]})}),a.jsx(Lt,{control:r.control,name:"postalCode",rules:{required:"Postal code is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"Postal Code"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"10001",...s})}),a.jsx(Ct,{})]})})]}),a.jsx(Lt,{control:r.control,name:"country",rules:{required:"Country is required"},render:({field:s})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"Country"}),a.jsxs(Ma,{onValueChange:s.onChange,value:s.value,children:[a.jsx(kt,{children:a.jsx(ai,{children:a.jsx(Oc,{placeholder:"Select a country"})})}),a.jsxs(li,{children:[a.jsx(Be,{value:"United States",children:"United States"}),a.jsx(Be,{value:"Canada",children:"Canada"}),a.jsx(Be,{value:"United Kingdom",children:"United Kingdom"}),a.jsx(Be,{value:"Germany",children:"Germany"}),a.jsx(Be,{value:"France",children:"France"}),a.jsx(Be,{value:"Australia",children:"Australia"})]})]}),a.jsx(Ct,{})]})}),a.jsx(Ae,{type:"submit",className:"w-full",children:"Continue to Payment"})]})})})]})},AL=({initialData:e,onSubmit:t,onBack:r,isProcessing:n})=>{const s=C_({defaultValues:e}),o=c=>{t(c)},i=c=>{const u=c.replace(/\s+/g,"").replace(/[^0-9]/gi,""),d=u.match(/\d{4,16}/g),f=d&&d[0]||"",h=[];for(let v=0,x=f.length;v<x;v+=4)h.push(f.substring(v,v+4));return h.length?h.join(" "):u},l=c=>{const u=c.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return u.length>=2?u.substring(0,2)+(u.length>2?"/"+u.substring(2,4):""):u};return a.jsxs(me,{children:[a.jsx(ye,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(Xw,{className:"h-5 w-5"}),"Payment Details"]})}),a.jsx(we,{children:a.jsx(E_,{...s,children:a.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[a.jsx(Lt,{control:s.control,name:"cardholderName",rules:{required:"Cardholder name is required"},render:({field:c})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"Cardholder Name"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"John Doe",...c})}),a.jsx(Ct,{})]})}),a.jsx(Lt,{control:s.control,name:"cardNumber",rules:{required:"Card number is required",minLength:{value:19,message:"Card number must be complete"}},render:({field:c})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"Card Number"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"1234 5678 9012 3456",...c,onChange:u=>{const d=i(u.target.value);c.onChange(d)},maxLength:19})}),a.jsx(Ct,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Lt,{control:s.control,name:"expiryDate",rules:{required:"Expiry date is required",pattern:{value:/^(0[1-9]|1[0-2])\/\d{2}$/,message:"Invalid expiry date format (MM/YY)"}},render:({field:c})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"Expiry Date"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"MM/YY",...c,onChange:u=>{const d=l(u.target.value);c.onChange(d)},maxLength:5})}),a.jsx(Ct,{})]})}),a.jsx(Lt,{control:s.control,name:"cvv",rules:{required:"CVV is required",minLength:{value:3,message:"CVV must be 3-4 digits"},maxLength:{value:4,message:"CVV must be 3-4 digits"}},render:({field:c})=>a.jsxs(_t,{children:[a.jsx(jt,{children:"CVV"}),a.jsx(kt,{children:a.jsx(ue,{placeholder:"123",type:"password",...c,onChange:u=>{const d=u.target.value.replace(/[^0-9]/g,"");c.onChange(d)},maxLength:4})}),a.jsx(Ct,{})]})})]}),a.jsxs("div",{className:"pt-4 space-y-3",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Test Card Information:"}),a.jsx("p",{children:"• Card Number: 4242 4242 4242 4242"}),a.jsx("p",{children:"• Expiry: Any future date (e.g., 12/25)"}),a.jsx("p",{children:"• CVV: Any 3-4 digits (e.g., 123)"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(Ae,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:[a.jsx(Gw,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsx(Ae,{type:"submit",disabled:n,className:"flex-1",children:n?"Processing...":"Complete Order"})]})]})]})})})]})},OL=({items:e,total:t,currentStep:r})=>{const n=t,s=n*.08,o=n+s,i=e.some(l=>l.product.stock<=0||l.quantity>l.product.stock);return a.jsx("div",{className:"space-y-4",children:a.jsxs(me,{className:"sticky top-4",children:[a.jsx(ye,{children:a.jsx(xe,{children:"Order Summary"})}),a.jsxs(we,{className:"space-y-4",children:[a.jsx("div",{className:"space-y-3",children:e.map(l=>{const c=l.product.stock<=0||l.quantity>l.product.stock;return a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-sm",children:l.product.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",l.quantity]}),c&&a.jsx(Tr,{variant:"destructive",className:"text-xs",children:"Stock Issue"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["$",l.product.price.toFixed(2)," each"]})]}),a.jsxs("span",{className:"font-medium text-sm",children:["$",(l.product.price*l.quantity).toFixed(2)]})]},l.id)})}),a.jsx(Mc,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",n.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{className:"text-green-600",children:"Free"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tax (8%)"}),a.jsxs("span",{children:["$",s.toFixed(2)]})]}),a.jsx(Mc,{}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",o.toFixed(2)]})]})]}),i&&a.jsx("div",{className:"mt-4 p-3 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Na,{className:"h-4 w-4 text-amber-600 mt-0.5 shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Stock Issues Detected"}),a.jsx("p",{className:"text-amber-700 dark:text-amber-300 mt-1",children:"Some items may not be available. Please review your cart."})]})]})}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Step ",r," of 2"]}),a.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r/2*100}%`}})})]})]})]})})},ML=async e=>{console.log("Processing order:",e);try{const t=`ORD-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r=e.items.reduce((o,i)=>o+i.price*i.quantity,0),{data:n,error:s}=await ae.from("orders").insert({user_id:e.userId,order_number:t,total_amount:r,status:"pending"}).select("id").single();if(s)throw console.error("Error creating order:",s),s;console.log("Order created:",n);for(const o of e.items){console.log(`Processing ${o.quantity} items for product ${o.productId}`);const{data:i,error:l}=await ae.from("inventory").select("id, name, quantity").eq("id",o.productId).single();if(l)throw console.error("Error checking inventory:",l),new Error(`Product ${o.productId} not found`);console.log("Inventory check:",i);const{data:c,error:u}=await ae.from("items").select("serial_id, inventory_id").eq("inventory_id",o.productId).eq("status","available").order("serial_id",{ascending:!0}).limit(o.quantity);if(u)throw console.error("Error fetching available items:",u),u;if(console.log(`Found ${(c==null?void 0:c.length)||0} available items for product ${o.productId}`),!c||c.length<o.quantity)throw new Error(`Insufficient stock for product ${i.name}. Available: ${(c==null?void 0:c.length)||0}, Required: ${o.quantity}`);console.log("Available items to mark as sold:",c);const d=c.map(x=>x.serial_id),{error:f}=await ae.from("items").update({status:"sold"}).in("serial_id",d);if(f)throw console.error("Error updating item status:",f),f;console.log(`Successfully marked ${d.length} items as sold:`,d);const h=c.map(x=>({order_id:n.id,item_serial:x.serial_id,price:o.price})),{error:v}=await ae.from("order_items").insert(h);if(v)throw console.error("Error creating order items:",v),v;console.log(`Successfully processed ${o.quantity} items for product ${o.productId}`)}return console.log("Order processing completed successfully"),{success:!0,orderId:n.id}}catch(t){return console.error("Error processing order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},IL=async e=>{try{const{error:t}=await ae.from("orders").update({status:"completed"}).eq("id",e);if(t)throw console.error("Error completing order:",t),t;return console.log("Order completed successfully:",e),{success:!0}}catch(t){return console.error("Error completing order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},DL=()=>{const e=qs(),{items:t,total:r,clearCart:n}=Pp(),{user:s}=Ks(),{toast:o}=mr(),[i,l]=p.useState(1),[c,u]=p.useState({firstName:"",lastName:"",email:"",phone:"",company:"",address:"",city:"",state:"",postalCode:"",country:"United States"}),[d,f]=p.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[h,v]=p.useState(!1);p.useEffect(()=>{t.length===0&&(e("/store"),o({title:"Cart is empty",description:"Add items to your cart before checking out.",variant:"destructive"}))},[t,e,o]),p.useEffect(()=>{s&&u(y=>({...y,firstName:s.name.split(" ")[0]||"",lastName:s.name.split(" ").slice(1).join(" ")||"",email:s.email||""}))},[s]);const x=y=>{u(y),l(2)},g=async y=>{f(y),v(!0);try{if(!s)throw new Error("User not authenticated");const m=t.map(S=>({productId:S.product.id,quantity:S.quantity,price:S.product.price})),b=await ML({userId:s.id,items:m,invoiceData:c,paymentData:y});if(!b.success)throw new Error(b.error||"Failed to process order");if(await new Promise(S=>setTimeout(S,2e3)),b.orderId){const S=await IL(b.orderId);S.success||console.warn("Order created but failed to mark as delivered:",S.error)}o({title:"Order placed successfully!",description:`Your order has been confirmed. Order total: $${(r*1.08).toFixed(2)}`}),n(),e("/store")}catch(m){console.error("Payment processing error:",m),o({title:"Payment failed",description:m instanceof Error?m.message:"There was an error processing your payment. Please try again.",variant:"destructive"})}finally{v(!1)}},w=[{number:1,title:"Invoice Information",icon:rb},{number:2,title:"Payment Details",icon:Xw}];return t.length===0?null:a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>e("/cart"),className:"shrink-0",children:a.jsx(Gw,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Checkout"}),a.jsx("p",{className:"text-muted-foreground",children:"Complete your purchase securely"})]})]}),a.jsx("div",{className:"flex items-center justify-center mb-8",children:w.map((y,m)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${i>=y.number?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:a.jsx(y.icon,{className:"h-5 w-5"})}),a.jsx("div",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-100",children:y.title}),m<w.length-1&&a.jsx("div",{className:`mx-6 h-0.5 w-16 ${i>y.number?"bg-blue-600":"bg-gray-300"}`})]},y.number))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i===1&&a.jsx(RL,{initialData:c,onSubmit:x}),i===2&&a.jsx(AL,{initialData:d,onSubmit:g,onBack:()=>l(1),isProcessing:h})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(OL,{items:t,total:r,currentStep:i})})]}),a.jsxs("div",{className:"mt-8 flex items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(wT,{className:"h-4 w-4 mr-2"}),"Your payment information is secure and encrypted"]})]})})},LL=()=>a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Comprehensive insights and performance metrics for your business"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(me,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(Jw,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"$45,231"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(tb,{className:"inline h-3 w-3 mr-1 text-green-600"}),"+20.1% from last month"]})]})]}),a.jsxs(me,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Products Sold"}),a.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"2,350"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+180 from last month"})]})]}),a.jsxs(me,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Total Orders"}),a.jsx(Dp,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"1,234"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+19% from last month"})]})]}),a.jsxs(me,{children:[a.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(xe,{className:"text-sm font-medium",children:"Active Users"}),a.jsx(Lp,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"573"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+201 since last hour"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsx(xe,{children:"Analytics Overview"}),a.jsx(at,{children:"Performance metrics and trends over time"})]}),a.jsx(we,{children:a.jsxs(zp,{defaultValue:"revenue",className:"w-full",children:[a.jsxs(wu,{className:"grid w-full grid-cols-3",children:[a.jsx(jr,{value:"revenue",children:"Revenue"}),a.jsx(jr,{value:"products",children:"Products"}),a.jsx(jr,{value:"customers",children:"Customers"})]}),a.jsx(kr,{value:"revenue",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mv,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold",children:"Revenue Trends"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(mv,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Revenue Chart"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly revenue trends"})]})})]})}),a.jsx(kr,{value:"products",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gv,{className:"h-5 w-5 text-green-600"}),a.jsx("h3",{className:"font-semibold",children:"Product Performance"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(gv,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Product Sales Chart"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sales by category"})]})})]})}),a.jsx(kr,{value:"customers",className:"mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_c,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"font-semibold",children:"Customer Analytics"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(_c,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Customer Demographics"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"User engagement data"})]})})]})})]})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsx(xe,{className:"text-lg",children:"Top Performing Products"}),a.jsx(at,{children:"Best sellers this month"})]}),a.jsxs(we,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Hr,{size:16,className:"text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Premium Headphones"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Electronics"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$12,450"})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(Hr,{size:16,className:"text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Smart Watch"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Wearables"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$8,920"})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx(Hr,{size:16,className:"text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Wireless Speaker"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Audio"})]})]}),a.jsx("span",{className:"font-semibold text-sm",children:"$6,750"})]})]})]}),a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsx(xe,{className:"text-lg",children:"Recent Activity"}),a.jsx(at,{children:"Latest system events"})]}),a.jsxs(we,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"New order processed"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"2 minutes ago"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Inventory updated"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"15 minutes ago"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Low stock alert"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"1 hour ago"})]})]})]})]})]})]})]}),FL=()=>{const{user:e}=Ks(),{toast:t}=mr(),[r,n]=p.useState(!1),[s,o]=p.useState(!1),[i,l]=p.useState({name:"",email:"",phone:"",company_name:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",tax_id:"",avatar_url:""});p.useEffect(()=>{e&&(l({name:e.name||"",email:e.email||"",phone:"",company_name:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",tax_id:"",avatar_url:e.avatar||""}),c())},[e]);const c=async()=>{if(e)try{const{data:v,error:x}=await ae.from("profiles").select("*").eq("id",e.id).single();if(x){console.error("Error fetching profile:",x);return}v&&l(g=>({...g,phone:v.phone||"",company_name:v.company_name||"",address_line1:v.address_line1||"",address_line2:v.address_line2||"",city:v.city||"",state:v.state||"",postal_code:v.postal_code||"",country:v.country||"",tax_id:v.tax_id||"",avatar_url:v.avatar_url||""}))}catch(v){console.error("Error fetching profile data:",v)}},u=v=>{const{name:x,value:g}=v.target;l(w=>({...w,[x]:g}))},d=async v=>{try{if(o(!0),!v.target.files||v.target.files.length===0)throw new Error("You must select an image to upload.");const x=v.target.files[0],g=x.name.split(".").pop(),w=`${e==null?void 0:e.id}/avatar.${g}`,{error:y}=await ae.storage.from("avatars").upload(w,x,{upsert:!0});if(y)throw y;const{data:m}=ae.storage.from("avatars").getPublicUrl(w);l(b=>({...b,avatar_url:m.publicUrl})),t({title:"Avatar uploaded",description:"Your profile picture has been updated successfully."})}catch(x){t({title:"Error uploading avatar",description:x.message,variant:"destructive"})}finally{o(!1)}},f=async v=>{if(v.preventDefault(),!!e){n(!0);try{const{error:x}=await ae.from("profiles").update({name:i.name,phone:i.phone,company_name:i.company_name,address_line1:i.address_line1,address_line2:i.address_line2,city:i.city,state:i.state,postal_code:i.postal_code,country:i.country,tax_id:i.tax_id,avatar_url:i.avatar_url,updated_at:new Date().toISOString()}).eq("id",e.id);if(x)throw x;t({title:"Profile updated",description:"Your profile has been updated successfully."})}catch(x){t({title:"Error updating profile",description:x.message,variant:"destructive"})}finally{n(!1)}}};if(!e)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})});const h=i.name?i.name.substring(0,2).toUpperCase():i.email.substring(0,2).toUpperCase();return a.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Profile Settings"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your account information and invoice details"})]}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsx(xe,{children:"Profile Picture"}),a.jsx(at,{children:"Upload a profile picture to personalize your account"})]}),a.jsx(we,{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(bu,{className:"h-20 w-20",children:[a.jsx(Su,{src:i.avatar_url,alt:i.name}),a.jsx(_u,{children:h})]}),a.jsxs("div",{children:[a.jsxs($e,{htmlFor:"avatar",className:"cursor-pointer",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:[a.jsx(TT,{className:"h-4 w-4"}),a.jsx("span",{children:s?"Uploading...":"Upload Picture"})]}),a.jsx(ue,{id:"avatar",type:"file",accept:"image/*",onChange:d,disabled:s,className:"hidden"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"JPG, PNG or GIF. Max size 2MB."})]})]})})]}),a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsx(xe,{children:"Personal Information"}),a.jsx(at,{children:"Update your personal details"})]}),a.jsx(we,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"name",children:"Full Name"}),a.jsx(ue,{id:"name",name:"name",value:i.name,onChange:u,placeholder:"Enter your full name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",children:"Email"}),a.jsx(ue,{id:"email",name:"email",type:"email",value:i.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"phone",children:"Phone Number"}),a.jsx(ue,{id:"phone",name:"phone",value:i.phone,onChange:u,placeholder:"Enter your phone number"})]})]})})]}),a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsx(xe,{children:"Invoice Information"}),a.jsx(at,{children:"This information will be used for billing and invoices"})]}),a.jsx(we,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx($e,{htmlFor:"company_name",children:"Company Name"}),a.jsx(ue,{id:"company_name",name:"company_name",value:i.company_name,onChange:u,placeholder:"Enter company name (optional)"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx($e,{htmlFor:"address_line1",children:"Address Line 1"}),a.jsx(ue,{id:"address_line1",name:"address_line1",value:i.address_line1,onChange:u,placeholder:"Street address"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx($e,{htmlFor:"address_line2",children:"Address Line 2"}),a.jsx(ue,{id:"address_line2",name:"address_line2",value:i.address_line2,onChange:u,placeholder:"Apartment, suite, etc. (optional)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"city",children:"City"}),a.jsx(ue,{id:"city",name:"city",value:i.city,onChange:u,placeholder:"City"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"state",children:"State/Province"}),a.jsx(ue,{id:"state",name:"state",value:i.state,onChange:u,placeholder:"State or Province"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"postal_code",children:"Postal Code"}),a.jsx(ue,{id:"postal_code",name:"postal_code",value:i.postal_code,onChange:u,placeholder:"Postal code"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"country",children:"Country"}),a.jsx(ue,{id:"country",name:"country",value:i.country,onChange:u,placeholder:"Country"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx($e,{htmlFor:"tax_id",children:"Tax ID"}),a.jsx(ue,{id:"tax_id",name:"tax_id",value:i.tax_id,onChange:u,placeholder:"Tax identification number (optional)"})]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Ae,{type:"submit",disabled:r,children:r?"Saving...":"Save Changes"})})]})]})})},$L=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,o]=p.useState(!1),[i,l]=p.useState(null),[c,u]=p.useState(null);p.useState("customer");const[d,f]=p.useState({name:"",email:"",password:"",role:"customer"}),{toast:h}=mr(),v=async()=>{try{const{data:m,error:b}=await ae.from("profiles").select("*").order("created_at",{ascending:!1});if(b){console.error("Error fetching users:",b),h({title:"Error fetching users",description:b.message,variant:"destructive"});return}const S=m.map(_=>({id:_.id,name:_.name||"User",email:_.email||"",role:_.role||"customer",avatar:_.avatar_url||"",createdAt:new Date(_.created_at||Date.now()),updatedAt:new Date(_.updated_at||Date.now())}));t(S)}catch(m){console.error("Error in fetchUsers:",m),h({title:"Error",description:"Failed to fetch users",variant:"destructive"})}finally{n(!1)}},x=async m=>{if(m.preventDefault(),!d.name||!d.email||!d.password){h({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}o(!0);try{const{data:{session:b}}=await ae.auth.getSession();if(!b){h({title:"Authentication required",description:"Please log in to create users",variant:"destructive"});return}console.log("Calling create-user edge function...");const{data:S,error:_}=await ae.functions.invoke("create-user",{body:{name:d.name,email:d.email,password:d.password,role:d.role},headers:{Authorization:`Bearer ${b.access_token}`}});if(_){console.error("Edge function error:",_),h({title:"Error creating user",description:_.message||"Failed to create user",variant:"destructive"});return}console.log("User creation response:",S),h({title:"User created successfully",description:`${d.name} has been added to the system`,variant:"default"}),f({name:"",email:"",password:"",role:"customer"}),v()}catch(b){console.error("Error in handleCreateUser:",b),h({title:"Error",description:"Failed to create user. Please try again.",variant:"destructive"})}finally{o(!1)}},g=async(m,b)=>{if(confirm(`Are you sure you want to delete ${b}? This action cannot be undone.`)){l(m);try{const{data:{session:S}}=await ae.auth.getSession();if(!S){h({title:"Authentication required",description:"Please log in to delete users",variant:"destructive"});return}console.log("Calling delete-user edge function...");const{data:_,error:N}=await ae.functions.invoke("delete-user",{body:{userId:m},headers:{Authorization:`Bearer ${S.access_token}`}});if(N){console.error("Edge function error:",N),h({title:"Error deleting user",description:N.message||"Failed to delete user",variant:"destructive"});return}console.log("User deletion response:",_),h({title:"User deleted successfully",description:`${b} has been removed from the system`,variant:"default"}),v()}catch(S){console.error("Error in handleDeleteUser:",S),h({title:"Error",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{l(null)}}},w=async(m,b)=>{u(m);try{await g2(m,b)?(h({title:"Role updated successfully",description:`User role has been changed to ${b}`,variant:"default"}),v()):h({title:"Error updating role",description:"Failed to update user role. Please try again.",variant:"destructive"})}catch(S){console.error("Error in handleUpdateRole:",S),h({title:"Error",description:"Failed to update user role. Please try again.",variant:"destructive"})}finally{u(null)}},y=m=>{switch(m){case"admin":return"destructive";case"warehouse":return"default";case"analyst":return"secondary";case"customer":return"outline";default:return"outline"}};return p.useEffect(()=>{v()},[]),a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts and permissions"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Lp,{className:"h-8 w-8 text-muted-foreground"})})]}),a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsxs(xe,{className:"flex items-center space-x-2",children:[a.jsx(vv,{className:"h-5 w-5"}),a.jsx("span",{children:"Create New User"})]}),a.jsx(at,{children:"Add a new user account to the system"})]}),a.jsx(we,{children:a.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"name",children:"Full Name *"}),a.jsx(ue,{id:"name",type:"text",value:d.name,onChange:m=>f({...d,name:m.target.value}),placeholder:"Enter full name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",children:"Email Address *"}),a.jsx(ue,{id:"email",type:"email",value:d.email,onChange:m=>f({...d,email:m.target.value}),placeholder:"Enter email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"password",children:"Password *"}),a.jsx(ue,{id:"password",type:"password",value:d.password,onChange:m=>f({...d,password:m.target.value}),placeholder:"Enter password",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"role",children:"Role *"}),a.jsxs(Ma,{value:d.role,onValueChange:m=>f({...d,role:m}),children:[a.jsx(ai,{children:a.jsx(Oc,{placeholder:"Select role"})}),a.jsxs(li,{children:[a.jsx(Be,{value:"customer",children:"Customer"}),a.jsx(Be,{value:"warehouse",children:"Warehouse"}),a.jsx(Be,{value:"analyst",children:"Analyst"}),a.jsx(Be,{value:"admin",children:"Admin"})]})]})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(Ae,{type:"submit",disabled:s,className:"w-full md:w-auto",children:s?a.jsxs(a.Fragment,{children:[a.jsx(na,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating User..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vv,{className:"mr-2 h-4 w-4"}),"Create User"]})})})]})})]}),a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsx(xe,{children:"Existing Users"}),a.jsx(at,{children:"View and manage all user accounts"})]}),a.jsx(we,{children:r?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(na,{className:"h-8 w-8 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Loading users..."})]}):a.jsxs(am,{children:[a.jsx(lm,{children:a.jsxs(Do,{children:[a.jsx(lr,{children:"Name"}),a.jsx(lr,{children:"Email"}),a.jsx(lr,{children:"Role"}),a.jsx(lr,{children:"Created At"}),a.jsx(lr,{children:"Actions"})]})}),a.jsxs(cm,{children:[e.map(m=>a.jsxs(Do,{children:[a.jsx(Yt,{className:"font-medium",children:m.name}),a.jsx(Yt,{children:m.email}),a.jsx(Yt,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tr,{variant:y(m.role),children:m.role}),a.jsxs(Ma,{value:m.role,onValueChange:b=>w(m.id,b),disabled:c===m.id,children:[a.jsx(ai,{className:"w-24 h-8",children:a.jsx(ET,{className:"h-3 w-3"})}),a.jsxs(li,{children:[a.jsx(Be,{value:"customer",children:"Customer"}),a.jsx(Be,{value:"warehouse",children:"Warehouse"}),a.jsx(Be,{value:"analyst",children:"Analyst"}),a.jsx(Be,{value:"admin",children:"Admin"})]})]})]})}),a.jsx(Yt,{children:m.createdAt.toLocaleDateString()}),a.jsx(Yt,{children:a.jsx(Ae,{variant:"destructive",size:"sm",onClick:()=>g(m.id,m.name),disabled:i===m.id,children:i===m.id?a.jsx(na,{className:"h-4 w-4 animate-spin"}):a.jsx(eb,{className:"h-4 w-4"})})})]},m.id)),e.length===0&&a.jsx(Do,{children:a.jsx(Yt,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No users found"})})]})]})})]})]})},UL=()=>{const{user:e}=Ks(),{toast:t}=mr(),[r,n]=p.useState(null),{data:s,isLoading:o,refetch:i}=_p({queryKey:["orders",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const{data:u,error:d}=await ae.from("orders").select(`
          id,
          order_number,
          status,
          total_amount,
          created_at,
          order_items (
            id,
            item_serial,
            price,
            items (
              inventory (
                name,
                description
              )
            )
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(d)throw console.error("Error fetching orders:",d),d;return u},enabled:!!e}),l=u=>{switch(u){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=async(u,d)=>{n(u);try{t({title:"Refund request submitted",description:`Your refund request for order ${d} has been submitted and will be processed soon.`})}catch(f){console.error("Error requesting refund:",f),t({title:"Error",description:"Failed to submit refund request. Please try again.",variant:"destructive"})}finally{n(null)}};return o?a.jsxs("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading orders..."})]}):a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"My Orders"}),a.jsx("p",{className:"text-muted-foreground",children:"Track your orders and request refunds"})]}),!s||s.length===0?a.jsx(me,{children:a.jsxs(ye,{children:[a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(Hr,{className:"h-5 w-5"}),"No Orders Found"]}),a.jsx(at,{children:"You haven't placed any orders yet. Start shopping to see your orders here."})]})}):a.jsx("div",{className:"space-y-4",children:s.map(u=>a.jsxs(me,{children:[a.jsx(ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(Hr,{className:"h-5 w-5"}),"Order #",u.order_number]}),a.jsxs(at,{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hT,{className:"h-4 w-4"}),_D(new Date(u.created_at),"PPP")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Jw,{className:"h-4 w-4"}),"$",u.total_amount.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Tr,{className:l(u.status),children:u.status.charAt(0).toUpperCase()+u.status.slice(1)}),u.status==="delivered"&&a.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>c(u.id,u.order_number),disabled:r===u.id,className:"flex items-center gap-2",children:[a.jsx(Ip,{className:"h-4 w-4"}),r===u.id?"Requesting...":"Request Refund"]})]})]})}),a.jsx(we,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Order Items:"}),a.jsx("div",{className:"space-y-2",children:u.order_items.map(d=>{var f,h,v,x;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((h=(f=d.items)==null?void 0:f.inventory)==null?void 0:h.name)||"Unknown Product"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Serial: ",d.item_serial]}),((x=(v=d.items)==null?void 0:v.inventory)==null?void 0:x.description)&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:d.items.inventory.description})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["$",d.price.toFixed(2)]})})]},d.id)})})]})})]},u.id))})]})})})},zL=()=>a.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Returns & Refunds"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage product returns and refund requests"})]}),a.jsxs(me,{children:[a.jsxs(ye,{children:[a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(Ip,{className:"h-5 w-5"}),"Returns Management"]}),a.jsx(at,{children:"This page will contain the returns management functionality"})]}),a.jsx(we,{children:a.jsx("p",{className:"text-muted-foreground",children:"Returns functionality will be implemented here."})})]})]})})}),BL=()=>{const e=mn();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center max-w-md px-4",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Oops! The page you're looking for doesn't exist."}),a.jsx("p",{className:"text-gray-500 mb-8",children:"The page may have been moved, deleted, or never existed in the first place."}),a.jsx(Ae,{asChild:!0,children:a.jsx(zn,{to:"/login",children:"Go to Login"})})]})})},VL=new wE;function WL(){return a.jsx("div",{className:"min-h-screen w-full bg-gray-50 dark:bg-gray-900",children:a.jsx(kE,{client:VL,children:a.jsxs(v2,{children:[a.jsx(x2,{children:a.jsx(tE,{basename:"/stock2store",children:a.jsxs(GC,{children:[a.jsx(Ht,{path:"/",element:a.jsx(Ir,{resource:"store",action:"view",fallbackPath:"/login",children:a.jsx(Dr,{children:a.jsx(Kv,{})})})}),a.jsx(Ht,{path:"/login",element:a.jsx(LR,{})}),a.jsx(Ht,{path:"/warehouse",element:a.jsx(Ir,{resource:"warehouse",action:"view",fallbackPath:"/store",children:a.jsx(Dr,{children:a.jsx(RD,{})})})}),a.jsx(Ht,{path:"/store",element:a.jsx(Ir,{resource:"store",action:"view",fallbackPath:"/login",children:a.jsx(Dr,{children:a.jsx(Kv,{})})})}),a.jsx(Ht,{path:"/cart",element:a.jsx(Ir,{resource:"cart",action:"view",fallbackPath:"/store",children:a.jsx(Dr,{children:a.jsx(uL,{})})})}),a.jsx(Ht,{path:"/checkout",element:a.jsx(Ir,{resource:"checkout",action:"view",fallbackPath:"/store",children:a.jsx(Dr,{children:a.jsx(DL,{})})})}),a.jsx(Ht,{path:"/analytics",element:a.jsx(Ir,{resource:"analytics",action:"view",fallbackPath:"/store",children:a.jsx(Dr,{children:a.jsx(LL,{})})})}),a.jsx(Ht,{path:"/users",element:a.jsx(Ir,{resource:"users",action:"view",fallbackPath:"/store",children:a.jsx(Dr,{children:a.jsx($L,{})})})}),a.jsx(Ht,{path:"/orders",element:a.jsx(Ir,{resource:"orders",action:"view",fallbackPath:"/store",children:a.jsx(Dr,{children:a.jsx(UL,{})})})}),a.jsx(Ht,{path:"/returns",element:a.jsx(Ir,{resource:"returns",action:"view",fallbackPath:"/store",children:a.jsx(Dr,{children:a.jsx(zL,{})})})}),a.jsx(Ht,{path:"/profile",element:a.jsx(Ir,{resource:"profile",action:"view",fallbackPath:"/store",children:a.jsx(Dr,{children:a.jsx(FL,{})})})}),a.jsx(Ht,{path:"*",element:a.jsx(BL,{})})]})})}),a.jsx(fR,{})]})})})}E0(document.getElementById("root")).render(a.jsx(WL,{}));export{hy as g};
