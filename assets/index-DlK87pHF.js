var xv=e=>{throw TypeError(e)};var hf=(e,t,r)=>t.has(e)||xv("Cannot "+r);var k=(e,t,r)=>(hf(e,t,"read from private field"),r?r.call(e):t.get(e)),ie=(e,t,r)=>t.has(e)?xv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),K=(e,t,r,n)=>(hf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),me=(e,t,r)=>(hf(e,t,"access private method"),r);var ec=(e,t,r,n)=>({set _(s){K(e,t,s,r)},get _(){return k(e,t,n)}});function BC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function WC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var O0={exports:{}},od={},A0={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),qC=Symbol.for("react.portal"),HC=Symbol.for("react.fragment"),KC=Symbol.for("react.strict_mode"),GC=Symbol.for("react.profiler"),QC=Symbol.for("react.provider"),YC=Symbol.for("react.context"),ZC=Symbol.for("react.forward_ref"),XC=Symbol.for("react.suspense"),JC=Symbol.for("react.memo"),eE=Symbol.for("react.lazy"),wv=Symbol.iterator;function tE(e){return e===null||typeof e!="object"?null:(e=wv&&e[wv]||e["@@iterator"],typeof e=="function"?e:null)}var I0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M0=Object.assign,D0={};function Xo(e,t,r){this.props=e,this.context=t,this.refs=D0,this.updater=r||I0}Xo.prototype.isReactComponent={};Xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function L0(){}L0.prototype=Xo.prototype;function fm(e,t,r){this.props=e,this.context=t,this.refs=D0,this.updater=r||I0}var hm=fm.prototype=new L0;hm.constructor=fm;M0(hm,Xo.prototype);hm.isPureReactComponent=!0;var bv=Array.isArray,$0=Object.prototype.hasOwnProperty,pm={current:null},F0={key:!0,ref:!0,__self:!0,__source:!0};function U0(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$0.call(t,n)&&!F0.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Ul,type:e,key:i,ref:o,props:s,_owner:pm.current}}function rE(e,t){return{$$typeof:Ul,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ul}function nE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _v=/\/+/g;function pf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nE(""+e.key):t.toString(36)}function Ic(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ul:case qC:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+pf(o,0):n,bv(s)?(r="",e!=null&&(r=e.replace(_v,"$&/")+"/"),Ic(s,t,r,"",function(u){return u})):s!=null&&(mm(s)&&(s=rE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_v,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",bv(e))for(var a=0;a<e.length;a++){i=e[a];var c=n+pf(i,a);o+=Ic(i,t,r,c,s)}else if(c=tE(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=n+pf(i,a++),o+=Ic(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function tc(e,t,r){if(e==null)return e;var n=[],s=0;return Ic(e,n,"","",function(i){return t.call(r,i,s++)}),n}function sE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wt={current:null},Mc={transition:null},iE={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Mc,ReactCurrentOwner:pm};function z0(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:tc,forEach:function(e,t,r){tc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return tc(e,function(){t++}),t},toArray:function(e){return tc(e,function(t){return t})||[]},only:function(e){if(!mm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Xo;be.Fragment=HC;be.Profiler=GC;be.PureComponent=fm;be.StrictMode=KC;be.Suspense=XC;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iE;be.act=z0;be.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=M0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=pm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)$0.call(t,c)&&!F0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ul,type:e.type,key:s,ref:i,props:n,_owner:o}};be.createContext=function(e){return e={$$typeof:YC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QC,_context:e},e.Consumer=e};be.createElement=U0;be.createFactory=function(e){var t=U0.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:ZC,render:e}};be.isValidElement=mm;be.lazy=function(e){return{$$typeof:eE,_payload:{_status:-1,_result:e},_init:sE}};be.memo=function(e,t){return{$$typeof:JC,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Mc.transition;Mc.transition={};try{e()}finally{Mc.transition=t}};be.unstable_act=z0;be.useCallback=function(e,t){return Wt.current.useCallback(e,t)};be.useContext=function(e){return Wt.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return Wt.current.useDeferredValue(e)};be.useEffect=function(e,t){return Wt.current.useEffect(e,t)};be.useId=function(){return Wt.current.useId()};be.useImperativeHandle=function(e,t,r){return Wt.current.useImperativeHandle(e,t,r)};be.useInsertionEffect=function(e,t){return Wt.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return Wt.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return Wt.current.useMemo(e,t)};be.useReducer=function(e,t,r){return Wt.current.useReducer(e,t,r)};be.useRef=function(e){return Wt.current.useRef(e)};be.useState=function(e){return Wt.current.useState(e)};be.useSyncExternalStore=function(e,t,r){return Wt.current.useSyncExternalStore(e,t,r)};be.useTransition=function(){return Wt.current.useTransition()};be.version="18.3.1";A0.exports=be;var h=A0.exports;const ve=R0(h),ad=BC({__proto__:null,default:ve},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE=h,aE=Symbol.for("react.element"),lE=Symbol.for("react.fragment"),cE=Object.prototype.hasOwnProperty,uE=oE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dE={key:!0,ref:!0,__self:!0,__source:!0};function V0(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)cE.call(t,n)&&!dE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:aE,type:e,key:i,ref:o,props:s,_owner:uE.current}}od.Fragment=lE;od.jsx=V0;od.jsxs=V0;O0.exports=od;var l=O0.exports,B0={exports:{}},vr={},W0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,R){var V=T.length;T.push(R);e:for(;0<V;){var te=V-1>>>1,pe=T[te];if(0<s(pe,R))T[te]=R,T[V]=pe,V=te;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var R=T[0],V=T.pop();if(V!==R){T[0]=V;e:for(var te=0,pe=T.length,it=pe>>>1;te<it;){var ze=2*(te+1)-1,Lt=T[ze],qe=ze+1,J=T[qe];if(0>s(Lt,V))qe<pe&&0>s(J,Lt)?(T[te]=J,T[qe]=V,te=qe):(T[te]=Lt,T[ze]=V,te=ze);else if(qe<pe&&0>s(J,V))T[te]=J,T[qe]=V,te=qe;else break e}}return R}function s(T,R){var V=T.sortIndex-R.sortIndex;return V!==0?V:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,p=3,g=!1,x=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=T)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function _(T){if(m=!1,b(T),!x)if(r(c)!==null)x=!0,W(S);else{var R=r(u);R!==null&&ee(_,R.startTime-T)}}function S(T,R){x=!1,m&&(m=!1,y(N),N=-1),g=!0;var V=p;try{for(b(R),f=r(c);f!==null&&(!(f.expirationTime>R)||T&&!Q());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var pe=te(f.expirationTime<=R);R=e.unstable_now(),typeof pe=="function"?f.callback=pe:f===r(c)&&n(c),b(R)}else n(c);f=r(c)}if(f!==null)var it=!0;else{var ze=r(u);ze!==null&&ee(_,ze.startTime-R),it=!1}return it}finally{f=null,p=V,g=!1}}var E=!1,C=null,N=-1,I=5,M=-1;function Q(){return!(e.unstable_now()-M<I)}function A(){if(C!==null){var T=e.unstable_now();M=T;var R=!0;try{R=C(!0,T)}finally{R?z():(E=!1,C=null)}}else E=!1}var z;if(typeof v=="function")z=function(){v(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,X=D.port2;D.port1.onmessage=A,z=function(){X.postMessage(null)}}else z=function(){w(A,0)};function W(T){C=T,E||(E=!0,z())}function ee(T,R){N=w(function(){T(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,W(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var V=p;p=R;try{return T()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var V=p;p=T;try{return R()}finally{p=V}},e.unstable_scheduleCallback=function(T,R,V){var te=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?te+V:te):V=te,T){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=V+pe,T={id:d++,callback:R,priorityLevel:T,startTime:V,expirationTime:pe,sortIndex:-1},V>te?(T.sortIndex=V,t(u,T),r(c)===null&&T===r(u)&&(m?(y(N),N=-1):m=!0,ee(_,V-te))):(T.sortIndex=pe,t(c,T),x||g||(x=!0,W(S))),T},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(T){var R=p;return function(){var V=p;p=R;try{return T.apply(this,arguments)}finally{p=V}}}})(q0);W0.exports=q0;var fE=W0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE=h,gr=fE;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H0=new Set,rl={};function Ei(e,t){Do(e,t),Do(e+"Capture",t)}function Do(e,t){for(rl[e]=t,e=0;e<t.length;e++)H0.add(t[e])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yh=Object.prototype.hasOwnProperty,pE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sv={},kv={};function mE(e){return yh.call(kv,e)?!0:yh.call(Sv,e)?!1:pE.test(e)?kv[e]=!0:(Sv[e]=!0,!1)}function gE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vE(e,t,r,n){if(t===null||typeof t>"u"||gE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var gm=/[\-:]([a-z])/g;function vm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gm,vm);Et[t]=new qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gm,vm);Et[t]=new qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gm,vm);Et[t]=new qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ym(e,t,r,n){var s=Et.hasOwnProperty(t)?Et[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vE(t,r,s,n)&&(r=null),n||s===null?mE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $n=hE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rc=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),xm=Symbol.for("react.strict_mode"),xh=Symbol.for("react.profiler"),K0=Symbol.for("react.provider"),G0=Symbol.for("react.context"),wm=Symbol.for("react.forward_ref"),wh=Symbol.for("react.suspense"),bh=Symbol.for("react.suspense_list"),bm=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),Q0=Symbol.for("react.offscreen"),jv=Symbol.iterator;function da(e){return e===null||typeof e!="object"?null:(e=jv&&e[jv]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,mf;function Ca(e){if(mf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mf=t&&t[1]||""}return`
`+mf+e}var gf=!1;function vf(e,t){if(!e||gf)return"";gf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{gf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ca(e):""}function yE(e){switch(e.tag){case 5:return Ca(e.type);case 16:return Ca("Lazy");case 13:return Ca("Suspense");case 19:return Ca("SuspenseList");case 0:case 2:case 15:return e=vf(e.type,!1),e;case 11:return e=vf(e.type.render,!1),e;case 1:return e=vf(e.type,!0),e;default:return""}}function _h(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xi:return"Fragment";case Zi:return"Portal";case xh:return"Profiler";case xm:return"StrictMode";case wh:return"Suspense";case bh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case G0:return(e.displayName||"Context")+".Consumer";case K0:return(e._context.displayName||"Context")+".Provider";case wm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bm:return t=e.displayName||null,t!==null?t:_h(e.type)||"Memo";case Zn:t=e._payload,e=e._init;try{return _h(e(t))}catch{}}return null}function xE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _h(t);case 8:return t===xm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wE(e){var t=Y0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nc(e){e._valueTracker||(e._valueTracker=wE(e))}function Z0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sh(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Cv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Es(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function X0(e,t){t=t.checked,t!=null&&ym(e,"checked",t,!1)}function kh(e,t){X0(e,t);var r=Es(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jh(e,t.type,r):t.hasOwnProperty("defaultValue")&&jh(e,t.type,Es(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ev(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jh(e,t,r){(t!=="number"||Xc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ea=Array.isArray;function co(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Es(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ch(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Ea(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Es(r)}}function J0(e,t){var r=Es(t.value),n=Es(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ew(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ew(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sc,tw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sc=sc||document.createElement("div"),sc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var La={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bE=["Webkit","ms","Moz","O"];Object.keys(La).forEach(function(e){bE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),La[t]=La[e]})});function rw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||La.hasOwnProperty(e)&&La[e]?(""+t).trim():t+"px"}function nw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=rw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var _E=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nh(e,t){if(t){if(_E[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ph(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Th=null;function _m(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rh=null,uo=null,fo=null;function Tv(e){if(e=Bl(e)){if(typeof Rh!="function")throw Error(L(280));var t=e.stateNode;t&&(t=fd(t),Rh(e.stateNode,e.type,t))}}function sw(e){uo?fo?fo.push(e):fo=[e]:uo=e}function iw(){if(uo){var e=uo,t=fo;if(fo=uo=null,Tv(e),t)for(e=0;e<t.length;e++)Tv(t[e])}}function ow(e,t){return e(t)}function aw(){}var yf=!1;function lw(e,t,r){if(yf)return e(t,r);yf=!0;try{return ow(e,t,r)}finally{yf=!1,(uo!==null||fo!==null)&&(aw(),iw())}}function sl(e,t){var r=e.stateNode;if(r===null)return null;var n=fd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Oh=!1;if(Tn)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Oh=!1}function SE(e,t,r,n,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var $a=!1,Jc=null,eu=!1,Ah=null,kE={onError:function(e){$a=!0,Jc=e}};function jE(e,t,r,n,s,i,o,a,c){$a=!1,Jc=null,SE.apply(kE,arguments)}function CE(e,t,r,n,s,i,o,a,c){if(jE.apply(this,arguments),$a){if($a){var u=Jc;$a=!1,Jc=null}else throw Error(L(198));eu||(eu=!0,Ah=u)}}function Ni(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rv(e){if(Ni(e)!==e)throw Error(L(188))}function EE(e){var t=e.alternate;if(!t){if(t=Ni(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Rv(s),e;if(i===n)return Rv(s),t;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function uw(e){return e=EE(e),e!==null?dw(e):null}function dw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dw(e);if(t!==null)return t;e=e.sibling}return null}var fw=gr.unstable_scheduleCallback,Ov=gr.unstable_cancelCallback,NE=gr.unstable_shouldYield,PE=gr.unstable_requestPaint,ot=gr.unstable_now,TE=gr.unstable_getCurrentPriorityLevel,Sm=gr.unstable_ImmediatePriority,hw=gr.unstable_UserBlockingPriority,tu=gr.unstable_NormalPriority,RE=gr.unstable_LowPriority,pw=gr.unstable_IdlePriority,ld=null,cn=null;function OE(e){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(ld,e,void 0,(e.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:ME,AE=Math.log,IE=Math.LN2;function ME(e){return e>>>=0,e===0?32:31-(AE(e)/IE|0)|0}var ic=64,oc=4194304;function Na(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ru(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Na(a):(i&=o,i!==0&&(n=Na(i)))}else o=r&~s,o!==0?n=Na(o):i!==0&&(n=Na(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Br(t),s=1<<r,n|=e[r],t&=~s;return n}function DE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Br(i),a=1<<o,c=s[o];c===-1?(!(a&r)||a&n)&&(s[o]=DE(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Ih(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mw(){var e=ic;return ic<<=1,!(ic&4194240)&&(ic=64),e}function xf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Br(t),e[t]=r}function $E(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Br(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function km(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Br(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var $e=0;function gw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vw,jm,yw,xw,ww,Mh=!1,ac=[],vs=null,ys=null,xs=null,il=new Map,ol=new Map,es=[],FE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Av(e,t){switch(e){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(t.pointerId)}}function ha(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Bl(t),t!==null&&jm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function UE(e,t,r,n,s){switch(t){case"focusin":return vs=ha(vs,e,t,r,n,s),!0;case"dragenter":return ys=ha(ys,e,t,r,n,s),!0;case"mouseover":return xs=ha(xs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return il.set(i,ha(il.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ol.set(i,ha(ol.get(i)||null,e,t,r,n,s)),!0}return!1}function bw(e){var t=ei(e.target);if(t!==null){var r=Ni(t);if(r!==null){if(t=r.tag,t===13){if(t=cw(r),t!==null){e.blockedOn=t,ww(e.priority,function(){yw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Th=n,r.target.dispatchEvent(n),Th=null}else return t=Bl(r),t!==null&&jm(t),e.blockedOn=r,!1;t.shift()}return!0}function Iv(e,t,r){Dc(e)&&r.delete(t)}function zE(){Mh=!1,vs!==null&&Dc(vs)&&(vs=null),ys!==null&&Dc(ys)&&(ys=null),xs!==null&&Dc(xs)&&(xs=null),il.forEach(Iv),ol.forEach(Iv)}function pa(e,t){e.blockedOn===t&&(e.blockedOn=null,Mh||(Mh=!0,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,zE)))}function al(e){function t(s){return pa(s,e)}if(0<ac.length){pa(ac[0],e);for(var r=1;r<ac.length;r++){var n=ac[r];n.blockedOn===e&&(n.blockedOn=null)}}for(vs!==null&&pa(vs,e),ys!==null&&pa(ys,e),xs!==null&&pa(xs,e),il.forEach(t),ol.forEach(t),r=0;r<es.length;r++)n=es[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<es.length&&(r=es[0],r.blockedOn===null);)bw(r),r.blockedOn===null&&es.shift()}var ho=$n.ReactCurrentBatchConfig,nu=!0;function VE(e,t,r,n){var s=$e,i=ho.transition;ho.transition=null;try{$e=1,Cm(e,t,r,n)}finally{$e=s,ho.transition=i}}function BE(e,t,r,n){var s=$e,i=ho.transition;ho.transition=null;try{$e=4,Cm(e,t,r,n)}finally{$e=s,ho.transition=i}}function Cm(e,t,r,n){if(nu){var s=Dh(e,t,r,n);if(s===null)Pf(e,t,n,su,r),Av(e,n);else if(UE(s,e,t,r,n))n.stopPropagation();else if(Av(e,n),t&4&&-1<FE.indexOf(e)){for(;s!==null;){var i=Bl(s);if(i!==null&&vw(i),i=Dh(e,t,r,n),i===null&&Pf(e,t,n,su,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Pf(e,t,n,null,r)}}var su=null;function Dh(e,t,r,n){if(su=null,e=_m(n),e=ei(e),e!==null)if(t=Ni(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return su=e,null}function _w(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TE()){case Sm:return 1;case hw:return 4;case tu:case RE:return 16;case pw:return 536870912;default:return 16}default:return 16}}var hs=null,Em=null,Lc=null;function Sw(){if(Lc)return Lc;var e,t=Em,r=t.length,n,s="value"in hs?hs.value:hs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Lc=s.slice(e,1<n?1-n:void 0)}function $c(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lc(){return!0}function Mv(){return!1}function yr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?lc:Mv,this.isPropagationStopped=Mv,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),t}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nm=yr(Jo),Vl=Je({},Jo,{view:0,detail:0}),WE=yr(Vl),wf,bf,ma,cd=Je({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ma&&(ma&&e.type==="mousemove"?(wf=e.screenX-ma.screenX,bf=e.screenY-ma.screenY):bf=wf=0,ma=e),wf)},movementY:function(e){return"movementY"in e?e.movementY:bf}}),Dv=yr(cd),qE=Je({},cd,{dataTransfer:0}),HE=yr(qE),KE=Je({},Vl,{relatedTarget:0}),_f=yr(KE),GE=Je({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),QE=yr(GE),YE=Je({},Jo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ZE=yr(YE),XE=Je({},Jo,{data:0}),Lv=yr(XE),JE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tN[e])?!!t[e]:!1}function Pm(){return rN}var nN=Je({},Vl,{key:function(e){if(e.key){var t=JE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$c(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(e){return e.type==="keypress"?$c(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$c(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sN=yr(nN),iN=Je({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$v=yr(iN),oN=Je({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),aN=yr(oN),lN=Je({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),cN=yr(lN),uN=Je({},cd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dN=yr(uN),fN=[9,13,27,32],Tm=Tn&&"CompositionEvent"in window,Fa=null;Tn&&"documentMode"in document&&(Fa=document.documentMode);var hN=Tn&&"TextEvent"in window&&!Fa,kw=Tn&&(!Tm||Fa&&8<Fa&&11>=Fa),Fv=" ",Uv=!1;function jw(e,t){switch(e){case"keyup":return fN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function pN(e,t){switch(e){case"compositionend":return Cw(t);case"keypress":return t.which!==32?null:(Uv=!0,Fv);case"textInput":return e=t.data,e===Fv&&Uv?null:e;default:return null}}function mN(e,t){if(Ji)return e==="compositionend"||!Tm&&jw(e,t)?(e=Sw(),Lc=Em=hs=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kw&&t.locale!=="ko"?null:t.data;default:return null}}var gN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gN[e.type]:t==="textarea"}function Ew(e,t,r,n){sw(n),t=iu(t,"onChange"),0<t.length&&(r=new Nm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ua=null,ll=null;function vN(e){$w(e,0)}function ud(e){var t=ro(e);if(Z0(t))return e}function yN(e,t){if(e==="change")return t}var Nw=!1;if(Tn){var Sf;if(Tn){var kf="oninput"in document;if(!kf){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),kf=typeof Vv.oninput=="function"}Sf=kf}else Sf=!1;Nw=Sf&&(!document.documentMode||9<document.documentMode)}function Bv(){Ua&&(Ua.detachEvent("onpropertychange",Pw),ll=Ua=null)}function Pw(e){if(e.propertyName==="value"&&ud(ll)){var t=[];Ew(t,ll,e,_m(e)),lw(vN,t)}}function xN(e,t,r){e==="focusin"?(Bv(),Ua=t,ll=r,Ua.attachEvent("onpropertychange",Pw)):e==="focusout"&&Bv()}function wN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ud(ll)}function bN(e,t){if(e==="click")return ud(t)}function _N(e,t){if(e==="input"||e==="change")return ud(t)}function SN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:SN;function cl(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!yh.call(t,s)||!Hr(e[s],t[s]))return!1}return!0}function Wv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qv(e,t){var r=Wv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wv(r)}}function Tw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rw(){for(var e=window,t=Xc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xc(e.document)}return t}function Rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kN(e){var t=Rw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Tw(r.ownerDocument.documentElement,r)){if(n!==null&&Rm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=qv(r,i);var o=qv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jN=Tn&&"documentMode"in document&&11>=document.documentMode,eo=null,Lh=null,za=null,$h=!1;function Hv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$h||eo==null||eo!==Xc(n)||(n=eo,"selectionStart"in n&&Rm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),za&&cl(za,n)||(za=n,n=iu(Lh,"onSelect"),0<n.length&&(t=new Nm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=eo)))}function cc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var to={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},jf={},Ow={};Tn&&(Ow=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function dd(e){if(jf[e])return jf[e];if(!to[e])return e;var t=to[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ow)return jf[e]=t[r];return e}var Aw=dd("animationend"),Iw=dd("animationiteration"),Mw=dd("animationstart"),Dw=dd("transitionend"),Lw=new Map,Kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(e,t){Lw.set(e,t),Ei(t,[e])}for(var Cf=0;Cf<Kv.length;Cf++){var Ef=Kv[Cf],CN=Ef.toLowerCase(),EN=Ef[0].toUpperCase()+Ef.slice(1);Ds(CN,"on"+EN)}Ds(Aw,"onAnimationEnd");Ds(Iw,"onAnimationIteration");Ds(Mw,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(Dw,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function Gv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,CE(n,t,void 0,e),e.currentTarget=null}function $w(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Gv(s,a,u),i=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Gv(s,a,u),i=c}}}if(eu)throw e=Ah,eu=!1,Ah=null,e}function Ke(e,t){var r=t[Bh];r===void 0&&(r=t[Bh]=new Set);var n=e+"__bubble";r.has(n)||(Fw(t,e,2,!1),r.add(n))}function Nf(e,t,r){var n=0;t&&(n|=4),Fw(r,e,n,t)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ul(e){if(!e[uc]){e[uc]=!0,H0.forEach(function(r){r!=="selectionchange"&&(NN.has(r)||Nf(r,!1,e),Nf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uc]||(t[uc]=!0,Nf("selectionchange",!1,t))}}function Fw(e,t,r,n){switch(_w(t)){case 1:var s=VE;break;case 4:s=BE;break;default:s=Cm}r=s.bind(null,t,r,e),s=void 0,!Oh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Pf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ei(a),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}a=a.parentNode}}n=n.return}lw(function(){var u=i,d=_m(r),f=[];e:{var p=Lw.get(e);if(p!==void 0){var g=Nm,x=e;switch(e){case"keypress":if($c(r)===0)break e;case"keydown":case"keyup":g=sN;break;case"focusin":x="focus",g=_f;break;case"focusout":x="blur",g=_f;break;case"beforeblur":case"afterblur":g=_f;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=HE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=aN;break;case Aw:case Iw:case Mw:g=QE;break;case Dw:g=cN;break;case"scroll":g=WE;break;case"wheel":g=dN;break;case"copy":case"cut":case"paste":g=ZE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$v}var m=(t&4)!==0,w=!m&&e==="scroll",y=m?p!==null?p+"Capture":null:p;m=[];for(var v=u,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=sl(v,y),_!=null&&m.push(dl(v,_,b)))),w)break;v=v.return}0<m.length&&(p=new g(p,x,null,r,d),f.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&r!==Th&&(x=r.relatedTarget||r.fromElement)&&(ei(x)||x[Rn]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(x=r.relatedTarget||r.toElement,g=u,x=x?ei(x):null,x!==null&&(w=Ni(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(m=Dv,_="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=$v,_="onPointerLeave",y="onPointerEnter",v="pointer"),w=g==null?p:ro(g),b=x==null?p:ro(x),p=new m(_,v+"leave",g,r,d),p.target=w,p.relatedTarget=b,_=null,ei(d)===u&&(m=new m(y,v+"enter",x,r,d),m.target=b,m.relatedTarget=w,_=m),w=_,g&&x)t:{for(m=g,y=x,v=0,b=m;b;b=Li(b))v++;for(b=0,_=y;_;_=Li(_))b++;for(;0<v-b;)m=Li(m),v--;for(;0<b-v;)y=Li(y),b--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=Li(m),y=Li(y)}m=null}else m=null;g!==null&&Qv(f,p,g,m,!1),x!==null&&w!==null&&Qv(f,w,x,m,!0)}}e:{if(p=u?ro(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var S=yN;else if(zv(p))if(Nw)S=_N;else{S=wN;var E=xN}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=bN);if(S&&(S=S(e,u))){Ew(f,S,r,d);break e}E&&E(e,p,u),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&jh(p,"number",p.value)}switch(E=u?ro(u):window,e){case"focusin":(zv(E)||E.contentEditable==="true")&&(eo=E,Lh=u,za=null);break;case"focusout":za=Lh=eo=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Hv(f,r,d);break;case"selectionchange":if(jN)break;case"keydown":case"keyup":Hv(f,r,d)}var C;if(Tm)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ji?jw(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(kw&&r.locale!=="ko"&&(Ji||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ji&&(C=Sw()):(hs=d,Em="value"in hs?hs.value:hs.textContent,Ji=!0)),E=iu(u,N),0<E.length&&(N=new Lv(N,e,null,r,d),f.push({event:N,listeners:E}),C?N.data=C:(C=Cw(r),C!==null&&(N.data=C)))),(C=hN?pN(e,r):mN(e,r))&&(u=iu(u,"onBeforeInput"),0<u.length&&(d=new Lv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}$w(f,t)})}function dl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function iu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=sl(e,r),i!=null&&n.unshift(dl(e,i,s)),i=sl(e,t),i!=null&&n.push(dl(e,i,s))),e=e.return}return n}function Li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qv(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=sl(r,i),c!=null&&o.unshift(dl(r,c,a))):s||(c=sl(r,i),c!=null&&o.push(dl(r,c,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var PN=/\r\n?/g,TN=/\u0000|\uFFFD/g;function Yv(e){return(typeof e=="string"?e:""+e).replace(PN,`
`).replace(TN,"")}function dc(e,t,r){if(t=Yv(t),Yv(e)!==t&&r)throw Error(L(425))}function ou(){}var Fh=null,Uh=null;function zh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vh=typeof setTimeout=="function"?setTimeout:void 0,RN=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,ON=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(e){return Zv.resolve(null).then(e).catch(AN)}:Vh;function AN(e){setTimeout(function(){throw e})}function Tf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),al(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);al(t)}function ws(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ea=Math.random().toString(36).slice(2),on="__reactFiber$"+ea,fl="__reactProps$"+ea,Rn="__reactContainer$"+ea,Bh="__reactEvents$"+ea,IN="__reactListeners$"+ea,MN="__reactHandles$"+ea;function ei(e){var t=e[on];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rn]||r[on]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xv(e);e!==null;){if(r=e[on])return r;e=Xv(e)}return t}e=r,r=e.parentNode}return null}function Bl(e){return e=e[on]||e[Rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function fd(e){return e[fl]||null}var Wh=[],no=-1;function Ls(e){return{current:e}}function Ge(e){0>no||(e.current=Wh[no],Wh[no]=null,no--)}function Be(e,t){no++,Wh[no]=e.current,e.current=t}var Ns={},Dt=Ls(Ns),tr=Ls(!1),pi=Ns;function Lo(e,t){var r=e.type.contextTypes;if(!r)return Ns;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function rr(e){return e=e.childContextTypes,e!=null}function au(){Ge(tr),Ge(Dt)}function Jv(e,t,r){if(Dt.current!==Ns)throw Error(L(168));Be(Dt,t),Be(tr,r)}function Uw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,xE(e)||"Unknown",s));return Je({},r,n)}function lu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ns,pi=Dt.current,Be(Dt,e),Be(tr,tr.current),!0}function ey(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=Uw(e,t,pi),n.__reactInternalMemoizedMergedChildContext=e,Ge(tr),Ge(Dt),Be(Dt,e)):Ge(tr),Be(tr,r)}var bn=null,hd=!1,Rf=!1;function zw(e){bn===null?bn=[e]:bn.push(e)}function DN(e){hd=!0,zw(e)}function $s(){if(!Rf&&bn!==null){Rf=!0;var e=0,t=$e;try{var r=bn;for($e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bn=null,hd=!1}catch(s){throw bn!==null&&(bn=bn.slice(e+1)),fw(Sm,$s),s}finally{$e=t,Rf=!1}}return null}var so=[],io=0,cu=null,uu=0,_r=[],Sr=0,mi=null,Sn=1,kn="";function Gs(e,t){so[io++]=uu,so[io++]=cu,cu=e,uu=t}function Vw(e,t,r){_r[Sr++]=Sn,_r[Sr++]=kn,_r[Sr++]=mi,mi=e;var n=Sn;e=kn;var s=32-Br(n)-1;n&=~(1<<s),r+=1;var i=32-Br(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Sn=1<<32-Br(t)+s|r<<s|n,kn=i+e}else Sn=1<<i|r<<s|n,kn=e}function Om(e){e.return!==null&&(Gs(e,1),Vw(e,1,0))}function Am(e){for(;e===cu;)cu=so[--io],so[io]=null,uu=so[--io],so[io]=null;for(;e===mi;)mi=_r[--Sr],_r[Sr]=null,kn=_r[--Sr],_r[Sr]=null,Sn=_r[--Sr],_r[Sr]=null}var pr=null,hr=null,Qe=!1,Ur=null;function Bw(e,t){var r=Er(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ty(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pr=e,hr=ws(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pr=e,hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mi!==null?{id:Sn,overflow:kn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Er(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pr=e,hr=null,!0):!1;default:return!1}}function qh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hh(e){if(Qe){var t=hr;if(t){var r=t;if(!ty(e,t)){if(qh(e))throw Error(L(418));t=ws(r.nextSibling);var n=pr;t&&ty(e,t)?Bw(n,r):(e.flags=e.flags&-4097|2,Qe=!1,pr=e)}}else{if(qh(e))throw Error(L(418));e.flags=e.flags&-4097|2,Qe=!1,pr=e}}}function ry(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pr=e}function fc(e){if(e!==pr)return!1;if(!Qe)return ry(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zh(e.type,e.memoizedProps)),t&&(t=hr)){if(qh(e))throw Ww(),Error(L(418));for(;t;)Bw(e,t),t=ws(t.nextSibling)}if(ry(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){hr=ws(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}hr=null}}else hr=pr?ws(e.stateNode.nextSibling):null;return!0}function Ww(){for(var e=hr;e;)e=ws(e.nextSibling)}function $o(){hr=pr=null,Qe=!1}function Im(e){Ur===null?Ur=[e]:Ur.push(e)}var LN=$n.ReactCurrentBatchConfig;function ga(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function hc(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ny(e){var t=e._init;return t(e._payload)}function qw(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=ks(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,b,_){return v===null||v.tag!==6?(v=$f(b,y.mode,_),v.return=y,v):(v=s(v,b),v.return=y,v)}function c(y,v,b,_){var S=b.type;return S===Xi?d(y,v,b.props.children,_,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zn&&ny(S)===v.type)?(_=s(v,b.props),_.ref=ga(y,v,b),_.return=y,_):(_=qc(b.type,b.key,b.props,null,y.mode,_),_.ref=ga(y,v,b),_.return=y,_)}function u(y,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Ff(b,y.mode,_),v.return=y,v):(v=s(v,b.children||[]),v.return=y,v)}function d(y,v,b,_,S){return v===null||v.tag!==7?(v=hi(b,y.mode,_,S),v.return=y,v):(v=s(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$f(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rc:return b=qc(v.type,v.key,v.props,null,y.mode,b),b.ref=ga(y,null,v),b.return=y,b;case Zi:return v=Ff(v,y.mode,b),v.return=y,v;case Zn:var _=v._init;return f(y,_(v._payload),b)}if(Ea(v)||da(v))return v=hi(v,y.mode,b,null),v.return=y,v;hc(y,v)}return null}function p(y,v,b,_){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(y,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rc:return b.key===S?c(y,v,b,_):null;case Zi:return b.key===S?u(y,v,b,_):null;case Zn:return S=b._init,p(y,v,S(b._payload),_)}if(Ea(b)||da(b))return S!==null?null:d(y,v,b,_,null);hc(y,b)}return null}function g(y,v,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,a(v,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case rc:return y=y.get(_.key===null?b:_.key)||null,c(v,y,_,S);case Zi:return y=y.get(_.key===null?b:_.key)||null,u(v,y,_,S);case Zn:var E=_._init;return g(y,v,b,E(_._payload),S)}if(Ea(_)||da(_))return y=y.get(b)||null,d(v,y,_,S,null);hc(v,_)}return null}function x(y,v,b,_){for(var S=null,E=null,C=v,N=v=0,I=null;C!==null&&N<b.length;N++){C.index>N?(I=C,C=null):I=C.sibling;var M=p(y,C,b[N],_);if(M===null){C===null&&(C=I);break}e&&C&&M.alternate===null&&t(y,C),v=i(M,v,N),E===null?S=M:E.sibling=M,E=M,C=I}if(N===b.length)return r(y,C),Qe&&Gs(y,N),S;if(C===null){for(;N<b.length;N++)C=f(y,b[N],_),C!==null&&(v=i(C,v,N),E===null?S=C:E.sibling=C,E=C);return Qe&&Gs(y,N),S}for(C=n(y,C);N<b.length;N++)I=g(C,y,N,b[N],_),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?N:I.key),v=i(I,v,N),E===null?S=I:E.sibling=I,E=I);return e&&C.forEach(function(Q){return t(y,Q)}),Qe&&Gs(y,N),S}function m(y,v,b,_){var S=da(b);if(typeof S!="function")throw Error(L(150));if(b=S.call(b),b==null)throw Error(L(151));for(var E=S=null,C=v,N=v=0,I=null,M=b.next();C!==null&&!M.done;N++,M=b.next()){C.index>N?(I=C,C=null):I=C.sibling;var Q=p(y,C,M.value,_);if(Q===null){C===null&&(C=I);break}e&&C&&Q.alternate===null&&t(y,C),v=i(Q,v,N),E===null?S=Q:E.sibling=Q,E=Q,C=I}if(M.done)return r(y,C),Qe&&Gs(y,N),S;if(C===null){for(;!M.done;N++,M=b.next())M=f(y,M.value,_),M!==null&&(v=i(M,v,N),E===null?S=M:E.sibling=M,E=M);return Qe&&Gs(y,N),S}for(C=n(y,C);!M.done;N++,M=b.next())M=g(C,y,N,M.value,_),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?N:M.key),v=i(M,v,N),E===null?S=M:E.sibling=M,E=M);return e&&C.forEach(function(A){return t(y,A)}),Qe&&Gs(y,N),S}function w(y,v,b,_){if(typeof b=="object"&&b!==null&&b.type===Xi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case rc:e:{for(var S=b.key,E=v;E!==null;){if(E.key===S){if(S=b.type,S===Xi){if(E.tag===7){r(y,E.sibling),v=s(E,b.props.children),v.return=y,y=v;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zn&&ny(S)===E.type){r(y,E.sibling),v=s(E,b.props),v.ref=ga(y,E,b),v.return=y,y=v;break e}r(y,E);break}else t(y,E);E=E.sibling}b.type===Xi?(v=hi(b.props.children,y.mode,_,b.key),v.return=y,y=v):(_=qc(b.type,b.key,b.props,null,y.mode,_),_.ref=ga(y,v,b),_.return=y,y=_)}return o(y);case Zi:e:{for(E=b.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=s(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=Ff(b,y.mode,_),v.return=y,y=v}return o(y);case Zn:return E=b._init,w(y,v,E(b._payload),_)}if(Ea(b))return x(y,v,b,_);if(da(b))return m(y,v,b,_);hc(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,b),v.return=y,y=v):(r(y,v),v=$f(b,y.mode,_),v.return=y,y=v),o(y)):r(y,v)}return w}var Fo=qw(!0),Hw=qw(!1),du=Ls(null),fu=null,oo=null,Mm=null;function Dm(){Mm=oo=fu=null}function Lm(e){var t=du.current;Ge(du),e._currentValue=t}function Kh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function po(e,t){fu=e,Mm=oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(er=!0),e.firstContext=null)}function Or(e){var t=e._currentValue;if(Mm!==e)if(e={context:e,memoizedValue:t,next:null},oo===null){if(fu===null)throw Error(L(308));oo=e,fu.dependencies={lanes:0,firstContext:e}}else oo=oo.next=e;return t}var ti=null;function $m(e){ti===null?ti=[e]:ti.push(e)}function Kw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,$m(t)):(r.next=s.next,s.next=r),t.interleaved=r,On(e,n)}function On(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xn=!1;function Fm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,On(e,r)}return s=n.interleaved,s===null?(t.next=t,$m(n)):(t.next=s.next,s.next=t),n.interleaved=t,On(e,r)}function Fc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,km(e,r)}}function sy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hu(e,t,r,n){var s=e.updateQueue;Xn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,a=i;do{var p=a.lane,g=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,m=a;switch(p=t,g=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(g,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,p=typeof x=="function"?x.call(g,f,p):x,p==null)break e;f=Je({},f,p);break e;case 2:Xn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vi|=o,e.lanes=o,e.memoizedState=f}}function iy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Wl={},un=Ls(Wl),hl=Ls(Wl),pl=Ls(Wl);function ri(e){if(e===Wl)throw Error(L(174));return e}function Um(e,t){switch(Be(pl,t),Be(hl,e),Be(un,Wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Eh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Eh(t,e)}Ge(un),Be(un,t)}function Uo(){Ge(un),Ge(hl),Ge(pl)}function Qw(e){ri(pl.current);var t=ri(un.current),r=Eh(t,e.type);t!==r&&(Be(hl,e),Be(un,r))}function zm(e){hl.current===e&&(Ge(un),Ge(hl))}var Ye=Ls(0);function pu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Of=[];function Vm(){for(var e=0;e<Of.length;e++)Of[e]._workInProgressVersionPrimary=null;Of.length=0}var Uc=$n.ReactCurrentDispatcher,Af=$n.ReactCurrentBatchConfig,gi=0,Xe=null,ft=null,yt=null,mu=!1,Va=!1,ml=0,$N=0;function Tt(){throw Error(L(321))}function Bm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Hr(e[r],t[r]))return!1;return!0}function Wm(e,t,r,n,s,i){if(gi=i,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uc.current=e===null||e.memoizedState===null?VN:BN,e=r(n,s),Va){i=0;do{if(Va=!1,ml=0,25<=i)throw Error(L(301));i+=1,yt=ft=null,t.updateQueue=null,Uc.current=WN,e=r(n,s)}while(Va)}if(Uc.current=gu,t=ft!==null&&ft.next!==null,gi=0,yt=ft=Xe=null,mu=!1,t)throw Error(L(300));return e}function qm(){var e=ml!==0;return ml=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Xe.memoizedState=yt=e:yt=yt.next=e,yt}function Ar(){if(ft===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=yt===null?Xe.memoizedState:yt.next;if(t!==null)yt=t,ft=e;else{if(e===null)throw Error(L(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},yt===null?Xe.memoizedState=yt=e:yt=yt.next=e}return yt}function gl(e,t){return typeof t=="function"?t(e):t}function If(e){var t=Ar(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=ft,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((gi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=n):c=c.next=f,Xe.lanes|=d,vi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=a,Hr(n,t.memoizedState)||(er=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Xe.lanes|=i,vi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Mf(e){var t=Ar(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Hr(i,t.memoizedState)||(er=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Yw(){}function Zw(e,t){var r=Xe,n=Ar(),s=t(),i=!Hr(n.memoizedState,s);if(i&&(n.memoizedState=s,er=!0),n=n.queue,Hm(eb.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||yt!==null&&yt.memoizedState.tag&1){if(r.flags|=2048,vl(9,Jw.bind(null,r,n,s,t),void 0,null),xt===null)throw Error(L(349));gi&30||Xw(r,t,s)}return s}function Xw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Jw(e,t,r,n){t.value=r,t.getSnapshot=n,tb(t)&&rb(e)}function eb(e,t,r){return r(function(){tb(t)&&rb(e)})}function tb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hr(e,r)}catch{return!0}}function rb(e){var t=On(e,1);t!==null&&Wr(t,e,1,-1)}function oy(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t.queue=e,e=e.dispatch=zN.bind(null,Xe,e),[t.memoizedState,e]}function vl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function nb(){return Ar().memoizedState}function zc(e,t,r,n){var s=en();Xe.flags|=e,s.memoizedState=vl(1|t,r,void 0,n===void 0?null:n)}function pd(e,t,r,n){var s=Ar();n=n===void 0?null:n;var i=void 0;if(ft!==null){var o=ft.memoizedState;if(i=o.destroy,n!==null&&Bm(n,o.deps)){s.memoizedState=vl(t,r,i,n);return}}Xe.flags|=e,s.memoizedState=vl(1|t,r,i,n)}function ay(e,t){return zc(8390656,8,e,t)}function Hm(e,t){return pd(2048,8,e,t)}function sb(e,t){return pd(4,2,e,t)}function ib(e,t){return pd(4,4,e,t)}function ob(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ab(e,t,r){return r=r!=null?r.concat([e]):null,pd(4,4,ob.bind(null,t,e),r)}function Km(){}function lb(e,t){var r=Ar();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cb(e,t){var r=Ar();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ub(e,t,r){return gi&21?(Hr(r,t)||(r=mw(),Xe.lanes|=r,vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,er=!0),e.memoizedState=r)}function FN(e,t){var r=$e;$e=r!==0&&4>r?r:4,e(!0);var n=Af.transition;Af.transition={};try{e(!1),t()}finally{$e=r,Af.transition=n}}function db(){return Ar().memoizedState}function UN(e,t,r){var n=Ss(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fb(e))hb(t,r);else if(r=Kw(e,t,r,n),r!==null){var s=Vt();Wr(r,e,n,s),pb(r,t,n)}}function zN(e,t,r){var n=Ss(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fb(e))hb(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Hr(a,o)){var c=t.interleaved;c===null?(s.next=s,$m(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Kw(e,t,s,n),r!==null&&(s=Vt(),Wr(r,e,n,s),pb(r,t,n))}}function fb(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function hb(e,t){Va=mu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,km(e,r)}}var gu={readContext:Or,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},VN={readContext:Or,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Or,useEffect:ay,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zc(4194308,4,ob.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zc(4194308,4,e,t)},useInsertionEffect:function(e,t){return zc(4,2,e,t)},useMemo:function(e,t){var r=en();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=en();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=UN.bind(null,Xe,e),[n.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:oy,useDebugValue:Km,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=oy(!1),t=e[0];return e=FN.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Xe,s=en();if(Qe){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),xt===null)throw Error(L(349));gi&30||Xw(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ay(eb.bind(null,n,i,e),[e]),n.flags|=2048,vl(9,Jw.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=en(),t=xt.identifierPrefix;if(Qe){var r=kn,n=Sn;r=(n&~(1<<32-Br(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ml++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$N++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},BN={readContext:Or,useCallback:lb,useContext:Or,useEffect:Hm,useImperativeHandle:ab,useInsertionEffect:sb,useLayoutEffect:ib,useMemo:cb,useReducer:If,useRef:nb,useState:function(){return If(gl)},useDebugValue:Km,useDeferredValue:function(e){var t=Ar();return ub(t,ft.memoizedState,e)},useTransition:function(){var e=If(gl)[0],t=Ar().memoizedState;return[e,t]},useMutableSource:Yw,useSyncExternalStore:Zw,useId:db,unstable_isNewReconciler:!1},WN={readContext:Or,useCallback:lb,useContext:Or,useEffect:Hm,useImperativeHandle:ab,useInsertionEffect:sb,useLayoutEffect:ib,useMemo:cb,useReducer:Mf,useRef:nb,useState:function(){return Mf(gl)},useDebugValue:Km,useDeferredValue:function(e){var t=Ar();return ft===null?t.memoizedState=e:ub(t,ft.memoizedState,e)},useTransition:function(){var e=Mf(gl)[0],t=Ar().memoizedState;return[e,t]},useMutableSource:Yw,useSyncExternalStore:Zw,useId:db,unstable_isNewReconciler:!1};function Dr(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var md={isMounted:function(e){return(e=e._reactInternals)?Ni(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Vt(),s=Ss(e),i=En(n,s);i.payload=t,r!=null&&(i.callback=r),t=bs(e,i,s),t!==null&&(Wr(t,e,s,n),Fc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Vt(),s=Ss(e),i=En(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=bs(e,i,s),t!==null&&(Wr(t,e,s,n),Fc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Vt(),n=Ss(e),s=En(r,n);s.tag=2,t!=null&&(s.callback=t),t=bs(e,s,n),t!==null&&(Wr(t,e,n,r),Fc(t,e,n))}};function ly(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!cl(r,n)||!cl(s,i):!0}function mb(e,t,r){var n=!1,s=Ns,i=t.contextType;return typeof i=="object"&&i!==null?i=Or(i):(s=rr(t)?pi:Dt.current,n=t.contextTypes,i=(n=n!=null)?Lo(e,s):Ns),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=md,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function cy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&md.enqueueReplaceState(t,t.state,null)}function Qh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Fm(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Or(i):(i=rr(t)?pi:Dt.current,s.context=Lo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Gh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&md.enqueueReplaceState(s,s.state,null),hu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zo(e,t){try{var r="",n=t;do r+=yE(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Df(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var qN=typeof WeakMap=="function"?WeakMap:Map;function gb(e,t,r){r=En(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yu||(yu=!0,op=n),Yh(e,t)},r}function vb(e,t,r){r=En(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Yh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Yh(e,t),typeof n!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function uy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new qN;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=iP.bind(null,e,t,r),t.then(e,e))}function dy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fy(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=En(-1,1),t.tag=2,bs(r,t,1))),r.lanes|=1),e)}var HN=$n.ReactCurrentOwner,er=!1;function Ut(e,t,r,n){t.child=e===null?Hw(t,null,r,n):Fo(t,e.child,r,n)}function hy(e,t,r,n,s){r=r.render;var i=t.ref;return po(t,s),n=Wm(e,t,r,n,i,s),r=qm(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,An(e,t,s)):(Qe&&r&&Om(t),t.flags|=1,Ut(e,t,n,s),t.child)}function py(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!tg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,yb(e,t,i,n,s)):(e=qc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:cl,r(o,n)&&e.ref===t.ref)return An(e,t,s)}return t.flags|=1,e=ks(i,n),e.ref=t.ref,e.return=t,t.child=e}function yb(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(cl(i,n)&&e.ref===t.ref)if(er=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(er=!0);else return t.lanes=e.lanes,An(e,t,s)}return Zh(e,t,r,n,s)}function xb(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(lo,ur),ur|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(lo,ur),ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Be(lo,ur),ur|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Be(lo,ur),ur|=n;return Ut(e,t,s,r),t.child}function wb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Zh(e,t,r,n,s){var i=rr(r)?pi:Dt.current;return i=Lo(t,i),po(t,s),r=Wm(e,t,r,n,i,s),n=qm(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,An(e,t,s)):(Qe&&n&&Om(t),t.flags|=1,Ut(e,t,r,s),t.child)}function my(e,t,r,n,s){if(rr(r)){var i=!0;lu(t)}else i=!1;if(po(t,s),t.stateNode===null)Vc(e,t),mb(t,r,n),Qh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Or(u):(u=rr(r)?pi:Dt.current,u=Lo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==u)&&cy(t,o,n,u),Xn=!1;var p=t.memoizedState;o.state=p,hu(t,n,o,s),c=t.memoizedState,a!==n||p!==c||tr.current||Xn?(typeof d=="function"&&(Gh(t,r,d,n),c=t.memoizedState),(a=Xn||ly(t,r,a,n,p,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Gw(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Dr(t.type,a),o.props=u,f=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Or(c):(c=rr(r)?pi:Dt.current,c=Lo(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&cy(t,o,n,c),Xn=!1,p=t.memoizedState,o.state=p,hu(t,n,o,s);var x=t.memoizedState;a!==f||p!==x||tr.current||Xn?(typeof g=="function"&&(Gh(t,r,g,n),x=t.memoizedState),(u=Xn||ly(t,r,u,n,p,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Xh(e,t,r,n,i,s)}function Xh(e,t,r,n,s,i){wb(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&ey(t,r,!1),An(e,t,i);n=t.stateNode,HN.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Fo(t,e.child,null,i),t.child=Fo(t,null,a,i)):Ut(e,t,a,i),t.memoizedState=n.state,s&&ey(t,r,!0),t.child}function bb(e){var t=e.stateNode;t.pendingContext?Jv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jv(e,t.context,!1),Um(e,t.containerInfo)}function gy(e,t,r,n,s){return $o(),Im(s),t.flags|=256,Ut(e,t,r,n),t.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function ep(e){return{baseLanes:e,cachePool:null,transitions:null}}function _b(e,t,r){var n=t.pendingProps,s=Ye.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Be(Ye,s&1),e===null)return Hh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yd(o,n,0,null),e=hi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ep(r),t.memoizedState=Jh,e):Gm(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return KN(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ks(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ks(a,i):(i=hi(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ep(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Jh,n}return i=e.child,e=i.sibling,n=ks(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Gm(e,t){return t=yd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pc(e,t,r,n){return n!==null&&Im(n),Fo(t,e.child,null,r),e=Gm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KN(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Df(Error(L(422))),pc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=yd({mode:"visible",children:n.children},s,0,null),i=hi(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Fo(t,e.child,null,o),t.child.memoizedState=ep(o),t.memoizedState=Jh,i);if(!(t.mode&1))return pc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(L(419)),n=Df(i,n,void 0),pc(e,t,o,n)}if(a=(o&e.childLanes)!==0,er||a){if(n=xt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,On(e,s),Wr(n,e,s,-1))}return eg(),n=Df(Error(L(421))),pc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=oP.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,hr=ws(s.nextSibling),pr=t,Qe=!0,Ur=null,e!==null&&(_r[Sr++]=Sn,_r[Sr++]=kn,_r[Sr++]=mi,Sn=e.id,kn=e.overflow,mi=t),t=Gm(t,n.children),t.flags|=4096,t)}function vy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Kh(e.return,t,r)}function Lf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Sb(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ut(e,t,n.children,r),n=Ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,r,t);else if(e.tag===19)vy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Be(Ye,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&pu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Lf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Lf(t,!0,r,null,i);break;case"together":Lf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=ks(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ks(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function GN(e,t,r){switch(t.tag){case 3:bb(t),$o();break;case 5:Qw(t);break;case 1:rr(t.type)&&lu(t);break;case 4:Um(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Be(du,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Be(Ye,Ye.current&1),t.flags|=128,null):r&t.child.childLanes?_b(e,t,r):(Be(Ye,Ye.current&1),e=An(e,t,r),e!==null?e.sibling:null);Be(Ye,Ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Sb(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Ye,Ye.current),n)break;return null;case 22:case 23:return t.lanes=0,xb(e,t,r)}return An(e,t,r)}var kb,tp,jb,Cb;kb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tp=function(){};jb=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ri(un.current);var i=null;switch(r){case"input":s=Sh(e,s),n=Sh(e,n),i=[];break;case"select":s=Je({},s,{value:void 0}),n=Je({},n,{value:void 0}),i=[];break;case"textarea":s=Ch(e,s),n=Ch(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ou)}Nh(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ke("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Cb=function(e,t,r,n){r!==n&&(t.flags|=4)};function va(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function QN(e,t,r){var n=t.pendingProps;switch(Am(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return rr(t.type)&&au(),Rt(t),null;case 3:return n=t.stateNode,Uo(),Ge(tr),Ge(Dt),Vm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(cp(Ur),Ur=null))),tp(e,t),Rt(t),null;case 5:zm(t);var s=ri(pl.current);if(r=t.type,e!==null&&t.stateNode!=null)jb(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return Rt(t),null}if(e=ri(un.current),fc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[on]=t,n[fl]=i,e=(t.mode&1)!==0,r){case"dialog":Ke("cancel",n),Ke("close",n);break;case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(s=0;s<Pa.length;s++)Ke(Pa[s],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"details":Ke("toggle",n);break;case"input":Cv(n,i),Ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",n);break;case"textarea":Nv(n,i),Ke("invalid",n)}Nh(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&dc(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&dc(n.textContent,a,e),s=["children",""+a]):rl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",n)}switch(r){case"input":nc(n),Ev(n,i,!0);break;case"textarea":nc(n),Pv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ou)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ew(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[on]=t,e[fl]=n,kb(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ph(r,n),r){case"dialog":Ke("cancel",e),Ke("close",e),s=n;break;case"iframe":case"object":case"embed":Ke("load",e),s=n;break;case"video":case"audio":for(s=0;s<Pa.length;s++)Ke(Pa[s],e);s=n;break;case"source":Ke("error",e),s=n;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),s=n;break;case"details":Ke("toggle",e),s=n;break;case"input":Cv(e,n),s=Sh(e,n),Ke("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Je({},n,{value:void 0}),Ke("invalid",e);break;case"textarea":Nv(e,n),s=Ch(e,n),Ke("invalid",e);break;default:s=n}Nh(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?nw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&nl(e,c):typeof c=="number"&&nl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ke("scroll",e):c!=null&&ym(e,i,c,o))}switch(r){case"input":nc(e),Ev(e,n,!1);break;case"textarea":nc(e),Pv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Es(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?co(e,!!n.multiple,i,!1):n.defaultValue!=null&&co(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ou)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)Cb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=ri(pl.current),ri(un.current),fc(t)){if(n=t.stateNode,r=t.memoizedProps,n[on]=t,(i=n.nodeValue!==r)&&(e=pr,e!==null))switch(e.tag){case 3:dc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[on]=t,t.stateNode=n}return Rt(t),null;case 13:if(Ge(Ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&hr!==null&&t.mode&1&&!(t.flags&128))Ww(),$o(),t.flags|=98560,i=!1;else if(i=fc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[on]=t}else $o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),i=!1}else Ur!==null&&(cp(Ur),Ur=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?pt===0&&(pt=3):eg())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Uo(),tp(e,t),e===null&&ul(t.stateNode.containerInfo),Rt(t),null;case 10:return Lm(t.type._context),Rt(t),null;case 17:return rr(t.type)&&au(),Rt(t),null;case 19:if(Ge(Ye),i=t.memoizedState,i===null)return Rt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)va(i,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=pu(e),o!==null){for(t.flags|=128,va(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Be(Ye,Ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&ot()>Vo&&(t.flags|=128,n=!0,va(i,!1),t.lanes=4194304)}else{if(!n)if(e=pu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),va(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Rt(t),null}else 2*ot()-i.renderingStartTime>Vo&&r!==1073741824&&(t.flags|=128,n=!0,va(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ot(),t.sibling=null,r=Ye.current,Be(Ye,n?r&1|2:r&1),t):(Rt(t),null);case 22:case 23:return Jm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ur&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function YN(e,t){switch(Am(t),t.tag){case 1:return rr(t.type)&&au(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uo(),Ge(tr),Ge(Dt),Vm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zm(t),null;case 13:if(Ge(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));$o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Ye),null;case 4:return Uo(),null;case 10:return Lm(t.type._context),null;case 22:case 23:return Jm(),null;case 24:return null;default:return null}}var mc=!1,It=!1,ZN=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ao(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){rt(e,t,n)}else r.current=null}function rp(e,t,r){try{r()}catch(n){rt(e,t,n)}}var yy=!1;function XN(e,t){if(Fh=nu,e=Rw(),Rm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===r&&++u===s&&(a=o),p===i&&++d===n&&(c=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uh={focusedElem:e,selectionRange:r},nu=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,w=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Dr(t.type,m),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){rt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return x=yy,yy=!1,x}function Ba(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&rp(t,r,i)}s=s.next}while(s!==n)}}function gd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function np(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Eb(e){var t=e.alternate;t!==null&&(e.alternate=null,Eb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[on],delete t[fl],delete t[Bh],delete t[IN],delete t[MN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nb(e){return e.tag===5||e.tag===3||e.tag===4}function xy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ou));else if(n!==4&&(e=e.child,e!==null))for(sp(e,t,r),e=e.sibling;e!==null;)sp(e,t,r),e=e.sibling}function ip(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ip(e,t,r),e=e.sibling;e!==null;)ip(e,t,r),e=e.sibling}var bt=null,$r=!1;function Vn(e,t,r){for(r=r.child;r!==null;)Pb(e,t,r),r=r.sibling}function Pb(e,t,r){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(ld,r)}catch{}switch(r.tag){case 5:It||ao(r,t);case 6:var n=bt,s=$r;bt=null,Vn(e,t,r),bt=n,$r=s,bt!==null&&($r?(e=bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bt.removeChild(r.stateNode));break;case 18:bt!==null&&($r?(e=bt,r=r.stateNode,e.nodeType===8?Tf(e.parentNode,r):e.nodeType===1&&Tf(e,r),al(e)):Tf(bt,r.stateNode));break;case 4:n=bt,s=$r,bt=r.stateNode.containerInfo,$r=!0,Vn(e,t,r),bt=n,$r=s;break;case 0:case 11:case 14:case 15:if(!It&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rp(r,t,o),s=s.next}while(s!==n)}Vn(e,t,r);break;case 1:if(!It&&(ao(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){rt(r,t,a)}Vn(e,t,r);break;case 21:Vn(e,t,r);break;case 22:r.mode&1?(It=(n=It)||r.memoizedState!==null,Vn(e,t,r),It=n):Vn(e,t,r);break;default:Vn(e,t,r)}}function wy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ZN),t.forEach(function(n){var s=aP.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ir(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,$r=!1;break e;case 3:bt=a.stateNode.containerInfo,$r=!0;break e;case 4:bt=a.stateNode.containerInfo,$r=!0;break e}a=a.return}if(bt===null)throw Error(L(160));Pb(i,o,s),bt=null,$r=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){rt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tb(t,e),t=t.sibling}function Tb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ir(t,e),Yr(e),n&4){try{Ba(3,e,e.return),gd(3,e)}catch(m){rt(e,e.return,m)}try{Ba(5,e,e.return)}catch(m){rt(e,e.return,m)}}break;case 1:Ir(t,e),Yr(e),n&512&&r!==null&&ao(r,r.return);break;case 5:if(Ir(t,e),Yr(e),n&512&&r!==null&&ao(r,r.return),e.flags&32){var s=e.stateNode;try{nl(s,"")}catch(m){rt(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&X0(s,i),Ph(a,o);var u=Ph(a,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?nw(s,f):d==="dangerouslySetInnerHTML"?tw(s,f):d==="children"?nl(s,f):ym(s,d,f,u)}switch(a){case"input":kh(s,i);break;case"textarea":J0(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?co(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?co(s,!!i.multiple,i.defaultValue,!0):co(s,!!i.multiple,i.multiple?[]:"",!1))}s[fl]=i}catch(m){rt(e,e.return,m)}}break;case 6:if(Ir(t,e),Yr(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){rt(e,e.return,m)}}break;case 3:if(Ir(t,e),Yr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{al(t.containerInfo)}catch(m){rt(e,e.return,m)}break;case 4:Ir(t,e),Yr(e);break;case 13:Ir(t,e),Yr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zm=ot())),n&4&&wy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(It=(u=It)||d,Ir(t,e),It=u):Ir(t,e),Yr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(f=Y=d;Y!==null;){switch(p=Y,g=p.child,p.tag){case 0:case 11:case 14:case 15:Ba(4,p,p.return);break;case 1:ao(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){rt(n,r,m)}}break;case 5:ao(p,p.return);break;case 22:if(p.memoizedState!==null){_y(f);continue}}g!==null?(g.return=p,Y=g):_y(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=rw("display",o))}catch(m){rt(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){rt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ir(t,e),Yr(e),n&4&&wy(e);break;case 21:break;default:Ir(t,e),Yr(e)}}function Yr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Nb(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(nl(s,""),n.flags&=-33);var i=xy(e);ip(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=xy(e);sp(e,a,o);break;default:throw Error(L(161))}}catch(c){rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JN(e,t,r){Y=e,Rb(e)}function Rb(e,t,r){for(var n=(e.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||mc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||It;a=mc;var u=It;if(mc=o,(It=c)&&!u)for(Y=s;Y!==null;)o=Y,c=o.child,o.tag===22&&o.memoizedState!==null?Sy(s):c!==null?(c.return=o,Y=c):Sy(s);for(;i!==null;)Y=i,Rb(i),i=i.sibling;Y=s,mc=a,It=u}by(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):by(e)}}function by(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:It||gd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!It)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Dr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&iy(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}iy(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&al(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}It||t.flags&512&&np(t)}catch(p){rt(t,t.return,p)}}if(t===e){Y=null;break}if(r=t.sibling,r!==null){r.return=t.return,Y=r;break}Y=t.return}}function _y(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Y=r;break}Y=t.return}}function Sy(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gd(4,t)}catch(c){rt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){rt(t,s,c)}}var i=t.return;try{np(t)}catch(c){rt(t,i,c)}break;case 5:var o=t.return;try{np(t)}catch(c){rt(t,o,c)}}}catch(c){rt(t,t.return,c)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var eP=Math.ceil,vu=$n.ReactCurrentDispatcher,Qm=$n.ReactCurrentOwner,Nr=$n.ReactCurrentBatchConfig,Ne=0,xt=null,ct=null,Ct=0,ur=0,lo=Ls(0),pt=0,yl=null,vi=0,vd=0,Ym=0,Wa=null,Xt=null,Zm=0,Vo=1/0,xn=null,yu=!1,op=null,_s=null,gc=!1,ps=null,xu=0,qa=0,ap=null,Bc=-1,Wc=0;function Vt(){return Ne&6?ot():Bc!==-1?Bc:Bc=ot()}function Ss(e){return e.mode&1?Ne&2&&Ct!==0?Ct&-Ct:LN.transition!==null?(Wc===0&&(Wc=mw()),Wc):(e=$e,e!==0||(e=window.event,e=e===void 0?16:_w(e.type)),e):1}function Wr(e,t,r,n){if(50<qa)throw qa=0,ap=null,Error(L(185));zl(e,r,n),(!(Ne&2)||e!==xt)&&(e===xt&&(!(Ne&2)&&(vd|=r),pt===4&&ts(e,Ct)),nr(e,n),r===1&&Ne===0&&!(t.mode&1)&&(Vo=ot()+500,hd&&$s()))}function nr(e,t){var r=e.callbackNode;LE(e,t);var n=ru(e,e===xt?Ct:0);if(n===0)r!==null&&Ov(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ov(r),t===1)e.tag===0?DN(ky.bind(null,e)):zw(ky.bind(null,e)),ON(function(){!(Ne&6)&&$s()}),r=null;else{switch(gw(n)){case 1:r=Sm;break;case 4:r=hw;break;case 16:r=tu;break;case 536870912:r=pw;break;default:r=tu}r=Fb(r,Ob.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ob(e,t){if(Bc=-1,Wc=0,Ne&6)throw Error(L(327));var r=e.callbackNode;if(mo()&&e.callbackNode!==r)return null;var n=ru(e,e===xt?Ct:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=wu(e,n);else{t=n;var s=Ne;Ne|=2;var i=Ib();(xt!==e||Ct!==t)&&(xn=null,Vo=ot()+500,fi(e,t));do try{nP();break}catch(a){Ab(e,a)}while(!0);Dm(),vu.current=i,Ne=s,ct!==null?t=0:(xt=null,Ct=0,t=pt)}if(t!==0){if(t===2&&(s=Ih(e),s!==0&&(n=s,t=lp(e,s))),t===1)throw r=yl,fi(e,0),ts(e,n),nr(e,ot()),r;if(t===6)ts(e,n);else{if(s=e.current.alternate,!(n&30)&&!tP(s)&&(t=wu(e,n),t===2&&(i=Ih(e),i!==0&&(n=i,t=lp(e,i))),t===1))throw r=yl,fi(e,0),ts(e,n),nr(e,ot()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Qs(e,Xt,xn);break;case 3:if(ts(e,n),(n&130023424)===n&&(t=Zm+500-ot(),10<t)){if(ru(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Vt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vh(Qs.bind(null,e,Xt,xn),t);break}Qs(e,Xt,xn);break;case 4:if(ts(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Br(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eP(n/1960))-n,10<n){e.timeoutHandle=Vh(Qs.bind(null,e,Xt,xn),n);break}Qs(e,Xt,xn);break;case 5:Qs(e,Xt,xn);break;default:throw Error(L(329))}}}return nr(e,ot()),e.callbackNode===r?Ob.bind(null,e):null}function lp(e,t){var r=Wa;return e.current.memoizedState.isDehydrated&&(fi(e,t).flags|=256),e=wu(e,t),e!==2&&(t=Xt,Xt=r,t!==null&&cp(t)),e}function cp(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function tP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Hr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ts(e,t){for(t&=~Ym,t&=~vd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Br(t),n=1<<r;e[r]=-1,t&=~n}}function ky(e){if(Ne&6)throw Error(L(327));mo();var t=ru(e,0);if(!(t&1))return nr(e,ot()),null;var r=wu(e,t);if(e.tag!==0&&r===2){var n=Ih(e);n!==0&&(t=n,r=lp(e,n))}if(r===1)throw r=yl,fi(e,0),ts(e,t),nr(e,ot()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qs(e,Xt,xn),nr(e,ot()),null}function Xm(e,t){var r=Ne;Ne|=1;try{return e(t)}finally{Ne=r,Ne===0&&(Vo=ot()+500,hd&&$s())}}function yi(e){ps!==null&&ps.tag===0&&!(Ne&6)&&mo();var t=Ne;Ne|=1;var r=Nr.transition,n=$e;try{if(Nr.transition=null,$e=1,e)return e()}finally{$e=n,Nr.transition=r,Ne=t,!(Ne&6)&&$s()}}function Jm(){ur=lo.current,Ge(lo)}function fi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,RN(r)),ct!==null)for(r=ct.return;r!==null;){var n=r;switch(Am(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&au();break;case 3:Uo(),Ge(tr),Ge(Dt),Vm();break;case 5:zm(n);break;case 4:Uo();break;case 13:Ge(Ye);break;case 19:Ge(Ye);break;case 10:Lm(n.type._context);break;case 22:case 23:Jm()}r=r.return}if(xt=e,ct=e=ks(e.current,null),Ct=ur=t,pt=0,yl=null,Ym=vd=vi=0,Xt=Wa=null,ti!==null){for(t=0;t<ti.length;t++)if(r=ti[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ti=null}return e}function Ab(e,t){do{var r=ct;try{if(Dm(),Uc.current=gu,mu){for(var n=Xe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}mu=!1}if(gi=0,yt=ft=Xe=null,Va=!1,ml=0,Qm.current=null,r===null||r.return===null){pt=1,yl=t,ct=null;break}e:{var i=e,o=r.return,a=r,c=t;if(t=Ct,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=dy(o);if(g!==null){g.flags&=-257,fy(g,o,a,i,t),g.mode&1&&uy(i,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){uy(i,u,t),eg();break e}c=Error(L(426))}}else if(Qe&&a.mode&1){var w=dy(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),fy(w,o,a,i,t),Im(zo(c,a));break e}}i=c=zo(c,a),pt!==4&&(pt=2),Wa===null?Wa=[i]:Wa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=gb(i,c,t);sy(i,y);break e;case 1:a=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_s===null||!_s.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=vb(i,a,t);sy(i,_);break e}}i=i.return}while(i!==null)}Db(r)}catch(S){t=S,ct===r&&r!==null&&(ct=r=r.return);continue}break}while(!0)}function Ib(){var e=vu.current;return vu.current=gu,e===null?gu:e}function eg(){(pt===0||pt===3||pt===2)&&(pt=4),xt===null||!(vi&268435455)&&!(vd&268435455)||ts(xt,Ct)}function wu(e,t){var r=Ne;Ne|=2;var n=Ib();(xt!==e||Ct!==t)&&(xn=null,fi(e,t));do try{rP();break}catch(s){Ab(e,s)}while(!0);if(Dm(),Ne=r,vu.current=n,ct!==null)throw Error(L(261));return xt=null,Ct=0,pt}function rP(){for(;ct!==null;)Mb(ct)}function nP(){for(;ct!==null&&!NE();)Mb(ct)}function Mb(e){var t=$b(e.alternate,e,ur);e.memoizedProps=e.pendingProps,t===null?Db(e):ct=t,Qm.current=null}function Db(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=YN(r,t),r!==null){r.flags&=32767,ct=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ct=null;return}}else if(r=QN(r,t,ur),r!==null){ct=r;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);pt===0&&(pt=5)}function Qs(e,t,r){var n=$e,s=Nr.transition;try{Nr.transition=null,$e=1,sP(e,t,r,n)}finally{Nr.transition=s,$e=n}return null}function sP(e,t,r,n){do mo();while(ps!==null);if(Ne&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if($E(e,i),e===xt&&(ct=xt=null,Ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gc||(gc=!0,Fb(tu,function(){return mo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Nr.transition,Nr.transition=null;var o=$e;$e=1;var a=Ne;Ne|=4,Qm.current=null,XN(e,r),Tb(r,e),kN(Uh),nu=!!Fh,Uh=Fh=null,e.current=r,JN(r),PE(),Ne=a,$e=o,Nr.transition=i}else e.current=r;if(gc&&(gc=!1,ps=e,xu=s),i=e.pendingLanes,i===0&&(_s=null),OE(r.stateNode),nr(e,ot()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yu)throw yu=!1,e=op,op=null,e;return xu&1&&e.tag!==0&&mo(),i=e.pendingLanes,i&1?e===ap?qa++:(qa=0,ap=e):qa=0,$s(),null}function mo(){if(ps!==null){var e=gw(xu),t=Nr.transition,r=$e;try{if(Nr.transition=null,$e=16>e?16:e,ps===null)var n=!1;else{if(e=ps,ps=null,xu=0,Ne&6)throw Error(L(331));var s=Ne;for(Ne|=4,Y=e.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Ba(8,d,i)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var p=d.sibling,g=d.return;if(Eb(d),d===u){Y=null;break}if(p!==null){p.return=g,Y=p;break}Y=g}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ba(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Y=y;break e}Y=i.return}}var v=e.current;for(Y=v;Y!==null;){o=Y;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Y=b;else e:for(o=v;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gd(9,a)}}catch(S){rt(a,a.return,S)}if(a===o){Y=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Y=_;break e}Y=a.return}}if(Ne=s,$s(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(ld,e)}catch{}n=!0}return n}finally{$e=r,Nr.transition=t}}return!1}function jy(e,t,r){t=zo(r,t),t=gb(e,t,1),e=bs(e,t,1),t=Vt(),e!==null&&(zl(e,1,t),nr(e,t))}function rt(e,t,r){if(e.tag===3)jy(e,e,r);else for(;t!==null;){if(t.tag===3){jy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_s===null||!_s.has(n))){e=zo(r,e),e=vb(t,e,1),t=bs(t,e,1),e=Vt(),t!==null&&(zl(t,1,e),nr(t,e));break}}t=t.return}}function iP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Vt(),e.pingedLanes|=e.suspendedLanes&r,xt===e&&(Ct&r)===r&&(pt===4||pt===3&&(Ct&130023424)===Ct&&500>ot()-Zm?fi(e,0):Ym|=r),nr(e,t)}function Lb(e,t){t===0&&(e.mode&1?(t=oc,oc<<=1,!(oc&130023424)&&(oc=4194304)):t=1);var r=Vt();e=On(e,t),e!==null&&(zl(e,t,r),nr(e,r))}function oP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Lb(e,r)}function aP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),Lb(e,r)}var $b;$b=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tr.current)er=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return er=!1,GN(e,t,r);er=!!(e.flags&131072)}else er=!1,Qe&&t.flags&1048576&&Vw(t,uu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vc(e,t),e=t.pendingProps;var s=Lo(t,Dt.current);po(t,r),s=Wm(null,t,n,e,s,r);var i=qm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rr(n)?(i=!0,lu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fm(t),s.updater=md,t.stateNode=s,s._reactInternals=t,Qh(t,n,e,r),t=Xh(null,t,n,!0,i,r)):(t.tag=0,Qe&&i&&Om(t),Ut(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=cP(n),e=Dr(n,e),s){case 0:t=Zh(null,t,n,e,r);break e;case 1:t=my(null,t,n,e,r);break e;case 11:t=hy(null,t,n,e,r);break e;case 14:t=py(null,t,n,Dr(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),Zh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),my(e,t,n,s,r);case 3:e:{if(bb(t),e===null)throw Error(L(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Gw(e,t),hu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=zo(Error(L(423)),t),t=gy(e,t,n,r,s);break e}else if(n!==s){s=zo(Error(L(424)),t),t=gy(e,t,n,r,s);break e}else for(hr=ws(t.stateNode.containerInfo.firstChild),pr=t,Qe=!0,Ur=null,r=Hw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($o(),n===s){t=An(e,t,r);break e}Ut(e,t,n,r)}t=t.child}return t;case 5:return Qw(t),e===null&&Hh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,zh(n,s)?o=null:i!==null&&zh(n,i)&&(t.flags|=32),wb(e,t),Ut(e,t,o,r),t.child;case 6:return e===null&&Hh(t),null;case 13:return _b(e,t,r);case 4:return Um(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fo(t,null,n,r):Ut(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),hy(e,t,n,s,r);case 7:return Ut(e,t,t.pendingProps,r),t.child;case 8:return Ut(e,t,t.pendingProps.children,r),t.child;case 12:return Ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Be(du,n._currentValue),n._currentValue=o,i!==null)if(Hr(i.value,o)){if(i.children===s.children&&!tr.current){t=An(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=En(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Kh(i.return,r,t),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Kh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ut(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,po(t,r),s=Or(s),n=n(s),t.flags|=1,Ut(e,t,n,r),t.child;case 14:return n=t.type,s=Dr(n,t.pendingProps),s=Dr(n.type,s),py(e,t,n,s,r);case 15:return yb(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),Vc(e,t),t.tag=1,rr(n)?(e=!0,lu(t)):e=!1,po(t,r),mb(t,n,s),Qh(t,n,s,r),Xh(null,t,n,!0,e,r);case 19:return Sb(e,t,r);case 22:return xb(e,t,r)}throw Error(L(156,t.tag))};function Fb(e,t){return fw(e,t)}function lP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(e,t,r,n){return new lP(e,t,r,n)}function tg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cP(e){if(typeof e=="function")return tg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wm)return 11;if(e===bm)return 14}return 2}function ks(e,t){var r=e.alternate;return r===null?(r=Er(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")tg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xi:return hi(r.children,s,i,t);case xm:o=8,s|=8;break;case xh:return e=Er(12,r,t,s|2),e.elementType=xh,e.lanes=i,e;case wh:return e=Er(13,r,t,s),e.elementType=wh,e.lanes=i,e;case bh:return e=Er(19,r,t,s),e.elementType=bh,e.lanes=i,e;case Q0:return yd(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K0:o=10;break e;case G0:o=9;break e;case wm:o=11;break e;case bm:o=14;break e;case Zn:o=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Er(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function hi(e,t,r,n){return e=Er(7,e,n,t),e.lanes=r,e}function yd(e,t,r,n){return e=Er(22,e,n,t),e.elementType=Q0,e.lanes=r,e.stateNode={isHidden:!1},e}function $f(e,t,r){return e=Er(6,e,null,t),e.lanes=r,e}function Ff(e,t,r){return t=Er(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uP(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xf(0),this.expirationTimes=xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rg(e,t,r,n,s,i,o,a,c){return e=new uP(e,t,r,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Er(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fm(i),e}function dP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ub(e){if(!e)return Ns;e=e._reactInternals;e:{if(Ni(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(rr(r))return Uw(e,r,t)}return t}function zb(e,t,r,n,s,i,o,a,c){return e=rg(r,n,!0,e,s,i,o,a,c),e.context=Ub(null),r=e.current,n=Vt(),s=Ss(r),i=En(n,s),i.callback=t??null,bs(r,i,s),e.current.lanes=s,zl(e,s,n),nr(e,n),e}function xd(e,t,r,n){var s=t.current,i=Vt(),o=Ss(s);return r=Ub(r),t.context===null?t.context=r:t.pendingContext=r,t=En(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bs(s,t,o),e!==null&&(Wr(e,s,o,i),Fc(e,s,o)),o}function bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ng(e,t){Cy(e,t),(e=e.alternate)&&Cy(e,t)}function fP(){return null}var Vb=typeof reportError=="function"?reportError:function(e){console.error(e)};function sg(e){this._internalRoot=e}wd.prototype.render=sg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));xd(e,t,null,null)};wd.prototype.unmount=sg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yi(function(){xd(null,e,null,null)}),t[Rn]=null}};function wd(e){this._internalRoot=e}wd.prototype.unstable_scheduleHydration=function(e){if(e){var t=xw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<es.length&&t!==0&&t<es[r].priority;r++);es.splice(r,0,e),r===0&&bw(e)}};function ig(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ey(){}function hP(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=bu(o);i.call(u)}}var o=zb(t,n,e,0,null,!1,!1,"",Ey);return e._reactRootContainer=o,e[Rn]=o.current,ul(e.nodeType===8?e.parentNode:e),yi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=bu(c);a.call(u)}}var c=rg(e,0,!1,null,null,!1,!1,"",Ey);return e._reactRootContainer=c,e[Rn]=c.current,ul(e.nodeType===8?e.parentNode:e),yi(function(){xd(t,c,r,n)}),c}function _d(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=bu(o);a.call(c)}}xd(t,o,e,s)}else o=hP(r,t,e,s,n);return bu(o)}vw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Na(t.pendingLanes);r!==0&&(km(t,r|1),nr(t,ot()),!(Ne&6)&&(Vo=ot()+500,$s()))}break;case 13:yi(function(){var n=On(e,1);if(n!==null){var s=Vt();Wr(n,e,1,s)}}),ng(e,1)}};jm=function(e){if(e.tag===13){var t=On(e,134217728);if(t!==null){var r=Vt();Wr(t,e,134217728,r)}ng(e,134217728)}};yw=function(e){if(e.tag===13){var t=Ss(e),r=On(e,t);if(r!==null){var n=Vt();Wr(r,e,t,n)}ng(e,t)}};xw=function(){return $e};ww=function(e,t){var r=$e;try{return $e=e,t()}finally{$e=r}};Rh=function(e,t,r){switch(t){case"input":if(kh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=fd(n);if(!s)throw Error(L(90));Z0(n),kh(n,s)}}}break;case"textarea":J0(e,r);break;case"select":t=r.value,t!=null&&co(e,!!r.multiple,t,!1)}};ow=Xm;aw=yi;var pP={usingClientEntryPoint:!1,Events:[Bl,ro,fd,sw,iw,Xm]},ya={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mP={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uw(e),e===null?null:e.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||fP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{ld=vc.inject(mP),cn=vc}catch{}}vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pP;vr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ig(t))throw Error(L(200));return dP(e,t,null,r)};vr.createRoot=function(e,t){if(!ig(e))throw Error(L(299));var r=!1,n="",s=Vb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rg(e,1,!1,null,null,r,!1,n,s),e[Rn]=t.current,ul(e.nodeType===8?e.parentNode:e),new sg(t)};vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=uw(t),e=e===null?null:e.stateNode,e};vr.flushSync=function(e){return yi(e)};vr.hydrate=function(e,t,r){if(!bd(t))throw Error(L(200));return _d(null,e,t,!0,r)};vr.hydrateRoot=function(e,t,r){if(!ig(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Vb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=zb(t,null,e,1,r??null,s,!1,i,o),e[Rn]=t.current,ul(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new wd(t)};vr.render=function(e,t,r){if(!bd(t))throw Error(L(200));return _d(null,e,t,!1,r)};vr.unmountComponentAtNode=function(e){if(!bd(e))throw Error(L(40));return e._reactRootContainer?(yi(function(){_d(null,null,e,!1,function(){e._reactRootContainer=null,e[Rn]=null})}),!0):!1};vr.unstable_batchedUpdates=Xm;vr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bd(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return _d(e,t,r,!1,n)};vr.version="18.3.1-next-f1338f8080-20240426";function Bb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bb)}catch(e){console.error(e)}}Bb(),B0.exports=vr;var Fs=B0.exports;const Wb=R0(Fs);var qb,Ny=Fs;qb=Ny.createRoot,Ny.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(this,arguments)}var ms;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ms||(ms={}));const Py="popstate";function gP(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return up("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:_u(s)}return yP(t,r,null,e)}function at(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vP(){return Math.random().toString(36).substr(2,8)}function Ty(e,t){return{usr:e.state,key:e.key,idx:t}}function up(e,t,r,n){return r===void 0&&(r=null),xl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ta(t):t,{state:r,key:t&&t.key||n||vP()})}function _u(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ta(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function yP(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=ms.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(xl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ms.Pop;let w=d(),y=w==null?null:w-u;u=w,c&&c({action:a,location:m.location,delta:y})}function p(w,y){a=ms.Push;let v=up(m.location,w,y);u=d()+1;let b=Ty(v,u),_=m.createHref(v);try{o.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&c&&c({action:a,location:m.location,delta:1})}function g(w,y){a=ms.Replace;let v=up(m.location,w,y);u=d();let b=Ty(v,u),_=m.createHref(v);o.replaceState(b,"",_),i&&c&&c({action:a,location:m.location,delta:0})}function x(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:_u(w);return v=v.replace(/ $/,"%20"),at(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return a},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Py,f),c=w,()=>{s.removeEventListener(Py,f),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:g,go(w){return o.go(w)}};return m}var Ry;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ry||(Ry={}));function xP(e,t,r){return r===void 0&&(r="/"),wP(e,t,r,!1)}function wP(e,t,r,n){let s=typeof t=="string"?ta(t):t,i=og(s.pathname||"/",r);if(i==null)return null;let o=Kb(e);bP(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=OP(i);a=TP(o[c],u,n)}return a}function Kb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(at(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=js([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Kb(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:NP(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Gb(i.path))s(i,o,c)}),t}function Gb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Gb(n.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function bP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:PP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _P=/^:[\w-]+$/,SP=3,kP=2,jP=1,CP=10,EP=-2,Oy=e=>e==="*";function NP(e,t){let r=e.split("/"),n=r.length;return r.some(Oy)&&(n+=EP),t&&(n+=kP),r.filter(s=>!Oy(s)).reduce((s,i)=>s+(_P.test(i)?SP:i===""?jP:CP),n)}function PP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function TP(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ay({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Ay({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:js([i,f.pathname]),pathnameBase:DP(js([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=js([i,f.pathnameBase]))}return o}function Ay(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=RP(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let m=a[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const x=a[f];return g&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function RP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Hb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function OP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function og(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function AP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ta(e):e;return{pathname:r?r.startsWith("/")?r:IP(r,t):t,search:LP(n),hash:$P(s)}}function IP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Uf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ag(e,t){let r=MP(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ta(e):(s=xl({},e),at(!s.pathname||!s.pathname.includes("?"),Uf("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Uf("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Uf("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let c=AP(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const js=e=>e.join("/").replace(/\/\/+/g,"/"),DP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$P=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qb=["post","put","patch","delete"];new Set(Qb);const UP=["get",...Qb];new Set(UP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}const cg=h.createContext(null),zP=h.createContext(null),Us=h.createContext(null),Sd=h.createContext(null),zs=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Yb=h.createContext(null);function VP(e,t){let{relative:r}=t===void 0?{}:t;ra()||at(!1);let{basename:n,navigator:s}=h.useContext(Us),{hash:i,pathname:o,search:a}=Xb(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:js([n,o])),s.createHref({pathname:c,search:a,hash:i})}function ra(){return h.useContext(Sd)!=null}function Fn(){return ra()||at(!1),h.useContext(Sd).location}function Zb(e){h.useContext(Us).static||h.useLayoutEffect(e)}function Pi(){let{isDataRoute:e}=h.useContext(zs);return e?tT():BP()}function BP(){ra()||at(!1);let e=h.useContext(cg),{basename:t,future:r,navigator:n}=h.useContext(Us),{matches:s}=h.useContext(zs),{pathname:i}=Fn(),o=JSON.stringify(ag(s,r.v7_relativeSplatPath)),a=h.useRef(!1);return Zb(()=>{a.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=lg(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:js([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function Xb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(Us),{matches:s}=h.useContext(zs),{pathname:i}=Fn(),o=JSON.stringify(ag(s,n.v7_relativeSplatPath));return h.useMemo(()=>lg(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function WP(e,t){return qP(e,t)}function qP(e,t,r,n){ra()||at(!1);let{navigator:s}=h.useContext(Us),{matches:i}=h.useContext(zs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Fn(),d;if(t){var f;let w=typeof t=="string"?ta(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||at(!1),d=w}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=xP(e,{pathname:g}),m=YP(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:js([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:js([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&m?h.createElement(Sd.Provider,{value:{location:wl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ms.Pop}},m):m}function HP(){let e=eT(),t=FP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const KP=h.createElement(HP,null);class GP extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(zs.Provider,{value:this.props.routeContext},h.createElement(Yb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QP(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(cg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(zs.Provider,{value:t},n)}function YP(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:g}=r,x=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,x=!1,m=null,w=null;r&&(g=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||KP,c&&(u<0&&p===0?(x=!0,w=null):u===p&&(x=!0,w=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),v=()=>{let b;return g?b=m:x?b=w:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,h.createElement(QP,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?h.createElement(GP,{location:r.location,revalidation:r.revalidation,component:m,error:g,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Jb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jb||{}),Su=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Su||{});function ZP(e){let t=h.useContext(cg);return t||at(!1),t}function XP(e){let t=h.useContext(zP);return t||at(!1),t}function JP(e){let t=h.useContext(zs);return t||at(!1),t}function e_(e){let t=JP(),r=t.matches[t.matches.length-1];return r.route.id||at(!1),r.route.id}function eT(){var e;let t=h.useContext(Yb),r=XP(Su.UseRouteError),n=e_(Su.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function tT(){let{router:e}=ZP(Jb.UseNavigateStable),t=e_(Su.UseNavigateStable),r=h.useRef(!1);return Zb(()=>{r.current=!0}),h.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,wl({fromRouteId:t},i)))},[e,t])}function Iy(e){let{to:t,replace:r,state:n,relative:s}=e;ra()||at(!1);let{future:i,static:o}=h.useContext(Us),{matches:a}=h.useContext(zs),{pathname:c}=Fn(),u=Pi(),d=lg(t,ag(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function ar(e){at(!1)}function rT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ms.Pop,navigator:i,static:o=!1,future:a}=e;ra()&&at(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:i,static:o,future:wl({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof n=="string"&&(n=ta(n));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:x="default"}=n,m=h.useMemo(()=>{let w=og(d,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:g,key:x},navigationType:s}},[c,d,f,p,g,x,s]);return m==null?null:h.createElement(Us.Provider,{value:u},h.createElement(Sd.Provider,{children:r,value:m}))}function nT(e){let{children:t,location:r}=e;return WP(dp(t),r)}new Promise(()=>{});function dp(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let i=[...t,s];if(n.type===h.Fragment){r.push.apply(r,dp(n.props.children,i));return}n.type!==ar&&at(!1),!n.props.index||!n.props.children||at(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=dp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(this,arguments)}function sT(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function iT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oT(e,t){return e.button===0&&(!t||t==="_self")&&!iT(e)}const aT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lT="6";try{window.__reactRouterVersion=lT}catch{}const cT="startTransition",My=ad[cT];function uT(e){let{basename:t,children:r,future:n,window:s}=e,i=h.useRef();i.current==null&&(i.current=gP({window:s,v5Compat:!0}));let o=i.current,[a,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&My?My(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>o.listen(d),[o,d]),h.createElement(rT,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gs=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=sT(t,aT),{basename:g}=h.useContext(Us),x,m=!1;if(typeof u=="string"&&fT.test(u)&&(x=u,dT))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=og(_.pathname,g);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:m=!0}catch{}let w=VP(u,{relative:s}),y=hT(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(b){n&&n(b),b.defaultPrevented||y(b)}return h.createElement("a",fp({},p,{href:x||w,onClick:m||i?n:v,ref:r,target:c}))});var Dy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dy||(Dy={}));var Ly;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ly||(Ly={}));function hT(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Pi(),u=Fn(),d=Xb(e,{relative:o});return h.useCallback(f=>{if(oT(f,r)){f.preventDefault();let p=n!==void 0?n:_u(u)===_u(d);c(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,n,s,r,e,i,o,a])}var na=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xi=typeof window>"u"||"Deno"in globalThis;function wr(){}function pT(e,t){return typeof e=="function"?e(t):e}function hp(e){return typeof e=="number"&&e>=0&&e!==1/0}function t_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function go(e,t){return typeof e=="function"?e(t):e}function zr(e,t){return typeof e=="function"?e(t):e}function $y(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==ug(o,t.options))return!1}else if(!bl(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Fy(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(wi(t.options.mutationKey)!==wi(i))return!1}else if(!bl(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function ug(e,t){return((t==null?void 0:t.queryKeyHashFn)||wi)(e)}function wi(e){return JSON.stringify(e,(t,r)=>pp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function bl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!bl(e[r],t[r])):!1}function r_(e,t){if(e===t)return e;const r=Uy(e)&&Uy(t);if(r||pp(e)&&pp(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,a=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=r_(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:a}return t}function ku(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Uy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pp(e){if(!zy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!zy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zy(e){return Object.prototype.toString.call(e)==="[object Object]"}function mT(e){return new Promise(t=>{setTimeout(t,e)})}function mp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?r_(e,t):t}function gT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function vT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var dg=Symbol();function n_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===dg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ii,ss,So,b0,yT=(b0=class extends na{constructor(){super();ie(this,ii);ie(this,ss);ie(this,So);K(this,So,t=>{if(!xi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,ss)||this.setEventListener(k(this,So))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,ss))==null||t.call(this),K(this,ss,void 0))}setEventListener(t){var r;K(this,So,t),(r=k(this,ss))==null||r.call(this),K(this,ss,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){k(this,ii)!==t&&(K(this,ii,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof k(this,ii)=="boolean"?k(this,ii):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ii=new WeakMap,ss=new WeakMap,So=new WeakMap,b0),fg=new yT,ko,is,jo,_0,xT=(_0=class extends na{constructor(){super();ie(this,ko,!0);ie(this,is);ie(this,jo);K(this,jo,t=>{if(!xi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,is)||this.setEventListener(k(this,jo))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,is))==null||t.call(this),K(this,is,void 0))}setEventListener(t){var r;K(this,jo,t),(r=k(this,is))==null||r.call(this),K(this,is,t(this.setOnline.bind(this)))}setOnline(t){k(this,ko)!==t&&(K(this,ko,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return k(this,ko)}},ko=new WeakMap,is=new WeakMap,jo=new WeakMap,_0),ju=new xT;function gp(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function wT(e){return Math.min(1e3*2**e,3e4)}function s_(e){return(e??"online")==="online"?ju.isOnline():!0}var i_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zf(e){return e instanceof i_}function o_(e){let t=!1,r=0,n=!1,s;const i=gp(),o=m=>{var w;n||(p(new i_(m)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>fg.isFocused()&&(e.networkMode==="always"||ju.isOnline())&&e.canRun(),d=()=>s_(e.networkMode)&&e.canRun(),f=m=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,m),s==null||s(),i.resolve(m))},p=m=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,m),s==null||s(),i.reject(m))},g=()=>new Promise(m=>{var w;s=y=>{(n||u())&&m(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(n)return;let m;const w=r===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var E;if(n)return;const v=e.retry??(xi?0:3),b=e.retryDelay??wT,_=typeof b=="function"?b(r,y):b,S=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!S){p(y);return}r++,(E=e.onFail)==null||E.call(e,r,y),mT(_).then(()=>u()?void 0:g()).then(()=>{t?p(y):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),i)}}function bT(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var ht=bT(),oi,S0,a_=(S0=class{constructor(){ie(this,oi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hp(this.gcTime)&&K(this,oi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xi?1/0:5*60*1e3))}clearGcTimeout(){k(this,oi)&&(clearTimeout(k(this,oi)),K(this,oi,void 0))}},oi=new WeakMap,S0),Co,Eo,xr,Ot,Dl,ai,Lr,vn,k0,_T=(k0=class extends a_{constructor(t){super();ie(this,Lr);ie(this,Co);ie(this,Eo);ie(this,xr);ie(this,Ot);ie(this,Dl);ie(this,ai);K(this,ai,!1),K(this,Dl,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,xr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,Co,ST(this.options)),this.state=t.state??k(this,Co),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,Ot))==null?void 0:t.promise}setOptions(t){this.options={...k(this,Dl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,xr).remove(this)}setData(t,r){const n=mp(this.state.data,t,this.options);return me(this,Lr,vn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){me(this,Lr,vn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=k(this,Ot))==null?void 0:n.promise;return(s=k(this,Ot))==null||s.cancel(t),r?r.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Co))}isActive(){return this.observers.some(t=>zr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!t_(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,Ot))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,Ot))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,xr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(k(this,Ot)&&(k(this,ai)?k(this,Ot).cancel({revert:!0}):k(this,Ot).cancelRetry()),this.scheduleGc()),k(this,xr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||me(this,Lr,vn).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,Ot))return k(this,Ot).continueRetry(),k(this,Ot).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(K(this,ai,!0),n.signal)})},i=()=>{const f=n_(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return s(p),K(this,ai,!1),this.options.persister?this.options.persister(f,p,this):f(p)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),K(this,Eo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&me(this,Lr,vn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var p,g,x,m;zf(f)&&f.silent||me(this,Lr,vn).call(this,{type:"error",error:f}),zf(f)||((g=(p=k(this,xr).config).onError)==null||g.call(p,f,this),(m=(x=k(this,xr).config).onSettled)==null||m.call(x,this.state.data,f,this)),this.scheduleGc()};return K(this,Ot,o_({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var p,g,x,m;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){a(w);return}(g=(p=k(this,xr).config).onSuccess)==null||g.call(p,f,this),(m=(x=k(this,xr).config).onSettled)==null||m.call(x,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,p)=>{me(this,Lr,vn).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{me(this,Lr,vn).call(this,{type:"pause"})},onContinue:()=>{me(this,Lr,vn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),k(this,Ot).start()}},Co=new WeakMap,Eo=new WeakMap,xr=new WeakMap,Ot=new WeakMap,Dl=new WeakMap,ai=new WeakMap,Lr=new WeakSet,vn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...l_(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return zf(s)&&s.revert&&k(this,Eo)?{...k(this,Eo),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ht.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,xr).notify({query:this,type:"updated",action:t})})},k0);function l_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:s_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ST(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var tn,j0,kT=(j0=class extends na{constructor(t={}){super();ie(this,tn);this.config=t,K(this,tn,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??ug(s,r);let o=this.get(i);return o||(o=new _T({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){k(this,tn).has(t.queryHash)||(k(this,tn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=k(this,tn).get(t.queryHash);r&&(t.destroy(),r===t&&k(this,tn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,tn).get(t)}getAll(){return[...k(this,tn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$y(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>$y(t,n)):r}notify(t){ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tn=new WeakMap,j0),rn,$t,li,nn,Hn,C0,jT=(C0=class extends a_{constructor(t){super();ie(this,nn);ie(this,rn);ie(this,$t);ie(this,li);this.mutationId=t.mutationId,K(this,$t,t.mutationCache),K(this,rn,[]),this.state=t.state||c_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,rn).includes(t)||(k(this,rn).push(t),this.clearGcTimeout(),k(this,$t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,rn,k(this,rn).filter(r=>r!==t)),this.scheduleGc(),k(this,$t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,rn).length||(this.state.status==="pending"?this.scheduleGc():k(this,$t).remove(this))}continue(){var t;return((t=k(this,li))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,a,c,u,d,f,p,g,x,m,w,y,v,b,_,S,E,C;K(this,li,o_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,I)=>{me(this,nn,Hn).call(this,{type:"failed",failureCount:N,error:I})},onPause:()=>{me(this,nn,Hn).call(this,{type:"pause"})},onContinue:()=>{me(this,nn,Hn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,$t).canRun(this)}));const r=this.state.status==="pending",n=!k(this,li).canStart();try{if(!r){me(this,nn,Hn).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=k(this,$t).config).onMutate)==null?void 0:i.call(s,t,this));const I=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t));I!==this.state.context&&me(this,nn,Hn).call(this,{type:"pending",context:I,variables:t,isPaused:n})}const N=await k(this,li).start();return await((u=(c=k(this,$t).config).onSuccess)==null?void 0:u.call(c,N,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,N,t,this.state.context)),await((g=(p=k(this,$t).config).onSettled)==null?void 0:g.call(p,N,null,this.state.variables,this.state.context,this)),await((m=(x=this.options).onSettled)==null?void 0:m.call(x,N,null,t,this.state.context)),me(this,nn,Hn).call(this,{type:"success",data:N}),N}catch(N){try{throw await((y=(w=k(this,$t).config).onError)==null?void 0:y.call(w,N,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,N,t,this.state.context)),await((S=(_=k(this,$t).config).onSettled)==null?void 0:S.call(_,void 0,N,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,N,t,this.state.context)),N}finally{me(this,nn,Hn).call(this,{type:"error",error:N})}}finally{k(this,$t).runNext(this)}}},rn=new WeakMap,$t=new WeakMap,li=new WeakMap,nn=new WeakSet,Hn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ht.batch(()=>{k(this,rn).forEach(n=>{n.onMutationUpdate(t)}),k(this,$t).notify({mutation:this,type:"updated",action:t})})},C0);function c_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cr,Ll,E0,CT=(E0=class extends na{constructor(t={}){super();ie(this,cr);ie(this,Ll);this.config=t,K(this,cr,new Map),K(this,Ll,Date.now())}build(t,r,n){const s=new jT({mutationCache:this,mutationId:++ec(this,Ll)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=yc(t),n=k(this,cr).get(r)??[];n.push(t),k(this,cr).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=yc(t);if(k(this,cr).has(r)){const s=(n=k(this,cr).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?k(this,cr).delete(r):k(this,cr).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=k(this,cr).get(yc(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=k(this,cr).get(yc(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...k(this,cr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Fy(r,n))}findAll(t={}){return this.getAll().filter(r=>Fy(t,r))}notify(t){ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ht.batch(()=>Promise.all(t.map(r=>r.continue().catch(wr))))}},cr=new WeakMap,Ll=new WeakMap,E0);function yc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Vy(e){return{onFetch:(t,r)=>{var d,f,p,g,x;const n=t.options,s=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=n_(t.options,t.fetchOptions),v=async(b,_,S)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};w(E);const C=await y(E),{maxPages:N}=t.options,I=S?vT:gT;return{pages:I(b.pages,C,N),pageParams:I(b.pageParams,_,N)}};if(s&&i.length){const b=s==="backward",_=b?ET:By,S={pages:i,pageParams:o},E=_(n,S);a=await v(S,E,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:By(n,a);if(c>0&&_==null)break;a=await v(a,_),c++}while(c<b)}return a};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function By(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function ET(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var et,os,as,No,Po,ls,To,Ro,N0,NT=(N0=class{constructor(e={}){ie(this,et);ie(this,os);ie(this,as);ie(this,No);ie(this,Po);ie(this,ls);ie(this,To);ie(this,Ro);K(this,et,e.queryCache||new kT),K(this,os,e.mutationCache||new CT),K(this,as,e.defaultOptions||{}),K(this,No,new Map),K(this,Po,new Map),K(this,ls,0)}mount(){ec(this,ls)._++,k(this,ls)===1&&(K(this,To,fg.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,et).onFocus())})),K(this,Ro,ju.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,et).onOnline())})))}unmount(){var e,t;ec(this,ls)._--,k(this,ls)===0&&((e=k(this,To))==null||e.call(this),K(this,To,void 0),(t=k(this,Ro))==null||t.call(this),K(this,Ro,void 0))}isFetching(e){return k(this,et).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return k(this,os).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,et).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=k(this,et).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(go(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return k(this,et).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=k(this,et).get(n.queryHash),i=s==null?void 0:s.state.data,o=pT(t,i);if(o!==void 0)return k(this,et).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ht.batch(()=>k(this,et).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,et).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=k(this,et);ht.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=k(this,et),n={type:"active",...e};return ht.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ht.batch(()=>k(this,et).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(wr).catch(wr)}invalidateQueries(e={},t={}){return ht.batch(()=>{if(k(this,et).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ht.batch(()=>k(this,et).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(wr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(wr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=k(this,et).build(this,t);return r.isStaleByTime(go(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wr).catch(wr)}fetchInfiniteQuery(e){return e.behavior=Vy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wr).catch(wr)}ensureInfiniteQueryData(e){return e.behavior=Vy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ju.isOnline()?k(this,os).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,et)}getMutationCache(){return k(this,os)}getDefaultOptions(){return k(this,as)}setDefaultOptions(e){K(this,as,e)}setQueryDefaults(e,t){k(this,No).set(wi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...k(this,No).values()];let r={};return t.forEach(n=>{bl(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){k(this,Po).set(wi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...k(this,Po).values()];let r={};return t.forEach(n=>{bl(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...k(this,as).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ug(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===dg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...k(this,as).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){k(this,et).clear(),k(this,os).clear()}},et=new WeakMap,os=new WeakMap,as=new WeakMap,No=new WeakMap,Po=new WeakMap,ls=new WeakMap,To=new WeakMap,Ro=new WeakMap,N0),Qt,je,$l,Ft,ci,Oo,cs,sn,Fl,Ao,Io,ui,di,us,Mo,Me,Ta,vp,yp,xp,wp,bp,_p,Sp,u_,P0,PT=(P0=class extends na{constructor(t,r){super();ie(this,Me);ie(this,Qt);ie(this,je);ie(this,$l);ie(this,Ft);ie(this,ci);ie(this,Oo);ie(this,cs);ie(this,sn);ie(this,Fl);ie(this,Ao);ie(this,Io);ie(this,ui);ie(this,di);ie(this,us);ie(this,Mo,new Set);this.options=r,K(this,Qt,t),K(this,sn,null),K(this,cs,gp()),this.options.experimental_prefetchInRender||k(this,cs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,je).addObserver(this),Wy(k(this,je),this.options)?me(this,Me,Ta).call(this):this.updateResult(),me(this,Me,wp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kp(k(this,je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kp(k(this,je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,me(this,Me,bp).call(this),me(this,Me,_p).call(this),k(this,je).removeObserver(this)}setOptions(t,r){const n=this.options,s=k(this,je);if(this.options=k(this,Qt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zr(this.options.enabled,k(this,je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");me(this,Me,Sp).call(this),k(this,je).setOptions(this.options),n._defaulted&&!ku(this.options,n)&&k(this,Qt).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,je),observer:this});const i=this.hasListeners();i&&qy(k(this,je),s,this.options,n)&&me(this,Me,Ta).call(this),this.updateResult(r),i&&(k(this,je)!==s||zr(this.options.enabled,k(this,je))!==zr(n.enabled,k(this,je))||go(this.options.staleTime,k(this,je))!==go(n.staleTime,k(this,je)))&&me(this,Me,vp).call(this);const o=me(this,Me,yp).call(this);i&&(k(this,je)!==s||zr(this.options.enabled,k(this,je))!==zr(n.enabled,k(this,je))||o!==k(this,us))&&me(this,Me,xp).call(this,o)}getOptimisticResult(t){const r=k(this,Qt).getQueryCache().build(k(this,Qt),t),n=this.createResult(r,t);return RT(this,n)&&(K(this,Ft,n),K(this,Oo,this.options),K(this,ci,k(this,je).state)),n}getCurrentResult(){return k(this,Ft)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){k(this,Mo).add(t)}getCurrentQuery(){return k(this,je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=k(this,Qt).defaultQueryOptions(t),n=k(this,Qt).getQueryCache().build(k(this,Qt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return me(this,Me,Ta).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,Ft)))}createResult(t,r){var N;const n=k(this,je),s=this.options,i=k(this,Ft),o=k(this,ci),a=k(this,Oo),u=t!==n?t.state:k(this,$l),{state:d}=t;let f={...d},p=!1,g;if(r._optimisticResults){const I=this.hasListeners(),M=!I&&Wy(t,r),Q=I&&qy(t,n,r,s);(M||Q)&&(f={...f,...l_(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:m,status:w}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===k(this,Fl))g=k(this,Ao);else try{K(this,Fl,r.select),g=r.select(f.data),g=mp(i==null?void 0:i.data,g,r),K(this,Ao,g),K(this,sn,null)}catch(I){K(this,sn,I)}else g=f.data;if(r.placeholderData!==void 0&&g===void 0&&w==="pending"){let I;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))I=i.data;else if(I=typeof r.placeholderData=="function"?r.placeholderData((N=k(this,Io))==null?void 0:N.state.data,k(this,Io)):r.placeholderData,r.select&&I!==void 0)try{I=r.select(I),K(this,sn,null)}catch(M){K(this,sn,M)}I!==void 0&&(w="success",g=mp(i==null?void 0:i.data,I,r),p=!0)}k(this,sn)&&(x=k(this,sn),g=k(this,Ao),m=Date.now(),w="error");const y=f.fetchStatus==="fetching",v=w==="pending",b=w==="error",_=v&&y,S=g!==void 0,C={status:w,fetchStatus:f.fetchStatus,isPending:v,isSuccess:w==="success",isError:b,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&S,isStale:hg(t,r),refetch:this.refetch,promise:k(this,cs)};if(this.options.experimental_prefetchInRender){const I=A=>{C.status==="error"?A.reject(C.error):C.data!==void 0&&A.resolve(C.data)},M=()=>{const A=K(this,cs,C.promise=gp());I(A)},Q=k(this,cs);switch(Q.status){case"pending":t.queryHash===n.queryHash&&I(Q);break;case"fulfilled":(C.status==="error"||C.data!==Q.value)&&M();break;case"rejected":(C.status!=="error"||C.error!==Q.reason)&&M();break}}return C}updateResult(t){const r=k(this,Ft),n=this.createResult(k(this,je),this.options);if(K(this,ci,k(this,je).state),K(this,Oo,this.options),k(this,ci).data!==void 0&&K(this,Io,k(this,je)),ku(n,r))return;K(this,Ft,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!k(this,Mo).size)return!0;const c=new Set(a??k(this,Mo));return this.options.throwOnError&&c.add("error"),Object.keys(k(this,Ft)).some(u=>{const d=u;return k(this,Ft)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),me(this,Me,u_).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&me(this,Me,wp).call(this)}},Qt=new WeakMap,je=new WeakMap,$l=new WeakMap,Ft=new WeakMap,ci=new WeakMap,Oo=new WeakMap,cs=new WeakMap,sn=new WeakMap,Fl=new WeakMap,Ao=new WeakMap,Io=new WeakMap,ui=new WeakMap,di=new WeakMap,us=new WeakMap,Mo=new WeakMap,Me=new WeakSet,Ta=function(t){me(this,Me,Sp).call(this);let r=k(this,je).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(wr)),r},vp=function(){me(this,Me,bp).call(this);const t=go(this.options.staleTime,k(this,je));if(xi||k(this,Ft).isStale||!hp(t))return;const n=t_(k(this,Ft).dataUpdatedAt,t)+1;K(this,ui,setTimeout(()=>{k(this,Ft).isStale||this.updateResult()},n))},yp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,je)):this.options.refetchInterval)??!1},xp=function(t){me(this,Me,_p).call(this),K(this,us,t),!(xi||zr(this.options.enabled,k(this,je))===!1||!hp(k(this,us))||k(this,us)===0)&&K(this,di,setInterval(()=>{(this.options.refetchIntervalInBackground||fg.isFocused())&&me(this,Me,Ta).call(this)},k(this,us)))},wp=function(){me(this,Me,vp).call(this),me(this,Me,xp).call(this,me(this,Me,yp).call(this))},bp=function(){k(this,ui)&&(clearTimeout(k(this,ui)),K(this,ui,void 0))},_p=function(){k(this,di)&&(clearInterval(k(this,di)),K(this,di,void 0))},Sp=function(){const t=k(this,Qt).getQueryCache().build(k(this,Qt),this.options);if(t===k(this,je))return;const r=k(this,je);K(this,je,t),K(this,$l,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},u_=function(t){ht.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(k(this,Ft))}),k(this,Qt).getQueryCache().notify({query:k(this,je),type:"observerResultsUpdated"})})},P0);function TT(e,t){return zr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Wy(e,t){return TT(e,t)||e.state.data!==void 0&&kp(e,t,t.refetchOnMount)}function kp(e,t,r){if(zr(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&hg(e,t)}return!1}function qy(e,t,r,n){return(e!==t||zr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&hg(e,r)}function hg(e,t){return zr(t.enabled,e)!==!1&&e.isStaleByTime(go(t.staleTime,e))}function RT(e,t){return!ku(e.getCurrentResult(),t)}var ds,fs,Yt,_n,Pn,Hc,jp,T0,OT=(T0=class extends na{constructor(r,n){super();ie(this,Pn);ie(this,ds);ie(this,fs);ie(this,Yt);ie(this,_n);K(this,ds,r),this.setOptions(n),this.bindMethods(),me(this,Pn,Hc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=k(this,ds).defaultMutationOptions(r),ku(this.options,n)||k(this,ds).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,Yt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&wi(n.mutationKey)!==wi(this.options.mutationKey)?this.reset():((s=k(this,Yt))==null?void 0:s.state.status)==="pending"&&k(this,Yt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=k(this,Yt))==null||r.removeObserver(this)}onMutationUpdate(r){me(this,Pn,Hc).call(this),me(this,Pn,jp).call(this,r)}getCurrentResult(){return k(this,fs)}reset(){var r;(r=k(this,Yt))==null||r.removeObserver(this),K(this,Yt,void 0),me(this,Pn,Hc).call(this),me(this,Pn,jp).call(this)}mutate(r,n){var s;return K(this,_n,n),(s=k(this,Yt))==null||s.removeObserver(this),K(this,Yt,k(this,ds).getMutationCache().build(k(this,ds),this.options)),k(this,Yt).addObserver(this),k(this,Yt).execute(r)}},ds=new WeakMap,fs=new WeakMap,Yt=new WeakMap,_n=new WeakMap,Pn=new WeakSet,Hc=function(){var n;const r=((n=k(this,Yt))==null?void 0:n.state)??c_();K(this,fs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},jp=function(r){ht.batch(()=>{var n,s,i,o,a,c,u,d;if(k(this,_n)&&this.hasListeners()){const f=k(this,fs).variables,p=k(this,fs).context;(r==null?void 0:r.type)==="success"?((s=(n=k(this,_n)).onSuccess)==null||s.call(n,r.data,f,p),(o=(i=k(this,_n)).onSettled)==null||o.call(i,r.data,null,f,p)):(r==null?void 0:r.type)==="error"&&((c=(a=k(this,_n)).onError)==null||c.call(a,r.error,f,p),(d=(u=k(this,_n)).onSettled)==null||d.call(u,void 0,r.error,f,p))}this.listeners.forEach(f=>{f(k(this,fs))})})},T0),d_=h.createContext(void 0),pg=e=>{const t=h.useContext(d_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},AT=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(d_.Provider,{value:e,children:t})),f_=h.createContext(!1),IT=()=>h.useContext(f_);f_.Provider;function MT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var DT=h.createContext(MT()),LT=()=>h.useContext(DT);function h_(e,t){return typeof e=="function"?e(...t):!!e}function p_(){}var $T=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},FT=e=>{h.useEffect(()=>{e.clearReset()},[e])},UT=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&h_(r,[e.error,n]),zT=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},VT=(e,t)=>e.isLoading&&e.isFetching&&!t,BT=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Hy=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function WT(e,t,r){var d,f,p,g,x;const n=pg(),s=IT(),i=LT(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",zT(o),$T(o,i),FT(i);const a=!n.getQueryCache().get(o.queryHash),[c]=h.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(h.useSyncExternalStore(h.useCallback(m=>{const w=s?()=>{}:c.subscribe(ht.batchCalls(m));return c.updateResult(),w},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),BT(o,u))throw Hy(o,c,i);if(UT({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((g=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,o,u),o.experimental_prefetchInRender&&!xi&&VT(u,s)){const m=a?Hy(o,c,i):(x=n.getQueryCache().get(o.queryHash))==null?void 0:x.promise;m==null||m.catch(p_).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ql(e,t){return WT(e,PT)}function qT(e,t){const r=pg(),[n]=h.useState(()=>new OT(r,e));h.useEffect(()=>{n.setOptions(e)},[n,e]);const s=h.useSyncExternalStore(h.useCallback(o=>n.subscribe(ht.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=h.useCallback((o,a)=>{n.mutate(o,a).catch(p_)},[n]);if(s.error&&h_(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const HT={user:null,loading:!0,signOut:async()=>{}},m_=h.createContext(HT),Un=()=>h.useContext(m_),KT="modulepreload",GT=function(e){return"/stock2store/"+e},Ky={},Bo=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=GT(c),c in Ky)return;Ky[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":KT,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},QT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bo(async()=>{const{default:n}=await Promise.resolve().then(()=>sa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class mg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class YT extends mg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ZT extends mg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class XT extends mg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cp||(Cp={}));var JT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class eR{constructor(t,{headers:r={},customFetch:n,region:s=Cp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=QT(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return JT(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(x=>{throw new YT(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new ZT(d);if(!d.ok)throw new XT(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield d.json():p==="application/octet-stream"?g=yield d.blob():p==="text/event-stream"?g=d:p==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Jt={},gg={},kd={},Hl={},jd={},Cd={},tR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wo=tR();const rR=Wo.fetch,g_=Wo.fetch.bind(Wo),v_=Wo.Headers,nR=Wo.Request,sR=Wo.Response,sa=Object.freeze(Object.defineProperty({__proto__:null,Headers:v_,Request:nR,Response:sR,default:g_,fetch:rR},Symbol.toStringTag,{value:"Module"})),iR=WC(sa);var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});let oR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ed.default=oR;var y_=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cd,"__esModule",{value:!0});const aR=y_(iR),lR=y_(Ed);let cR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=aR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let u=null,d=null,f=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(d=[],u=null,p=200,g="OK")}catch{i.status===404&&m===""?(p=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new lR.default(u)}return{error:u,data:d,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Cd.default=cR;var uR=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jd,"__esModule",{value:!0});const dR=uR(Cd);let fR=class extends dR.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};jd.default=fR;var hR=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hl,"__esModule",{value:!0});const pR=hR(jd);let mR=class extends pR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Hl.default=mR;var gR=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kd,"__esModule",{value:!0});const xa=gR(Hl);let vR=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new xa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new xa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new xa.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new xa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new xa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};kd.default=vR;var Nd={},Pd={};Object.defineProperty(Pd,"__esModule",{value:!0});Pd.version=void 0;Pd.version="0.0.0-automated";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.DEFAULT_HEADERS=void 0;const yR=Pd;Nd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${yR.version}`};var x_=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gg,"__esModule",{value:!0});const xR=x_(kd),wR=x_(Hl),bR=Nd;let _R=class w_{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},bR.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new xR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new w_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new wR.default({method:o,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};gg.default=_R;var ia=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.PostgrestError=Jt.PostgrestBuilder=Jt.PostgrestTransformBuilder=Jt.PostgrestFilterBuilder=Jt.PostgrestQueryBuilder=Jt.PostgrestClient=void 0;const b_=ia(gg);Jt.PostgrestClient=b_.default;const __=ia(kd);Jt.PostgrestQueryBuilder=__.default;const S_=ia(Hl);Jt.PostgrestFilterBuilder=S_.default;const k_=ia(jd);Jt.PostgrestTransformBuilder=k_.default;const j_=ia(Cd);Jt.PostgrestBuilder=j_.default;const C_=ia(Ed);Jt.PostgrestError=C_.default;var SR=Jt.default={PostgrestClient:b_.default,PostgrestQueryBuilder:__.default,PostgrestFilterBuilder:S_.default,PostgrestTransformBuilder:k_.default,PostgrestBuilder:j_.default,PostgrestError:C_.default};const{PostgrestClient:kR,PostgrestQueryBuilder:F3,PostgrestFilterBuilder:U3,PostgrestTransformBuilder:z3,PostgrestBuilder:V3,PostgrestError:B3}=SR,jR="2.11.2",CR={"X-Client-Info":`realtime-js/${jR}`},ER="1.0.0",E_=1e4,NR=1e3;var vo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vo||(vo={}));var lr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lr||(lr={}));var Fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fr||(Fr={}));var Ep;(function(e){e.websocket="websocket"})(Ep||(Ep={}));var Xs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xs||(Xs={}));class PR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class N_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const Gy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=TR(o,e,t,s),i),{})},TR=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?P_(i,o):Np(o)},P_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return IR(t,r)}switch(e){case Ve.bool:return RR(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return OR(t);case Ve.json:case Ve.jsonb:return AR(t);case Ve.timestamp:return MR(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Np(t);default:return Np(t)}},Np=e=>e,RR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},IR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>P_(t,a))}return e},MR=e=>typeof e=="string"?e.replace(" ","T"):e,T_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Vf{constructor(t,r,n={},s=E_){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Qy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Qy||(Qy={}));class Ha{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ha.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ha.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ha.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const p=d.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),x=d.filter(w=>g.indexOf(w.presence_ref)<0),m=f.filter(w=>p.indexOf(w.presence_ref)<0);x.length>0&&(a[u]=x),m.length>0&&(c[u]=m)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(g=>g.presence_ref),p=d.filter(g=>f.indexOf(g.presence_ref)<0);t[a].unshift(...p)}n(a,d,c)}),this.map(o,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Yy||(Yy={}));var Zy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zy||(Zy={}));var wn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class vg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vf(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new N_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ha(this),this.broadcastEndpointURL=T_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(wn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(wn.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(wn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,x=[];for(let m=0;m<g;m++){const w=p[m],{filter:{event:y,schema:v,table:b,filter:_}}=w,S=d&&d[m];if(S&&S.event===y&&S.schema===v&&S.table===b&&S.filter===_)x.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),t==null||t(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(wn.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Vf(this,Fr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vf(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=Fr;if(n&&[a,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,m,w;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(m=g.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var x,m,w,y,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,S=(x=g.filter)===null||x===void 0?void 0:x.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(v=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:m,table:w,commit_timestamp:y,type:v,errors:b}=x;p=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}g.callback(p,n)})}_isClosed(){return this.state===lr.closed}_isJoined(){return this.state===lr.joined}_isJoining(){return this.state===lr.joining}_isLeaving(){return this.state===lr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&vg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fr.close,{},t)}_onError(t){this._on(Fr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gy(t.columns,t.old_record)),r}}const DR=()=>{},LR=typeof WebSocket<"u",$R=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FR{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=CR,this.params={},this.timeout=E_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=DR,this.conn=null,this.sendBuffer=[],this.serializer=new PR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Bo(async()=>{const{default:c}=await Promise.resolve().then(()=>sa);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Ep.websocket}`,this.httpEndpoint=T_(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new N_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(LR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new UR(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Bo(async()=>{const{default:t}=await import("./browser-BaytU9qm.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ER}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vo.connecting:return Xs.Connecting;case vo.open:return Xs.Open;case vo.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}channel(t,r={config:{}}){const n=new vg(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Fr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(NR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$R],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class UR{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=vo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class yg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zR extends yg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pp extends yg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var VR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const R_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bo(async()=>{const{default:n}=await Promise.resolve().then(()=>sa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},BR=()=>VR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bo(()=>Promise.resolve().then(()=>sa),void 0)).Response:Response}),Tp=e=>{if(Array.isArray(e))return e.map(r=>Tp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Tp(n)}),t};var Ti=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const Bf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WR=(e,t,r)=>Ti(void 0,void 0,void 0,function*(){const n=yield BR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new zR(Bf(s),e.status||500))}).catch(s=>{t(new Pp(Bf(s),s))}):t(new Pp(Bf(e),e))}),qR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Kl(e,t,r,n,s,i){return Ti(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,qR(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>WR(c,a,n))})})}function Cu(e,t,r,n){return Ti(this,void 0,void 0,function*(){return Kl(e,"GET",t,r,n)})}function Jn(e,t,r,n,s){return Ti(this,void 0,void 0,function*(){return Kl(e,"POST",t,n,s,r)})}function HR(e,t,r,n,s){return Ti(this,void 0,void 0,function*(){return Kl(e,"PUT",t,n,s,r)})}function KR(e,t,r,n){return Ti(this,void 0,void 0,function*(){return Kl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function O_(e,t,r,n,s){return Ti(this,void 0,void 0,function*(){return Kl(e,"DELETE",t,n,s,r)})}var Kt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const GR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QR{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=R_(s)}uploadOrUpdate(t,r,n,s){return Kt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Xy),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Kt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Xy.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(vt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Kt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Jn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new yg("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Kt(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Kt(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Kt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Jn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Kt(this,void 0,void 0,function*(){try{const s=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}download(t,r){return Kt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Cu(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}info(t){return Kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Cu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Tp(n),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}exists(t){return Kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield KR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(vt(n)&&n instanceof Pp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Kt(this,void 0,void 0,function*(){try{return{data:yield O_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Kt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},GR),r),{prefix:t||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const YR="2.7.1",ZR={"X-Client-Info":`storage-js/${YR}`};var $i=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class XR{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},ZR),r),this.fetch=R_(n)}listBuckets(){return $i(this,void 0,void 0,function*(){try{return{data:yield Cu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}})}getBucket(t){return $i(this,void 0,void 0,function*(){try{return{data:yield Cu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return $i(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return $i(this,void 0,void 0,function*(){try{return{data:yield HR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return $i(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return $i(this,void 0,void 0,function*(){try{return{data:yield O_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}}class JR extends XR{constructor(t,r={},n){super(t,r,n)}from(t){return new QR(this.url,this.headers,t,this.fetch)}}const e2="2.49.4";let Ra="";typeof Deno<"u"?Ra="deno":typeof document<"u"?Ra="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ra="react-native":Ra="node";const t2={"X-Client-Info":`supabase-js-${Ra}/${e2}`},r2={headers:t2},n2={schema:"public"},s2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i2={};var o2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const a2=e=>{let t;return e?t=e:typeof fetch>"u"?t=g_:t=fetch,(...r)=>t(...r)},l2=()=>typeof Headers>"u"?v_:Headers,c2=(e,t,r)=>{const n=a2(r),s=l2();return(i,o)=>o2(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var u2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};function d2(e){return e.replace(/\/$/,"")}function f2(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>u2(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const A_="2.69.1",Gi=30*1e3,Rp=3,Wf=Rp*Gi,h2="http://localhost:9999",p2="supabase.auth.token",m2={"X-Client-Info":`gotrue-js/${A_}`},Op="X-Supabase-Api-Version",I_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},g2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,v2=6e5;class xg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function he(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class y2 extends xg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function x2(e){return he(e)&&e.name==="AuthApiError"}class M_ extends xg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vs extends xg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Kn extends Vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function w2(e){return he(e)&&e.name==="AuthSessionMissingError"}class qf extends Vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xc extends Vs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wc extends Vs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function b2(e){return he(e)&&e.name==="AuthImplicitGrantRedirectError"}class Jy extends Vs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ap extends Vs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Hf(e){return he(e)&&e.name==="AuthRetryableFetchError"}class ex extends Vs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ka extends Vs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const tx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rx=` 	
\r=`.split(""),_2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rx.length;t+=1)e[rx[t].charCodeAt(0)]=-2;for(let t=0;t<tx.length;t+=1)e[tx[t].charCodeAt(0)]=t;return e})();function D_(e,t,r){const n=_2[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nx(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{j2(o,n,r)};for(let o=0;o<e.length;o+=1)D_(e.charCodeAt(o),s,i);return t.join("")}function S2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function k2(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}S2(n,t)}}function j2(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function C2(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)D_(e.charCodeAt(s),r,n);return new Uint8Array(t)}function E2(e){const t=[];return k2(e,r=>t.push(r)),new Uint8Array(t)}function N2(e){return Math.round(Date.now()/1e3)+e}function P2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Jr=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},Ga=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function T2(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const L_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bo(async()=>{const{default:n}=await Promise.resolve().then(()=>sa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},R2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$_=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},bc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_c=async(e,t)=>{await e.removeItem(t)};class Td{constructor(){this.promise=new Td.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Td.promiseConstructor=Promise;function Kf(e){const t=e.split(".");if(t.length!==3)throw new Ka("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!g2.test(t[n]))throw new Ka("JWT not in base64url format");return{header:JSON.parse(nx(t[0])),payload:JSON.parse(nx(t[1])),signature:C2(t[2]),raw:{header:t[0],payload:t[1]}}}async function O2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function A2(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function I2(e){return("0"+e.toString(16)).substr(-2)}function M2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,I2).join("")}async function D2(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function L2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await D2(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fi(e,t,r=!1){const n=M2();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await $_(e,`${t}-code-verifier`,s);const i=await L2(n);return[i,n===i?"plain":"s256"]}const $2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F2(e){const t=e.headers.get(Op);if(!t||!t.match($2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function U2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function z2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var V2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ys=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),B2=[502,503,504];async function sx(e){var t;if(!R2(e))throw new Ap(Ys(e),0);if(B2.includes(e.status))throw new Ap(Ys(e),e.status);let r;try{r=await e.json()}catch(i){throw new M_(Ys(i),i)}let n;const s=F2(e);if(s&&s.getTime()>=I_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ex(Ys(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Kn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ex(Ys(r),e.status,r.weak_password.reasons);throw new y2(Ys(r),e.status||500,n)}const W2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function _e(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Op]||(i[Op]=I_["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await q2(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function q2(e,t,r,n,s,i){const o=W2(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Ap(Ys(c),0)}if(a.ok||await sx(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await sx(c)}}function Gn(e){var t;let r=null;Q2(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=N2(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ix(e){const t=Gn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function rs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function H2(e){return{data:e,error:null}}function K2(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=V2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function G2(e){return e}function Q2(e){return e.access_token&&e.refresh_token&&e.expires_in}var Y2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Z2{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=L_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:rs})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Y2(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:K2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(he(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rs})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:G2});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(he(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rs})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:rs})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:rs})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await _e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}}const X2={getItem:e=>Ga()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ga()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ga()&&globalThis.localStorage.removeItem(e)}};function ox(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function J2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ui={debug:!!(globalThis&&Ga()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eO extends F_{}async function tO(e,t,r){Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ui.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}J2();const rO={url:h2,storageKey:p2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:m2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ax(e,t,r){return await r()}class _l{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_l.nextInstanceID,_l.nextInstanceID+=1,this.instanceID>0&&Jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},rO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Z2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=L_(s.fetch),this.lock=s.lock||ax,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Jr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=tO:this.lock=ax,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ga()?this.storage=X2:(this.memoryStorage={},this.storage=ox(this.memoryStorage)):(this.memoryStorage={},this.storage=ox(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${A_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=T2(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),b2(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return he(r)?{error:r}:{error:new M_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:p}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Fi(this.storage,this.storageKey)),i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:x},xform:Gn})}else if("phone"in t){const{phone:d,password:f,options:p}=t;i=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Gn})}else throw new xc("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ix})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ix})}else throw new xc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new qf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await bc(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Gn});if(await _c(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new qf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(he(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gn}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new qf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Fi(this.storage,this.storageKey));const{error:f}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new xc("You must provide either an email or phone number.")}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Gn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Fi(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:H2})}catch(i){if(he(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Kn;const{error:s}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new xc("You must provide either an email or phone number and a type")}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await bc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Wf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:rs}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kn}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:rs})})}catch(r){if(he(r))return w2(r)&&(await this._removeSession(),await _c(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Kn;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Fi(this.storage,this.storageKey));const{data:u,error:d}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:rs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Kf(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(he(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Kn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Jr())throw new wc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Jy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Jy("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=t;if(!i||!a||!o||!u)throw new wc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;c&&(p=parseInt(c));const g=p-d;g*1e3<=Gi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=p-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,d);const{data:m,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(he(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await bc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(x2(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await _c(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=P2(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Fi(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(he(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,c,u,d;const{data:f,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(he(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await A2(async s=>(s>0&&await O2(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Hf(i)&&Date.now()+o-n<Gi})}catch(n){if(this._debug(r,"error",n),he(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await bc(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Wf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Wf}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Hf(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Kn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Td;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Kn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),he(i)){const o={session:null,error:i};return Hf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await $_(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await _c(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Gi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Gi}ms, refresh threshold is ${Rp} ticks`),s<=Rp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof F_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await _e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(he(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(he(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Kf(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+v2>Date.now()))return n;const{data:s,error:i}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ka("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Ka("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=Kf(n);if(U2(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const u=z2(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,E2(`${a}.${c}`)))throw new Ka("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}_l.nextInstanceID=0;const nO=_l;class sO extends nO{constructor(t){super(t)}}var iO=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class oO{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=d2(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:n2,realtime:i2,auth:Object.assign(Object.assign({},s2),{storageKey:c}),global:r2},d=f2(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=c2(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new kR(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new eR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new JR(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return iO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sO({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new FR(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aO=(e,t,r)=>new oO(e,t,r),lO="https://fshdsmmyuvhqwngkzndm.supabase.co",cO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzaGRzbW15dXZocXduZ2t6bmRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczODkzMTIsImV4cCI6MjA2Mjk2NTMxMn0.6sgzv8A8x2nMgLOjAf44lXB72L70FxkhUbtrBml7onM",oe=aO(lO,cO,{auth:{persistSession:!0,autoRefreshToken:!0,storage:localStorage}}),uO=1,dO=1e6;let Gf=0;function fO(){return Gf=(Gf+1)%Number.MAX_SAFE_INTEGER,Gf.toString()}const Qf=new Map,lx=e=>{if(Qf.has(e))return;const t=setTimeout(()=>{Qf.delete(e),Qa({type:"REMOVE_TOAST",toastId:e})},dO);Qf.set(e,t)},hO=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,uO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?lx(r):e.toasts.forEach(n=>{lx(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Kc=[];let Gc={toasts:[]};function Qa(e){Gc=hO(Gc,e),Kc.forEach(t=>{t(Gc)})}function ni({...e}){const t=fO(),r=s=>Qa({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Qa({type:"DISMISS_TOAST",toastId:t});return Qa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function ir(){const[e,t]=h.useState(Gc);return h.useEffect(()=>(Kc.push(t),()=>{const r=Kc.indexOf(t);r>-1&&Kc.splice(r,1)}),[e]),{...e,toast:ni,dismiss:r=>Qa({type:"DISMISS_TOAST",toastId:r})}}const pO=async e=>{try{const{data:t,error:r}=await oe.from("profiles").select("*").eq("id",e).single();return r?(console.error("Error fetching user profile:",r),null):t?{id:t.id,name:t.name||"User",email:t.email||"",role:t.role||"customer",avatar:"",createdAt:new Date(t.created_at||Date.now()),updatedAt:new Date(t.updated_at||Date.now())}:null}catch(t){return console.error("Error in getUserProfile:",t),null}},qr=()=>{console.log("Cleaning up auth state..."),localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&(console.log(`Removing localStorage key: ${e}`),localStorage.removeItem(e))}),Object.keys(sessionStorage||{}).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&(console.log(`Removing sessionStorage key: ${e}`),sessionStorage.removeItem(e))}),localStorage.removeItem("sb-access-token"),localStorage.removeItem("sb-refresh-token"),sessionStorage.removeItem("sb-access-token"),sessionStorage.removeItem("sb-refresh-token")},cx=async()=>{try{console.log("Fetching current user...");const{data:{session:e},error:t}=await oe.auth.getSession();if(t)return console.error("Error getting session:",t),qr(),null;if(!e)return console.log("No active session found"),null;console.log("Active session found, fetching user profile...");const r=await pO(e.user.id);return r||(console.error("User profile not found, cleaning up auth state"),qr(),null)}catch(e){return console.error("Error in fetchCurrentUser:",e),qr(),null}};function mO(){const[e,t]=h.useState(null),[r,n]=h.useState(!0),s=h.useRef(!1),i=h.useRef(null);return h.useEffect(()=>{if(s.current)return;s.current=!0,console.log("Initializing auth state...");const{data:{subscription:o}}=oe.auth.onAuthStateChange(async(c,u)=>{console.log("Auth state changed:",c,u?"with session":"no session");const d=u?`${u.user.id}-${u.access_token.substring(0,10)}`:null;if(d===i.current&&c!=="SIGNED_OUT"){console.log("Duplicate session event, skipping...");return}if(i.current=d,c==="SIGNED_OUT"||!u){console.log("User signed out or no session"),t(null),n(!1),c==="SIGNED_OUT"&&qr();return}(c==="SIGNED_IN"||c==="TOKEN_REFRESHED")&&setTimeout(async()=>{try{console.log("Processing sign in/token refresh...");const f=await cx();console.log("User data fetched:",f?"success":"failed"),t(f)}catch(f){console.error("Error fetching user data:",f),t(null),qr()}finally{n(!1)}},100)});return(async()=>{try{console.log("Checking for existing session...");const c=new Promise((f,p)=>{setTimeout(()=>p(new Error("Session check timeout")),5e3)}),u=cx(),d=await Promise.race([u,c]);console.log("Session check result:",d?"user found":"no user"),t(d)}catch(c){console.error("Error checking session:",c),t(null),qr()}finally{n(!1)}})(),()=>{console.log("Cleaning up auth state listener"),o.unsubscribe(),s.current=!1}},[]),[{user:e,loading:r},t]}const gO=async(e,t)=>{try{console.log("Starting sign in process..."),qr();try{console.log("Attempting global sign out before sign in..."),await oe.auth.signOut({scope:"global"}),await new Promise(s=>setTimeout(s,500))}catch(s){console.log("Pre-auth signout failed, continuing:",s)}console.log("Attempting to sign in with email/password...");const{data:r,error:n}=await oe.auth.signInWithPassword({email:e,password:t});return n?(console.error("Sign in error:",n),n.message.includes("Email not confirmed")?ni({title:"Email not confirmed",description:"Please check your email for the confirmation link or request a new one.",variant:"destructive"}):ni({title:"Login failed",description:n.message,variant:"destructive"}),{user:null,error:n}):(r.user&&(console.log("Sign in successful, user:",r.user.id),ni({title:"Login successful",description:"Welcome back!",variant:"default"})),{user:r.user,error:null})}catch(r){return console.error("Unexpected error during sign in:",r),qr(),ni({title:"Login failed",description:"An unexpected error occurred",variant:"destructive"}),{user:null,error:r}}},vO=async(e,t,r)=>{try{qr();const{data:n,error:s}=await oe.auth.signUp({email:e,password:t,options:{data:{name:r},emailRedirectTo:window.location.origin+"/stock2store/login"}});return s?(ni({title:"Registration failed",description:s.message,variant:"destructive"}),{user:null,error:s}):(await oe.auth.signOut(),ni({title:"Registration successful",description:"Please check your email for confirmation instructions.",variant:"default"}),{user:n.user,error:null})}catch(n){return console.error("Unexpected error during sign up:",n),{user:null,error:n}}},yO=async()=>{try{console.log("Starting sign out process..."),qr();const{error:e}=await oe.auth.signOut({scope:"global"});return e?(console.error("Sign out error:",e),{error:e}):(console.log("Sign out successful"),setTimeout(()=>{window.location.href="/stock2store/login"},200),{error:null})}catch(e){return console.error("Unexpected error during sign out:",e),window.location.href="/stock2store/login",{error:e}}},xO={admin:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"warehouse",action:"manage"},{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"analytics",action:"view"},{resource:"users",action:"view"},{resource:"users",action:"manage"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"},{resource:"cart",action:"view"},{resource:"cart",action:"update"},{resource:"returns",action:"view"},{resource:"returns",action:"manage"}],warehouse:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"warehouse",action:"manage"},{resource:"store",action:"view"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"}],customer:[{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"settings",action:"update"},{resource:"cart",action:"view"},{resource:"cart",action:"update"},{resource:"returns",action:"view"},{resource:"returns",action:"manage"}],analyst:[{resource:"dashboard",action:"view"},{resource:"warehouse",action:"view"},{resource:"store",action:"view"},{resource:"store",action:"purchase"},{resource:"analytics",action:"view"},{resource:"profile",action:"view"},{resource:"profile",action:"update"},{resource:"settings",action:"view"},{resource:"cart",action:"view"},{resource:"cart",action:"update"}]},U_=async()=>{try{const{data:e,error:t}=await oe.from("roles").select("id").limit(1),{data:r,error:n}=await oe.from("permissions").select("id").limit(1);return t||n?(console.log("Error checking RBAC initialization:",t||n),!1):e&&e.length>0&&r&&r.length>0}catch(e){return console.error("Error checking RBAC initialization:",e),!1}},ux=(e,t,r)=>(xO[e]||[]).some(s=>s.resource===t&&s.action===r),wO=async e=>{try{const{data:{session:t}}=await oe.auth.getSession();if(!(t!=null&&t.user))return!1;const{data:r}=await oe.from("profiles").select("role").eq("id",t.user.id).single();return(r==null?void 0:r.role)===e}catch(t){return console.error("Error checking user role:",t),!1}},bO=async(e,t)=>{try{const{data:{session:r}}=await oe.auth.getSession();if(!(r!=null&&r.user))return console.log("No user session found"),!1;const{data:n}=await oe.from("profiles").select("role").eq("id",r.user.id).single();if(!(n!=null&&n.role))return console.log("No user role found in profile"),!1;const s=n.role;if(console.log(`Checking permission for ${e}:${t} for role: ${s}`),!await U_()){console.log("RBAC not initialized, using fallback permissions for role:",s);const c=ux(s,e,t);return console.log(`Fallback permission result: ${c}`),c}console.log("Using full RBAC system for permission check");const{data:o,error:a}=await oe.rpc("user_has_permission",{user_id:r.user.id,req_resource:e,req_action:t});if(a){console.error("Error checking permissions via RPC:",a),console.log("Falling back to role-based permissions due to RPC error");const c=ux(s,e,t);return console.log(`Fallback permission result after RPC error: ${c}`),c}return console.log(`RPC permission result: ${!!o}`),!!o}catch(r){return console.error("Error checking user permissions:",r),!1}},_O=async()=>{try{return await U_()?(console.log("RBAC system already initialized"),!0):(console.log("RBAC system not initialized, but this should be handled by the SQL migration"),!1)}catch(e){return console.error("Error initializing RBAC system:",e),!1}},SO=async(e,t)=>{try{const{data:{session:r}}=await oe.auth.getSession();if(!(r!=null&&r.user))return console.error("No user session found"),!1;if(!await wO("admin"))return console.error("User is not admin, cannot update roles"),!1;const{error:s}=await oe.from("profiles").update({role:t}).eq("id",e);return s?(console.error("Error updating user role:",s),!1):(console.log(`Successfully updated user ${e} role to ${t}`),!0)}catch(r){return console.error("Error updating user role:",r),!1}},kO=({children:e})=>{const[{user:t,loading:r},n]=mO(),{toast:s}=ir();h.useEffect(()=>{t&&t.role==="admin"&&!r&&(async()=>{try{console.log("Initializing RBAC for admin user...");const c=await _O();console.log(c?"RBAC system initialized successfully":"RBAC system was already initialized")}catch(c){console.error("Error initializing RBAC system:",c)}})()},[t==null?void 0:t.id,t==null?void 0:t.role,r]);const o={user:t,loading:r,signOut:async()=>{try{await yO(),n(null)}catch(a){console.error("Error during sign out:",a),s({title:"Sign out failed",description:"An error occurred while signing out. Please try again.",variant:"destructive"})}}};return l.jsx(m_.Provider,{value:o,children:e})},jO={items:[],total:0,itemCount:0,isLoading:!1};function z_(e,t){switch(t.type){case"ADD_ITEM":{const{product:r,quantity:n}=t.payload,s=e.items.find(c=>c.product.id===r.id);let i;if(s)i=e.items.map(c=>c.product.id===r.id?{...c,quantity:Math.min(c.quantity+n,r.stock)}:c);else{const c={id:`cart-${r.id}-${Date.now()}`,product:r,quantity:Math.min(n,r.stock),addedAt:new Date,status:r.stock>0?"available":"unavailable"};i=[...e.items,c]}const o=i.reduce((c,u)=>c+u.product.price*u.quantity,0),a=i.reduce((c,u)=>c+u.quantity,0);return{...e,items:i,total:o,itemCount:a}}case"REMOVE_ITEM":{const r=e.items.filter(i=>i.product.id!==t.payload.productId),n=r.reduce((i,o)=>i+o.product.price*o.quantity,0),s=r.reduce((i,o)=>i+o.quantity,0);return{...e,items:r,total:n,itemCount:s}}case"UPDATE_QUANTITY":{const{productId:r,quantity:n}=t.payload;if(n<=0)return z_(e,{type:"REMOVE_ITEM",payload:{productId:r}});const s=e.items.map(a=>a.product.id===r?{...a,quantity:Math.min(n,a.product.stock)}:a),i=s.reduce((a,c)=>a+c.product.price*c.quantity,0),o=s.reduce((a,c)=>a+c.quantity,0);return{...e,items:s,total:i,itemCount:o}}case"UPDATE_ITEM_STATUS":{const{productId:r,status:n}=t.payload,s=e.items.map(i=>i.product.id===r?{...i,status:n}:i);return{...e,items:s}}case"CLEAR_CART":return{...e,items:[],total:0,itemCount:0};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ITEMS":{const r=t.payload,n=r.reduce((i,o)=>i+o.product.price*o.quantity,0),s=r.reduce((i,o)=>i+o.quantity,0);return{...e,items:r,total:n,itemCount:s}}default:return e}}const V_=h.createContext(void 0);function CO({children:e}){const[t,r]=h.useReducer(z_,jO),{user:n}=Un(),{toast:s}=ir();h.useEffect(()=>{if(n){const f=localStorage.getItem(`cart-${n.id}`);if(f)try{const p=JSON.parse(f);r({type:"SET_ITEMS",payload:p})}catch(p){console.error("Error loading cart from localStorage:",p)}}},[n]),h.useEffect(()=>{n&&t.items.length>=0&&localStorage.setItem(`cart-${n.id}`,JSON.stringify(t.items))},[t.items,n]);const i=(f,p=1)=>{if(f.stock<=0){s({title:"Product unavailable",description:"This product is currently out of stock.",variant:"destructive"});return}const g=u(f.id);if(g+p>f.stock){s({title:"Insufficient stock",description:`Only ${f.stock} items available. You already have ${g} in your cart.`,variant:"destructive"});return}r({type:"ADD_ITEM",payload:{product:f,quantity:p}}),s({title:"Added to cart",description:`${f.name} has been added to your cart.`})},o=f=>{r({type:"REMOVE_ITEM",payload:{productId:f}}),s({title:"Removed from cart",description:"Item has been removed from your cart."})},a=(f,p)=>{r({type:"UPDATE_QUANTITY",payload:{productId:f,quantity:p}})},c=()=>{r({type:"CLEAR_CART"}),s({title:"Cart cleared",description:"All items have been removed from your cart."})},u=f=>{const p=t.items.find(g=>g.product.id===f);return(p==null?void 0:p.quantity)||0},d={...t,addToCart:i,removeFromCart:o,updateQuantity:a,clearCart:c,getCartItemQuantity:u};return l.jsx(V_.Provider,{value:d,children:e})}function wg(){const e=h.useContext(V_);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}function Z(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function EO(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Rd(...e){return t=>e.forEach(r=>EO(r,t))}function We(...e){return h.useCallback(Rd(...e),e)}function NO(e,t=[]){let r=[];function n(i,o){const a=h.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:p,children:g,...x}=f,m=(p==null?void 0:p[e][c])||a,w=h.useMemo(()=>x,Object.values(x));return l.jsx(m.Provider,{value:w,children:g})}function d(f,p){const g=(p==null?void 0:p[e][c])||a,x=h.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,PO(s,...t)]}function PO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ps=h.forwardRef((e,t)=>{const{children:r,...n}=e,s=h.Children.toArray(r),i=s.find(RO);if(i){const o=i.props.children,a=s.map(c=>c===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:c);return l.jsx(Ip,{...n,ref:t,children:h.isValidElement(o)?h.cloneElement(o,void 0,a):null})}return l.jsx(Ip,{...n,ref:t,children:r})});Ps.displayName="Slot";var Ip=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const s=AO(r);return h.cloneElement(r,{...OO(n,r.props),ref:t?Rd(t,s):s})}return h.Children.count(r)>1?h.Children.only(null):null});Ip.displayName="SlotClone";var TO=({children:e})=>l.jsx(l.Fragment,{children:e});function RO(e){return h.isValidElement(e)&&e.type===TO}function OO(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function AO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Od(e){const t=e+"CollectionProvider",[r,n]=NO(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:m}=g,w=ve.useRef(null),y=ve.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:y,collectionRef:w,children:m})};o.displayName=t;const a=e+"CollectionSlot",c=ve.forwardRef((g,x)=>{const{scope:m,children:w}=g,y=i(a,m),v=We(x,y.collectionRef);return l.jsx(Ps,{ref:v,children:w})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=ve.forwardRef((g,x)=>{const{scope:m,children:w,...y}=g,v=ve.useRef(null),b=We(x,v),_=i(u,m);return ve.useEffect(()=>(_.itemMap.set(v,{ref:v,...y}),()=>void _.itemMap.delete(v))),l.jsx(Ps,{[d]:"",ref:b,children:w})});f.displayName=u;function p(g){const x=i(e+"CollectionConsumer",g);return ve.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((_,S)=>y.indexOf(_.ref.current)-y.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},p,n]}function oa(e,t=[]){let r=[];function n(i,o){const a=h.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:p,children:g,...x}=f,m=((y=p==null?void 0:p[e])==null?void 0:y[c])||a,w=h.useMemo(()=>x,Object.values(x));return l.jsx(m.Provider,{value:w,children:g})};u.displayName=i+"Provider";function d(f,p){var m;const g=((m=p==null?void 0:p[e])==null?void 0:m[c])||a,x=h.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,IO(s,...t)]}function IO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var MO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=MO.reduce((e,t)=>{const r=h.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?Ps:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function bg(e,t){e&&Fs.flushSync(()=>e.dispatchEvent(t))}function Nt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function DO(e,t=globalThis==null?void 0:globalThis.document){const r=Nt(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var LO="DismissableLayer",Mp="dismissableLayer.update",$O="dismissableLayer.pointerDownOutside",FO="dismissableLayer.focusOutside",dx,B_=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ad=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=h.useContext(B_),[d,f]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=h.useState({}),x=We(t,C=>f(C)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(w),v=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=y,S=zO(C=>{const N=C.target,I=[...u.branches].some(M=>M.contains(N));!_||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),E=VO(C=>{const N=C.target;[...u.branches].some(M=>M.contains(N))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return DO(C=>{v===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(dx=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),fx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=dx)}},[d,p,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),fx())},[d,u]),h.useEffect(()=>{const C=()=>g({});return document.addEventListener(Mp,C),()=>document.removeEventListener(Mp,C)},[]),l.jsx(ue.div,{...c,ref:x,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,S.onPointerDownCapture)})});Ad.displayName=LO;var UO="DismissableLayerBranch",W_=h.forwardRef((e,t)=>{const r=h.useContext(B_),n=h.useRef(null),s=We(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l.jsx(ue.div,{...e,ref:s})});W_.displayName=UO;function zO(e,t=globalThis==null?void 0:globalThis.document){const r=Nt(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let c=function(){q_($O,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function VO(e,t=globalThis==null?void 0:globalThis.document){const r=Nt(e),n=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!n.current&&q_(FO,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function fx(){const e=new CustomEvent(Mp);document.dispatchEvent(e)}function q_(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?bg(s,i):s.dispatchEvent(i)}var BO=Ad,WO=W_,wt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},qO="Portal",Id=h.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=h.useState(!1);wt(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Wb.createPortal(l.jsx(ue.div,{...n,ref:t}),o):null});Id.displayName=qO;function HO(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Ri=e=>{const{present:t,children:r}=e,n=KO(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=We(n.ref,GO(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:i}):null};Ri.displayName="Presence";function KO(e){const[t,r]=h.useState(),n=h.useRef({}),s=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[a,c]=HO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Sc(n.current);i.current=a==="mounted"?u:"none"},[a]),wt(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,g=Sc(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),wt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=Sc(n.current).includes(g.animationName);if(g.target===t&&m&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=g=>{g.target===t&&(i.current=Sc(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Sc(e){return(e==null?void 0:e.animationName)||"none"}function GO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qo({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=QO({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,a=Nt(r),c=h.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&a(f)}else s(u)},[i,e,s,a]);return[o,c]}function QO({defaultProp:e,onChange:t}){const r=h.useState(e),[n]=r,s=h.useRef(n),i=Nt(t);return h.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var YO="VisuallyHidden",Md=h.forwardRef((e,t)=>l.jsx(ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Md.displayName=YO;var _g="ToastProvider",[Sg,ZO,XO]=Od("Toast"),[H_,W3]=oa("Toast",[XO]),[JO,Dd]=H_(_g),K_=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),p=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${_g}\`. Expected non-empty \`string\`.`),l.jsx(Sg.Provider,{scope:t,children:l.jsx(JO,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:h.useCallback(()=>d(g=>g+1),[]),onToastRemove:h.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};K_.displayName=_g;var G_="ToastViewport",eA=["F8"],Dp="toast.viewportPause",Lp="toast.viewportResume",Q_=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=eA,label:s="Notifications ({hotkey})",...i}=e,o=Dd(G_,r),a=ZO(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=We(t,f,o.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;h.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),h.useEffect(()=>{const w=c.current,y=f.current;if(x&&w&&y){const v=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(Dp);y.dispatchEvent(E),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(Lp);y.dispatchEvent(E),o.isClosePausedRef.current=!1}},_=E=>{!w.contains(E.relatedTarget)&&b()},S=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",_),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const m=h.useCallback(({tabbingDirection:w})=>{const v=a().map(b=>{const _=b.ref.current,S=[_,...hA(_)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?v.reverse():v).flat()},[a]);return h.useEffect(()=>{const w=f.current;if(w){const y=v=>{var S,E,C;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const N=document.activeElement,I=v.shiftKey;if(v.target===w&&I){(S=u.current)==null||S.focus();return}const A=m({tabbingDirection:I?"backwards":"forwards"}),z=A.findIndex(D=>D===N);Yf(A.slice(z+1))?v.preventDefault():I?(E=u.current)==null||E.focus():(C=d.current)==null||C.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[a,m]),l.jsxs(WO,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx($p,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Yf(w)}}),l.jsx(Sg.Slot,{scope:r,children:l.jsx(ue.ol,{tabIndex:-1,...i,ref:p})}),x&&l.jsx($p,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Yf(w)}})]})});Q_.displayName=G_;var Y_="ToastFocusProxy",$p=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Dd(Y_,r);return l.jsx(Md,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&n()}})});$p.displayName=Y_;var Ld="Toast",tA="toast.swipeStart",rA="toast.swipeMove",nA="toast.swipeCancel",sA="toast.swipeEnd",Z_=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[a=!0,c]=qo({prop:n,defaultProp:s,onChange:i});return l.jsx(Ri,{present:r||a,children:l.jsx(aA,{open:a,...o,ref:t,onClose:()=>c(!1),onPause:Nt(e.onPause),onResume:Nt(e.onResume),onSwipeStart:Z(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Z(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Z_.displayName=Ld;var[iA,oA]=H_(Ld,{onClose(){}}),aA=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...x}=e,m=Dd(Ld,r),[w,y]=h.useState(null),v=We(t,D=>y(D)),b=h.useRef(null),_=h.useRef(null),S=s||m.duration,E=h.useRef(0),C=h.useRef(S),N=h.useRef(0),{onToastAdd:I,onToastRemove:M}=m,Q=Nt(()=>{var X;(w==null?void 0:w.contains(document.activeElement))&&((X=m.viewport)==null||X.focus()),o()}),A=h.useCallback(D=>{!D||D===1/0||(window.clearTimeout(N.current),E.current=new Date().getTime(),N.current=window.setTimeout(Q,D))},[Q]);h.useEffect(()=>{const D=m.viewport;if(D){const X=()=>{A(C.current),u==null||u()},W=()=>{const ee=new Date().getTime()-E.current;C.current=C.current-ee,window.clearTimeout(N.current),c==null||c()};return D.addEventListener(Dp,W),D.addEventListener(Lp,X),()=>{D.removeEventListener(Dp,W),D.removeEventListener(Lp,X)}}},[m.viewport,S,c,u,A]),h.useEffect(()=>{i&&!m.isClosePausedRef.current&&A(S)},[i,S,m.isClosePausedRef,A]),h.useEffect(()=>(I(),()=>M()),[I,M]);const z=h.useMemo(()=>w?s1(w):null,[w]);return m.viewport?l.jsxs(l.Fragment,{children:[z&&l.jsx(lA,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),l.jsx(iA,{scope:r,onClose:Q,children:Fs.createPortal(l.jsx(Sg.ItemSlot,{scope:r,children:l.jsx(BO,{asChild:!0,onEscapeKeyDown:Z(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||Q(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Z(e.onKeyDown,D=>{D.key==="Escape"&&(a==null||a(D.nativeEvent),D.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:Z(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:Z(e.onPointerMove,D=>{if(!b.current)return;const X=D.clientX-b.current.x,W=D.clientY-b.current.y,ee=!!_.current,T=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,V=T?R(0,X):0,te=T?0:R(0,W),pe=D.pointerType==="touch"?10:2,it={x:V,y:te},ze={originalEvent:D,delta:it};ee?(_.current=it,kc(rA,f,ze,{discrete:!1})):hx(it,m.swipeDirection,pe)?(_.current=it,kc(tA,d,ze,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(X)>pe||Math.abs(W)>pe)&&(b.current=null)}),onPointerUp:Z(e.onPointerUp,D=>{const X=_.current,W=D.target;if(W.hasPointerCapture(D.pointerId)&&W.releasePointerCapture(D.pointerId),_.current=null,b.current=null,X){const ee=D.currentTarget,T={originalEvent:D,delta:X};hx(X,m.swipeDirection,m.swipeThreshold)?kc(sA,g,T,{discrete:!0}):kc(nA,p,T,{discrete:!0}),ee.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),lA=e=>{const{__scopeToast:t,children:r,...n}=e,s=Dd(Ld,t),[i,o]=h.useState(!1),[a,c]=h.useState(!1);return dA(()=>o(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Id,{asChild:!0,children:l.jsx(Md,{...n,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},cA="ToastTitle",X_=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ue.div,{...n,ref:t})});X_.displayName=cA;var uA="ToastDescription",J_=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ue.div,{...n,ref:t})});J_.displayName=uA;var e1="ToastAction",t1=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(n1,{altText:r,asChild:!0,children:l.jsx(kg,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${e1}\`. Expected non-empty \`string\`.`),null)});t1.displayName=e1;var r1="ToastClose",kg=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=oA(r1,r);return l.jsx(n1,{asChild:!0,children:l.jsx(ue.button,{type:"button",...n,ref:t,onClick:Z(e.onClick,s.onClose)})})});kg.displayName=r1;var n1=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function s1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),fA(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...s1(n))}}),t}function kc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?bg(s,i):s.dispatchEvent(i)}var hx=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function dA(e=()=>{}){const t=Nt(e);wt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function fA(e){return e.nodeType===e.ELEMENT_NODE}function hA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Yf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var pA=K_,i1=Q_,o1=Z_,a1=X_,l1=J_,c1=t1,u1=kg;function d1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=d1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function f1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=d1(e))&&(n&&(n+=" "),n+=t);return n}const px=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mx=f1,$d=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return mx(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const p=px(d)||px(f);return s[u][p]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(x=>{let[m,w]=x;return Array.isArray(w)?w.includes({...i,...a}[m]):{...i,...a}[m]===w})?[...u,f,p]:u},[]);return mx(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},c)=>h.createElement("svg",{ref:c,...gA,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:h1("lucide",s),...a},[...o.map(([u,d])=>h.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(e,t)=>{const r=h.forwardRef(({className:n,...s},i)=>h.createElement(vA,{ref:i,iconNode:t,className:h1(`lucide-${mA(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ce("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=ce("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=ce("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=ce("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=ce("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ce("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=ce("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Pg="-",UA=e=>{const t=VA(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(Pg);return a[0]===""&&a.length!==1&&a.shift(),k1(a,t)||zA(o)},getConflictingClassGroupIds:(o,a)=>{const c=r[o]||[];return a&&n[o]?[...c,...n[o]]:c}}},k1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?k1(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Pg);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},xx=/^\[(.+)\]$/,zA=e=>{if(xx.test(e)){const t=xx.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},VA=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return WA(Object.entries(e.classGroups),r).forEach(([i,o])=>{Up(o,n,i,t)}),n},Up=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:wx(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(BA(s)){Up(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Up(o,wx(t,i),r,n)})})},wx=(e,t)=>{let r=e;return t.split(Pg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},BA=e=>e.isThemeGetter,WA=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,qA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},j1="!",HA=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const c=[];let u=0,d=0,f;for(let w=0;w<a.length;w++){let y=a[w];if(u===0){if(y===s&&(n||a.slice(w,w+i)===t)){c.push(a.slice(d,w)),d=w+i;continue}if(y==="/"){f=w;continue}}y==="["?u++:y==="]"&&u--}const p=c.length===0?a:a.substring(d),g=p.startsWith(j1),x=g?p.substring(1):p,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:m}};return r?a=>r({className:a,parseClassName:o}):o},KA=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},GA=e=>({cache:qA(e.cacheSize),parseClassName:HA(e),...UA(e)}),QA=/\s+/,YA=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(QA);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=r(u);let x=!!g,m=n(x?p.substring(0,g):p);if(!m){if(!x){a=u+(a.length>0?" "+a:a);continue}if(m=n(p),!m){a=u+(a.length>0?" "+a:a);continue}x=!1}const w=KA(d).join(":"),y=f?w+j1:w,v=y+m;if(i.includes(v))continue;i.push(v);const b=s(m,x);for(let _=0;_<b.length;++_){const S=b[_];i.push(y+S)}a=u+(a.length>0?" "+a:a)}return a};function ZA(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=C1(t))&&(n&&(n+=" "),n+=r);return n}const C1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=C1(e[n]))&&(r&&(r+=" "),r+=t);return r};function XA(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=GA(u),n=r.cache.get,s=r.cache.set,i=a,a(c)}function a(c){const u=n(c);if(u)return u;const d=YA(c,r);return s(c,d),d}return function(){return i(ZA.apply(null,arguments))}}const He=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},E1=/^\[(?:([a-z-]+):)?(.+)\]$/i,JA=/^\d+\/\d+$/,eI=new Set(["px","full","screen"]),tI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mn=e=>yo(e)||eI.has(e)||JA.test(e),Bn=e=>aa(e,"length",hI),yo=e=>!!e&&!Number.isNaN(Number(e)),Zf=e=>aa(e,"number",yo),wa=e=>!!e&&Number.isInteger(Number(e)),oI=e=>e.endsWith("%")&&yo(e.slice(0,-1)),fe=e=>E1.test(e),Wn=e=>tI.test(e),aI=new Set(["length","size","percentage"]),lI=e=>aa(e,aI,N1),cI=e=>aa(e,"position",N1),uI=new Set(["image","url"]),dI=e=>aa(e,uI,mI),fI=e=>aa(e,"",pI),ba=()=>!0,aa=(e,t,r)=>{const n=E1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},hI=e=>rI.test(e)&&!nI.test(e),N1=()=>!1,pI=e=>sI.test(e),mI=e=>iI.test(e),gI=()=>{const e=He("colors"),t=He("spacing"),r=He("blur"),n=He("brightness"),s=He("borderColor"),i=He("borderRadius"),o=He("borderSpacing"),a=He("borderWidth"),c=He("contrast"),u=He("grayscale"),d=He("hueRotate"),f=He("invert"),p=He("gap"),g=He("gradientColorStops"),x=He("gradientColorStopPositions"),m=He("inset"),w=He("margin"),y=He("opacity"),v=He("padding"),b=He("saturate"),_=He("scale"),S=He("sepia"),E=He("skew"),C=He("space"),N=He("translate"),I=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",fe,t],A=()=>[fe,t],z=()=>["",mn,Bn],D=()=>["auto",yo,fe],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",fe],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[yo,fe];return{cacheSize:500,separator:":",theme:{colors:[ba],spacing:[mn,Bn],blur:["none","",Wn,fe],brightness:te(),borderColor:[e],borderRadius:["none","","full",Wn,fe],borderSpacing:A(),borderWidth:z(),contrast:te(),grayscale:R(),hueRotate:te(),invert:R(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[oI,Bn],inset:Q(),margin:Q(),opacity:te(),padding:A(),saturate:te(),scale:te(),sepia:R(),skew:te(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Wn]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),fe]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wa,fe]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",wa,fe]}],"grid-cols":[{"grid-cols":[ba]}],"col-start-end":[{col:["auto",{span:["full",wa,fe]},fe]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[ba]}],"row-start-end":[{row:["auto",{span:[wa,fe]},fe]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,t]}],"min-w":[{"min-w":[fe,t,"min","max","fit"]}],"max-w":[{"max-w":[fe,t,"none","full","min","max","fit","prose",{screen:[Wn]},Wn]}],h:[{h:[fe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wn,Bn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zf]}],"font-family":[{font:[ba]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",yo,Zf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mn,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mn,Bn]}],"underline-offset":[{"underline-offset":["auto",mn,fe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),cI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[mn,fe]}],"outline-w":[{outline:[mn,Bn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[mn,Bn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wn,fI]}],"shadow-color":[{shadow:[ba]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Wn,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[wa,fe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mn,Bn,Zf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vI=XA(gI);function ne(...e){return vI(f1(e))}const yI=pA,P1=h.forwardRef(({className:e,...t},r)=>l.jsx(i1,{ref:r,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));P1.displayName=i1.displayName;const xI=$d("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),T1=h.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(o1,{ref:n,className:ne(xI({variant:t}),e),...r}));T1.displayName=o1.displayName;const wI=h.forwardRef(({className:e,...t},r)=>l.jsx(c1,{ref:r,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));wI.displayName=c1.displayName;const R1=h.forwardRef(({className:e,...t},r)=>l.jsx(u1,{ref:r,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Fd,{className:"h-4 w-4"})}));R1.displayName=u1.displayName;const O1=h.forwardRef(({className:e,...t},r)=>l.jsx(a1,{ref:r,className:ne("text-sm font-semibold",e),...t}));O1.displayName=a1.displayName;const A1=h.forwardRef(({className:e,...t},r)=>l.jsx(l1,{ref:r,className:ne("text-sm opacity-90",e),...t}));A1.displayName=l1.displayName;function bI(){const{toasts:e}=ir();return l.jsxs(yI,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return l.jsxs(T1,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(O1,{children:r}),n&&l.jsx(A1,{children:n})]}),s,l.jsx(R1,{})]},t)}),l.jsx(P1,{})]})}const Zr=({children:e,resource:t,action:r,fallbackPath:n="/login"})=>{const{user:s,loading:i}=Un(),o=Fn(),{toast:a}=ir(),[c,u]=h.useState(!1),[d,f]=h.useState(!1);return h.useEffect(()=>{(async()=>{if(!s||i){u(!1),f(!i);return}try{console.log(`Checking permission for ${t}:${r} for user role: ${s.role}`);const g=await bO(t,r);console.log(`Permission result for ${t}:${r}: ${g}`),u(g),g||(console.log(`Access denied for ${t}:${r}, redirecting to ${n}`),a({title:"Access denied",description:"You don't have permission to access this resource.",variant:"destructive"}))}catch(g){console.error("Error checking permission:",g),u(!1)}finally{f(!0)}})()},[s==null?void 0:s.id,s==null?void 0:s.role,i,t,r,a,n]),i||!d?l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),l.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?c?l.jsx(l.Fragment,{children:e}):l.jsx(Iy,{to:n,state:{from:o},replace:!0}):l.jsx(Iy,{to:"/login",state:{from:o},replace:!0})},xe=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));xe.displayName="Card";const Se=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));Se.displayName="CardHeader";const ke=h.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));ke.displayName="CardTitle";const st=h.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));st.displayName="CardDescription";const Ce=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ne("p-6 pt-0",e),...t}));Ce.displayName="CardContent";const I1=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ne("flex items-center p-6 pt-0",e),...t}));I1.displayName="CardFooter";function _I(e,t=[]){let r=[];function n(i,o){const a=h.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:p,children:g,...x}=f,m=(p==null?void 0:p[e][c])||a,w=h.useMemo(()=>x,Object.values(x));return l.jsx(m.Provider,{value:w,children:g})}function d(f,p){const g=(p==null?void 0:p[e][c])||a,x=h.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,SI(s,...t)]}function SI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var kI=ad.useId||(()=>{}),jI=0;function bi(e){const[t,r]=h.useState(kI());return wt(()=>{e||r(n=>n??String(jI++))},[e]),e||(t?`radix-${t}`:"")}var CI=h.createContext(void 0);function Ud(e){const t=h.useContext(CI);return e||t||"ltr"}var Xf="rovingFocusGroup.onEntryFocus",EI={bubbles:!1,cancelable:!0},zd="RovingFocusGroup",[zp,M1,NI]=Od(zd),[PI,Vd]=_I(zd,[NI]),[TI,RI]=PI(zd),D1=h.forwardRef((e,t)=>l.jsx(zp.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(zp.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(OI,{...e,ref:t})})}));D1.displayName=zd;var OI=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=h.useRef(null),g=We(t,p),x=Ud(i),[m=null,w]=qo({prop:o,defaultProp:a,onChange:c}),[y,v]=h.useState(!1),b=Nt(u),_=M1(r),S=h.useRef(!1),[E,C]=h.useState(0);return h.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(Xf,b),()=>N.removeEventListener(Xf,b)},[b]),l.jsx(TI,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:m,onItemFocus:h.useCallback(N=>w(N),[w]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:h.useCallback(()=>C(N=>N-1),[]),children:l.jsx(ue.div,{tabIndex:y||E===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{S.current=!0}),onFocus:Z(e.onFocus,N=>{const I=!S.current;if(N.target===N.currentTarget&&I&&!y){const M=new CustomEvent(Xf,EI);if(N.currentTarget.dispatchEvent(M),!M.defaultPrevented){const Q=_().filter(W=>W.focusable),A=Q.find(W=>W.active),z=Q.find(W=>W.id===m),X=[A,z,...Q].filter(Boolean).map(W=>W.ref.current);F1(X,d)}}S.current=!1}),onBlur:Z(e.onBlur,()=>v(!1))})})}),L1="RovingFocusGroupItem",$1=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,a=bi(),c=i||a,u=RI(L1,r),d=u.currentTabStopId===c,f=M1(r),{onFocusableItemAdd:p,onFocusableItemRemove:g}=u;return h.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),l.jsx(zp.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:l.jsx(ue.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Z(e.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:Z(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Z(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const m=MI(x,u.orientation,u.dir);if(m!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=f().filter(v=>v.focusable).map(v=>v.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const v=y.indexOf(x.currentTarget);y=u.loop?DI(y,v+1):y.slice(v+1)}setTimeout(()=>F1(y))}})})})});$1.displayName=L1;var AI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function II(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function MI(e,t,r){const n=II(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return AI[n]}function F1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function DI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var U1=D1,z1=$1,Tg="Tabs",[LI,q3]=oa(Tg,[Vd]),V1=Vd(),[$I,Rg]=LI(Tg),B1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=Ud(a),[f,p]=qo({prop:n,onChange:s,defaultProp:i});return l.jsx($I,{scope:r,baseId:bi(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:c,children:l.jsx(ue.div,{dir:d,"data-orientation":o,...u,ref:t})})});B1.displayName=Tg;var W1="TabsList",q1=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Rg(W1,r),o=V1(r);return l.jsx(U1,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:l.jsx(ue.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});q1.displayName=W1;var H1="TabsTrigger",K1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=Rg(H1,r),a=V1(r),c=Y1(o.baseId,n),u=Z1(o.baseId,n),d=n===o.value;return l.jsx(z1,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(ue.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Z(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Z(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Z(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});K1.displayName=H1;var G1="TabsContent",Q1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,a=Rg(G1,r),c=Y1(a.baseId,n),u=Z1(a.baseId,n),d=n===a.value,f=h.useRef(d);return h.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(Ri,{present:s||d,children:({present:p})=>l.jsx(ue.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});Q1.displayName=G1;function Y1(e,t){return`${e}-trigger-${t}`}function Z1(e,t){return`${e}-content-${t}`}var FI=B1,X1=q1,J1=K1,eS=Q1;const Og=FI,Bd=h.forwardRef(({className:e,...t},r)=>l.jsx(X1,{ref:r,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Bd.displayName=X1.displayName;const kr=h.forwardRef(({className:e,...t},r)=>l.jsx(J1,{ref:r,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));kr.displayName=J1.displayName;const jr=h.forwardRef(({className:e,...t},r)=>l.jsx(eS,{ref:r,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));jr.displayName=eS.displayName;const UI=$d("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Te=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?Ps:"button";return l.jsx(o,{className:ne(UI({variant:t,size:r,className:e})),ref:i,...s})});Te.displayName="Button";const ye=h.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ye.displayName="Input";var zI="Label",tS=h.forwardRef((e,t)=>l.jsx(ue.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));tS.displayName=zI;var rS=tS;const VI=$d("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=h.forwardRef(({className:e,...t},r)=>l.jsx(rS,{ref:r,className:ne(VI(),e),...t}));Fe.displayName=rS.displayName;const BI=({email:e,setEmail:t})=>{const[r,n]=h.useState(""),[s,i]=h.useState(!1),{toast:o}=ir(),a=async c=>{c.preventDefault(),i(!0);try{const{user:u,error:d}=await gO(e,r);d&&console.error("Login error:",d)}catch{o({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(!1)}};return l.jsxs("form",{onSubmit:a,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"email",children:"Email"}),l.jsx(ye,{id:"email",type:"email",value:e,onChange:c=>t(c.target.value),placeholder:"Your email address",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Fe,{htmlFor:"password",children:"Password"}),l.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})]}),l.jsx(ye,{id:"password",type:"password",value:r,onChange:c=>n(c.target.value),placeholder:"Your password",required:!0})]}),l.jsx(Te,{type:"submit",className:"w-full",disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx(Ya,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]})},WI=()=>{const[e,t]=h.useState(""),[r,n]=h.useState(""),[s,i]=h.useState(""),[o,a]=h.useState("");h.useState("customer");const[c,u]=h.useState(!1),{toast:d}=ir();Pi();const f=async p=>{if(p.preventDefault(),!e||!r||!s){d({title:"Missing information",description:"Please fill in all fields",variant:"destructive"});return}if(s!==o){d({title:"Passwords don't match",description:"Please make sure your passwords match",variant:"destructive"});return}u(!0);try{const{user:g,error:x}=await vO(r,s,e);x?d({title:"Registration failed",description:x.message,variant:"destructive"}):(t(""),n(""),i(""),a(""),console.log("Registration successful, redirecting to login page"),window.location.href="/stock2store/login")}catch{d({title:"Registration failed",description:"An unexpected error occurred",variant:"destructive"})}finally{u(!1)}};return l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"name",children:"Name"}),l.jsx(ye,{id:"name",type:"text",value:e,onChange:p=>t(p.target.value),placeholder:"Your name",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"email",children:"Email"}),l.jsx(ye,{id:"email",type:"email",value:r,onChange:p=>n(p.target.value),placeholder:"Your email address",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"password",children:"Password"}),l.jsx(ye,{id:"password",type:"password",value:s,onChange:p=>i(p.target.value),placeholder:"Create a password",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsx(ye,{id:"confirmPassword",type:"password",value:o,onChange:p=>a(p.target.value),placeholder:"Confirm your password",required:!0})]}),l.jsx(Te,{type:"submit",className:"w-full",disabled:c,children:c?l.jsxs(l.Fragment,{children:[l.jsx(Ya,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})},qI=()=>{const[e,t]=h.useState("");return l.jsxs(xe,{className:"w-full max-w-md",children:[l.jsxs(Se,{className:"space-y-1",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"text-3xl font-bold text-blue-700",children:"Stock2Store"})}),l.jsx(ke,{className:"text-2xl text-center",children:"Welcome"}),l.jsx(st,{className:"text-center",children:"Sign in to your account or create a new one"})]}),l.jsx(Ce,{children:l.jsxs(Og,{defaultValue:"login",className:"w-full",children:[l.jsxs(Bd,{className:"grid w-full grid-cols-2",children:[l.jsx(kr,{value:"login",children:"Login"}),l.jsx(kr,{value:"register",children:"Register"})]}),l.jsx(jr,{value:"login",children:l.jsx(BI,{email:e,setEmail:t})}),l.jsx(jr,{value:"register",children:l.jsx(WI,{})})]})}),l.jsx(I1,{className:"flex flex-col space-y-4",children:l.jsx("div",{className:"text-sm text-center text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})},bx=({message:e})=>l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),l.jsx("p",{children:e})]})}),HI=()=>{const e=Pi(),{user:t,loading:r}=Un(),n=h.useRef(!1);return h.useEffect(()=>{!t&&!r&&(console.log("Cleaning up auth state on login page"),qr())},[t,r]),h.useEffect(()=>{if(t&&!r&&!n.current){n.current=!0,console.log(`User authenticated with role: ${t.role}, redirecting...`);const i={customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"}[t.role]||"/store";console.log(`Redirecting ${t.role} user to ${i}`),e(i,{replace:!0})}},[t,e,r]),h.useEffect(()=>{t||(n.current=!1)},[t]),r?l.jsx(bx,{message:"Checking authentication status..."}):t?l.jsx(bx,{message:"Redirecting..."}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:l.jsx(qI,{})})};var Ag="Avatar",[KI,H3]=oa(Ag),[GI,nS]=KI(Ag),sS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=h.useState("idle");return l.jsx(GI,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(ue.span,{...n,ref:t})})});sS.displayName=Ag;var iS="AvatarImage",oS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=nS(iS,r),a=QI(n,i.referrerPolicy),c=Nt(u=>{s(u),o.onImageLoadingStatusChange(u)});return wt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(ue.img,{...i,ref:t,src:n}):null});oS.displayName=iS;var aS="AvatarFallback",lS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=nS(aS,r),[o,a]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(ue.span,{...s,ref:t}):null});lS.displayName=aS;function QI(e,t){const[r,n]=h.useState("idle");return wt(()=>{if(!e){n("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&n(a)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var cS=sS,uS=oS,dS=lS;const Wd=h.forwardRef(({className:e,...t},r)=>l.jsx(cS,{ref:r,className:ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Wd.displayName=cS.displayName;const qd=h.forwardRef(({className:e,...t},r)=>l.jsx(uS,{ref:r,className:ne("aspect-square h-full w-full",e),...t}));qd.displayName=uS.displayName;const Hd=h.forwardRef(({className:e,...t},r)=>l.jsx(dS,{ref:r,className:ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Hd.displayName=dS.displayName;const YI=({user:e})=>{const[t,r]=h.useState("");h.useEffect(()=>{(async()=>{try{const{data:i,error:o}=await oe.from("profiles").select("avatar_url").eq("id",e.id).single();!o&&(i!=null&&i.avatar_url)&&r(i.avatar_url)}catch(i){console.error("Error fetching avatar:",i)}})()},[e.id]);const n=e.name?e.name.substring(0,2).toUpperCase():e.email?e.email.substring(0,2).toUpperCase():"US";return l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsxs(Wd,{children:[l.jsx(qd,{src:t||e.avatar,alt:e.name||"User"}),l.jsx(Hd,{children:n})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:e.name||e.email||"User"}),l.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.role})]})]})},ZI=[{name:"Warehouse",href:"/warehouse",icon:an,roles:["admin","warehouse"]},{name:"Store",href:"/store",icon:FA,roles:["admin","customer","analyst","warehouse"]},{name:"Analytics",href:"/analytics",icon:Eu,roles:["admin","analyst"]},{name:"Users",href:"/users",icon:Ng,roles:["admin"]},{name:"Shopping Cart",href:"/cart",icon:Eg,roles:["customer","admin"]},{name:"Orders",href:"/orders",icon:NA,roles:["customer","admin"]},{name:"Returns",href:"/returns",icon:Nu,roles:["customer","admin"]},{name:"Profile",href:"/profile",icon:S1,roles:["admin","warehouse","analyst","customer"]},{name:"Settings",href:"/settings",icon:MA,roles:["admin","warehouse","analyst","customer"]}];function XI(e){return ZI.filter(t=>t.roles.includes(e))}const JI=({name:e,href:t,icon:r,active:n})=>l.jsxs(gs,{to:t,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${n?"bg-blue-50 text-blue-700 dark:bg-blue-900/50 dark:text-blue-200":"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700/50"}`,children:[l.jsx(r,{size:20,className:`mr-3 ${n?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`}),e]}),eM=({userRole:e})=>{const t=Fn(),r=s=>t.pathname===s,n=XI(e);return l.jsx("nav",{className:"space-y-1 mt-4",children:n.map(s=>l.jsx(JI,{name:s.name,href:s.href,icon:s.icon,active:r(s.href)},s.name))})},tM=({user:e,sidebarOpen:t,setSidebarOpen:r,onSignOut:n})=>{const s=()=>({customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"})[e.role]||"/store";return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden ${t?"block":"hidden"}`,onClick:()=>r(!1)}),l.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 shadow-lg transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-50 flex flex-col`,children:[l.jsxs("div",{className:"flex items-center justify-between px-4 h-16 border-b border-gray-200 dark:border-gray-700",children:[l.jsx(gs,{to:s(),className:"flex items-center",children:l.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Stock2Store"})}),l.jsx("button",{className:"lg:hidden",onClick:()=>r(!1),children:l.jsx(Fd,{size:24,className:"text-gray-600 dark:text-gray-300"})})]}),l.jsxs("div",{className:"flex-1 px-4 py-4 overflow-y-auto",children:[l.jsx(YI,{user:e}),l.jsx(eM,{userRole:e.role})]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:l.jsxs(Te,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",onClick:n,children:[l.jsx(TA,{size:20,className:"mr-2"}),"Log out"]})})]})]})};var Jf=0;function fS(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_x()),document.body.insertAdjacentElement("beforeend",e[1]??_x()),Jf++,()=>{Jf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jf--}},[])}function _x(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var eh="focusScope.autoFocusOnMount",th="focusScope.autoFocusOnUnmount",Sx={bubbles:!1,cancelable:!0},rM="FocusScope",Ig=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,c]=h.useState(null),u=Nt(s),d=Nt(i),f=h.useRef(null),p=We(t,m=>c(m)),g=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let m=function(b){if(g.paused||!a)return;const _=b.target;a.contains(_)?f.current=_:Qn(f.current,{select:!0})},w=function(b){if(g.paused||!a)return;const _=b.relatedTarget;_!==null&&(a.contains(_)||Qn(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Qn(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),v.disconnect()}}},[n,a,g.paused]),h.useEffect(()=>{if(a){jx.add(g);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(eh,Sx);a.addEventListener(eh,u),a.dispatchEvent(y),y.defaultPrevented||(nM(lM(hS(a)),{select:!0}),document.activeElement===m&&Qn(a))}return()=>{a.removeEventListener(eh,u),setTimeout(()=>{const y=new CustomEvent(th,Sx);a.addEventListener(th,d),a.dispatchEvent(y),y.defaultPrevented||Qn(m??document.body,{select:!0}),a.removeEventListener(th,d),jx.remove(g)},0)}}},[a,u,d,g]);const x=h.useCallback(m=>{if(!r&&!n||g.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(w&&y){const v=m.currentTarget,[b,_]=sM(v);b&&_?!m.shiftKey&&y===_?(m.preventDefault(),r&&Qn(b,{select:!0})):m.shiftKey&&y===b&&(m.preventDefault(),r&&Qn(_,{select:!0})):y===v&&m.preventDefault()}},[r,n,g.paused]);return l.jsx(ue.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});Ig.displayName=rM;function nM(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qn(n,{select:t}),document.activeElement!==r)return}function sM(e){const t=hS(e),r=kx(t,e),n=kx(t.reverse(),e);return[r,n]}function hS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function kx(e,t){for(const r of e)if(!iM(r,{upTo:t}))return r}function iM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oM(e){return e instanceof HTMLInputElement&&"select"in e}function Qn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&oM(e)&&t&&e.select()}}var jx=aM();function aM(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Cx(e,t),e.unshift(t)},remove(t){var r;e=Cx(e,t),(r=e[0])==null||r.resume()}}}function Cx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function lM(e){return e.filter(t=>t.tagName!=="A")}const cM=["top","right","bottom","left"],Ts=Math.min,dr=Math.max,Pu=Math.round,jc=Math.floor,Rs=e=>({x:e,y:e}),uM={left:"right",right:"left",bottom:"top",top:"bottom"},dM={start:"end",end:"start"};function Vp(e,t,r){return dr(e,Ts(t,r))}function In(e,t){return typeof e=="function"?e(t):e}function Mn(e){return e.split("-")[0]}function la(e){return e.split("-")[1]}function Mg(e){return e==="x"?"y":"x"}function Dg(e){return e==="y"?"height":"width"}function Os(e){return["top","bottom"].includes(Mn(e))?"y":"x"}function Lg(e){return Mg(Os(e))}function fM(e,t,r){r===void 0&&(r=!1);const n=la(e),s=Lg(e),i=Dg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Tu(o)),[o,Tu(o)]}function hM(e){const t=Tu(e);return[Bp(e),t,Bp(t)]}function Bp(e){return e.replace(/start|end/g,t=>dM[t])}function pM(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function mM(e,t,r,n){const s=la(e);let i=pM(Mn(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Bp)))),i}function Tu(e){return e.replace(/left|right|bottom|top/g,t=>uM[t])}function gM(e){return{top:0,right:0,bottom:0,left:0,...e}}function pS(e){return typeof e!="number"?gM(e):{top:e,right:e,bottom:e,left:e}}function Ru(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Ex(e,t,r){let{reference:n,floating:s}=e;const i=Os(t),o=Lg(t),a=Dg(o),c=Mn(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[a]/2-s[a]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(la(t)){case"start":g[o]-=p*(r&&u?-1:1);break;case"end":g[o]+=p*(r&&u?-1:1);break}return g}const vM=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Ex(u,n,c),p=n,g={},x=0;for(let m=0;m<a.length;m++){const{name:w,fn:y}=a[m],{x:v,y:b,data:_,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,f=b??f,g={...g,[w]:{...g[w],..._}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=Ex(u,p,c)),m=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function kl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=In(t,e),x=pS(g),w=a[p?f==="floating"?"reference":"floating":f],y=Ru(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Ru(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-S.top+x.top)/_.y,bottom:(S.bottom-y.bottom+x.bottom)/_.y,left:(y.left-S.left+x.left)/_.x,right:(S.right-y.right+x.right)/_.x}}const yM=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=In(e,t)||{};if(u==null)return{};const f=pS(d),p={x:r,y:n},g=Lg(s),x=Dg(g),m=await o.getDimensions(u),w=g==="y",y=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[g]-p[g]-i.floating[x],S=p[g]-i.reference[g],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=E?E[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=a.floating[b]||i.floating[x]);const N=_/2-S/2,I=C/2-m[x]/2-1,M=Ts(f[y],I),Q=Ts(f[v],I),A=M,z=C-m[x]-Q,D=C/2-m[x]/2+N,X=Vp(A,D,z),W=!c.arrow&&la(s)!=null&&D!==X&&i.reference[x]/2-(D<A?M:Q)-m[x]/2<0,ee=W?D<A?D-A:D-z:0;return{[g]:p[g]+ee,data:{[g]:X,centerOffset:D-X-ee,...W&&{alignmentOffset:ee}},reset:W}}}),xM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...w}=In(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Mn(s),v=Os(a),b=Mn(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=p||(b||!m?[Tu(a)]:hM(a)),E=x!=="none";!p&&E&&S.push(...mM(a,m,x,_));const C=[a,...S],N=await kl(t,w),I=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&I.push(N[y]),f){const D=fM(s,o,_);I.push(N[D[0]],N[D[1]])}if(M=[...M,{placement:s,overflows:I}],!I.every(D=>D<=0)){var Q,A;const D=(((Q=i.flip)==null?void 0:Q.index)||0)+1,X=C[D];if(X)return{data:{index:D,overflows:M},reset:{placement:X}};let W=(A=M.filter(ee=>ee.overflows[0]<=0).sort((ee,T)=>ee.overflows[1]-T.overflows[1])[0])==null?void 0:A.placement;if(!W)switch(g){case"bestFit":{var z;const ee=(z=M.filter(T=>{if(E){const R=Os(T.placement);return R===v||R==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(R=>R>0).reduce((R,V)=>R+V,0)]).sort((T,R)=>T[1]-R[1])[0])==null?void 0:z[0];ee&&(W=ee);break}case"initialPlacement":W=a;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function Nx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Px(e){return cM.some(t=>e[t]>=0)}const wM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=In(e,t);switch(n){case"referenceHidden":{const i=await kl(t,{...s,elementContext:"reference"}),o=Nx(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Px(o)}}}case"escaped":{const i=await kl(t,{...s,altBoundary:!0}),o=Nx(i,r.floating);return{data:{escapedOffsets:o,escaped:Px(o)}}}default:return{}}}}};async function bM(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Mn(r),a=la(r),c=Os(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=In(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(g=a==="end"?x*-1:x),c?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const _M=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await bM(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},SM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...c}=In(e,t),u={x:r,y:n},d=await kl(t,c),f=Os(Mn(s)),p=Mg(f);let g=u[p],x=u[f];if(i){const w=p==="y"?"top":"left",y=p==="y"?"bottom":"right",v=g+d[w],b=g-d[y];g=Vp(v,g,b)}if(o){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=x+d[w],b=x-d[y];x=Vp(v,x,b)}const m=a.fn({...t,[p]:g,[f]:x});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[f]:o}}}}}},kM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=In(e,t),d={x:r,y:n},f=Os(s),p=Mg(f);let g=d[p],x=d[f];const m=In(a,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=p==="y"?"height":"width",_=i.reference[p]-i.floating[b]+w.mainAxis,S=i.reference[p]+i.reference[b]-w.mainAxis;g<_?g=_:g>S&&(g=S)}if(u){var y,v;const b=p==="y"?"width":"height",_=["top","left"].includes(Mn(s)),S=i.reference[f]-i.floating[b]+(_&&((y=o.offset)==null?void 0:y[f])||0)+(_?0:w.crossAxis),E=i.reference[f]+i.reference[b]+(_?0:((v=o.offset)==null?void 0:v[f])||0)-(_?w.crossAxis:0);x<S?x=S:x>E&&(x=E)}return{[p]:g,[f]:x}}}},jM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...u}=In(e,t),d=await kl(t,u),f=Mn(s),p=la(s),g=Os(s)==="y",{width:x,height:m}=i.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,w=p==="end"?"top":"bottom");const v=m-d.top-d.bottom,b=x-d.left-d.right,_=Ts(m-d[w],v),S=Ts(x-d[y],b),E=!t.middlewareData.shift;let C=_,N=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=v),E&&!p){const M=dr(d.left,0),Q=dr(d.right,0),A=dr(d.top,0),z=dr(d.bottom,0);g?N=x-2*(M!==0||Q!==0?M+Q:dr(d.left,d.right)):C=m-2*(A!==0||z!==0?A+z:dr(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:C});const I=await o.getDimensions(a.floating);return x!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function Kd(){return typeof window<"u"}function ca(e){return mS(e)?(e.nodeName||"").toLowerCase():"#document"}function mr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pn(e){var t;return(t=(mS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mS(e){return Kd()?e instanceof Node||e instanceof mr(e).Node:!1}function Kr(e){return Kd()?e instanceof Element||e instanceof mr(e).Element:!1}function fn(e){return Kd()?e instanceof HTMLElement||e instanceof mr(e).HTMLElement:!1}function Tx(e){return!Kd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mr(e).ShadowRoot}function Gl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Gr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function CM(e){return["table","td","th"].includes(ca(e))}function Gd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function $g(e){const t=Fg(),r=Kr(e)?Gr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function EM(e){let t=As(e);for(;fn(t)&&!Ho(t);){if($g(t))return t;if(Gd(t))return null;t=As(t)}return null}function Fg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ho(e){return["html","body","#document"].includes(ca(e))}function Gr(e){return mr(e).getComputedStyle(e)}function Qd(e){return Kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function As(e){if(ca(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tx(e)&&e.host||pn(e);return Tx(t)?t.host:t}function gS(e){const t=As(e);return Ho(t)?e.ownerDocument?e.ownerDocument.body:e.body:fn(t)&&Gl(t)?t:gS(t)}function jl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=gS(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=mr(s);if(i){const a=Wp(o);return t.concat(o,o.visualViewport||[],Gl(s)?s:[],a&&r?jl(a):[])}return t.concat(s,jl(s,[],r))}function Wp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vS(e){const t=Gr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=fn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=Pu(r)!==i||Pu(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function Ug(e){return Kr(e)?e:e.contextElement}function xo(e){const t=Ug(e);if(!fn(t))return Rs(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=vS(t);let o=(i?Pu(r.width):r.width)/n,a=(i?Pu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const NM=Rs(0);function yS(e){const t=mr(e);return!Fg()||!t.visualViewport?NM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PM(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==mr(e)?!1:t}function _i(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Ug(e);let o=Rs(1);t&&(n?Kr(n)&&(o=xo(n)):o=xo(e));const a=PM(i,r,n)?yS(i):Rs(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=mr(i),g=n&&Kr(n)?mr(n):n;let x=p,m=Wp(x);for(;m&&n&&g!==x;){const w=xo(m),y=m.getBoundingClientRect(),v=Gr(m),b=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*w.x,_=y.top+(m.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=_,x=mr(m),m=Wp(x)}}return Ru({width:d,height:f,x:c,y:u})}function TM(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=pn(n),a=t?Gd(t.floating):!1;if(n===o||a&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Rs(1);const d=Rs(0),f=fn(n);if((f||!f&&!i)&&((ca(n)!=="body"||Gl(o))&&(c=Qd(n)),fn(n))){const p=_i(n);u=xo(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function RM(e){return Array.from(e.getClientRects())}function qp(e,t){const r=Qd(e).scrollLeft;return t?t.left+r:_i(pn(e)).left+r}function OM(e){const t=pn(e),r=Qd(e),n=e.ownerDocument.body,s=dr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=dr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+qp(e);const a=-r.scrollTop;return Gr(n).direction==="rtl"&&(o+=dr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function AM(e,t){const r=mr(e),n=pn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=Fg();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function IM(e,t){const r=_i(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=fn(e)?xo(e):Rs(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:a,x:c,y:u}}function Rx(e,t,r){let n;if(t==="viewport")n=AM(e,r);else if(t==="document")n=OM(pn(e));else if(Kr(t))n=IM(t,r);else{const s=yS(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Ru(n)}function xS(e,t){const r=As(e);return r===t||!Kr(r)||Ho(r)?!1:Gr(r).position==="fixed"||xS(r,t)}function MM(e,t){const r=t.get(e);if(r)return r;let n=jl(e,[],!1).filter(a=>Kr(a)&&ca(a)!=="body"),s=null;const i=Gr(e).position==="fixed";let o=i?As(e):e;for(;Kr(o)&&!Ho(o);){const a=Gr(o),c=$g(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Gl(o)&&!c&&xS(e,o))?n=n.filter(d=>d!==o):s=a,o=As(o)}return t.set(e,n),n}function DM(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Gd(t)?[]:MM(t,this._c):[].concat(r),n],a=o[0],c=o.reduce((u,d)=>{const f=Rx(t,d,s);return u.top=dr(f.top,u.top),u.right=Ts(f.right,u.right),u.bottom=Ts(f.bottom,u.bottom),u.left=dr(f.left,u.left),u},Rx(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function LM(e){const{width:t,height:r}=vS(e);return{width:t,height:r}}function $M(e,t,r){const n=fn(t),s=pn(t),i=r==="fixed",o=_i(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Rs(0);if(n||!n&&!i)if((ca(t)!=="body"||Gl(s))&&(a=Qd(t)),n){const g=_i(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&(c.x=qp(s));let u=0,d=0;if(s&&!n&&!i){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,u=g.left+a.scrollLeft-qp(s,g)}const f=o.left+a.scrollLeft-c.x-u,p=o.top+a.scrollTop-c.y-d;return{x:f,y:p,width:o.width,height:o.height}}function rh(e){return Gr(e).position==="static"}function Ox(e,t){if(!fn(e)||Gr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return pn(e)===r&&(r=r.ownerDocument.body),r}function wS(e,t){const r=mr(e);if(Gd(e))return r;if(!fn(e)){let s=As(e);for(;s&&!Ho(s);){if(Kr(s)&&!rh(s))return s;s=As(s)}return r}let n=Ox(e,t);for(;n&&CM(n)&&rh(n);)n=Ox(n,t);return n&&Ho(n)&&rh(n)&&!$g(n)?r:n||EM(e)||r}const FM=async function(e){const t=this.getOffsetParent||wS,r=this.getDimensions,n=await r(e.floating);return{reference:$M(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function UM(e){return Gr(e).direction==="rtl"}const zM={convertOffsetParentRelativeRectToViewportRelativeRect:TM,getDocumentElement:pn,getClippingRect:DM,getOffsetParent:wS,getElementRects:FM,getClientRects:RM,getDimensions:LM,getScale:xo,isElement:Kr,isRTL:UM};function VM(e,t){let r=null,n;const s=pn(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const g=jc(d),x=jc(s.clientWidth-(u+f)),m=jc(s.clientHeight-(d+p)),w=jc(u),v={rootMargin:-g+"px "+-x+"px "+-m+"px "+-w+"px",threshold:dr(0,Ts(1,c))||1};let b=!0;function _(S){const E=S[0].intersectionRatio;if(E!==c){if(!b)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(_,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,v)}r.observe(e)}return o(!0),i}function BM(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Ug(e),d=s||i?[...u?jl(u):[],...jl(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&a?VM(u,r):null;let p=-1,g=null;o&&(g=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let x,m=c?_i(e):null;c&&w();function w(){const y=_i(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&r(),m=y,x=requestAnimationFrame(w)}return r(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const WM=_M,qM=SM,HM=xM,KM=jM,GM=wM,Ax=yM,QM=kM,YM=(e,t,r)=>{const n=new Map,s={platform:zM,...r},i={...s.platform,_c:n};return vM(e,t,{...s,platform:i})};var Qc=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Ou(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ou(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Ou(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function bS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ix(e,t){const r=bS(e);return Math.round(t*r)/r}function nh(e){const t=h.useRef(e);return Qc(()=>{t.current=e}),t}function ZM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=h.useState(n);Ou(p,n)||g(n);const[x,m]=h.useState(null),[w,y]=h.useState(null),v=h.useCallback(T=>{T!==E.current&&(E.current=T,m(T))},[]),b=h.useCallback(T=>{T!==C.current&&(C.current=T,y(T))},[]),_=i||x,S=o||w,E=h.useRef(null),C=h.useRef(null),N=h.useRef(d),I=c!=null,M=nh(c),Q=nh(s),A=nh(u),z=h.useCallback(()=>{if(!E.current||!C.current)return;const T={placement:t,strategy:r,middleware:p};Q.current&&(T.platform=Q.current),YM(E.current,C.current,T).then(R=>{const V={...R,isPositioned:A.current!==!1};D.current&&!Ou(N.current,V)&&(N.current=V,Fs.flushSync(()=>{f(V)}))})},[p,t,r,Q,A]);Qc(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const D=h.useRef(!1);Qc(()=>(D.current=!0,()=>{D.current=!1}),[]),Qc(()=>{if(_&&(E.current=_),S&&(C.current=S),_&&S){if(M.current)return M.current(_,S,z);z()}},[_,S,z,M,I]);const X=h.useMemo(()=>({reference:E,floating:C,setReference:v,setFloating:b}),[v,b]),W=h.useMemo(()=>({reference:_,floating:S}),[_,S]),ee=h.useMemo(()=>{const T={position:r,left:0,top:0};if(!W.floating)return T;const R=Ix(W.floating,d.x),V=Ix(W.floating,d.y);return a?{...T,transform:"translate("+R+"px, "+V+"px)",...bS(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:V}},[r,a,W.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:z,refs:X,elements:W,floatingStyles:ee}),[d,z,X,W,ee])}const XM=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ax({element:n.current,padding:s}).fn(r):{}:n?Ax({element:n,padding:s}).fn(r):{}}}},JM=(e,t)=>({...WM(e),options:[e,t]}),eD=(e,t)=>({...qM(e),options:[e,t]}),tD=(e,t)=>({...QM(e),options:[e,t]}),rD=(e,t)=>({...HM(e),options:[e,t]}),nD=(e,t)=>({...KM(e),options:[e,t]}),sD=(e,t)=>({...GM(e),options:[e,t]}),iD=(e,t)=>({...XM(e),options:[e,t]});var oD="Arrow",_S=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return l.jsx(ue.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});_S.displayName=oD;var aD=_S;function lD(e,t=[]){let r=[];function n(i,o){const a=h.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:p,children:g,...x}=f,m=(p==null?void 0:p[e][c])||a,w=h.useMemo(()=>x,Object.values(x));return l.jsx(m.Provider,{value:w,children:g})}function d(f,p){const g=(p==null?void 0:p[e][c])||a,x=h.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,cD(s,...t)]}function cD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function uD(e){const[t,r]=h.useState(void 0);return wt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var zg="Popper",[SS,Yd]=lD(zg),[dD,kS]=SS(zg),jS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return l.jsx(dD,{scope:t,anchor:n,onAnchorChange:s,children:r})};jS.displayName=zg;var CS="PopperAnchor",ES=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=kS(CS,r),o=h.useRef(null),a=We(t,o);return h.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:l.jsx(ue.div,{...s,ref:a})});ES.displayName=CS;var Vg="PopperContent",[fD,hD]=SS(Vg),NS=h.forwardRef((e,t)=>{var J,Pe,De,Re,Oe,Ae;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:x,...m}=e,w=kS(Vg,r),[y,v]=h.useState(null),b=We(t,Pt=>v(Pt)),[_,S]=h.useState(null),E=uD(_),C=(E==null?void 0:E.width)??0,N=(E==null?void 0:E.height)??0,I=n+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},Q=Array.isArray(u)?u:[u],A=Q.length>0,z={padding:M,boundary:Q.filter(mD),altBoundary:A},{refs:D,floatingStyles:X,placement:W,isPositioned:ee,middlewareData:T}=ZM({strategy:"fixed",placement:I,whileElementsMounted:(...Pt)=>BM(...Pt,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[JM({mainAxis:s+N,alignmentAxis:o}),c&&eD({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?tD():void 0,...z}),c&&rD({...z}),nD({...z,apply:({elements:Pt,rects:or,availableWidth:Ii,availableHeight:Mi})=>{const{width:Di,height:j}=or.reference,P=Pt.floating.style;P.setProperty("--radix-popper-available-width",`${Ii}px`),P.setProperty("--radix-popper-available-height",`${Mi}px`),P.setProperty("--radix-popper-anchor-width",`${Di}px`),P.setProperty("--radix-popper-anchor-height",`${j}px`)}}),_&&iD({element:_,padding:a}),gD({arrowWidth:C,arrowHeight:N}),p&&sD({strategy:"referenceHidden",...z})]}),[R,V]=RS(W),te=Nt(x);wt(()=>{ee&&(te==null||te())},[ee,te]);const pe=(J=T.arrow)==null?void 0:J.x,it=(Pe=T.arrow)==null?void 0:Pe.y,ze=((De=T.arrow)==null?void 0:De.centerOffset)!==0,[Lt,qe]=h.useState();return wt(()=>{y&&qe(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:ee?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Lt,"--radix-popper-transform-origin":[(Re=T.transformOrigin)==null?void 0:Re.x,(Oe=T.transformOrigin)==null?void 0:Oe.y].join(" "),...((Ae=T.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(fD,{scope:r,placedSide:R,onArrowChange:S,arrowX:pe,arrowY:it,shouldHideArrow:ze,children:l.jsx(ue.div,{"data-side":R,"data-align":V,...m,ref:b,style:{...m.style,animation:ee?void 0:"none"}})})})});NS.displayName=Vg;var PS="PopperArrow",pD={top:"bottom",right:"left",bottom:"top",left:"right"},TS=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=hD(PS,n),o=pD[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(aD,{...s,ref:r,style:{...s.style,display:"block"}})})});TS.displayName=PS;function mD(e){return e!==null}var gD=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=RS(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=o?f:`${p}px`,m=`${-c}px`):u==="top"?(x=o?f:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=o?f:`${g}px`):u==="left"&&(x=`${n.floating.width+c}px`,m=o?f:`${g}px`),{data:{x,y:m}}}});function RS(e){const[t,r="center"]=e.split("-");return[t,r]}var OS=jS,AS=ES,IS=NS,MS=TS,vD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zi=new WeakMap,Cc=new WeakMap,Ec={},sh=0,DS=function(e){return e&&(e.host||DS(e.parentNode))},yD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=DS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},xD=function(e,t,r,n){var s=yD(t,Array.isArray(e)?e:[e]);Ec[r]||(Ec[r]=new WeakMap);var i=Ec[r],o=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(n),x=g!==null&&g!=="false",m=(zi.get(p)||0)+1,w=(i.get(p)||0)+1;zi.set(p,m),i.set(p,w),o.push(p),m===1&&x&&Cc.set(p,!0),w===1&&p.setAttribute(r,"true"),x||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(t),a.clear(),sh++,function(){o.forEach(function(f){var p=zi.get(f)-1,g=i.get(f)-1;zi.set(f,p),i.set(f,g),p||(Cc.has(f)||f.removeAttribute(n),Cc.delete(f)),g||f.removeAttribute(r)}),sh--,sh||(zi=new WeakMap,zi=new WeakMap,Cc=new WeakMap,Ec={})}},Bg=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=vD(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),xD(n,s,r,"aria-hidden")):function(){return null}},Mt=function(){return Mt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Mt.apply(this,arguments)};function Wg(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function LS(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Za="right-scroll-bar-position",Xa="width-before-scroll-bar",wD="with-scroll-bars-hidden",bD="--removed-body-scroll-bar-size";function ih(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _D(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var SD=typeof window<"u"?h.useLayoutEffect:h.useEffect,Mx=new WeakMap;function $S(e,t){var r=_D(null,function(n){return e.forEach(function(s){return ih(s,n)})});return SD(function(){var n=Mx.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||ih(a,null)}),i.forEach(function(a){s.has(a)||ih(a,o)})}Mx.set(r,e)},[e]),r}function kD(e){return e}function jD(e,t){t===void 0&&(t=kD);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function FS(e){e===void 0&&(e={});var t=jD(null);return t.options=Mt({async:!0,ssr:!1},e),t}var US=function(e){var t=e.sideCar,r=Wg(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,Mt({},r))};US.isSideCarExport=!0;function zS(e,t){return e.useMedium(t),US}var VS=FS(),oh=function(){},Zd=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:oh,onWheelCapture:oh,onTouchMoveCapture:oh}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,g=e.noIsolation,x=e.inert,m=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,v=e.gapMode,b=Wg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=p,S=$S([r,t]),E=Mt(Mt({},b),s);return h.createElement(h.Fragment,null,d&&h.createElement(_,{sideCar:VS,removeScrollBar:u,shards:f,noIsolation:g,inert:x,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:v}),o?h.cloneElement(h.Children.only(a),Mt(Mt({},E),{ref:S})):h.createElement(y,Mt({},E,{className:c,ref:S}),a))});Zd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zd.classNames={fullWidth:Xa,zeroRight:Za};var CD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ED(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=CD();return t&&e.setAttribute("nonce",t),e}function ND(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function PD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ED())&&(ND(t,r),PD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},RD=function(){var e=TD();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},qg=function(){var e=RD(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},OD={left:0,top:0,right:0,gap:0},ah=function(e){return parseInt(e||"",10)||0},AD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ah(r),ah(n),ah(s)]},ID=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return OD;var t=AD(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},MD=qg(),wo="data-scroll-locked",DD=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(wD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(wo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Za,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Xa,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Za," .").concat(Za,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xa," .").concat(Xa,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wo,`] {
    `).concat(bD,": ").concat(a,`px;
  }
`)},Dx=function(){var e=parseInt(document.body.getAttribute(wo)||"0",10);return isFinite(e)?e:0},LD=function(){h.useEffect(function(){return document.body.setAttribute(wo,(Dx()+1).toString()),function(){var e=Dx()-1;e<=0?document.body.removeAttribute(wo):document.body.setAttribute(wo,e.toString())}},[])},BS=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;LD();var i=h.useMemo(function(){return ID(s)},[s]);return h.createElement(MD,{styles:DD(i,!t,s,r?"":"!important")})},Hp=!1;if(typeof window<"u")try{var Nc=Object.defineProperty({},"passive",{get:function(){return Hp=!0,!0}});window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{Hp=!1}var Vi=Hp?{passive:!1}:!1,$D=function(e){return e.tagName==="TEXTAREA"},WS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!$D(e)&&r[t]==="visible")},FD=function(e){return WS(e,"overflowY")},UD=function(e){return WS(e,"overflowX")},Lx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=qS(e,n);if(s){var i=HS(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},zD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},VD=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},qS=function(e,t){return e==="v"?FD(t):UD(t)},HS=function(e,t){return e==="v"?zD(t):VD(t)},BD=function(e,t){return e==="h"&&t==="rtl"?-1:1},WD=function(e,t,r,n,s){var i=BD(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,c=t.contains(a),u=!1,d=o>0,f=0,p=0;do{var g=HS(e,a),x=g[0],m=g[1],w=g[2],y=m-w-i*x;(x||y)&&qS(e,a)&&(f+=y,p+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},Pc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$x=function(e){return[e.deltaX,e.deltaY]},Fx=function(e){return e&&"current"in e?e.current:e},qD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},HD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KD=0,Bi=[];function GD(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(KD++)[0],i=h.useState(qg)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=LS([e.lockRef.current],(e.shards||[]).map(Fx),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=Pc(m),v=r.current,b="deltaX"in m?m.deltaX:v[0]-y[0],_="deltaY"in m?m.deltaY:v[1]-y[1],S,E=m.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&E.type==="range")return!1;var N=Lx(C,E);if(!N)return!0;if(N?S=C:(S=C==="v"?"h":"v",N=Lx(C,E)),!N)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var I=n.current||S;return WD(I,w,m,I==="h"?b:_,!0)},[]),c=h.useCallback(function(m){var w=m;if(!(!Bi.length||Bi[Bi.length-1]!==i)){var y="deltaY"in w?$x(w):Pc(w),v=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&qD(S.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(Fx).filter(Boolean).filter(function(S){return S.contains(w.target)}),_=b.length>0?a(w,b[0]):!o.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=h.useCallback(function(m,w,y,v){var b={name:m,delta:w,target:y,should:v,shadowParent:QD(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=h.useCallback(function(m){r.current=Pc(m),n.current=void 0},[]),f=h.useCallback(function(m){u(m.type,$x(m),m.target,a(m,e.lockRef.current))},[]),p=h.useCallback(function(m){u(m.type,Pc(m),m.target,a(m,e.lockRef.current))},[]);h.useEffect(function(){return Bi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Vi),document.addEventListener("touchmove",c,Vi),document.addEventListener("touchstart",d,Vi),function(){Bi=Bi.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Vi),document.removeEventListener("touchmove",c,Vi),document.removeEventListener("touchstart",d,Vi)}},[]);var g=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(i,{styles:HD(s)}):null,g?h.createElement(BS,{gapMode:e.gapMode}):null)}function QD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const YD=zS(VS,GD);var Hg=h.forwardRef(function(e,t){return h.createElement(Zd,Mt({},e,{ref:t,sideCar:YD}))});Hg.classNames=Zd.classNames;var Kp=["Enter"," "],ZD=["ArrowDown","PageUp","Home"],KS=["ArrowUp","PageDown","End"],XD=[...ZD,...KS],JD={ltr:[...Kp,"ArrowRight"],rtl:[...Kp,"ArrowLeft"]},eL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ql="Menu",[Cl,tL,rL]=Od(Ql),[Oi,GS]=oa(Ql,[rL,Yd,Vd]),Xd=Yd(),QS=Vd(),[nL,Ai]=Oi(Ql),[sL,Yl]=Oi(Ql),YS=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,a=Xd(t),[c,u]=h.useState(null),d=h.useRef(!1),f=Nt(i),p=Ud(s);return h.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),l.jsx(OS,{...a,children:l.jsx(nL,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(sL,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:n})})})};YS.displayName=Ql;var iL="MenuAnchor",Kg=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Xd(r);return l.jsx(AS,{...s,...n,ref:t})});Kg.displayName=iL;var Gg="MenuPortal",[oL,ZS]=Oi(Gg,{forceMount:void 0}),XS=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Ai(Gg,t);return l.jsx(oL,{scope:t,forceMount:r,children:l.jsx(Ri,{present:r||i.open,children:l.jsx(Id,{asChild:!0,container:s,children:n})})})};XS.displayName=Gg;var Pr="MenuContent",[aL,Qg]=Oi(Pr),JS=h.forwardRef((e,t)=>{const r=ZS(Pr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Ai(Pr,e.__scopeMenu),o=Yl(Pr,e.__scopeMenu);return l.jsx(Cl.Provider,{scope:e.__scopeMenu,children:l.jsx(Ri,{present:n||i.open,children:l.jsx(Cl.Slot,{scope:e.__scopeMenu,children:o.modal?l.jsx(lL,{...s,ref:t}):l.jsx(cL,{...s,ref:t})})})})}),lL=h.forwardRef((e,t)=>{const r=Ai(Pr,e.__scopeMenu),n=h.useRef(null),s=We(t,n);return h.useEffect(()=>{const i=n.current;if(i)return Bg(i)},[]),l.jsx(Yg,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),cL=h.forwardRef((e,t)=>{const r=Ai(Pr,e.__scopeMenu);return l.jsx(Yg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Yg=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:x,...m}=e,w=Ai(Pr,r),y=Yl(Pr,r),v=Xd(r),b=QS(r),_=tL(r),[S,E]=h.useState(null),C=h.useRef(null),N=We(t,C,w.onContentChange),I=h.useRef(0),M=h.useRef(""),Q=h.useRef(0),A=h.useRef(null),z=h.useRef("right"),D=h.useRef(0),X=x?Hg:h.Fragment,W=x?{as:Ps,allowPinchZoom:!0}:void 0,ee=R=>{var J,Pe;const V=M.current+R,te=_().filter(De=>!De.disabled),pe=document.activeElement,it=(J=te.find(De=>De.ref.current===pe))==null?void 0:J.textValue,ze=te.map(De=>De.textValue),Lt=bL(ze,V,it),qe=(Pe=te.find(De=>De.textValue===Lt))==null?void 0:Pe.ref.current;(function De(Re){M.current=Re,window.clearTimeout(I.current),Re!==""&&(I.current=window.setTimeout(()=>De(""),1e3))})(V),qe&&setTimeout(()=>qe.focus())};h.useEffect(()=>()=>window.clearTimeout(I.current),[]),fS();const T=h.useCallback(R=>{var te,pe;return z.current===((te=A.current)==null?void 0:te.side)&&SL(R,(pe=A.current)==null?void 0:pe.area)},[]);return l.jsx(aL,{scope:r,searchRef:M,onItemEnter:h.useCallback(R=>{T(R)&&R.preventDefault()},[T]),onItemLeave:h.useCallback(R=>{var V;T(R)||((V=C.current)==null||V.focus(),E(null))},[T]),onTriggerLeave:h.useCallback(R=>{T(R)&&R.preventDefault()},[T]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:h.useCallback(R=>{A.current=R},[]),children:l.jsx(X,{...W,children:l.jsx(Ig,{asChild:!0,trapped:s,onMountAutoFocus:Z(i,R=>{var V;R.preventDefault(),(V=C.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(Ad,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:l.jsx(U1,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:Z(c,R=>{y.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(IS,{role:"menu","aria-orientation":"vertical","data-state":mk(w.open),"data-radix-menu-content":"",dir:y.dir,...v,...m,ref:N,style:{outline:"none",...m.style},onKeyDown:Z(m.onKeyDown,R=>{const te=R.target.closest("[data-radix-menu-content]")===R.currentTarget,pe=R.ctrlKey||R.altKey||R.metaKey,it=R.key.length===1;te&&(R.key==="Tab"&&R.preventDefault(),!pe&&it&&ee(R.key));const ze=C.current;if(R.target!==ze||!XD.includes(R.key))return;R.preventDefault();const qe=_().filter(J=>!J.disabled).map(J=>J.ref.current);KS.includes(R.key)&&qe.reverse(),xL(qe)}),onBlur:Z(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(I.current),M.current="")}),onPointerMove:Z(e.onPointerMove,El(R=>{const V=R.target,te=D.current!==R.clientX;if(R.currentTarget.contains(V)&&te){const pe=R.clientX>D.current?"right":"left";z.current=pe,D.current=R.clientX}}))})})})})})})});JS.displayName=Pr;var uL="MenuGroup",Zg=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ue.div,{role:"group",...n,ref:t})});Zg.displayName=uL;var dL="MenuLabel",ek=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ue.div,{...n,ref:t})});ek.displayName=dL;var Au="MenuItem",Ux="menu.itemSelect",Jd=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=h.useRef(null),o=Yl(Au,e.__scopeMenu),a=Qg(Au,e.__scopeMenu),c=We(t,i),u=h.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const p=new CustomEvent(Ux,{bubbles:!0,cancelable:!0});f.addEventListener(Ux,g=>n==null?void 0:n(g),{once:!0}),bg(f,p),p.defaultPrevented?u.current=!1:o.onClose()}};return l.jsx(tk,{...s,ref:c,disabled:r,onClick:Z(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:Z(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Z(e.onKeyDown,f=>{const p=a.searchRef.current!=="";r||p&&f.key===" "||Kp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Jd.displayName=Au;var tk=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=Qg(Au,r),a=QS(r),c=h.useRef(null),u=We(t,c),[d,f]=h.useState(!1),[p,g]=h.useState("");return h.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[i.children]),l.jsx(Cl.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:l.jsx(z1,{asChild:!0,...a,focusable:!n,children:l.jsx(ue.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Z(e.onPointerMove,El(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,El(x=>o.onItemLeave(x))),onFocus:Z(e.onFocus,()=>f(!0)),onBlur:Z(e.onBlur,()=>f(!1))})})})}),fL="MenuCheckboxItem",rk=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(ak,{scope:e.__scopeMenu,checked:r,children:l.jsx(Jd,{role:"menuitemcheckbox","aria-checked":Iu(r)?"mixed":r,...s,ref:t,"data-state":Jg(r),onSelect:Z(s.onSelect,()=>n==null?void 0:n(Iu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});rk.displayName=fL;var nk="MenuRadioGroup",[hL,pL]=Oi(nk,{value:void 0,onValueChange:()=>{}}),sk=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Nt(n);return l.jsx(hL,{scope:e.__scopeMenu,value:r,onValueChange:i,children:l.jsx(Zg,{...s,ref:t})})});sk.displayName=nk;var ik="MenuRadioItem",ok=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=pL(ik,e.__scopeMenu),i=r===s.value;return l.jsx(ak,{scope:e.__scopeMenu,checked:i,children:l.jsx(Jd,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Jg(i),onSelect:Z(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});ok.displayName=ik;var Xg="MenuItemIndicator",[ak,mL]=Oi(Xg,{checked:!1}),lk=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=mL(Xg,r);return l.jsx(Ri,{present:n||Iu(i.checked)||i.checked===!0,children:l.jsx(ue.span,{...s,ref:t,"data-state":Jg(i.checked)})})});lk.displayName=Xg;var gL="MenuSeparator",ck=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ue.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ck.displayName=gL;var vL="MenuArrow",uk=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Xd(r);return l.jsx(MS,{...s,...n,ref:t})});uk.displayName=vL;var yL="MenuSub",[K3,dk]=Oi(yL),Oa="MenuSubTrigger",fk=h.forwardRef((e,t)=>{const r=Ai(Oa,e.__scopeMenu),n=Yl(Oa,e.__scopeMenu),s=dk(Oa,e.__scopeMenu),i=Qg(Oa,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(Kg,{asChild:!0,...u,children:l.jsx(tk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":mk(r.open),...e,ref:Rd(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,El(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Z(e.onPointerLeave,El(f=>{var g,x;d();const p=(g=r.content)==null?void 0:g.getBoundingClientRect();if(p){const m=(x=r.content)==null?void 0:x.dataset.side,w=m==="right",y=w?-5:5,v=p[w?"left":"right"],b=p[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:v,y:p.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,f=>{var g;const p=i.searchRef.current!=="";e.disabled||p&&f.key===" "||JD[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});fk.displayName=Oa;var hk="MenuSubContent",pk=h.forwardRef((e,t)=>{const r=ZS(Pr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Ai(Pr,e.__scopeMenu),o=Yl(Pr,e.__scopeMenu),a=dk(hk,e.__scopeMenu),c=h.useRef(null),u=We(t,c);return l.jsx(Cl.Provider,{scope:e.__scopeMenu,children:l.jsx(Ri,{present:n||i.open,children:l.jsx(Cl.Slot,{scope:e.__scopeMenu,children:l.jsx(Yg,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Z(e.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Z(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=eL[o.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});pk.displayName=hk;function mk(e){return e?"open":"closed"}function Iu(e){return e==="indeterminate"}function Jg(e){return Iu(e)?"indeterminate":e?"checked":"unchecked"}function xL(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function wL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function bL(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=wL(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function _L(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-a)*(n-c)/(d-c)+a&&(s=!s)}return s}function SL(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return _L(r,t)}function El(e){return t=>t.pointerType==="mouse"?e(t):void 0}var kL=YS,jL=Kg,CL=XS,EL=JS,NL=Zg,PL=ek,TL=Jd,RL=rk,OL=sk,AL=ok,IL=lk,ML=ck,DL=uk,LL=fk,$L=pk,ev="DropdownMenu",[FL,G3]=oa(ev,[GS]),Ht=GS(),[UL,gk]=FL(ev),vk=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,c=Ht(t),u=h.useRef(null),[d=!1,f]=qo({prop:s,defaultProp:i,onChange:o});return l.jsx(UL,{scope:t,triggerId:bi(),triggerRef:u,contentId:bi(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(p=>!p),[f]),modal:a,children:l.jsx(kL,{...c,open:d,onOpenChange:f,dir:n,modal:a,children:r})})};vk.displayName=ev;var yk="DropdownMenuTrigger",xk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=gk(yk,r),o=Ht(r);return l.jsx(jL,{asChild:!0,...o,children:l.jsx(ue.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Rd(t,i.triggerRef),onPointerDown:Z(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Z(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});xk.displayName=yk;var zL="DropdownMenuPortal",wk=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ht(t);return l.jsx(CL,{...n,...r})};wk.displayName=zL;var bk="DropdownMenuContent",_k=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gk(bk,r),i=Ht(r),o=h.useRef(!1);return l.jsx(EL,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,a=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_k.displayName=bk;var VL="DropdownMenuGroup",BL=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return l.jsx(NL,{...s,...n,ref:t})});BL.displayName=VL;var WL="DropdownMenuLabel",Sk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return l.jsx(PL,{...s,...n,ref:t})});Sk.displayName=WL;var qL="DropdownMenuItem",kk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return l.jsx(TL,{...s,...n,ref:t})});kk.displayName=qL;var HL="DropdownMenuCheckboxItem",jk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return l.jsx(RL,{...s,...n,ref:t})});jk.displayName=HL;var KL="DropdownMenuRadioGroup",GL=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return l.jsx(OL,{...s,...n,ref:t})});GL.displayName=KL;var QL="DropdownMenuRadioItem",Ck=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return l.jsx(AL,{...s,...n,ref:t})});Ck.displayName=QL;var YL="DropdownMenuItemIndicator",Ek=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return l.jsx(IL,{...s,...n,ref:t})});Ek.displayName=YL;var ZL="DropdownMenuSeparator",Nk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return l.jsx(ML,{...s,...n,ref:t})});Nk.displayName=ZL;var XL="DropdownMenuArrow",JL=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return l.jsx(DL,{...s,...n,ref:t})});JL.displayName=XL;var e$="DropdownMenuSubTrigger",Pk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return l.jsx(LL,{...s,...n,ref:t})});Pk.displayName=e$;var t$="DropdownMenuSubContent",Tk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return l.jsx($L,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Tk.displayName=t$;var r$=vk,n$=xk,s$=wk,Rk=_k,Ok=Sk,Ak=kk,Ik=jk,Mk=Ck,Dk=Ek,Lk=Nk,$k=Pk,Fk=Tk;const i$=r$,o$=n$,a$=h.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs($k,{ref:s,className:ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(wA,{className:"ml-auto h-4 w-4"})]}));a$.displayName=$k.displayName;const l$=h.forwardRef(({className:e,...t},r)=>l.jsx(Fk,{ref:r,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));l$.displayName=Fk.displayName;const Uk=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(s$,{children:l.jsx(Rk,{ref:n,sideOffset:t,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Uk.displayName=Rk.displayName;const Qi=h.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(Ak,{ref:n,className:ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Qi.displayName=Ak.displayName;const c$=h.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(Ik,{ref:s,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Dk,{children:l.jsx(jg,{className:"h-4 w-4"})})}),t]}));c$.displayName=Ik.displayName;const u$=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Mk,{ref:n,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Dk,{children:l.jsx(kA,{className:"h-2 w-2 fill-current"})})}),t]}));u$.displayName=Mk.displayName;const zk=h.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(Ok,{ref:n,className:ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));zk.displayName=Ok.displayName;const Gp=h.forwardRef(({className:e,...t},r)=>l.jsx(Lk,{ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));Gp.displayName=Lk.displayName;const d$=({user:e,setSidebarOpen:t,onSignOut:r})=>l.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 w-full",children:l.jsxs("div",{className:"w-full flex justify-between items-center h-16 px-4 md:px-6",children:[l.jsxs("div",{className:"flex items-center flex-1",children:[l.jsx("button",{className:"lg:hidden text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 mr-4",onClick:()=>t(!0),children:l.jsx(RA,{size:24})}),l.jsx("div",{className:"flex items-center flex-1 max-w-md",children:l.jsxs("div",{className:"relative w-full",children:[l.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:l.jsx(x1,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",className:"block w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 py-2 pl-10 pr-3 text-sm placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Search..."})]})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Te,{variant:"ghost",size:"icon",className:"text-gray-500 dark:text-gray-400",children:l.jsx(yA,{size:20})}),l.jsxs(i$,{children:[l.jsx(o$,{asChild:!0,children:l.jsx(Te,{variant:"ghost",className:"relative h-8 w-8 rounded-full flex items-center justify-center",children:l.jsxs(Wd,{className:"h-8 w-8",children:[l.jsx(qd,{src:e.avatar,alt:e.name}),l.jsx(Hd,{className:"bg-blue-500 text-white",children:e.name.substring(0,2).toUpperCase()})]})})}),l.jsxs(Uk,{align:"end",className:"w-56",children:[l.jsx(zk,{children:"My Account"}),l.jsx(Gp,{}),l.jsx(Qi,{children:l.jsx(gs,{to:"/profile",className:"flex w-full",children:"Profile"})}),l.jsx(Qi,{children:l.jsx(gs,{to:"/settings",className:"flex w-full",children:"Settings"})}),e.role==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx(Qi,{children:l.jsx(gs,{to:"/cart",className:"flex w-full",children:"Shopping Cart"})}),l.jsx(Qi,{children:l.jsx(gs,{to:"/returns",className:"flex w-full",children:"Returns"})})]}),l.jsx(Gp,{}),l.jsx(Qi,{className:"text-red-600",onClick:r,children:"Log out"})]})]})]})]})}),Xr=({children:e})=>{const[t,r]=h.useState(!1),{user:n,signOut:s}=Un(),i=Pi(),o=Fn();if(h.useEffect(()=>{if(!n)return;const c=o.pathname;if(c==="/"||c==="/stock2store"||c==="/stock2store/"){const d={customer:"/store",warehouse:"/warehouse",analyst:"/analytics",admin:"/users"}[n.role]||"/store";console.log(`Redirecting ${n.role} user from ${c} to ${d}`),i(d,{replace:!0})}},[n,i,o.pathname]),h.useEffect(()=>{const c=()=>{window.innerWidth>=1024&&r(!1)};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),!n)return l.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),l.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading..."})]});const a=async()=>{await s(),i("/login")};return l.jsxs("div",{className:"min-h-screen w-full bg-gray-50 dark:bg-gray-900 flex",children:[l.jsx(tM,{user:n,sidebarOpen:t,setSidebarOpen:r,onSignOut:a}),l.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-64",children:[l.jsx(d$,{user:n,setSidebarOpen:r,onSignOut:a}),l.jsx("main",{className:"flex-1 w-full",children:l.jsx("div",{className:"w-full h-full",children:e})})]})]})},f$=$d("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ut({className:e,variant:t,...r}){return l.jsx("div",{className:ne(f$({variant:t}),e),...r})}const h$=({products:e,inventoryMovements:t})=>l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsx(ke,{children:"Warehouse Overview"}),l.jsx(st,{children:"Current inventory status"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-blue-100 p-2 rounded-md",children:l.jsx(xA,{size:20,className:"text-blue-600"})}),l.jsx("span",{className:"ml-2 text-sm",children:"Total Products"})]}),l.jsx("span",{className:"font-semibold",children:e.length})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-green-100 p-2 rounded-md",children:l.jsx(an,{size:20,className:"text-green-600"})}),l.jsx("span",{className:"ml-2 text-sm",children:"Total Inventory"})]}),l.jsx("span",{className:"font-semibold",children:e.reduce((r,n)=>r+n.stock,0)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-red-100 p-2 rounded-md",children:l.jsx(p1,{size:20,className:"text-red-600"})}),l.jsx("span",{className:"ml-2 text-sm",children:"Low Stock Items"})]}),l.jsx("span",{className:"font-semibold",children:e.filter(r=>r.stock<=5).length})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-yellow-100 p-2 rounded-md",children:l.jsx(g1,{size:20,className:"text-yellow-600"})}),l.jsx("span",{className:"ml-2 text-sm",children:"Movements Today"})]}),l.jsx("span",{className:"font-semibold",children:t.filter(r=>{const n=new Date;return new Date(r.timestamp).toDateString()===n.toDateString()}).length})]})]})]}),p$=({products:e,onProductSelect:t,onViewAllInventory:r})=>{const n=e.filter(i=>i.stock<10).sort((i,o)=>i.stock-o.stock),s=n.length;return l.jsxs(xe,{children:[l.jsx(Se,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(ke,{className:"text-lg font-medium flex items-center",children:[l.jsx(Sl,{size:18,className:"text-amber-500 mr-2"}),"Low Stock Alert"]}),l.jsxs("div",{className:"bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded",children:[s," items"]})]})}),l.jsx(Ce,{className:"pt-1",children:n.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-3 mb-3 max-h-[200px] overflow-y-auto",children:n.slice(0,5).map(i=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>t(i),children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:i.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[i.category,"  ID: ",i.id.slice(0,8)]})]}),l.jsxs("div",{className:`text-sm font-medium px-2.5 py-0.5 rounded 
                    ${i.stock===0?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"}`,children:[i.stock," left"]})]},i.id))}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[l.jsx("p",{className:"text-xs text-gray-500",children:n.length>5&&`+${n.length-5} more items`}),l.jsx(gs,{to:"/inventory",children:l.jsxs(Te,{variant:"ghost",size:"sm",className:"text-xs",children:["View All ",l.jsx(jA,{size:14,className:"ml-1"})]})})]})]}):l.jsx("div",{className:"text-center py-6",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"All products have sufficient stock."})})})]})};function Ue(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Is(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Vk=6048e5,m$=864e5,Tc=43200,zx=1440;let g$={};function Zl(){return g$}function Nl(e,t){var a,c,u,d;const r=Zl(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ue(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Mu(e){return Nl(e,{weekStartsOn:1})}function Bk(e){const t=Ue(e),r=t.getFullYear(),n=Is(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Mu(n),i=Is(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Mu(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Vx(e){const t=Ue(e);return t.setHours(0,0,0,0),t}function Du(e){const t=Ue(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function v$(e,t){const r=Vx(e),n=Vx(t),s=+r-Du(r),i=+n-Du(n);return Math.round((s-i)/m$)}function y$(e){const t=Bk(e),r=Is(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Mu(r)}function Yc(e,t){const r=Ue(e),n=Ue(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function x$(e){return Is(e,Date.now())}function w$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function b$(e){if(!w$(e)&&typeof e!="number")return!1;const t=Ue(e);return!isNaN(Number(t))}function _$(e,t){const r=Ue(e),n=Ue(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function S$(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function k$(e,t){return+Ue(e)-+Ue(t)}function j$(e){const t=Ue(e);return t.setHours(23,59,59,999),t}function C$(e){const t=Ue(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function E$(e){const t=Ue(e);return+j$(t)==+C$(t)}function N$(e,t){const r=Ue(e),n=Ue(t),s=Yc(r,n),i=Math.abs(_$(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let a=Yc(r,n)===-s;E$(Ue(e))&&i===1&&Yc(e,n)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function P$(e,t,r){const n=k$(e,t)/1e3;return S$(r==null?void 0:r.roundingMethod)(n)}function T$(e){const t=Ue(e),r=Is(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const R$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O$=(e,t,r)=>{let n;const s=R$[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function lh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const A$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},D$={date:lh({formats:A$,defaultWidth:"full"}),time:lh({formats:I$,defaultWidth:"full"}),dateTime:lh({formats:M$,defaultWidth:"full"})},L$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$$=(e,t,r,n)=>L$[e];function _a(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const F$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},U$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},V$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},W$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q$=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},H$={ordinalNumber:q$,era:_a({values:F$,defaultWidth:"wide"}),quarter:_a({values:U$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_a({values:z$,defaultWidth:"wide"}),day:_a({values:V$,defaultWidth:"wide"}),dayPeriod:_a({values:B$,defaultWidth:"wide",formattingValues:W$,defaultFormattingWidth:"wide"})};function Sa(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?G$(a,f=>f.test(o)):K$(a,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function K$(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function G$(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Q$(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const Y$=/^(\d+)(th|st|nd|rd)?/i,Z$=/\d+/i,X$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J$={any:[/^b/i,/^(a|c)/i]},eF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tF={any:[/1/i,/2/i,/3/i,/4/i]},rF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lF={ordinalNumber:Q$({matchPattern:Y$,parsePattern:Z$,valueCallback:e=>parseInt(e,10)}),era:Sa({matchPatterns:X$,defaultMatchWidth:"wide",parsePatterns:J$,defaultParseWidth:"any"}),quarter:Sa({matchPatterns:eF,defaultMatchWidth:"wide",parsePatterns:tF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sa({matchPatterns:rF,defaultMatchWidth:"wide",parsePatterns:nF,defaultParseWidth:"any"}),day:Sa({matchPatterns:sF,defaultMatchWidth:"wide",parsePatterns:iF,defaultParseWidth:"any"}),dayPeriod:Sa({matchPatterns:oF,defaultMatchWidth:"any",parsePatterns:aF,defaultParseWidth:"any"})},Wk={code:"en-US",formatDistance:O$,formatLong:D$,formatRelative:$$,localize:H$,match:lF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cF(e){const t=Ue(e);return v$(t,T$(t))+1}function uF(e){const t=Ue(e),r=+Mu(t)-+y$(t);return Math.round(r/Vk)+1}function qk(e,t){var d,f,p,g;const r=Ue(e),n=r.getFullYear(),s=Zl(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Is(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const a=Nl(o,t),c=Is(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Nl(c,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function dF(e,t){var a,c,u,d;const r=Zl(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=qk(e,t),i=Is(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Nl(i,t)}function fF(e,t){const r=Ue(e),n=+Nl(r,t)-+dF(r,t);return Math.round(n/Vk)+1}function Le(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const qn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Le(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Le(r+1,2)},d(e,t){return Le(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Le(e.getHours()%12||12,t.length)},H(e,t){return Le(e.getHours(),t.length)},m(e,t){return Le(e.getMinutes(),t.length)},s(e,t){return Le(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Le(s,t.length)}},Wi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bx={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return qn.y(e,t)},Y:function(e,t,r,n){const s=qk(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Le(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Le(i,t.length)},R:function(e,t){const r=Bk(e);return Le(r,t.length)},u:function(e,t){const r=e.getFullYear();return Le(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Le(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Le(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return qn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Le(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=fF(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Le(s,t.length)},I:function(e,t,r){const n=uF(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Le(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):qn.d(e,t)},D:function(e,t,r){const n=cF(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Le(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Le(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Le(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Le(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Wi.noon:n===0?s=Wi.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Wi.evening:n>=12?s=Wi.afternoon:n>=4?s=Wi.morning:s=Wi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return qn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):qn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):qn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):qn.s(e,t)},S:function(e,t){return qn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return qx(n);case"XXXX":case"XX":return Zs(n);case"XXXXX":case"XXX":default:return Zs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return qx(n);case"xxxx":case"xx":return Zs(n);case"xxxxx":case"xxx":default:return Zs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Wx(n,":");case"OOOO":default:return"GMT"+Zs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Wx(n,":");case"zzzz":default:return"GMT"+Zs(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Le(n,t.length)},T:function(e,t,r){const n=e.getTime();return Le(n,t.length)}};function Wx(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Le(i,2)}function qx(e,t){return e%60===0?(e>0?"-":"+")+Le(Math.abs(e)/60,2):Zs(e,t)}function Zs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Le(Math.trunc(n/60),2),i=Le(n%60,2);return r+s+t+i}const Hx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Hk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},hF=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Hx(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Hx(n,t)).replace("{{time}}",Hk(s,t))},pF={p:Hk,P:hF},mF=/^D+$/,gF=/^Y+$/,vF=["D","DD","YY","YYYY"];function yF(e){return mF.test(e)}function xF(e){return gF.test(e)}function wF(e,t,r){const n=bF(e,t,r);if(console.warn(n),vF.includes(e))throw new RangeError(n)}function bF(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _F=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kF=/^'([^]*?)'?$/,jF=/''/g,CF=/[a-zA-Z]/;function Lu(e,t,r){var d,f,p,g;const n=Zl(),s=n.locale??Wk,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,a=Ue(e);if(!b$(a))throw new RangeError("Invalid time value");let c=t.match(SF).map(x=>{const m=x[0];if(m==="p"||m==="P"){const w=pF[m];return w(x,s.formatLong)}return x}).join("").match(_F).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const m=x[0];if(m==="'")return{isToken:!1,value:EF(x)};if(Bx[m])return{isToken:!0,value:x};if(m.match(CF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const m=x.value;(xF(m)||yF(m))&&wF(m,t,String(e));const w=Bx[m[0]];return w(a,m,s.localize,u)}).join("")}function EF(e){const t=e.match(kF);return t?t[1].replace(jF,"'"):e}function NF(e,t,r){const n=Zl(),s=(r==null?void 0:r.locale)??n.locale??Wk,i=2520,o=Yc(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Ue(t),u=Ue(e)):(c=Ue(e),u=Ue(t));const d=P$(u,c),f=(Du(u)-Du(c))/1e3,p=Math.round((d-f)/60);let g;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,a):d<10?s.formatDistance("lessThanXSeconds",10,a):d<20?s.formatDistance("lessThanXSeconds",20,a):d<40?s.formatDistance("halfAMinute",0,a):d<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):p===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",p,a);if(p<45)return s.formatDistance("xMinutes",p,a);if(p<90)return s.formatDistance("aboutXHours",1,a);if(p<zx){const x=Math.round(p/60);return s.formatDistance("aboutXHours",x,a)}else{if(p<i)return s.formatDistance("xDays",1,a);if(p<Tc){const x=Math.round(p/zx);return s.formatDistance("xDays",x,a)}else if(p<Tc*2)return g=Math.round(p/Tc),s.formatDistance("aboutXMonths",g,a)}if(g=N$(u,c),g<12){const x=Math.round(p/Tc);return s.formatDistance("xMonths",x,a)}else{const x=g%12,m=Math.trunc(g/12);return x<3?s.formatDistance("aboutXYears",m,a):x<9?s.formatDistance("overXYears",m,a):s.formatDistance("almostXYears",m+1,a)}}function PF(e,t){return NF(e,x$(e),t)}const tv=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:ne("w-full caption-bottom text-sm",e),...t})}));tv.displayName="Table";const rv=h.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:ne("[&_tr]:border-b",e),...t}));rv.displayName="TableHeader";const nv=h.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:ne("[&_tr:last-child]:border-0",e),...t}));nv.displayName="TableBody";const TF=h.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));TF.displayName="TableFooter";const bo=h.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));bo.displayName="TableRow";const Cr=h.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Cr.displayName="TableHead";const fr=h.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));fr.displayName="TableCell";const RF=h.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:ne("mt-4 text-sm text-muted-foreground",e),...t}));RF.displayName="TableCaption";const OF=({movements:e,getProductById:t})=>{const r=n=>PF(n,{addSuffix:!0});return l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsx(ke,{children:"Inventory Movements"}),l.jsx(st,{children:"Recent stock entries and exits"})]}),l.jsx(Ce,{children:l.jsxs(tv,{children:[l.jsx(rv,{children:l.jsxs(bo,{children:[l.jsx(Cr,{className:"w-[120px]",children:"Type"}),l.jsx(Cr,{children:"Product"}),l.jsx(Cr,{children:"Quantity"}),l.jsx(Cr,{children:"Reason"}),l.jsx(Cr,{children:"Date"}),l.jsx(Cr,{children:"By"})]})}),l.jsx(nv,{children:e.map(n=>{const s=t(n.productId);return l.jsxs(bo,{children:[l.jsx(fr,{children:l.jsxs(ut,{variant:n.type==="in"?"default":"outline",className:n.type==="in"?"bg-green-500":"text-red-500 border-red-500",children:[n.type==="in"?l.jsx(p1,{size:12,className:"mr-1"}):l.jsx(g1,{size:12,className:"mr-1"}),n.type==="in"?"Entry":"Exit"]})}),l.jsx(fr,{className:"font-medium",children:(s==null?void 0:s.name)||"Unknown Product"}),l.jsx(fr,{children:n.quantity}),l.jsx(fr,{children:n.reason}),l.jsx(fr,{className:"text-gray-500 text-sm",children:r(n.timestamp)}),l.jsx(fr,{className:"text-gray-500 text-sm",children:n.userName||"Warehouse Staff"})]},n.id)})})]})})]})},AF=({products:e,onProductSelect:t})=>l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsx(ke,{children:"Shelf Mapping"}),l.jsx(st,{children:"Visual representation of warehouse shelves and product locations"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"grid grid-cols-4 gap-4",children:e.slice(0,8).map(r=>l.jsxs("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-gray-50",onClick:()=>t(r),children:[l.jsx("div",{className:"text-sm font-medium",children:r.name}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Stock: ",r.stock]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Location: ",r.location||"A1-01"]})]},r.id))}),e.length===0&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No products mapped to shelves yet."})]})]}),sv=h.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));sv.displayName="Textarea";function Cs(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Kx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function IF(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Kx(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Kx(e[s],null)}}}}function Bs(...e){return h.useCallback(IF(...e),e)}function MF(e,t){const r=h.createContext(t),n=i=>{const{children:o,...a}=i,c=h.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=h.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function DF(e,t=[]){let r=[];function n(i,o){const a=h.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:p,children:g,...x}=f,m=((y=p==null?void 0:p[e])==null?void 0:y[c])||a,w=h.useMemo(()=>x,Object.values(x));return l.jsx(m.Provider,{value:w,children:g})};u.displayName=i+"Provider";function d(f,p){var m;const g=((m=p==null?void 0:p[e])==null?void 0:m[c])||a,x=h.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>h.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,LF(s,...t)]}function LF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Pl=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},$F=ad[" useId ".trim().toString()]||(()=>{}),FF=0;function ch(e){const[t,r]=h.useState($F());return Pl(()=>{e||r(n=>n??String(FF++))},[e]),e||(t?`radix-${t}`:"")}var UF=ad[" useInsertionEffect ".trim().toString()]||Pl;function zF({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=VF({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=h.useCallback(d=>{var f;if(a){const p=BF(d)?d(e):d;p!==e&&((f=o.current)==null||f.call(o,p))}else i(d)},[a,e,i,o]);return[c,u]}function VF({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),i=h.useRef(t);return UF(()=>{i.current=t},[t]),h.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function BF(e){return typeof e=="function"}function Kk(e){const t=WF(e),r=h.forwardRef((n,s)=>{const{children:i,...o}=n,a=h.Children.toArray(i),c=a.find(HF);if(c){const u=c.props.children,d=a.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...o,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return l.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function WF(e){const t=h.forwardRef((r,n)=>{const{children:s,...i}=r,o=h.isValidElement(s)?GF(s):void 0,a=Bs(o,n);if(h.isValidElement(s)){const c=KF(i,s.props);return s.type!==h.Fragment&&(c.ref=a),h.cloneElement(s,c)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qF=Symbol("radix.slottable");function HF(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qF}function KF(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function GF(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var QF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zn=QF.reduce((e,t)=>{const r=Kk(`Primitive.${t}`),n=h.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function YF(e,t){e&&Fs.flushSync(()=>e.dispatchEvent(t))}function Tl(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function ZF(e,t=globalThis==null?void 0:globalThis.document){const r=Tl(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var XF="DismissableLayer",Qp="dismissableLayer.update",JF="dismissableLayer.pointerDownOutside",e4="dismissableLayer.focusOutside",Gx,Gk=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qk=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=h.useContext(Gk),[d,f]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=h.useState({}),x=Bs(t,C=>f(C)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(w),v=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=y,S=n4(C=>{const N=C.target,I=[...u.branches].some(M=>M.contains(N));!_||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),E=s4(C=>{const N=C.target;[...u.branches].some(M=>M.contains(N))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return ZF(C=>{v===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gx=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Qx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Gx)}},[d,p,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Qx())},[d,u]),h.useEffect(()=>{const C=()=>g({});return document.addEventListener(Qp,C),()=>document.removeEventListener(Qp,C)},[]),l.jsx(zn.div,{...c,ref:x,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Cs(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Cs(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Cs(e.onPointerDownCapture,S.onPointerDownCapture)})});Qk.displayName=XF;var t4="DismissableLayerBranch",r4=h.forwardRef((e,t)=>{const r=h.useContext(Gk),n=h.useRef(null),s=Bs(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l.jsx(zn.div,{...e,ref:s})});r4.displayName=t4;function n4(e,t=globalThis==null?void 0:globalThis.document){const r=Tl(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let c=function(){Yk(JF,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function s4(e,t=globalThis==null?void 0:globalThis.document){const r=Tl(e),n=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!n.current&&Yk(e4,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Qx(){const e=new CustomEvent(Qp);document.dispatchEvent(e)}function Yk(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?YF(s,i):s.dispatchEvent(i)}var uh="focusScope.autoFocusOnMount",dh="focusScope.autoFocusOnUnmount",Yx={bubbles:!1,cancelable:!0},i4="FocusScope",Zk=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,c]=h.useState(null),u=Tl(s),d=Tl(i),f=h.useRef(null),p=Bs(t,m=>c(m)),g=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let m=function(b){if(g.paused||!a)return;const _=b.target;a.contains(_)?f.current=_:Yn(f.current,{select:!0})},w=function(b){if(g.paused||!a)return;const _=b.relatedTarget;_!==null&&(a.contains(_)||Yn(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Yn(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),v.disconnect()}}},[n,a,g.paused]),h.useEffect(()=>{if(a){Xx.add(g);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(uh,Yx);a.addEventListener(uh,u),a.dispatchEvent(y),y.defaultPrevented||(o4(d4(Xk(a)),{select:!0}),document.activeElement===m&&Yn(a))}return()=>{a.removeEventListener(uh,u),setTimeout(()=>{const y=new CustomEvent(dh,Yx);a.addEventListener(dh,d),a.dispatchEvent(y),y.defaultPrevented||Yn(m??document.body,{select:!0}),a.removeEventListener(dh,d),Xx.remove(g)},0)}}},[a,u,d,g]);const x=h.useCallback(m=>{if(!r&&!n||g.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(w&&y){const v=m.currentTarget,[b,_]=a4(v);b&&_?!m.shiftKey&&y===_?(m.preventDefault(),r&&Yn(b,{select:!0})):m.shiftKey&&y===b&&(m.preventDefault(),r&&Yn(_,{select:!0})):y===v&&m.preventDefault()}},[r,n,g.paused]);return l.jsx(zn.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});Zk.displayName=i4;function o4(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Yn(n,{select:t}),document.activeElement!==r)return}function a4(e){const t=Xk(e),r=Zx(t,e),n=Zx(t.reverse(),e);return[r,n]}function Xk(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Zx(e,t){for(const r of e)if(!l4(r,{upTo:t}))return r}function l4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function c4(e){return e instanceof HTMLInputElement&&"select"in e}function Yn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&c4(e)&&t&&e.select()}}var Xx=u4();function u4(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Jx(e,t),e.unshift(t)},remove(t){var r;e=Jx(e,t),(r=e[0])==null||r.resume()}}}function Jx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function d4(e){return e.filter(t=>t.tagName!=="A")}var f4="Portal",Jk=h.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=h.useState(!1);Pl(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Wb.createPortal(l.jsx(zn.div,{...n,ref:t}),o):null});Jk.displayName=f4;function h4(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var ef=e=>{const{present:t,children:r}=e,n=p4(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=Bs(n.ref,m4(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:i}):null};ef.displayName="Presence";function p4(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[a,c]=h4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Rc(n.current);i.current=a==="mounted"?u:"none"},[a]),Pl(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,g=Rc(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Pl(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=Rc(n.current).includes(g.animationName);if(g.target===t&&m&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=g=>{g.target===t&&(i.current=Rc(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Rc(e){return(e==null?void 0:e.animationName)||"none"}function m4(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fh=0;function g4(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??e0()),document.body.insertAdjacentElement("beforeend",e[1]??e0()),fh++,()=>{fh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fh--}},[])}function e0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ej=FS(),hh=function(){},tf=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:hh,onWheelCapture:hh,onTouchMoveCapture:hh}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,g=e.noRelative,x=e.noIsolation,m=e.inert,w=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,b=e.gapMode,_=Wg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,E=$S([r,t]),C=Mt(Mt({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:ej,removeScrollBar:u,shards:f,noRelative:g,noIsolation:x,inert:m,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:b}),o?h.cloneElement(h.Children.only(a),Mt(Mt({},C),{ref:E})):h.createElement(v,Mt({},C,{className:c,ref:E}),a))});tf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tf.classNames={fullWidth:Xa,zeroRight:Za};var Yp=!1;if(typeof window<"u")try{var Oc=Object.defineProperty({},"passive",{get:function(){return Yp=!0,!0}});window.addEventListener("test",Oc,Oc),window.removeEventListener("test",Oc,Oc)}catch{Yp=!1}var qi=Yp?{passive:!1}:!1,v4=function(e){return e.tagName==="TEXTAREA"},tj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!v4(e)&&r[t]==="visible")},y4=function(e){return tj(e,"overflowY")},x4=function(e){return tj(e,"overflowX")},t0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=rj(e,n);if(s){var i=nj(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},w4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},b4=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},rj=function(e,t){return e==="v"?y4(t):x4(t)},nj=function(e,t){return e==="v"?w4(t):b4(t)},_4=function(e,t){return e==="h"&&t==="rtl"?-1:1},S4=function(e,t,r,n,s){var i=_4(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,c=t.contains(a),u=!1,d=o>0,f=0,p=0;do{var g=nj(e,a),x=g[0],m=g[1],w=g[2],y=m-w-i*x;(x||y)&&rj(e,a)&&(f+=y,p+=x),a=a.parentNode.host||a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},Ac=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},r0=function(e){return[e.deltaX,e.deltaY]},n0=function(e){return e&&"current"in e?e.current:e},k4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},j4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},C4=0,Hi=[];function E4(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(C4++)[0],i=h.useState(qg)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=LS([e.lockRef.current],(e.shards||[]).map(n0),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=Ac(m),v=r.current,b="deltaX"in m?m.deltaX:v[0]-y[0],_="deltaY"in m?m.deltaY:v[1]-y[1],S,E=m.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&E.type==="range")return!1;var N=t0(C,E);if(!N)return!0;if(N?S=C:(S=C==="v"?"h":"v",N=t0(C,E)),!N)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var I=n.current||S;return S4(I,w,m,I==="h"?b:_,!0)},[]),c=h.useCallback(function(m){var w=m;if(!(!Hi.length||Hi[Hi.length-1]!==i)){var y="deltaY"in w?r0(w):Ac(w),v=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&k4(S.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(n0).filter(Boolean).filter(function(S){return S.contains(w.target)}),_=b.length>0?a(w,b[0]):!o.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=h.useCallback(function(m,w,y,v){var b={name:m,delta:w,target:y,should:v,shadowParent:N4(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=h.useCallback(function(m){r.current=Ac(m),n.current=void 0},[]),f=h.useCallback(function(m){u(m.type,r0(m),m.target,a(m,e.lockRef.current))},[]),p=h.useCallback(function(m){u(m.type,Ac(m),m.target,a(m,e.lockRef.current))},[]);h.useEffect(function(){return Hi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,qi),document.addEventListener("touchmove",c,qi),document.addEventListener("touchstart",d,qi),function(){Hi=Hi.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,qi),document.removeEventListener("touchmove",c,qi),document.removeEventListener("touchstart",d,qi)}},[]);var g=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(i,{styles:j4(s)}):null,g?h.createElement(BS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function N4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const P4=zS(ej,E4);var sj=h.forwardRef(function(e,t){return h.createElement(tf,Mt({},e,{ref:t,sideCar:P4}))});sj.classNames=tf.classNames;var rf="Dialog",[ij,Q3]=DF(rf),[T4,Qr]=ij(rf),oj=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=h.useRef(null),c=h.useRef(null),[u,d]=zF({prop:n,defaultProp:s??!1,onChange:i,caller:rf});return l.jsx(T4,{scope:t,triggerRef:a,contentRef:c,contentId:ch(),titleId:ch(),descriptionId:ch(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};oj.displayName=rf;var aj="DialogTrigger",lj=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(aj,r),i=Bs(t,s.triggerRef);return l.jsx(zn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":av(s.open),...n,ref:i,onClick:Cs(e.onClick,s.onOpenToggle)})});lj.displayName=aj;var iv="DialogPortal",[R4,cj]=ij(iv,{forceMount:void 0}),uj=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Qr(iv,t);return l.jsx(R4,{scope:t,forceMount:r,children:h.Children.map(n,o=>l.jsx(ef,{present:r||i.open,children:l.jsx(Jk,{asChild:!0,container:s,children:o})}))})};uj.displayName=iv;var $u="DialogOverlay",dj=h.forwardRef((e,t)=>{const r=cj($u,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Qr($u,e.__scopeDialog);return i.modal?l.jsx(ef,{present:n||i.open,children:l.jsx(A4,{...s,ref:t})}):null});dj.displayName=$u;var O4=Kk("DialogOverlay.RemoveScroll"),A4=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr($u,r);return l.jsx(sj,{as:O4,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(zn.div,{"data-state":av(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Si="DialogContent",fj=h.forwardRef((e,t)=>{const r=cj(Si,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Qr(Si,e.__scopeDialog);return l.jsx(ef,{present:n||i.open,children:i.modal?l.jsx(I4,{...s,ref:t}):l.jsx(M4,{...s,ref:t})})});fj.displayName=Si;var I4=h.forwardRef((e,t)=>{const r=Qr(Si,e.__scopeDialog),n=h.useRef(null),s=Bs(t,r.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return Bg(i)},[]),l.jsx(hj,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Cs(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Cs(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Cs(e.onFocusOutside,i=>i.preventDefault())})}),M4=h.forwardRef((e,t)=>{const r=Qr(Si,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return l.jsx(hj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),hj=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Qr(Si,r),c=h.useRef(null),u=Bs(t,c);return g4(),l.jsxs(l.Fragment,{children:[l.jsx(Zk,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Qk,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":av(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(D4,{titleId:a.titleId}),l.jsx($4,{contentRef:c,descriptionId:a.descriptionId})]})]})}),ov="DialogTitle",pj=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(ov,r);return l.jsx(zn.h2,{id:s.titleId,...n,ref:t})});pj.displayName=ov;var mj="DialogDescription",gj=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(mj,r);return l.jsx(zn.p,{id:s.descriptionId,...n,ref:t})});gj.displayName=mj;var vj="DialogClose",yj=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(vj,r);return l.jsx(zn.button,{type:"button",...n,ref:t,onClick:Cs(e.onClick,()=>s.onOpenChange(!1))})});yj.displayName=vj;function av(e){return e?"open":"closed"}var xj="DialogTitleWarning",[Y3,wj]=MF(xj,{contentName:Si,titleName:ov,docsSlug:"dialog"}),D4=({titleId:e})=>{const t=wj(xj),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},L4="DialogDescriptionWarning",$4=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wj(L4).contentName}}.`;return h.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},F4=oj,U4=lj,z4=uj,bj=dj,_j=fj,Sj=pj,kj=gj,V4=yj;const B4=F4,W4=U4,q4=z4,jj=h.forwardRef(({className:e,...t},r)=>l.jsx(bj,{ref:r,className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));jj.displayName=bj.displayName;const Cj=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(q4,{children:[l.jsx(jj,{}),l.jsxs(_j,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(V4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Fd,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cj.displayName=_j.displayName;const Ej=({className:e,...t})=>l.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ej.displayName="DialogHeader";const Nj=h.forwardRef(({className:e,...t},r)=>l.jsx(Sj,{ref:r,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));Nj.displayName=Sj.displayName;const Pj=h.forwardRef(({className:e,...t},r)=>l.jsx(kj,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));Pj.displayName=kj.displayName;const H4=()=>{const{toast:e}=ir(),t=pg(),[r,n]=h.useState(null),[s,i]=h.useState(""),[o,a]=h.useState(!1),{data:c,isLoading:u}=ql({queryKey:["refund-requests"],queryFn:async()=>{const{data:g,error:x}=await oe.from("refund_requests").select(`
          *,
          orders (
            order_number,
            total_amount
          ),
          profiles (
            name,
            email
          )
        `).order("created_at",{ascending:!1});if(x)throw x;return g}}),d=qT({mutationFn:async({requestId:g,action:x,notes:m})=>{const{data:{user:w}}=await oe.auth.getUser();if(!w)throw new Error("Not authenticated");const{error:y}=await oe.from("refund_requests").update({status:x,admin_notes:m,reviewed_by:w.id,reviewed_at:new Date().toISOString()}).eq("id",g);if(y)throw y;if(x==="approved"){const v=c==null?void 0:c.find(E=>E.id===g);if(!v)throw new Error("Refund request not found");const{error:b}=await oe.from("orders").update({status:"refunded"}).eq("id",v.order_id);if(b)throw b;const{data:_,error:S}=await oe.from("order_items").select("item_serial").eq("order_id",v.order_id);if(S)throw S;if(_&&_.length>0){const E=_.map(N=>N.item_serial),{error:C}=await oe.from("items").update({status:"in_repair"}).in("serial_id",E);if(C)throw C}}return{requestId:g,action:x}},onSuccess:g=>{e({title:"Refund request processed",description:`Refund request has been ${g.action}.`}),t.invalidateQueries({queryKey:["refund-requests"]}),n(null),i("")},onError:g=>{console.error("Error processing refund request:",g),e({title:"Error",description:"Failed to process refund request. Please try again.",variant:"destructive"})}}),f=async g=>{if(r){if(g==="rejected"&&!s.trim()){e({title:"Admin notes required",description:"Please provide a reason for rejecting the refund request.",variant:"destructive"});return}a(!0);try{await d.mutateAsync({requestId:r.id,action:g,notes:s.trim()})}finally{a(!1)}}},p=g=>{switch(g){case"pending":return l.jsx(ut,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"approved":return l.jsx(ut,{variant:"outline",className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return l.jsx(ut,{variant:"outline",className:"bg-red-100 text-red-800",children:"Rejected"});default:return l.jsx(ut,{variant:"outline",children:g})}};return u?l.jsxs("div",{className:"flex items-center justify-center p-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),l.jsx("span",{className:"ml-3",children:"Loading refund requests..."})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Refund Requests"}),l.jsx("p",{className:"text-muted-foreground",children:"Review and process customer refund requests"})]}),!c||c.length===0?l.jsx(xe,{children:l.jsxs(Se,{children:[l.jsx(ke,{children:"No Refund Requests"}),l.jsx(st,{children:"There are currently no refund requests to review."})]})}):l.jsx("div",{className:"space-y-4",children:c.map(g=>l.jsxs(xe,{children:[l.jsx(Se,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(ke,{className:"text-base",children:["Order #",g.orders.order_number]}),l.jsxs(st,{children:["Customer: ",g.profiles.name," (",g.profiles.email,")",l.jsx("br",{}),"Amount: $",g.orders.total_amount.toFixed(2),l.jsx("br",{}),"Submitted: ",Lu(new Date(g.created_at),"PPP")]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[p(g.status),l.jsxs(B4,{open:(r==null?void 0:r.id)===g.id,onOpenChange:x=>{x||(n(null),i(""))},children:[l.jsx(W4,{asChild:!0,children:l.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>n(g),children:[l.jsx(CA,{className:"h-4 w-4 mr-2"}),"Review"]})}),l.jsxs(Cj,{className:"max-w-2xl",children:[l.jsxs(Ej,{children:[l.jsxs(Nj,{children:["Refund Request - Order #",g.orders.order_number]}),l.jsx(Pj,{children:"Review the refund request details and make a decision."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Customer Description:"}),l.jsx("p",{className:"mt-1 text-sm text-gray-700 bg-gray-50 p-3 rounded",children:g.description})]}),g.photo_url&&l.jsxs("div",{children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Photo Evidence:"}),l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:g.photo_url,alt:"Refund evidence",className:"max-w-full h-64 object-cover rounded-lg border"})})]}),g.status==="pending"&&l.jsxs("div",{children:[l.jsx(Fe,{htmlFor:"admin-notes",className:"text-sm font-medium",children:"Admin Notes:"}),l.jsx(sv,{id:"admin-notes",placeholder:"Add notes about your decision (required for rejections)...",value:s,onChange:x=>i(x.target.value),className:"mt-1"})]}),g.admin_notes&&l.jsxs("div",{children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Previous Admin Notes:"}),l.jsx("p",{className:"mt-1 text-sm text-gray-700 bg-gray-50 p-3 rounded",children:g.admin_notes})]}),g.status==="pending"&&l.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[l.jsxs(Te,{onClick:()=>f("approved"),disabled:o,className:"flex-1",children:[l.jsx(_A,{className:"h-4 w-4 mr-2"}),"Approve Refund"]}),l.jsxs(Te,{variant:"destructive",onClick:()=>f("rejected"),disabled:o,className:"flex-1",children:[l.jsx(SA,{className:"h-4 w-4 mr-2"}),"Reject Refund"]})]})]})]})]})]})]})}),l.jsxs(Ce,{children:[l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:g.description}),g.admin_notes&&l.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm",children:[l.jsxs("div",{className:"flex items-center gap-1 text-blue-700 font-medium",children:[l.jsx(OA,{className:"h-3 w-3"}),"Admin Response:"]}),l.jsx("p",{className:"text-blue-600 mt-1",children:g.admin_notes})]})]})]},g.id))})]})},Tj=async()=>{console.log("Fetching products from database...");try{const{data:e,error:t}=await oe.from("inventory").select(`
        id, 
        name, 
        description, 
        quantity, 
        created_at, 
        updated_at, 
        product_type_id
      `);if(t)throw console.error("Error fetching inventory:",t),t;if(console.log("Inventory data:",e),!e||e.length===0)return console.log("No inventory data found"),[];const{data:r,error:n}=await oe.from("product_types").select("id, name");n&&console.error("Error fetching product types:",n);const s=new Map;r&&r.forEach(m=>{s.set(m.id,m.name)}),console.log("Fetching ALL price records for debugging...");const{data:i,error:o}=await oe.from("price").select("*");console.log("All price records in database:",i),o&&console.error("Error fetching all prices:",o);const a=e.map(m=>m.id);console.log("Fetching prices for inventory IDs:",a);const{data:c,error:u}=await oe.from("price").select("inventory_id, amount, effective_from, status").in("inventory_id",a).eq("status",!0);u&&console.error("Error fetching prices:",u),console.log("Filtered price data fetched:",c);const{data:d,error:f}=await oe.from("price").select("inventory_id, amount, effective_from, status").in("inventory_id",a);console.log("Price data without status filter:",d);const p=new Map,g=c&&c.length>0?c:d;g&&g.sort((w,y)=>new Date(y.effective_from).getTime()-new Date(w.effective_from).getTime()).forEach(w=>{p.has(w.inventory_id)||(p.set(w.inventory_id,w.amount),console.log(`Setting price for inventory ${w.inventory_id}: $${w.amount} (status: ${w.status})`))}),console.log("Price map created:",Array.from(p.entries()));const x=e.map(m=>{const w=p.get(m.id)||0;return console.log(`Product ${m.name} (ID: ${m.id}) - Price: $${w}`),{id:m.id||"",name:m.name||"Unnamed Product",description:m.description||"",price:w,stock:m.quantity||0,image:"",category:s.get(m.product_type_id)||"Uncategorized",location:"",barcode:"",createdAt:new Date(m.created_at||Date.now()),updatedAt:new Date(m.updated_at||Date.now())}});return console.log("Final products with prices:",x),x}catch(e){throw console.error("Error in getProducts method:",e),e}},K4=()=>{const[e,t]=h.useState(""),[r,n]=h.useState("all"),{data:s=[],isLoading:i,error:o}=ql({queryKey:["warehouse-products"],queryFn:Tj}),a=[],c=p=>{console.log("Product selected:",p)},u=()=>{console.log("View all inventory")},d=p=>s.find(g=>g.id===p);if(i)return l.jsx("div",{children:"Loading..."});if(o)return l.jsxs("div",{children:["Error: ",o.message]});const f=s.filter(p=>p.name.toLowerCase().includes(e.toLowerCase())&&(r==="all"||p.category===r));return l.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Warehouse Management"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your inventory, track stock levels, and analyze warehouse operations."})]}),l.jsxs(Te,{children:[l.jsx(an,{size:16,className:"mr-2"}),"Add New Product"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(ye,{type:"search",placeholder:"Search products...",value:e,onChange:p=>t(p.target.value)}),l.jsxs("div",{className:"md:col-span-2 flex items-center space-x-4",children:[l.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:r,onChange:p=>n(p.target.value),children:[l.jsx("option",{value:"all",children:"All Categories"}),l.jsx("option",{value:"electronics",children:"Electronics"}),l.jsx("option",{value:"clothing",children:"Clothing"})]}),l.jsxs(Te,{variant:"outline",children:[l.jsx(EA,{size:16,className:"mr-2"}),"Filter"]})]})]}),l.jsxs(Og,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs(Bd,{children:[l.jsx(kr,{value:"overview",children:"Overview"}),l.jsx(kr,{value:"analytics",children:"Analytics"}),l.jsx(kr,{value:"inventory",children:"Inventory"}),l.jsx(kr,{value:"movements",children:"Movements"}),l.jsx(kr,{value:"refunds",children:"Refund Requests"}),l.jsx(kr,{value:"shelf",children:"Shelf Mapping"})]}),l.jsx(jr,{value:"overview",className:"space-y-4",children:l.jsx(h$,{products:s,inventoryMovements:a})}),l.jsx(jr,{value:"analytics",className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(xe,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ke,{className:"text-sm font-medium",children:"Total Products"}),l.jsx(an,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:s.length})})]}),l.jsxs(xe,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ke,{className:"text-sm font-medium",children:"Low Stock Items"}),l.jsx(Sl,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:s.filter(p=>p.stock<=5).length})})]}),l.jsxs(xe,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ke,{className:"text-sm font-medium",children:"Inventory Turnover"}),l.jsx(b1,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:"7.2"})})]}),l.jsxs(xe,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ke,{className:"text-sm font-medium",children:"Categories"}),l.jsx(Eu,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:[...new Set(s.map(p=>p.category))].length})})]})]})}),l.jsx(jr,{value:"inventory",className:"space-y-4",children:l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(p=>l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsx(ke,{children:p.name}),l.jsx(st,{children:p.description})]}),l.jsxs(Ce,{children:[l.jsxs("p",{children:["Category: ",p.category]}),l.jsxs("p",{children:["Stock: ",p.stock]}),l.jsx(ut,{variant:"secondary",children:"Active"})]})]},p.id))})}),l.jsx(jr,{value:"movements",className:"space-y-4",children:l.jsx(OF,{movements:a,getProductById:d})}),l.jsx(jr,{value:"refunds",className:"space-y-4",children:l.jsx(H4,{})}),l.jsx(jr,{value:"shelf",className:"space-y-4",children:l.jsx(AF,{products:s,onProductSelect:c})})]}),l.jsx(p$,{products:s,onProductSelect:c,onViewAllInventory:u})]})};function s0(e,[t,r]){return Math.min(r,Math.max(t,e))}function G4(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Q4=[" ","Enter","ArrowUp","ArrowDown"],Y4=[" ","Enter"],Xl="Select",[nf,sf,Z4]=Od(Xl),[ua,Z3]=oa(Xl,[Z4,Yd]),of=Yd(),[X4,Ws]=ua(Xl),[J4,eU]=ua(Xl),Rj=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:g,form:x}=e,m=of(t),[w,y]=h.useState(null),[v,b]=h.useState(null),[_,S]=h.useState(!1),E=Ud(u),[C=!1,N]=qo({prop:n,defaultProp:s,onChange:i}),[I,M]=qo({prop:o,defaultProp:a,onChange:c}),Q=h.useRef(null),A=w?x||!!w.closest("form"):!0,[z,D]=h.useState(new Set),X=Array.from(z).map(W=>W.props.value).join(";");return l.jsx(OS,{...m,children:l.jsxs(X4,{required:g,scope:t,trigger:w,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:bi(),value:I,onValueChange:M,open:C,onOpenChange:N,dir:E,triggerPointerDownPosRef:Q,disabled:p,children:[l.jsx(nf.Provider,{scope:t,children:l.jsx(J4,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(W=>{D(ee=>new Set(ee).add(W))},[]),onNativeOptionRemove:h.useCallback(W=>{D(ee=>{const T=new Set(ee);return T.delete(W),T})},[]),children:r})}),A?l.jsxs(rC,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:W=>M(W.target.value),disabled:p,form:x,children:[I===void 0?l.jsx("option",{value:""}):null,Array.from(z)]},X):null]})})};Rj.displayName=Xl;var Oj="SelectTrigger",Aj=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=of(r),o=Ws(Oj,r),a=o.disabled||n,c=We(t,o.onTriggerChange),u=sf(r),d=h.useRef("touch"),[f,p,g]=nC(m=>{const w=u().filter(b=>!b.disabled),y=w.find(b=>b.value===o.value),v=sC(w,m,y);v!==void 0&&o.onValueChange(v.value)}),x=m=>{a||(o.onOpenChange(!0),g()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(AS,{asChild:!0,...i,children:l.jsx(ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":tC(o.value)?"":void 0,...s,ref:c,onClick:Z(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:Z(s.onPointerDown,m=>{d.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:Z(s.onKeyDown,m=>{const w=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(w&&m.key===" ")&&Q4.includes(m.key)&&(x(),m.preventDefault())})})})});Aj.displayName=Oj;var Ij="SelectValue",Mj=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=e,c=Ws(Ij,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=We(t,c.onValueNodeChange);return wt(()=>{u(d)},[u,d]),l.jsx(ue.span,{...a,ref:f,style:{pointerEvents:"none"},children:tC(c.value)?l.jsx(l.Fragment,{children:o}):i})});Mj.displayName=Ij;var tU="SelectIcon",Dj=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Dj.displayName=tU;var rU="SelectPortal",Lj=e=>l.jsx(Id,{asChild:!0,...e});Lj.displayName=rU;var ki="SelectContent",$j=h.forwardRef((e,t)=>{const r=Ws(ki,e.__scopeSelect),[n,s]=h.useState();if(wt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Fs.createPortal(l.jsx(Fj,{scope:e.__scopeSelect,children:l.jsx(nf.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(Uj,{...e,ref:t})});$j.displayName=ki;var Mr=10,[Fj,qs]=ua(ki),nU="SelectContentImpl",Uj=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:m,avoidCollisions:w,...y}=e,v=Ws(ki,r),[b,_]=h.useState(null),[S,E]=h.useState(null),C=We(t,J=>_(J)),[N,I]=h.useState(null),[M,Q]=h.useState(null),A=sf(r),[z,D]=h.useState(!1),X=h.useRef(!1);h.useEffect(()=>{if(b)return Bg(b)},[b]),fS();const W=h.useCallback(J=>{const[Pe,...De]=A().map(Ae=>Ae.ref.current),[Re]=De.slice(-1),Oe=document.activeElement;for(const Ae of J)if(Ae===Oe||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===Pe&&S&&(S.scrollTop=0),Ae===Re&&S&&(S.scrollTop=S.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Oe))return},[A,S]),ee=h.useCallback(()=>W([N,b]),[W,N,b]);h.useEffect(()=>{z&&ee()},[z,ee]);const{onOpenChange:T,triggerPointerDownPosRef:R}=v;h.useEffect(()=>{if(b){let J={x:0,y:0};const Pe=Re=>{var Oe,Ae;J={x:Math.abs(Math.round(Re.pageX)-(((Oe=R.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((Ae=R.current)==null?void 0:Ae.y)??0))}},De=Re=>{J.x<=10&&J.y<=10?Re.preventDefault():b.contains(Re.target)||T(!1),document.removeEventListener("pointermove",Pe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",De,{capture:!0})}}},[b,T,R]),h.useEffect(()=>{const J=()=>T(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[T]);const[V,te]=nC(J=>{const Pe=A().filter(Oe=>!Oe.disabled),De=Pe.find(Oe=>Oe.ref.current===document.activeElement),Re=sC(Pe,J,De);Re&&setTimeout(()=>Re.ref.current.focus())}),pe=h.useCallback((J,Pe,De)=>{const Re=!X.current&&!De;(v.value!==void 0&&v.value===Pe||Re)&&(I(J),Re&&(X.current=!0))},[v.value]),it=h.useCallback(()=>b==null?void 0:b.focus(),[b]),ze=h.useCallback((J,Pe,De)=>{const Re=!X.current&&!De;(v.value!==void 0&&v.value===Pe||Re)&&Q(J)},[v.value]),Lt=n==="popper"?Zp:zj,qe=Lt===Zp?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:m,avoidCollisions:w}:{};return l.jsx(Fj,{scope:r,content:b,viewport:S,onViewportChange:E,itemRefCallback:pe,selectedItem:N,onItemLeave:it,itemTextRefCallback:ze,focusSelectedItem:ee,selectedItemText:M,position:n,isPositioned:z,searchRef:V,children:l.jsx(Hg,{as:Ps,allowPinchZoom:!0,children:l.jsx(Ig,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Z(s,J=>{var Pe;(Pe=v.trigger)==null||Pe.focus({preventScroll:!0}),J.preventDefault()}),children:l.jsx(Ad,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(Lt,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...y,...qe,onPlaced:()=>D(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Z(y.onKeyDown,J=>{const Pe=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!Pe&&J.key.length===1&&te(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Re=A().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Oe=J.target,Ae=Re.indexOf(Oe);Re=Re.slice(Ae+1)}setTimeout(()=>W(Re)),J.preventDefault()}})})})})})})});Uj.displayName=nU;var sU="SelectItemAlignedPosition",zj=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Ws(ki,r),o=qs(ki,r),[a,c]=h.useState(null),[u,d]=h.useState(null),f=We(t,C=>d(C)),p=sf(r),g=h.useRef(!1),x=h.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:y,focusSelectedItem:v}=o,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&m&&w&&y){const C=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),M=y.getBoundingClientRect();if(i.dir!=="rtl"){const Oe=M.left-N.left,Ae=I.left-Oe,Pt=C.left-Ae,or=C.width+Pt,Ii=Math.max(or,N.width),Mi=window.innerWidth-Mr,Di=s0(Ae,[Mr,Math.max(Mr,Mi-Ii)]);a.style.minWidth=or+"px",a.style.left=Di+"px"}else{const Oe=N.right-M.right,Ae=window.innerWidth-I.right-Oe,Pt=window.innerWidth-C.right-Ae,or=C.width+Pt,Ii=Math.max(or,N.width),Mi=window.innerWidth-Mr,Di=s0(Ae,[Mr,Math.max(Mr,Mi-Ii)]);a.style.minWidth=or+"px",a.style.right=Di+"px"}const Q=p(),A=window.innerHeight-Mr*2,z=m.scrollHeight,D=window.getComputedStyle(u),X=parseInt(D.borderTopWidth,10),W=parseInt(D.paddingTop,10),ee=parseInt(D.borderBottomWidth,10),T=parseInt(D.paddingBottom,10),R=X+W+z+T+ee,V=Math.min(w.offsetHeight*5,R),te=window.getComputedStyle(m),pe=parseInt(te.paddingTop,10),it=parseInt(te.paddingBottom,10),ze=C.top+C.height/2-Mr,Lt=A-ze,qe=w.offsetHeight/2,J=w.offsetTop+qe,Pe=X+W+J,De=R-Pe;if(Pe<=ze){const Oe=Q.length>0&&w===Q[Q.length-1].ref.current;a.style.bottom="0px";const Ae=u.clientHeight-m.offsetTop-m.offsetHeight,Pt=Math.max(Lt,qe+(Oe?it:0)+Ae+ee),or=Pe+Pt;a.style.height=or+"px"}else{const Oe=Q.length>0&&w===Q[0].ref.current;a.style.top="0px";const Pt=Math.max(ze,X+m.offsetTop+(Oe?pe:0)+qe)+De;a.style.height=Pt+"px",m.scrollTop=Pe-ze+m.offsetTop}a.style.margin=`${Mr}px 0`,a.style.minHeight=V+"px",a.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,u,m,w,y,i.dir,n]);wt(()=>b(),[b]);const[_,S]=h.useState();wt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=h.useCallback(C=>{C&&x.current===!0&&(b(),v==null||v(),x.current=!1)},[b,v]);return l.jsx(oU,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});zj.displayName=sU;var iU="SelectPopperPosition",Zp=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Mr,...i}=e,o=of(r);return l.jsx(IS,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zp.displayName=iU;var[oU,lv]=ua(ki,{}),Xp="SelectViewport",Vj=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=qs(Xp,r),o=lv(Xp,r),a=We(t,i.onViewportChange),c=h.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(nf.Slot,{scope:r,children:l.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const x=window.innerHeight-Mr*2,m=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(m,w);if(y<x){const v=y+g,b=Math.min(x,v),_=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Vj.displayName=Xp;var Bj="SelectGroup",[aU,lU]=ua(Bj),cU=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=bi();return l.jsx(aU,{scope:r,id:s,children:l.jsx(ue.div,{role:"group","aria-labelledby":s,...n,ref:t})})});cU.displayName=Bj;var Wj="SelectLabel",qj=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=lU(Wj,r);return l.jsx(ue.div,{id:s.id,...n,ref:t})});qj.displayName=Wj;var Fu="SelectItem",[uU,Hj]=ua(Fu),Kj=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,a=Ws(Fu,r),c=qs(Fu,r),u=a.value===n,[d,f]=h.useState(i??""),[p,g]=h.useState(!1),x=We(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,s)}),m=bi(),w=h.useRef("touch"),y=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(uU,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:h.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(nf.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(ue.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Z(o.onFocus,()=>g(!0)),onBlur:Z(o.onBlur,()=>g(!1)),onClick:Z(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:Z(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:Z(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:Z(o.onPointerMove,v=>{var b;w.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Z(o.onKeyDown,v=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(Y4.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});Kj.displayName=Fu;var Aa="SelectItemText",Gj=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Ws(Aa,r),a=qs(Aa,r),c=Hj(Aa,r),u=eU(Aa,r),[d,f]=h.useState(null),p=We(t,y=>f(y),c.onItemTextChange,y=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,y,c.value,c.disabled)}),g=d==null?void 0:d.textContent,x=h.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=u;return wt(()=>(m(x),()=>w(x)),[m,w,x]),l.jsxs(l.Fragment,{children:[l.jsx(ue.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fs.createPortal(i.children,o.valueNode):null]})});Gj.displayName=Aa;var Qj="SelectItemIndicator",Yj=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Hj(Qj,r).isSelected?l.jsx(ue.span,{"aria-hidden":!0,...n,ref:t}):null});Yj.displayName=Qj;var Jp="SelectScrollUpButton",Zj=h.forwardRef((e,t)=>{const r=qs(Jp,e.__scopeSelect),n=lv(Jp,e.__scopeSelect),[s,i]=h.useState(!1),o=We(t,n.onScrollButtonChange);return wt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(Jj,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});Zj.displayName=Jp;var em="SelectScrollDownButton",Xj=h.forwardRef((e,t)=>{const r=qs(em,e.__scopeSelect),n=lv(em,e.__scopeSelect),[s,i]=h.useState(!1),o=We(t,n.onScrollButtonChange);return wt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(Jj,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});Xj.displayName=em;var Jj=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=qs("SelectScrollButton",r),o=h.useRef(null),a=sf(r),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),wt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Z(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{c()})})}),dU="SelectSeparator",eC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(ue.div,{"aria-hidden":!0,...n,ref:t})});eC.displayName=dU;var tm="SelectArrow",fU=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=of(r),i=Ws(tm,r),o=qs(tm,r);return i.open&&o.position==="popper"?l.jsx(MS,{...s,...n,ref:t}):null});fU.displayName=tm;function tC(e){return e===""||e===void 0}var rC=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=h.useRef(null),i=We(t,s),o=G4(r);return h.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(a,r),a.dispatchEvent(f)}},[o,r]),l.jsx(Md,{asChild:!0,children:l.jsx("select",{...n,ref:i,defaultValue:r})})});rC.displayName="BubbleSelect";function nC(e){const t=Nt(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(o=>{const a=r.current+o;t(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),i=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function sC(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=hU(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function hU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var pU=Rj,iC=Aj,mU=Mj,gU=Dj,vU=Lj,oC=$j,yU=Vj,aC=qj,lC=Kj,xU=Gj,wU=Yj,cC=Zj,uC=Xj,dC=eC;const Rl=pU,Uu=mU,Ko=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(iC,{ref:n,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(gU,{asChild:!0,children:l.jsx(v1,{className:"h-4 w-4 opacity-50"})})]}));Ko.displayName=iC.displayName;const fC=h.forwardRef(({className:e,...t},r)=>l.jsx(cC,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(bA,{className:"h-4 w-4"})}));fC.displayName=cC.displayName;const hC=h.forwardRef(({className:e,...t},r)=>l.jsx(uC,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(v1,{className:"h-4 w-4"})}));hC.displayName=uC.displayName;const Go=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(vU,{children:l.jsxs(oC,{ref:s,className:ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(fC,{}),l.jsx(yU,{className:ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(hC,{})]})}));Go.displayName=oC.displayName;const bU=h.forwardRef(({className:e,...t},r)=>l.jsx(aC,{ref:r,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));bU.displayName=aC.displayName;const Ze=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(lC,{ref:n,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(wU,{children:l.jsx(jg,{className:"h-4 w-4"})})}),l.jsx(xU,{children:t})]}));Ze.displayName=lC.displayName;const _U=h.forwardRef(({className:e,...t},r)=>l.jsx(dC,{ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));_U.displayName=dC.displayName;const i0=()=>{const[e,t]=h.useState(""),[r,n]=h.useState("all"),[s,i]=h.useState("name-asc"),{toast:o}=ir(),{addToCart:a,getCartItemQuantity:c}=wg(),{data:u=[],isLoading:d,error:f}=ql({queryKey:["store-products"],queryFn:Tj});console.log("Products in Store component:",u),ve.useEffect(()=>{f&&(console.error("Error in Store page:",f),o({title:"Error",description:"Failed to load products. Please try again later.",variant:"destructive"}))},[f,o]);const p=[...new Set(u.map(w=>w.category||"Uncategorized"))],x=[...u.filter(w=>{const y=w.name.toLowerCase().includes(e.toLowerCase())||(w.description||"").toLowerCase().includes(e.toLowerCase()),v=r==="all"||w.category===r;return y&&v})].sort((w,y)=>{switch(s){case"name-asc":return w.name.localeCompare(y.name);case"name-desc":return y.name.localeCompare(w.name);case"price-asc":return w.price-y.price;case"price-desc":return y.price-w.price;case"stock-asc":return w.stock-y.stock;case"stock-desc":return y.stock-w.stock;default:return 0}}),m=w=>{a(w,1)};return l.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Online Store"}),l.jsx("p",{className:"text-muted-foreground",children:"Explore our wide range of products and find the perfect fit for your needs."})]}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"flex items-center space-x-2 w-full md:w-auto",children:l.jsxs("div",{className:"relative flex-1 md:w-64",children:[l.jsx(ye,{type:"search",placeholder:"Search for products...",className:"pl-10",value:e,onChange:w=>t(w.target.value)}),l.jsx(x1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]})}),l.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[l.jsxs(Rl,{value:r,onValueChange:n,children:[l.jsx(Ko,{className:"w-full md:w-[180px]",children:l.jsx(Uu,{placeholder:"Category"})}),l.jsxs(Go,{children:[l.jsx(Ze,{value:"all",children:"All Categories"}),p.map(w=>l.jsx(Ze,{value:w,children:w},w))]})]}),l.jsxs(Rl,{value:s,onValueChange:i,children:[l.jsx(Ko,{className:"w-full md:w-[180px]",children:l.jsx(Uu,{placeholder:"Sort by"})}),l.jsxs(Go,{children:[l.jsx(Ze,{value:"name-asc",children:"Name (A-Z)"}),l.jsx(Ze,{value:"name-desc",children:"Name (Z-A)"}),l.jsx(Ze,{value:"price-asc",children:"Price (Low to High)"}),l.jsx(Ze,{value:"price-desc",children:"Price (High to Low)"}),l.jsx(Ze,{value:"stock-asc",children:"Stock (Low to High)"}),l.jsx(Ze,{value:"stock-desc",children:"Stock (High to Low)"})]})]})]})]}),d?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading products..."})]}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:x.map(w=>{const y=c(w.id),v=y>0,b=w.stock<=0;return l.jsxs(xe,{className:"bg-white dark:bg-gray-800 shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200 dark:border-gray-700",children:[l.jsxs(Se,{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(ke,{className:"text-lg font-semibold truncate text-gray-900 dark:text-gray-100",children:w.name}),v&&l.jsxs(ut,{variant:"secondary",className:"ml-2",children:[y," in cart"]})]}),l.jsx(st,{className:"text-gray-500 dark:text-gray-400 text-sm line-clamp-2",children:w.description})]}),l.jsxs(Ce,{className:"p-4 pt-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx(ut,{variant:"secondary",className:"text-xs",children:w.category||"Uncategorized"}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx($A,{className:"h-4 w-4 text-yellow-500 fill-current"}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"4.5"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["$",w.price]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:`text-sm ${b?"text-red-600":"text-gray-600 dark:text-gray-400"}`,children:b?"Out of Stock":`Stock: ${w.stock}`}),b&&l.jsx(ut,{variant:"destructive",children:"Unavailable"})]})]}),l.jsx("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:l.jsx(Te,{variant:v?"secondary":"default",size:"sm",className:"flex-1 mr-2",onClick:()=>m(w),disabled:b,children:v?l.jsxs(l.Fragment,{children:[l.jsx(jg,{className:"h-4 w-4 mr-2"}),"Added"]}):l.jsxs(l.Fragment,{children:[l.jsx(Eg,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})})})]})]},w.id)})}),x.length===0&&!d&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products found matching your criteria."})})]})})};var SU="Separator",o0="horizontal",kU=["horizontal","vertical"],pC=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=o0,...s}=e,i=jU(n)?n:o0,a=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(ue.div,{"data-orientation":i,...a,...s,ref:t})});pC.displayName=SU;function jU(e){return kU.includes(e)}var mC=pC;const zu=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(mC,{ref:s,decorative:r,orientation:t,className:ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));zu.displayName=mC.displayName;const CU=()=>{const{items:e,total:t,itemCount:r,removeFromCart:n,updateQuantity:s,clearCart:i}=wg(),{toast:o}=ir(),a=Pi(),c=()=>{if(e.filter(p=>p.status==="unavailable"||p.product.stock<p.quantity).length>0){o({title:"Cannot proceed to checkout",description:"Some items in your cart are no longer available or have insufficient stock.",variant:"destructive"});return}a("/checkout")},u=f=>f.product.stock<=0?"unavailable":f.quantity>f.product.stock?"insufficient":"available",d=f=>{switch(f){case"unavailable":return l.jsx(ut,{variant:"destructive",children:"Out of Stock"});case"insufficient":return l.jsx(ut,{variant:"destructive",children:"Insufficient Stock"});default:return l.jsx(ut,{variant:"secondary",children:"Available"})}};return e.length===0?l.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(DA,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Your cart is empty"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start shopping to add items to your cart."}),l.jsx(Te,{onClick:()=>a("/store"),children:"Continue Shopping"})]})})}):l.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Shopping Cart"}),l.jsxs("p",{className:"text-muted-foreground",children:[r," ",r===1?"item":"items"," in your cart"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(f=>{const p=u(f);return l.jsx(xe,{className:"relative",children:l.jsx(Ce,{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:f.product.name}),d(p)]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:f.product.description}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:["Category: ",f.product.category]}),p==="insufficient"&&l.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm mb-4",children:[l.jsx(Sl,{className:"h-4 w-4"}),l.jsxs("span",{children:["Only ",f.product.stock," available (you have ",f.quantity," in cart)"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Te,{variant:"outline",size:"icon",onClick:()=>s(f.product.id,f.quantity-1),disabled:f.quantity<=1,children:l.jsx(AA,{className:"h-4 w-4"})}),l.jsx("span",{className:"font-medium text-lg w-8 text-center",children:f.quantity}),l.jsx(Te,{variant:"outline",size:"icon",onClick:()=>s(f.product.id,f.quantity+1),disabled:f.quantity>=f.product.stock,children:l.jsx(IA,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["$",(f.product.price*f.quantity).toFixed(2)]}),l.jsxs("p",{className:"text-sm text-gray-500",children:["$",f.product.price.toFixed(2)," each"]})]})]})]}),l.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>n(f.product.id),className:"ml-4 text-red-500 hover:text-red-700 hover:bg-red-50",children:l.jsx(w1,{className:"h-4 w-4"})})]})})},f.id)})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(xe,{children:[l.jsx(Se,{children:l.jsx(ke,{children:"Order Summary"})}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["Subtotal (",r," items)"]}),l.jsxs("span",{children:["$",t.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{className:"text-green-600",children:"Free"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tax"}),l.jsxs("span",{children:["$",(t*.08).toFixed(2)]})]}),l.jsx(zu,{}),l.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",(t*1.08).toFixed(2)]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{onClick:c,className:"w-full",disabled:e.some(f=>u(f)!=="available"),children:"Proceed to Checkout"}),l.jsx(Te,{variant:"outline",onClick:i,className:"w-full",children:"Clear Cart"}),l.jsx(Te,{variant:"ghost",onClick:()=>a("/store"),className:"w-full",children:"Continue Shopping"})]})]})]}),e.some(f=>u(f)!=="available")&&l.jsxs(xe,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-800",children:[l.jsx(Se,{children:l.jsxs(ke,{className:"text-amber-800 dark:text-amber-200 flex items-center gap-2",children:[l.jsx(Sl,{className:"h-5 w-5"}),"Stock Issues"]})}),l.jsx(Ce,{children:l.jsx("p",{className:"text-amber-700 dark:text-amber-300 text-sm",children:"Some items in your cart have stock issues. Please review and adjust quantities before proceeding."})})]})]})]})]})})};var Jl=e=>e.type==="checkbox",si=e=>e instanceof Date,zt=e=>e==null;const gC=e=>typeof e=="object";var lt=e=>!zt(e)&&!Array.isArray(e)&&gC(e)&&!si(e),vC=e=>lt(e)&&e.target?Jl(e.target)?e.target.checked:e.target.value:e,EU=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,yC=(e,t)=>e.has(EU(t)),NU=e=>{const t=e.constructor&&e.constructor.prototype;return lt(t)&&t.hasOwnProperty("isPrototypeOf")},cv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gt(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(cv&&(e instanceof Blob||e instanceof FileList))&&(r||lt(e)))if(t=r?[]:{},!r&&!NU(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Gt(e[n]));else return e;return t}var af=e=>Array.isArray(e)?e.filter(Boolean):[],nt=e=>e===void 0,U=(e,t,r)=>{if(!t||!lt(e))return r;const n=af(t.split(/[,[\].]+?/)).reduce((s,i)=>zt(s)?s:s[i],e);return nt(n)||n===e?nt(e[t])?r:e[t]:n},br=e=>typeof e=="boolean",uv=e=>/^\w*$/.test(e),xC=e=>af(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ie=(e,t,r)=>{let n=-1;const s=uv(t)?[t]:xC(t),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let c=r;if(n!==o){const u=e[a];c=lt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(a==="__proto__")return;e[a]=c,e=e[a]}return e};const Vu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wC=ve.createContext(null),lf=()=>ve.useContext(wC),PU=e=>{const{children:t,...r}=e;return ve.createElement(wC.Provider,{value:r},t)};var bC=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Vr.all&&(t._proxyFormState[o]=!n||Vr.all),r&&(r[o]=!0),e[o]}});return s},Zt=e=>lt(e)&&!Object.keys(e).length,_C=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Zt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Vr.all))},Ja=e=>Array.isArray(e)?e:[e],SC=(e,t,r)=>!e||!t||e===t||Ja(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function dv(e){const t=ve.useRef(e);t.current=e,ve.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function TU(e){const t=lf(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,a]=ve.useState(r._formState),c=ve.useRef(!0),u=ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ve.useRef(s);return d.current=s,dv({disabled:n,next:f=>c.current&&SC(d.current,f.name,i)&&_C(f,u.current,r._updateFormState)&&a({...r._formState,...f}),subject:r._subjects.state}),ve.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),bC(o,r,u.current,!1)}var ln=e=>typeof e=="string",kC=(e,t,r,n,s)=>ln(e)?(n&&t.watch.add(e),U(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),U(r,i))):(n&&(t.watchAll=!0),r);function RU(e){const t=lf(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o}=e||{},a=ve.useRef(n);a.current=n,dv({disabled:i,subject:r._subjects.values,next:d=>{SC(a.current,d.name,o)&&u(Gt(kC(a.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=ve.useState(r._getWatch(n,s));return ve.useEffect(()=>r._removeUnmounted()),c}function OU(e){const t=lf(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i}=e,o=yC(s._names.array,r),a=RU({control:s,name:r,defaultValue:U(s._formValues,r,U(s._defaultValues,r,e.defaultValue)),exact:!0}),c=TU({control:s,name:r,exact:!0}),u=ve.useRef(s.register(r,{...e.rules,value:a,...br(e.disabled)?{disabled:e.disabled}:{}}));return ve.useEffect(()=>{const d=s._options.shouldUnregister||i,f=(p,g)=>{const x=U(s._fields,p);x&&x._f&&(x._f.mount=g)};if(f(r,!0),d){const p=Gt(U(s._options.defaultValues,r));Ie(s._defaultValues,r,p),nt(U(s._formValues,r))&&Ie(s._formValues,r,p)}return()=>{(o?d&&!s._state.action:d)?s.unregister(r):f(r,!1)}},[r,s,o,i]),ve.useEffect(()=>{U(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:U(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:a,...br(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:ve.useCallback(d=>u.current.onChange({target:{value:vC(d),name:r},type:Vu.CHANGE}),[r]),onBlur:ve.useCallback(()=>u.current.onBlur({target:{value:U(s._formValues,r),name:r},type:Vu.BLUR}),[r,s]),ref:ve.useCallback(d=>{const f=U(s._fields,r);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:p=>d.setCustomValidity(p),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!U(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!U(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!U(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!U(c.validatingFields,r)},error:{enumerable:!0,get:()=>U(c.errors,r)}})}}const AU=e=>e.render(OU(e));var jC=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},a0=e=>({isOnSubmit:!e||e===Vr.onSubmit,isOnBlur:e===Vr.onBlur,isOnChange:e===Vr.onChange,isOnAll:e===Vr.all,isOnTouch:e===Vr.onTouched}),l0=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const el=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=U(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(el(a,t))break}else if(lt(a)&&el(a,t))break}}};var IU=(e,t,r)=>{const n=Ja(U(e,r));return Ie(n,"root",t[r]),Ie(e,r,n),e},fv=e=>e.type==="file",jn=e=>typeof e=="function",Bu=e=>{if(!cv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Zc=e=>ln(e),hv=e=>e.type==="radio",Wu=e=>e instanceof RegExp;const c0={value:!1,isValid:!1},u0={value:!0,isValid:!0};var CC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!nt(e[0].attributes.value)?nt(e[0].value)||e[0].value===""?u0:{value:e[0].value,isValid:!0}:u0:c0}return c0};const d0={isValid:!1,value:null};var EC=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,d0):d0;function f0(e,t,r="validate"){if(Zc(e)||Array.isArray(e)&&e.every(Zc)||br(e)&&!e)return{type:r,message:Zc(e)?e:"",ref:t}}var Ki=e=>lt(e)&&!Wu(e)?e:{value:e,message:""},h0=async(e,t,r,n,s)=>{const{ref:i,refs:o,required:a,maxLength:c,minLength:u,min:d,max:f,pattern:p,validate:g,name:x,valueAsNumber:m,mount:w,disabled:y}=e._f,v=U(t,x);if(!w||y)return{};const b=o?o[0]:i,_=A=>{n&&b.reportValidity&&(b.setCustomValidity(br(A)?"":A||""),b.reportValidity())},S={},E=hv(i),C=Jl(i),N=E||C,I=(m||fv(i))&&nt(i.value)&&nt(v)||Bu(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,M=jC.bind(null,x,r,S),Q=(A,z,D,X=gn.maxLength,W=gn.minLength)=>{const ee=A?z:D;S[x]={type:A?X:W,message:ee,ref:i,...M(A?X:W,ee)}};if(s?!Array.isArray(v)||!v.length:a&&(!N&&(I||zt(v))||br(v)&&!v||C&&!CC(o).isValid||E&&!EC(o).isValid)){const{value:A,message:z}=Zc(a)?{value:!!a,message:a}:Ki(a);if(A&&(S[x]={type:gn.required,message:z,ref:b,...M(gn.required,z)},!r))return _(z),S}if(!I&&(!zt(d)||!zt(f))){let A,z;const D=Ki(f),X=Ki(d);if(!zt(v)&&!isNaN(v)){const W=i.valueAsNumber||v&&+v;zt(D.value)||(A=W>D.value),zt(X.value)||(z=W<X.value)}else{const W=i.valueAsDate||new Date(v),ee=V=>new Date(new Date().toDateString()+" "+V),T=i.type=="time",R=i.type=="week";ln(D.value)&&v&&(A=T?ee(v)>ee(D.value):R?v>D.value:W>new Date(D.value)),ln(X.value)&&v&&(z=T?ee(v)<ee(X.value):R?v<X.value:W<new Date(X.value))}if((A||z)&&(Q(!!A,D.message,X.message,gn.max,gn.min),!r))return _(S[x].message),S}if((c||u)&&!I&&(ln(v)||s&&Array.isArray(v))){const A=Ki(c),z=Ki(u),D=!zt(A.value)&&v.length>+A.value,X=!zt(z.value)&&v.length<+z.value;if((D||X)&&(Q(D,A.message,z.message),!r))return _(S[x].message),S}if(p&&!I&&ln(v)){const{value:A,message:z}=Ki(p);if(Wu(A)&&!v.match(A)&&(S[x]={type:gn.pattern,message:z,ref:i,...M(gn.pattern,z)},!r))return _(z),S}if(g){if(jn(g)){const A=await g(v,t),z=f0(A,b);if(z&&(S[x]={...z,...M(gn.validate,z.message)},!r))return _(z.message),S}else if(lt(g)){let A={};for(const z in g){if(!Zt(A)&&!r)break;const D=f0(await g[z](v,t),b,z);D&&(A={...D,...M(z,D.message)},_(D.message),r&&(S[x]=A))}if(!Zt(A)&&(S[x]={ref:b,...A},!r))return S}}return _(!0),S};function MU(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=nt(e)?n++:e[t[n++]];return e}function DU(e){for(const t in e)if(e.hasOwnProperty(t)&&!nt(e[t]))return!1;return!0}function dt(e,t){const r=Array.isArray(t)?t:uv(t)?[t]:xC(t),n=r.length===1?e:MU(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(lt(n)&&Zt(n)||Array.isArray(n)&&DU(n))&&dt(e,r.slice(0,-1)),e}var ph=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},rm=e=>zt(e)||!gC(e);function ns(e,t){if(rm(e)||rm(t))return e===t;if(si(e)&&si(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(si(i)&&si(o)||lt(i)&&lt(o)||Array.isArray(i)&&Array.isArray(o)?!ns(i,o):i!==o)return!1}}return!0}var NC=e=>e.type==="select-multiple",LU=e=>hv(e)||Jl(e),mh=e=>Bu(e)&&e.isConnected,PC=e=>{for(const t in e)if(jn(e[t]))return!0;return!1};function qu(e,t={}){const r=Array.isArray(e);if(lt(e)||r)for(const n in e)Array.isArray(e[n])||lt(e[n])&&!PC(e[n])?(t[n]=Array.isArray(e[n])?[]:{},qu(e[n],t[n])):zt(e[n])||(t[n]=!0);return t}function TC(e,t,r){const n=Array.isArray(e);if(lt(e)||n)for(const s in e)Array.isArray(e[s])||lt(e[s])&&!PC(e[s])?nt(t)||rm(r[s])?r[s]=Array.isArray(e[s])?qu(e[s],[]):{...qu(e[s])}:TC(e[s],zt(t)?{}:t[s],r[s]):r[s]=!ns(e[s],t[s]);return r}var ka=(e,t)=>TC(e,t,qu(t)),RC=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>nt(e)?e:t?e===""?NaN:e&&+e:r&&ln(e)?new Date(e):n?n(e):e;function gh(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return fv(t)?t.files:hv(t)?EC(e.refs).value:NC(t)?[...t.selectedOptions].map(({value:r})=>r):Jl(t)?CC(e.refs).value:RC(nt(t.value)?e.ref.value:t.value,e)}var $U=(e,t,r,n)=>{const s={};for(const i of e){const o=U(t,i);o&&Ie(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ja=e=>nt(e)?e:Wu(e)?e.source:lt(e)?Wu(e.value)?e.value.source:e.value:e;const p0="AsyncFunction";var FU=e=>(!e||!e.validate)&&!!(jn(e.validate)&&e.validate.constructor.name===p0||lt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===p0)),UU=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function m0(e,t,r){const n=U(e,r);if(n||uv(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=U(t,i),a=U(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var zU=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,VU=(e,t)=>!af(U(e,t)).length&&dt(e,t);const BU={mode:Vr.onSubmit,reValidateMode:Vr.onChange,shouldFocusError:!0};function WU(e={}){let t={...BU,...e},r={submitCount:0,isDirty:!1,isLoading:jn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=lt(t.defaultValues)||lt(t.values)?Gt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Gt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:ph(),array:ph(),state:ph()},p=a0(t.mode),g=a0(t.reValidateMode),x=t.criteriaMode===Vr.all,m=j=>P=>{clearTimeout(u),u=setTimeout(j,P)},w=async j=>{if(!e.disabled&&(d.isValid||j)){const P=t.resolver?Zt((await N()).errors):await M(n,!0);P!==r.isValid&&f.state.next({isValid:P})}},y=(j,P)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((j||Array.from(a.mount)).forEach(O=>{O&&(P?Ie(r.validatingFields,O,P):dt(r.validatingFields,O))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Zt(r.validatingFields)}))},v=(j,P=[],O,H,B=!0,F=!0)=>{if(H&&O&&!e.disabled){if(o.action=!0,F&&Array.isArray(U(n,j))){const se=O(U(n,j),H.argA,H.argB);B&&Ie(n,j,se)}if(F&&Array.isArray(U(r.errors,j))){const se=O(U(r.errors,j),H.argA,H.argB);B&&Ie(r.errors,j,se),VU(r.errors,j)}if(d.touchedFields&&F&&Array.isArray(U(r.touchedFields,j))){const se=O(U(r.touchedFields,j),H.argA,H.argB);B&&Ie(r.touchedFields,j,se)}d.dirtyFields&&(r.dirtyFields=ka(s,i)),f.state.next({name:j,isDirty:A(j,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ie(i,j,P)},b=(j,P)=>{Ie(r.errors,j,P),f.state.next({errors:r.errors})},_=j=>{r.errors=j,f.state.next({errors:r.errors,isValid:!1})},S=(j,P,O,H)=>{const B=U(n,j);if(B){const F=U(i,j,nt(O)?U(s,j):O);nt(F)||H&&H.defaultChecked||P?Ie(i,j,P?F:gh(B._f)):X(j,F),o.mount&&w()}},E=(j,P,O,H,B)=>{let F=!1,se=!1;const ge={name:j};if(!e.disabled){const mt=!!(U(n,j)&&U(n,j)._f&&U(n,j)._f.disabled);if(!O||H){d.isDirty&&(se=r.isDirty,r.isDirty=ge.isDirty=A(),F=se!==ge.isDirty);const gt=mt||ns(U(s,j),P);se=!!(!mt&&U(r.dirtyFields,j)),gt||mt?dt(r.dirtyFields,j):Ie(r.dirtyFields,j,!0),ge.dirtyFields=r.dirtyFields,F=F||d.dirtyFields&&se!==!gt}if(O){const gt=U(r.touchedFields,j);gt||(Ie(r.touchedFields,j,O),ge.touchedFields=r.touchedFields,F=F||d.touchedFields&&gt!==O)}F&&B&&f.state.next(ge)}return F?ge:{}},C=(j,P,O,H)=>{const B=U(r.errors,j),F=d.isValid&&br(P)&&r.isValid!==P;if(e.delayError&&O?(c=m(()=>b(j,O)),c(e.delayError)):(clearTimeout(u),c=null,O?Ie(r.errors,j,O):dt(r.errors,j)),(O?!ns(B,O):B)||!Zt(H)||F){const se={...H,...F&&br(P)?{isValid:P}:{},errors:r.errors,name:j};r={...r,...se},f.state.next(se)}},N=async j=>{y(j,!0);const P=await t.resolver(i,t.context,$U(j||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(j),P},I=async j=>{const{errors:P}=await N(j);if(j)for(const O of j){const H=U(P,O);H?Ie(r.errors,O,H):dt(r.errors,O)}else r.errors=P;return P},M=async(j,P,O={valid:!0})=>{for(const H in j){const B=j[H];if(B){const{_f:F,...se}=B;if(F){const ge=a.array.has(F.name),mt=B._f&&FU(B._f);mt&&d.validatingFields&&y([H],!0);const gt=await h0(B,i,x,t.shouldUseNativeValidation&&!P,ge);if(mt&&d.validatingFields&&y([H]),gt[F.name]&&(O.valid=!1,P))break;!P&&(U(gt,F.name)?ge?IU(r.errors,gt,F.name):Ie(r.errors,F.name,gt[F.name]):dt(r.errors,F.name))}!Zt(se)&&await M(se,P,O)}}return O.valid},Q=()=>{for(const j of a.unMount){const P=U(n,j);P&&(P._f.refs?P._f.refs.every(O=>!mh(O)):!mh(P._f.ref))&&qe(j)}a.unMount=new Set},A=(j,P)=>!e.disabled&&(j&&P&&Ie(i,j,P),!ns(te(),s)),z=(j,P,O)=>kC(j,a,{...o.mount?i:nt(P)?s:ln(j)?{[j]:P}:P},O,P),D=j=>af(U(o.mount?i:s,j,e.shouldUnregister?U(s,j,[]):[])),X=(j,P,O={})=>{const H=U(n,j);let B=P;if(H){const F=H._f;F&&(!F.disabled&&Ie(i,j,RC(P,F)),B=Bu(F.ref)&&zt(P)?"":P,NC(F.ref)?[...F.ref.options].forEach(se=>se.selected=B.includes(se.value)):F.refs?Jl(F.ref)?F.refs.length>1?F.refs.forEach(se=>(!se.defaultChecked||!se.disabled)&&(se.checked=Array.isArray(B)?!!B.find(ge=>ge===se.value):B===se.value)):F.refs[0]&&(F.refs[0].checked=!!B):F.refs.forEach(se=>se.checked=se.value===B):fv(F.ref)?F.ref.value="":(F.ref.value=B,F.ref.type||f.values.next({name:j,values:{...i}})))}(O.shouldDirty||O.shouldTouch)&&E(j,B,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&V(j)},W=(j,P,O)=>{for(const H in P){const B=P[H],F=`${j}.${H}`,se=U(n,F);(a.array.has(j)||lt(B)||se&&!se._f)&&!si(B)?W(F,B,O):X(F,B,O)}},ee=(j,P,O={})=>{const H=U(n,j),B=a.array.has(j),F=Gt(P);Ie(i,j,F),B?(f.array.next({name:j,values:{...i}}),(d.isDirty||d.dirtyFields)&&O.shouldDirty&&f.state.next({name:j,dirtyFields:ka(s,i),isDirty:A(j,F)})):H&&!H._f&&!zt(F)?W(j,F,O):X(j,F,O),l0(j,a)&&f.state.next({...r}),f.values.next({name:o.mount?j:void 0,values:{...i}})},T=async j=>{o.mount=!0;const P=j.target;let O=P.name,H=!0;const B=U(n,O),F=()=>P.type?gh(B._f):vC(j),se=ge=>{H=Number.isNaN(ge)||si(ge)&&isNaN(ge.getTime())||ns(ge,U(i,O,ge))};if(B){let ge,mt;const gt=F(),Hs=j.type===Vu.BLUR||j.type===Vu.FOCUS_OUT,UC=!UU(B._f)&&!t.resolver&&!U(r.errors,O)&&!B._f.deps||zU(Hs,U(r.touchedFields,O),r.isSubmitted,g,p),df=l0(O,a,Hs);Ie(i,O,gt),Hs?(B._f.onBlur&&B._f.onBlur(j),c&&c(0)):B._f.onChange&&B._f.onChange(j);const ff=E(O,gt,Hs,!1),zC=!Zt(ff)||df;if(!Hs&&f.values.next({name:O,type:j.type,values:{...i}}),UC)return d.isValid&&(e.mode==="onBlur"?Hs&&w():w()),zC&&f.state.next({name:O,...df?{}:ff});if(!Hs&&df&&f.state.next({...r}),t.resolver){const{errors:vv}=await N([O]);if(se(gt),H){const VC=m0(r.errors,n,O),yv=m0(vv,n,VC.name||O);ge=yv.error,O=yv.name,mt=Zt(vv)}}else y([O],!0),ge=(await h0(B,i,x,t.shouldUseNativeValidation))[O],y([O]),se(gt),H&&(ge?mt=!1:d.isValid&&(mt=await M(n,!0)));H&&(B._f.deps&&V(B._f.deps),C(O,mt,ge,ff))}},R=(j,P)=>{if(U(r.errors,P)&&j.focus)return j.focus(),1},V=async(j,P={})=>{let O,H;const B=Ja(j);if(t.resolver){const F=await I(nt(j)?j:B);O=Zt(F),H=j?!B.some(se=>U(F,se)):O}else j?(H=(await Promise.all(B.map(async F=>{const se=U(n,F);return await M(se&&se._f?{[F]:se}:se)}))).every(Boolean),!(!H&&!r.isValid)&&w()):H=O=await M(n);return f.state.next({...!ln(j)||d.isValid&&O!==r.isValid?{}:{name:j},...t.resolver||!j?{isValid:O}:{},errors:r.errors}),P.shouldFocus&&!H&&el(n,R,j?B:a.mount),H},te=j=>{const P={...o.mount?i:s};return nt(j)?P:ln(j)?U(P,j):j.map(O=>U(P,O))},pe=(j,P)=>({invalid:!!U((P||r).errors,j),isDirty:!!U((P||r).dirtyFields,j),error:U((P||r).errors,j),isValidating:!!U(r.validatingFields,j),isTouched:!!U((P||r).touchedFields,j)}),it=j=>{j&&Ja(j).forEach(P=>dt(r.errors,P)),f.state.next({errors:j?r.errors:{}})},ze=(j,P,O)=>{const H=(U(n,j,{_f:{}})._f||{}).ref,B=U(r.errors,j)||{},{ref:F,message:se,type:ge,...mt}=B;Ie(r.errors,j,{...mt,...P,ref:H}),f.state.next({name:j,errors:r.errors,isValid:!1}),O&&O.shouldFocus&&H&&H.focus&&H.focus()},Lt=(j,P)=>jn(j)?f.values.subscribe({next:O=>j(z(void 0,P),O)}):z(j,P,!0),qe=(j,P={})=>{for(const O of j?Ja(j):a.mount)a.mount.delete(O),a.array.delete(O),P.keepValue||(dt(n,O),dt(i,O)),!P.keepError&&dt(r.errors,O),!P.keepDirty&&dt(r.dirtyFields,O),!P.keepTouched&&dt(r.touchedFields,O),!P.keepIsValidating&&dt(r.validatingFields,O),!t.shouldUnregister&&!P.keepDefaultValue&&dt(s,O);f.values.next({values:{...i}}),f.state.next({...r,...P.keepDirty?{isDirty:A()}:{}}),!P.keepIsValid&&w()},J=({disabled:j,name:P,field:O,fields:H,value:B})=>{if(br(j)&&o.mount||j){const F=j?void 0:nt(B)?gh(O?O._f:U(H,P)._f):B;Ie(i,P,F),E(P,F,!1,!1,!0)}},Pe=(j,P={})=>{let O=U(n,j);const H=br(P.disabled)||br(e.disabled);return Ie(n,j,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:j}},name:j,mount:!0,...P}}),a.mount.add(j),O?J({field:O,disabled:br(P.disabled)?P.disabled:e.disabled,name:j,value:P.value}):S(j,!0,P.value),{...H?{disabled:P.disabled||e.disabled}:{},...t.progressive?{required:!!P.required,min:ja(P.min),max:ja(P.max),minLength:ja(P.minLength),maxLength:ja(P.maxLength),pattern:ja(P.pattern)}:{},name:j,onChange:T,onBlur:T,ref:B=>{if(B){Pe(j,P),O=U(n,j);const F=nt(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,se=LU(F),ge=O._f.refs||[];if(se?ge.find(mt=>mt===F):F===O._f.ref)return;Ie(n,j,{_f:{...O._f,...se?{refs:[...ge.filter(mh),F,...Array.isArray(U(s,j))?[{}]:[]],ref:{type:F.type,name:j}}:{ref:F}}}),S(j,!1,void 0,F)}else O=U(n,j,{}),O._f&&(O._f.mount=!1),(t.shouldUnregister||P.shouldUnregister)&&!(yC(a.array,j)&&o.action)&&a.unMount.add(j)}}},De=()=>t.shouldFocusError&&el(n,R,a.mount),Re=j=>{br(j)&&(f.state.next({disabled:j}),el(n,(P,O)=>{const H=U(n,O);H&&(P.disabled=H._f.disabled||j,Array.isArray(H._f.refs)&&H._f.refs.forEach(B=>{B.disabled=H._f.disabled||j}))},0,!1))},Oe=(j,P)=>async O=>{let H;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let B=Gt(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:F,values:se}=await N();r.errors=F,B=se}else await M(n);if(dt(r.errors,"root"),Zt(r.errors)){f.state.next({errors:{}});try{await j(B,O)}catch(F){H=F}}else P&&await P({...r.errors},O),De(),setTimeout(De);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zt(r.errors)&&!H,submitCount:r.submitCount+1,errors:r.errors}),H)throw H},Ae=(j,P={})=>{U(n,j)&&(nt(P.defaultValue)?ee(j,Gt(U(s,j))):(ee(j,P.defaultValue),Ie(s,j,Gt(P.defaultValue))),P.keepTouched||dt(r.touchedFields,j),P.keepDirty||(dt(r.dirtyFields,j),r.isDirty=P.defaultValue?A(j,Gt(U(s,j))):A()),P.keepError||(dt(r.errors,j),d.isValid&&w()),f.state.next({...r}))},Pt=(j,P={})=>{const O=j?Gt(j):s,H=Gt(O),B=Zt(j),F=B?s:H;if(P.keepDefaultValues||(s=O),!P.keepValues){if(P.keepDirtyValues){const se=new Set([...a.mount,...Object.keys(ka(s,i))]);for(const ge of Array.from(se))U(r.dirtyFields,ge)?Ie(F,ge,U(i,ge)):ee(ge,U(F,ge))}else{if(cv&&nt(j))for(const se of a.mount){const ge=U(n,se);if(ge&&ge._f){const mt=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(Bu(mt)){const gt=mt.closest("form");if(gt){gt.reset();break}}}}n={}}i=e.shouldUnregister?P.keepDefaultValues?Gt(s):{}:Gt(F),f.array.next({values:{...F}}),f.values.next({values:{...F}})}a={mount:P.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!P.keepIsValid||!!P.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:B?!1:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!ns(j,s)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:B?{}:P.keepDirtyValues?P.keepDefaultValues&&i?ka(s,i):r.dirtyFields:P.keepDefaultValues&&j?ka(s,j):P.keepDirty?r.dirtyFields:{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},or=(j,P)=>Pt(jn(j)?j(i):j,P);return{control:{register:Pe,unregister:qe,getFieldState:pe,handleSubmit:Oe,setError:ze,_executeSchema:N,_getWatch:z,_getDirty:A,_updateValid:w,_removeUnmounted:Q,_updateFieldArray:v,_updateDisabledField:J,_getFieldArray:D,_reset:Pt,_resetDefaultValues:()=>jn(t.defaultValues)&&t.defaultValues().then(j=>{or(j,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:j=>{r={...r,...j}},_disableForm:Re,_subjects:f,_proxyFormState:d,_setErrors:_,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return a},set _names(j){a=j},get _formState(){return r},set _formState(j){r=j},get _options(){return t},set _options(j){t={...t,...j}}},trigger:V,register:Pe,handleSubmit:Oe,watch:Lt,setValue:ee,getValues:te,reset:or,resetField:Ae,clearErrors:it,unregister:qe,setError:ze,setFocus:(j,P={})=>{const O=U(n,j),H=O&&O._f;if(H){const B=H.refs?H.refs[0]:H.ref;B.focus&&(B.focus(),P.shouldSelect&&B.select())}},getFieldState:pe}}function pv(e={}){const t=ve.useRef(),r=ve.useRef(),[n,s]=ve.useState({isDirty:!1,isValidating:!1,isLoading:jn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:jn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...WU(e),formState:n});const i=t.current.control;return i._options=e,dv({subject:i._subjects.state,next:o=>{_C(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),ve.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ve.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ve.useEffect(()=>{e.values&&!ns(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),ve.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),ve.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ve.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),ve.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=bC(n,i),t.current}const mv=PU,OC=h.createContext({}),At=({...e})=>l.jsx(OC.Provider,{value:{name:e.name},children:l.jsx(AU,{...e})}),cf=()=>{const e=h.useContext(OC),t=h.useContext(AC),{getFieldState:r,formState:n}=lf(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},AC=h.createContext({}),_t=h.forwardRef(({className:e,...t},r)=>{const n=h.useId();return l.jsx(AC.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:ne("space-y-2",e),...t})})});_t.displayName="FormItem";const St=h.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=cf();return l.jsx(Fe,{ref:r,className:ne(n&&"text-destructive",e),htmlFor:s,...t})});St.displayName="FormLabel";const kt=h.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=cf();return l.jsx(Ps,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});kt.displayName="FormControl";const nm=h.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=cf();return l.jsx("p",{ref:r,id:n,className:ne("text-sm text-muted-foreground",e),...t})});nm.displayName="FormDescription";const jt=h.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=cf(),o=s?String(s==null?void 0:s.message):t;return o?l.jsx("p",{ref:n,id:i,className:ne("text-sm font-medium text-destructive",e),...r,children:o}):null});jt.displayName="FormMessage";const qU=({initialData:e,onSubmit:t})=>{const r=pv({defaultValues:e}),n=s=>{t(s)};return l.jsxs(xe,{children:[l.jsx(Se,{children:l.jsx(ke,{children:"Invoice Information"})}),l.jsx(Ce,{children:l.jsx(mv,{...r,children:l.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(At,{control:r.control,name:"firstName",rules:{required:"First name is required"},render:({field:s})=>l.jsxs(_t,{children:[l.jsx(St,{children:"First Name"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"John",...s})}),l.jsx(jt,{})]})}),l.jsx(At,{control:r.control,name:"lastName",rules:{required:"Last name is required"},render:({field:s})=>l.jsxs(_t,{children:[l.jsx(St,{children:"Last Name"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"Doe",...s})}),l.jsx(jt,{})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(At,{control:r.control,name:"email",rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:s})=>l.jsxs(_t,{children:[l.jsx(St,{children:"Email"}),l.jsx(kt,{children:l.jsx(ye,{type:"email",placeholder:"john@example.com",...s})}),l.jsx(jt,{})]})}),l.jsx(At,{control:r.control,name:"phone",rules:{required:"Phone number is required"},render:({field:s})=>l.jsxs(_t,{children:[l.jsx(St,{children:"Phone"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"+1 (555) 123-4567",...s})}),l.jsx(jt,{})]})})]}),l.jsx(At,{control:r.control,name:"company",render:({field:s})=>l.jsxs(_t,{children:[l.jsx(St,{children:"Company (Optional)"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"Company Name",...s})}),l.jsx(jt,{})]})}),l.jsx(At,{control:r.control,name:"address",rules:{required:"Address is required"},render:({field:s})=>l.jsxs(_t,{children:[l.jsx(St,{children:"Address"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"123 Main Street",...s})}),l.jsx(jt,{})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(At,{control:r.control,name:"city",rules:{required:"City is required"},render:({field:s})=>l.jsxs(_t,{children:[l.jsx(St,{children:"City"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"New York",...s})}),l.jsx(jt,{})]})}),l.jsx(At,{control:r.control,name:"state",rules:{required:"State is required"},render:({field:s})=>l.jsxs(_t,{children:[l.jsx(St,{children:"State"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"NY",...s})}),l.jsx(jt,{})]})}),l.jsx(At,{control:r.control,name:"postalCode",rules:{required:"Postal code is required"},render:({field:s})=>l.jsxs(_t,{children:[l.jsx(St,{children:"Postal Code"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"10001",...s})}),l.jsx(jt,{})]})})]}),l.jsx(At,{control:r.control,name:"country",rules:{required:"Country is required"},render:({field:s})=>l.jsxs(_t,{children:[l.jsx(St,{children:"Country"}),l.jsxs(Rl,{onValueChange:s.onChange,value:s.value,children:[l.jsx(kt,{children:l.jsx(Ko,{children:l.jsx(Uu,{placeholder:"Select a country"})})}),l.jsxs(Go,{children:[l.jsx(Ze,{value:"United States",children:"United States"}),l.jsx(Ze,{value:"Canada",children:"Canada"}),l.jsx(Ze,{value:"United Kingdom",children:"United Kingdom"}),l.jsx(Ze,{value:"Germany",children:"Germany"}),l.jsx(Ze,{value:"France",children:"France"}),l.jsx(Ze,{value:"Australia",children:"Australia"})]})]}),l.jsx(jt,{})]})}),l.jsx(Te,{type:"submit",className:"w-full",children:"Continue to Payment"})]})})})]})},HU=({initialData:e,onSubmit:t,onBack:r,isProcessing:n})=>{const s=pv({defaultValues:e}),i=c=>{t(c)},o=c=>{const u=c.replace(/\s+/g,"").replace(/[^0-9]/gi,""),d=u.match(/\d{4,16}/g),f=d&&d[0]||"",p=[];for(let g=0,x=f.length;g<x;g+=4)p.push(f.substring(g,g+4));return p.length?p.join(" "):u},a=c=>{const u=c.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return u.length>=2?u.substring(0,2)+(u.length>2?"/"+u.substring(2,4):""):u};return l.jsxs(xe,{children:[l.jsx(Se,{children:l.jsxs(ke,{className:"flex items-center gap-2",children:[l.jsx(y1,{className:"h-5 w-5"}),"Payment Details"]})}),l.jsx(Ce,{children:l.jsx(mv,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[l.jsx(At,{control:s.control,name:"cardholderName",rules:{required:"Cardholder name is required"},render:({field:c})=>l.jsxs(_t,{children:[l.jsx(St,{children:"Cardholder Name"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"John Doe",...c})}),l.jsx(jt,{})]})}),l.jsx(At,{control:s.control,name:"cardNumber",rules:{required:"Card number is required",minLength:{value:19,message:"Card number must be complete"}},render:({field:c})=>l.jsxs(_t,{children:[l.jsx(St,{children:"Card Number"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"1234 5678 9012 3456",...c,onChange:u=>{const d=o(u.target.value);c.onChange(d)},maxLength:19})}),l.jsx(jt,{})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(At,{control:s.control,name:"expiryDate",rules:{required:"Expiry date is required",pattern:{value:/^(0[1-9]|1[0-2])\/\d{2}$/,message:"Invalid expiry date format (MM/YY)"}},render:({field:c})=>l.jsxs(_t,{children:[l.jsx(St,{children:"Expiry Date"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"MM/YY",...c,onChange:u=>{const d=a(u.target.value);c.onChange(d)},maxLength:5})}),l.jsx(jt,{})]})}),l.jsx(At,{control:s.control,name:"cvv",rules:{required:"CVV is required",minLength:{value:3,message:"CVV must be 3-4 digits"},maxLength:{value:4,message:"CVV must be 3-4 digits"}},render:({field:c})=>l.jsxs(_t,{children:[l.jsx(St,{children:"CVV"}),l.jsx(kt,{children:l.jsx(ye,{placeholder:"123",type:"password",...c,onChange:u=>{const d=u.target.value.replace(/[^0-9]/g,"");c.onChange(d)},maxLength:4})}),l.jsx(jt,{})]})})]}),l.jsxs("div",{className:"pt-4 space-y-3",children:[l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:[l.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Test Card Information:"}),l.jsx("p",{children:" Card Number: 4242 4242 4242 4242"}),l.jsx("p",{children:" Expiry: Any future date (e.g., 12/25)"}),l.jsx("p",{children:" CVV: Any 3-4 digits (e.g., 123)"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(Te,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:[l.jsx(m1,{className:"h-4 w-4 mr-2"}),"Back"]}),l.jsx(Te,{type:"submit",disabled:n,className:"flex-1",children:n?"Processing...":"Complete Order"})]})]})]})})})]})},KU=({items:e,total:t,currentStep:r})=>{const n=t,s=n*.08,i=n+s,o=e.some(a=>a.product.stock<=0||a.quantity>a.product.stock);return l.jsx("div",{className:"space-y-4",children:l.jsxs(xe,{className:"sticky top-4",children:[l.jsx(Se,{children:l.jsx(ke,{children:"Order Summary"})}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsx("div",{className:"space-y-3",children:e.map(a=>{const c=a.product.stock<=0||a.quantity>a.product.stock;return l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium text-sm",children:a.product.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",a.quantity]}),c&&l.jsx(ut,{variant:"destructive",className:"text-xs",children:"Stock Issue"})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["$",a.product.price.toFixed(2)," each"]})]}),l.jsxs("span",{className:"font-medium text-sm",children:["$",(a.product.price*a.quantity).toFixed(2)]})]},a.id)})}),l.jsx(zu,{}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["$",n.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{className:"text-green-600",children:"Free"})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Tax (8%)"}),l.jsxs("span",{children:["$",s.toFixed(2)]})]}),l.jsx(zu,{}),l.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",i.toFixed(2)]})]})]}),o&&l.jsx("div",{className:"mt-4 p-3 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Sl,{className:"h-4 w-4 text-amber-600 mt-0.5 shrink-0"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Stock Issues Detected"}),l.jsx("p",{className:"text-amber-700 dark:text-amber-300 mt-1",children:"Some items may not be available. Please review your cart."})]})]})}),l.jsxs("div",{className:"mt-6 pt-4 border-t",children:[l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Step ",r," of 2"]}),l.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r/2*100}%`}})})]})]})]})})},GU=async e=>{console.log("Processing order:",e);try{const t=`ORD-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r=e.items.reduce((i,o)=>i+o.price*o.quantity,0),{data:n,error:s}=await oe.from("orders").insert({user_id:e.userId,order_number:t,total_amount:r,status:"pending"}).select("id").single();if(s)throw console.error("Error creating order:",s),s;console.log("Order created:",n);for(const i of e.items){console.log(`Processing ${i.quantity} items for product ${i.productId}`);const{data:o,error:a}=await oe.from("inventory").select("id, name, quantity").eq("id",i.productId).single();if(a)throw console.error("Error checking inventory:",a),new Error(`Product ${i.productId} not found`);console.log("Inventory check:",o);const{data:c,error:u}=await oe.from("items").select("serial_id, inventory_id").eq("inventory_id",i.productId).eq("status","available").order("serial_id",{ascending:!0}).limit(i.quantity);if(u)throw console.error("Error fetching available items:",u),u;if(console.log(`Found ${(c==null?void 0:c.length)||0} available items for product ${i.productId}`),!c||c.length<i.quantity)throw new Error(`Insufficient stock for product ${o.name}. Available: ${(c==null?void 0:c.length)||0}, Required: ${i.quantity}`);console.log("Available items to mark as sold:",c);const d=c.map(x=>x.serial_id),{error:f}=await oe.from("items").update({status:"sold"}).in("serial_id",d);if(f)throw console.error("Error updating item status:",f),f;console.log(`Successfully marked ${d.length} items as sold:`,d);const p=c.map(x=>({order_id:n.id,item_serial:x.serial_id,price:i.price})),{error:g}=await oe.from("order_items").insert(p);if(g)throw console.error("Error creating order items:",g),g;console.log(`Successfully processed ${i.quantity} items for product ${i.productId}`)}return console.log("Order processing completed successfully"),{success:!0,orderId:n.id}}catch(t){return console.error("Error processing order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},QU=async e=>{try{const{error:t}=await oe.from("orders").update({status:"completed"}).eq("id",e);if(t)throw console.error("Error completing order:",t),t;return console.log("Order completed successfully:",e),{success:!0}}catch(t){return console.error("Error completing order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},YU=()=>{const e=Pi(),{items:t,total:r,clearCart:n}=wg(),{user:s}=Un(),{toast:i}=ir(),[o,a]=h.useState(1),[c,u]=h.useState({firstName:"",lastName:"",email:"",phone:"",company:"",address:"",city:"",state:"",postalCode:"",country:"United States"}),[d,f]=h.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[p,g]=h.useState(!1);h.useEffect(()=>{t.length===0&&(e("/store"),i({title:"Cart is empty",description:"Add items to your cart before checking out.",variant:"destructive"}))},[t,e,i]),h.useEffect(()=>{s&&u(y=>({...y,firstName:s.name.split(" ")[0]||"",lastName:s.name.split(" ").slice(1).join(" ")||"",email:s.email||""}))},[s]);const x=y=>{u(y),a(2)},m=async y=>{f(y),g(!0);try{if(!s)throw new Error("User not authenticated");const v=t.map(_=>({productId:_.product.id,quantity:_.quantity,price:_.product.price})),b=await GU({userId:s.id,items:v,invoiceData:c,paymentData:y});if(!b.success)throw new Error(b.error||"Failed to process order");if(await new Promise(_=>setTimeout(_,2e3)),b.orderId){const _=await QU(b.orderId);_.success||console.warn("Order created but failed to mark as delivered:",_.error)}i({title:"Order placed successfully!",description:`Your order has been confirmed. Order total: $${(r*1.08).toFixed(2)}`}),n(),e("/store")}catch(v){console.error("Payment processing error:",v),i({title:"Payment failed",description:v instanceof Error?v.message:"There was an error processing your payment. Please try again.",variant:"destructive"})}finally{g(!1)}},w=[{number:1,title:"Invoice Information",icon:S1},{number:2,title:"Payment Details",icon:y1}];return t.length===0?null:l.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[l.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>e("/cart"),className:"shrink-0",children:l.jsx(m1,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Checkout"}),l.jsx("p",{className:"text-muted-foreground",children:"Complete your purchase securely"})]})]}),l.jsx("div",{className:"flex items-center justify-center mb-8",children:w.map((y,v)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${o>=y.number?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:l.jsx(y.icon,{className:"h-5 w-5"})}),l.jsx("div",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-100",children:y.title}),v<w.length-1&&l.jsx("div",{className:`mx-6 h-0.5 w-16 ${o>y.number?"bg-blue-600":"bg-gray-300"}`})]},y.number))}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o===1&&l.jsx(qU,{initialData:c,onSubmit:x}),o===2&&l.jsx(HU,{initialData:d,onSubmit:m,onBack:()=>a(1),isProcessing:p})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx(KU,{items:t,total:r,currentStep:o})})]}),l.jsxs("div",{className:"mt-8 flex items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:[l.jsx(PA,{className:"h-4 w-4 mr-2"}),"Your payment information is secure and encrypted"]})]})})},ZU=()=>l.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics Dashboard"}),l.jsx("p",{className:"text-muted-foreground",children:"Comprehensive insights and performance metrics for your business"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(xe,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ke,{className:"text-sm font-medium",children:"Total Revenue"}),l.jsx(Cg,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold",children:"$45,231"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx(b1,{className:"inline h-3 w-3 mr-1 text-green-600"}),"+20.1% from last month"]})]})]}),l.jsxs(xe,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ke,{className:"text-sm font-medium",children:"Products Sold"}),l.jsx(an,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold",children:"2,350"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"+180 from last month"})]})]}),l.jsxs(xe,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ke,{className:"text-sm font-medium",children:"Total Orders"}),l.jsx(Eg,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold",children:"1,234"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"+19% from last month"})]})]}),l.jsxs(xe,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ke,{className:"text-sm font-medium",children:"Active Users"}),l.jsx(Ng,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold",children:"573"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"+201 since last hour"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsx(ke,{children:"Analytics Overview"}),l.jsx(st,{children:"Performance metrics and trends over time"})]}),l.jsx(Ce,{children:l.jsxs(Og,{defaultValue:"revenue",className:"w-full",children:[l.jsxs(Bd,{className:"grid w-full grid-cols-3",children:[l.jsx(kr,{value:"revenue",children:"Revenue"}),l.jsx(kr,{value:"products",children:"Products"}),l.jsx(kr,{value:"customers",children:"Customers"})]}),l.jsx(jr,{value:"revenue",className:"mt-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gx,{className:"h-5 w-5 text-blue-600"}),l.jsx("h3",{className:"font-semibold",children:"Revenue Trends"})]}),l.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx(gx,{className:"h-12 w-12 mx-auto text-muted-foreground"}),l.jsx("p",{className:"text-muted-foreground font-medium",children:"Revenue Chart"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly revenue trends"})]})})]})}),l.jsx(jr,{value:"products",className:"mt-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vx,{className:"h-5 w-5 text-green-600"}),l.jsx("h3",{className:"font-semibold",children:"Product Performance"})]}),l.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx(vx,{className:"h-12 w-12 mx-auto text-muted-foreground"}),l.jsx("p",{className:"text-muted-foreground font-medium",children:"Product Sales Chart"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sales by category"})]})})]})}),l.jsx(jr,{value:"customers",className:"mt-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Eu,{className:"h-5 w-5 text-orange-600"}),l.jsx("h3",{className:"font-semibold",children:"Customer Analytics"})]}),l.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg border-2 border-dashed border-muted",children:l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx(Eu,{className:"h-12 w-12 mx-auto text-muted-foreground"}),l.jsx("p",{className:"text-muted-foreground font-medium",children:"Customer Demographics"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"User engagement data"})]})})]})})]})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsx(ke,{className:"text-lg",children:"Top Performing Products"}),l.jsx(st,{children:"Best sellers this month"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(an,{size:16,className:"text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:"Premium Headphones"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Electronics"})]})]}),l.jsx("span",{className:"font-semibold text-sm",children:"$12,450"})]}),l.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(an,{size:16,className:"text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:"Smart Watch"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Wearables"})]})]}),l.jsx("span",{className:"font-semibold text-sm",children:"$8,920"})]}),l.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:l.jsx(an,{size:16,className:"text-orange-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:"Wireless Speaker"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Audio"})]})]}),l.jsx("span",{className:"font-semibold text-sm",children:"$6,750"})]})]})]}),l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsx(ke,{className:"text-lg",children:"Recent Activity"}),l.jsx(st,{children:"Latest system events"})]}),l.jsxs(Ce,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start gap-3 p-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"New order processed"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"2 minutes ago"})]})]}),l.jsxs("div",{className:"flex items-start gap-3 p-2",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Inventory updated"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"15 minutes ago"})]})]}),l.jsxs("div",{className:"flex items-start gap-3 p-2",children:[l.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Low stock alert"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"1 hour ago"})]})]})]})]})]})]})]}),XU=()=>{const{user:e}=Un(),{toast:t}=ir(),[r,n]=h.useState(!1),[s,i]=h.useState(!1),[o,a]=h.useState({name:"",email:"",phone:"",company_name:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",tax_id:"",avatar_url:""});h.useEffect(()=>{e&&(a({name:e.name||"",email:e.email||"",phone:"",company_name:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",tax_id:"",avatar_url:e.avatar||""}),c())},[e]);const c=async()=>{if(e)try{const{data:g,error:x}=await oe.from("profiles").select("*").eq("id",e.id).single();if(x){console.error("Error fetching profile:",x);return}g&&a(m=>({...m,phone:g.phone||"",company_name:g.company_name||"",address_line1:g.address_line1||"",address_line2:g.address_line2||"",city:g.city||"",state:g.state||"",postal_code:g.postal_code||"",country:g.country||"",tax_id:g.tax_id||"",avatar_url:g.avatar_url||""}))}catch(g){console.error("Error fetching profile data:",g)}},u=g=>{const{name:x,value:m}=g.target;a(w=>({...w,[x]:m}))},d=async g=>{try{if(i(!0),!g.target.files||g.target.files.length===0)throw new Error("You must select an image to upload.");const x=g.target.files[0],m=x.name.split(".").pop(),w=`${e==null?void 0:e.id}/avatar.${m}`,{error:y}=await oe.storage.from("avatars").upload(w,x,{upsert:!0});if(y)throw y;const{data:v}=oe.storage.from("avatars").getPublicUrl(w);a(b=>({...b,avatar_url:v.publicUrl})),t({title:"Avatar uploaded",description:"Your profile picture has been updated successfully."})}catch(x){t({title:"Error uploading avatar",description:x.message,variant:"destructive"})}finally{i(!1)}},f=async g=>{if(g.preventDefault(),!!e){n(!0);try{const{error:x}=await oe.from("profiles").update({name:o.name,phone:o.phone,company_name:o.company_name,address_line1:o.address_line1,address_line2:o.address_line2,city:o.city,state:o.state,postal_code:o.postal_code,country:o.country,tax_id:o.tax_id,avatar_url:o.avatar_url,updated_at:new Date().toISOString()}).eq("id",e.id);if(x)throw x;t({title:"Profile updated",description:"Your profile has been updated successfully."})}catch(x){t({title:"Error updating profile",description:x.message,variant:"destructive"})}finally{n(!1)}}};if(!e)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})});const p=o.name?o.name.substring(0,2).toUpperCase():o.email.substring(0,2).toUpperCase();return l.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Profile Settings"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your account information and invoice details"})]}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsx(ke,{children:"Profile Picture"}),l.jsx(st,{children:"Upload a profile picture to personalize your account"})]}),l.jsx(Ce,{className:"space-y-4",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs(Wd,{className:"h-20 w-20",children:[l.jsx(qd,{src:o.avatar_url,alt:o.name}),l.jsx(Hd,{children:p})]}),l.jsxs("div",{children:[l.jsxs(Fe,{htmlFor:"avatar",className:"cursor-pointer",children:[l.jsxs("div",{className:"flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:[l.jsx(_1,{className:"h-4 w-4"}),l.jsx("span",{children:s?"Uploading...":"Upload Picture"})]}),l.jsx(ye,{id:"avatar",type:"file",accept:"image/*",onChange:d,disabled:s,className:"hidden"})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"JPG, PNG or GIF. Max size 2MB."})]})]})})]}),l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsx(ke,{children:"Personal Information"}),l.jsx(st,{children:"Update your personal details"})]}),l.jsx(Ce,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"name",children:"Full Name"}),l.jsx(ye,{id:"name",name:"name",value:o.name,onChange:u,placeholder:"Enter your full name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"email",children:"Email"}),l.jsx(ye,{id:"email",name:"email",type:"email",value:o.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"phone",children:"Phone Number"}),l.jsx(ye,{id:"phone",name:"phone",value:o.phone,onChange:u,placeholder:"Enter your phone number"})]})]})})]}),l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsx(ke,{children:"Invoice Information"}),l.jsx(st,{children:"This information will be used for billing and invoices"})]}),l.jsx(Ce,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx(Fe,{htmlFor:"company_name",children:"Company Name"}),l.jsx(ye,{id:"company_name",name:"company_name",value:o.company_name,onChange:u,placeholder:"Enter company name (optional)"})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx(Fe,{htmlFor:"address_line1",children:"Address Line 1"}),l.jsx(ye,{id:"address_line1",name:"address_line1",value:o.address_line1,onChange:u,placeholder:"Street address"})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx(Fe,{htmlFor:"address_line2",children:"Address Line 2"}),l.jsx(ye,{id:"address_line2",name:"address_line2",value:o.address_line2,onChange:u,placeholder:"Apartment, suite, etc. (optional)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"city",children:"City"}),l.jsx(ye,{id:"city",name:"city",value:o.city,onChange:u,placeholder:"City"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"state",children:"State/Province"}),l.jsx(ye,{id:"state",name:"state",value:o.state,onChange:u,placeholder:"State or Province"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"postal_code",children:"Postal Code"}),l.jsx(ye,{id:"postal_code",name:"postal_code",value:o.postal_code,onChange:u,placeholder:"Postal code"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"country",children:"Country"}),l.jsx(ye,{id:"country",name:"country",value:o.country,onChange:u,placeholder:"Country"})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx(Fe,{htmlFor:"tax_id",children:"Tax ID"}),l.jsx(ye,{id:"tax_id",name:"tax_id",value:o.tax_id,onChange:u,placeholder:"Tax identification number (optional)"})]})]})})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(Te,{type:"submit",disabled:r,children:r?"Saving...":"Save Changes"})})]})]})})},JU=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,i]=h.useState(!1),[o,a]=h.useState(null),[c,u]=h.useState(null);h.useState("customer");const[d,f]=h.useState({name:"",email:"",password:"",role:"customer"}),{toast:p}=ir(),g=async()=>{try{const{data:v,error:b}=await oe.from("profiles").select("*").order("created_at",{ascending:!1});if(b){console.error("Error fetching users:",b),p({title:"Error fetching users",description:b.message,variant:"destructive"});return}const _=v.map(S=>({id:S.id,name:S.name||"User",email:S.email||"",role:S.role||"customer",avatar:S.avatar_url||"",createdAt:new Date(S.created_at||Date.now()),updatedAt:new Date(S.updated_at||Date.now())}));t(_)}catch(v){console.error("Error in fetchUsers:",v),p({title:"Error",description:"Failed to fetch users",variant:"destructive"})}finally{n(!1)}},x=async v=>{if(v.preventDefault(),!d.name||!d.email||!d.password){p({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}i(!0);try{const{data:{session:b}}=await oe.auth.getSession();if(!b){p({title:"Authentication required",description:"Please log in to create users",variant:"destructive"});return}console.log("Calling create-user edge function...");const{data:_,error:S}=await oe.functions.invoke("create-user",{body:{name:d.name,email:d.email,password:d.password,role:d.role},headers:{Authorization:`Bearer ${b.access_token}`}});if(S){console.error("Edge function error:",S),p({title:"Error creating user",description:S.message||"Failed to create user",variant:"destructive"});return}console.log("User creation response:",_),p({title:"User created successfully",description:`${d.name} has been added to the system`,variant:"default"}),f({name:"",email:"",password:"",role:"customer"}),g()}catch(b){console.error("Error in handleCreateUser:",b),p({title:"Error",description:"Failed to create user. Please try again.",variant:"destructive"})}finally{i(!1)}},m=async(v,b)=>{if(confirm(`Are you sure you want to delete ${b}? This action cannot be undone.`)){a(v);try{const{data:{session:_}}=await oe.auth.getSession();if(!_){p({title:"Authentication required",description:"Please log in to delete users",variant:"destructive"});return}console.log("Calling delete-user edge function...");const{data:S,error:E}=await oe.functions.invoke("delete-user",{body:{userId:v},headers:{Authorization:`Bearer ${_.access_token}`}});if(E){console.error("Edge function error:",E),p({title:"Error deleting user",description:E.message||"Failed to delete user",variant:"destructive"});return}console.log("User deletion response:",S),p({title:"User deleted successfully",description:`${b} has been removed from the system`,variant:"default"}),g()}catch(_){console.error("Error in handleDeleteUser:",_),p({title:"Error",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{a(null)}}},w=async(v,b)=>{u(v);try{await SO(v,b)?(p({title:"Role updated successfully",description:`User role has been changed to ${b}`,variant:"default"}),g()):p({title:"Error updating role",description:"Failed to update user role. Please try again.",variant:"destructive"})}catch(_){console.error("Error in handleUpdateRole:",_),p({title:"Error",description:"Failed to update user role. Please try again.",variant:"destructive"})}finally{u(null)}},y=v=>{switch(v){case"admin":return"destructive";case"warehouse":return"default";case"analyst":return"secondary";case"customer":return"outline";default:return"outline"}};return h.useEffect(()=>{g()},[]),l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts and permissions"})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx(Ng,{className:"h-8 w-8 text-muted-foreground"})})]}),l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsxs(ke,{className:"flex items-center space-x-2",children:[l.jsx(yx,{className:"h-5 w-5"}),l.jsx("span",{children:"Create New User"})]}),l.jsx(st,{children:"Add a new user account to the system"})]}),l.jsx(Ce,{children:l.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"name",children:"Full Name *"}),l.jsx(ye,{id:"name",type:"text",value:d.name,onChange:v=>f({...d,name:v.target.value}),placeholder:"Enter full name",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"email",children:"Email Address *"}),l.jsx(ye,{id:"email",type:"email",value:d.email,onChange:v=>f({...d,email:v.target.value}),placeholder:"Enter email address",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"password",children:"Password *"}),l.jsx(ye,{id:"password",type:"password",value:d.password,onChange:v=>f({...d,password:v.target.value}),placeholder:"Enter password",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"role",children:"Role *"}),l.jsxs(Rl,{value:d.role,onValueChange:v=>f({...d,role:v}),children:[l.jsx(Ko,{children:l.jsx(Uu,{placeholder:"Select role"})}),l.jsxs(Go,{children:[l.jsx(Ze,{value:"customer",children:"Customer"}),l.jsx(Ze,{value:"warehouse",children:"Warehouse"}),l.jsx(Ze,{value:"analyst",children:"Analyst"}),l.jsx(Ze,{value:"admin",children:"Admin"})]})]})]}),l.jsx("div",{className:"md:col-span-2",children:l.jsx(Te,{type:"submit",disabled:s,className:"w-full md:w-auto",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Ya,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating User..."]}):l.jsxs(l.Fragment,{children:[l.jsx(yx,{className:"mr-2 h-4 w-4"}),"Create User"]})})})]})})]}),l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsx(ke,{children:"Existing Users"}),l.jsx(st,{children:"View and manage all user accounts"})]}),l.jsx(Ce,{children:r?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx(Ya,{className:"h-8 w-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading users..."})]}):l.jsxs(tv,{children:[l.jsx(rv,{children:l.jsxs(bo,{children:[l.jsx(Cr,{children:"Name"}),l.jsx(Cr,{children:"Email"}),l.jsx(Cr,{children:"Role"}),l.jsx(Cr,{children:"Created At"}),l.jsx(Cr,{children:"Actions"})]})}),l.jsxs(nv,{children:[e.map(v=>l.jsxs(bo,{children:[l.jsx(fr,{className:"font-medium",children:v.name}),l.jsx(fr,{children:v.email}),l.jsx(fr,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ut,{variant:y(v.role),children:v.role}),l.jsxs(Rl,{value:v.role,onValueChange:b=>w(v.id,b),disabled:c===v.id,children:[l.jsx(Ko,{className:"w-24 h-8",children:l.jsx(LA,{className:"h-3 w-3"})}),l.jsxs(Go,{children:[l.jsx(Ze,{value:"customer",children:"Customer"}),l.jsx(Ze,{value:"warehouse",children:"Warehouse"}),l.jsx(Ze,{value:"analyst",children:"Analyst"}),l.jsx(Ze,{value:"admin",children:"Admin"})]})]})]})}),l.jsx(fr,{children:v.createdAt.toLocaleDateString()}),l.jsx(fr,{children:l.jsx(Te,{variant:"destructive",size:"sm",onClick:()=>m(v.id,v.name),disabled:o===v.id,children:o===v.id?l.jsx(Ya,{className:"h-4 w-4 animate-spin"}):l.jsx(w1,{className:"h-4 w-4"})})})]},v.id)),e.length===0&&l.jsx(bo,{children:l.jsx(fr,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No users found"})})]})]})})]})]})},g0=(e,t,r)=>{if(e&&"reportValidity"in e){const n=U(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},IC=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?g0(n.ref,r,e):n.refs&&n.refs.forEach(s=>g0(s,r,e))}},e3=(e,t)=>{t.shouldUseNativeValidation&&IC(e,t);const r={};for(const n in e){const s=U(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(t3(t.names||Object.keys(e),n)){const o=Object.assign({},U(r,n));Ie(o,"root",i),Ie(r,n,o)}else Ie(r,n,i)}return r},t3=(e,t)=>e.some(r=>r.startsWith(t+"."));var r3=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=jC(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},n3=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&IC({},i),{errors:{},values:r.raw?n:u}})}catch(u){return a(u)}return c&&c.then?c.then(void 0,a):c}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:e3(r3(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ee;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ee||(Ee={}));var v0;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(v0||(v0={}));const G=Ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Js=e=>{switch(typeof e){case"undefined":return G.undefined;case"string":return G.string;case"number":return isNaN(e)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":return Array.isArray(e)?G.array:e===null?G.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?G.promise:typeof Map<"u"&&e instanceof Map?G.map:typeof Set<"u"&&e instanceof Set?G.set:typeof Date<"u"&&e instanceof Date?G.date:G.object;default:return G.unknown}},$=Ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Tr extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Tr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Tr.create=e=>new Tr(e);const Ol=(e,t)=>{let r;switch(e.code){case $.invalid_type:e.received===G.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case $.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ee.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ee.joinValues(e.keys,", ")}`;break;case $.invalid_union:r="Invalid input";break;case $.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ee.joinValues(e.options)}`;break;case $.invalid_enum_value:r=`Invalid enum value. Expected ${Ee.joinValues(e.options)}, received '${e.received}'`;break;case $.invalid_arguments:r="Invalid function arguments";break;case $.invalid_return_type:r="Invalid function return type";break;case $.invalid_date:r="Invalid date";break;case $.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ee.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case $.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case $.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case $.custom:r="Invalid input";break;case $.invalid_intersection_types:r="Intersection results could not be merged";break;case $.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case $.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ee.assertNever(e)}return{message:r}};let s3=Ol;function sm(){return s3}const im=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}};function q(e,t){const r=sm(),n=im({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ol?void 0:Ol].filter(s=>!!s)});e.common.issues.push(n)}class Bt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return le;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Bt.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return le;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const le=Object.freeze({status:"aborted"}),Ia=e=>({status:"dirty",value:e}),sr=e=>({status:"valid",value:e}),y0=e=>e.status==="aborted",x0=e=>e.status==="dirty",Hu=e=>e.status==="valid",Ku=e=>typeof Promise<"u"&&e instanceof Promise;function Gu(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function MC(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var re;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(re||(re={}));var Ma,Da;class hn{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const w0=(e,t)=>{if(Hu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Tr(e.common.issues);return this._error=r,this._error}}};function de(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:a.defaultError}},description:s}}class we{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Js(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Js(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Bt,ctx:{common:t.parent.common,data:t.data,parsedType:Js(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ku(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Js(t)},i=this._parseSync({data:t,path:s.path,parent:s});return w0(s,i)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Js(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Ku(s)?s:Promise.resolve(s));return w0(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:$.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Ln({schema:this,typeName:ae.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Nn.create(this,this._def)}nullable(){return Ci.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dn.create(this,this._def)}promise(){return Ml.create(this,this._def)}or(t){return Zu.create([this,t],this._def)}and(t){return Xu.create(this,t,this._def)}transform(t){return new Ln({...de(this._def),schema:this,typeName:ae.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new nd({...de(this._def),innerType:this,defaultValue:r,typeName:ae.ZodDefault})}brand(){return new FC({typeName:ae.ZodBranded,type:this,...de(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new sd({...de(this._def),innerType:this,catchValue:r,typeName:ae.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return uf.create(this,t)}readonly(){return id.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const i3=/^c[^\s-]{8,}$/i,o3=/^[0-9a-z]+$/,a3=/^[0-9A-HJKMNP-TV-Z]{26}$/,l3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,c3=/^[a-z0-9_-]{21}$/i,u3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,d3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,f3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vh;const h3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,p3=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,m3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,DC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",g3=new RegExp(`^${DC}$`);function LC(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function v3(e){return new RegExp(`^${LC(e)}$`)}function y3(e){let t=`${DC}T${LC(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function x3(e,t){return!!((t==="v4"||!t)&&h3.test(e)||(t==="v6"||!t)&&p3.test(e))}class Cn extends we{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==G.string){const i=this._getOrReturnCtx(t);return q(i,{code:$.invalid_type,expected:G.string,received:i.parsedType}),le}const n=new Bt;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:$.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:$.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?q(s,{code:$.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&q(s,{code:$.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")d3.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"email",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")vh||(vh=new RegExp(f3,"u")),vh.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"emoji",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")l3.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"uuid",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")c3.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"nanoid",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")i3.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"cuid",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")o3.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"cuid2",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")a3.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"ulid",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),q(s,{validation:"url",code:$.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"regex",code:$.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),q(s,{code:$.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),q(s,{code:$.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),q(s,{code:$.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?y3(i).test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:$.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?g3.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:$.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?v3(i).test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:$.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?u3.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"duration",code:$.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?x3(t.data,i.version)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"ip",code:$.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?m3.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"base64",code:$.invalid_string,message:i.message}),n.dirty()):Ee.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:$.invalid_string,...re.errToObj(n)})}_addCheck(t){return new Cn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...re.errToObj(t)})}url(t){return this._addCheck({kind:"url",...re.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...re.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...re.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...re.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...re.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...re.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...re.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...re.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...re.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...re.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...re.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...re.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...re.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...re.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...re.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...re.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...re.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...re.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...re.errToObj(r)})}nonempty(t){return this.min(1,re.errToObj(t))}trim(){return new Cn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Cn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Cn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Cn.create=e=>{var t;return new Cn({checks:[],typeName:ae.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...de(e)})};function w3(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Qo extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==G.number){const i=this._getOrReturnCtx(t);return q(i,{code:$.invalid_type,expected:G.number,received:i.parsedType}),le}let n;const s=new Bt;for(const i of this._def.checks)i.kind==="int"?Ee.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),q(n,{code:$.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),q(n,{code:$.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),q(n,{code:$.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?w3(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),q(n,{code:$.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),q(n,{code:$.not_finite,message:i.message}),s.dirty()):Ee.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,re.toString(r))}setLimit(t,r,n,s){return new Qo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:re.toString(s)}]})}_addCheck(t){return new Qo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:re.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ee.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Qo.create=e=>new Qo({checks:[],typeName:ae.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...de(e)});class Yo extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==G.bigint){const i=this._getOrReturnCtx(t);return q(i,{code:$.invalid_type,expected:G.bigint,received:i.parsedType}),le}let n;const s=new Bt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),q(n,{code:$.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),q(n,{code:$.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),q(n,{code:$.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ee.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,re.toString(r))}setLimit(t,r,n,s){return new Yo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:re.toString(s)}]})}_addCheck(t){return new Yo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:re.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Yo.create=e=>{var t;return new Yo({checks:[],typeName:ae.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...de(e)})};class om extends we{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==G.boolean){const n=this._getOrReturnCtx(t);return q(n,{code:$.invalid_type,expected:G.boolean,received:n.parsedType}),le}return sr(t.data)}}om.create=e=>new om({typeName:ae.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...de(e)});class Al extends we{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==G.date){const i=this._getOrReturnCtx(t);return q(i,{code:$.invalid_type,expected:G.date,received:i.parsedType}),le}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return q(i,{code:$.invalid_date}),le}const n=new Bt;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:$.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:$.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ee.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Al({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:re.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:re.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Al.create=e=>new Al({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ae.ZodDate,...de(e)});class am extends we{_parse(t){if(this._getType(t)!==G.symbol){const n=this._getOrReturnCtx(t);return q(n,{code:$.invalid_type,expected:G.symbol,received:n.parsedType}),le}return sr(t.data)}}am.create=e=>new am({typeName:ae.ZodSymbol,...de(e)});class Qu extends we{_parse(t){if(this._getType(t)!==G.undefined){const n=this._getOrReturnCtx(t);return q(n,{code:$.invalid_type,expected:G.undefined,received:n.parsedType}),le}return sr(t.data)}}Qu.create=e=>new Qu({typeName:ae.ZodUndefined,...de(e)});class Yu extends we{_parse(t){if(this._getType(t)!==G.null){const n=this._getOrReturnCtx(t);return q(n,{code:$.invalid_type,expected:G.null,received:n.parsedType}),le}return sr(t.data)}}Yu.create=e=>new Yu({typeName:ae.ZodNull,...de(e)});class Il extends we{constructor(){super(...arguments),this._any=!0}_parse(t){return sr(t.data)}}Il.create=e=>new Il({typeName:ae.ZodAny,...de(e)});class _o extends we{constructor(){super(...arguments),this._unknown=!0}_parse(t){return sr(t.data)}}_o.create=e=>new _o({typeName:ae.ZodUnknown,...de(e)});class Ms extends we{_parse(t){const r=this._getOrReturnCtx(t);return q(r,{code:$.invalid_type,expected:G.never,received:r.parsedType}),le}}Ms.create=e=>new Ms({typeName:ae.ZodNever,...de(e)});class lm extends we{_parse(t){if(this._getType(t)!==G.undefined){const n=this._getOrReturnCtx(t);return q(n,{code:$.invalid_type,expected:G.void,received:n.parsedType}),le}return sr(t.data)}}lm.create=e=>new lm({typeName:ae.ZodVoid,...de(e)});class dn extends we{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==G.array)return q(r,{code:$.invalid_type,expected:G.array,received:r.parsedType}),le;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(q(r,{code:o?$.too_big:$.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(q(r,{code:$.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(q(r,{code:$.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new hn(r,o,r.path,a)))).then(o=>Bt.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new hn(r,o,r.path,a)));return Bt.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new dn({...this._def,minLength:{value:t,message:re.toString(r)}})}max(t,r){return new dn({...this._def,maxLength:{value:t,message:re.toString(r)}})}length(t,r){return new dn({...this._def,exactLength:{value:t,message:re.toString(r)}})}nonempty(t){return this.min(1,t)}}dn.create=(e,t)=>new dn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ae.ZodArray,...de(t)});function Yi(e){if(e instanceof tt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Nn.create(Yi(n))}return new tt({...e._def,shape:()=>t})}else return e instanceof dn?new dn({...e._def,type:Yi(e.element)}):e instanceof Nn?Nn.create(Yi(e.unwrap())):e instanceof Ci?Ci.create(Yi(e.unwrap())):e instanceof Dn?Dn.create(e.items.map(t=>Yi(t))):e}class tt extends we{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ee.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==G.object){const u=this._getOrReturnCtx(t);return q(u,{code:$.invalid_type,expected:G.object,received:u.parsedType}),le}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ms&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new hn(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ms){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(q(s,{code:$.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new hn(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,p=await d.value;u.push({key:f,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Bt.mergeObjectSync(n,u)):Bt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return re.errToObj,new tt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=re.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new tt({...this._def,unknownKeys:"strip"})}passthrough(){return new tt({...this._def,unknownKeys:"passthrough"})}extend(t){return new tt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new tt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ae.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new tt({...this._def,catchall:t})}pick(t){const r={};return Ee.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new tt({...this._def,shape:()=>r})}omit(t){const r={};return Ee.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new tt({...this._def,shape:()=>r})}deepPartial(){return Yi(this)}partial(t){const r={};return Ee.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new tt({...this._def,shape:()=>r})}required(t){const r={};return Ee.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Nn;)i=i._def.innerType;r[n]=i}}),new tt({...this._def,shape:()=>r})}keyof(){return $C(Ee.objectKeys(this.shape))}}tt.create=(e,t)=>new tt({shape:()=>e,unknownKeys:"strip",catchall:Ms.create(),typeName:ae.ZodObject,...de(t)});tt.strictCreate=(e,t)=>new tt({shape:()=>e,unknownKeys:"strict",catchall:Ms.create(),typeName:ae.ZodObject,...de(t)});tt.lazycreate=(e,t)=>new tt({shape:e,unknownKeys:"strip",catchall:Ms.create(),typeName:ae.ZodObject,...de(t)});class Zu extends we{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Tr(a.ctx.common.issues));return q(r,{code:$.invalid_union,unionErrors:o}),le}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Tr(c));return q(r,{code:$.invalid_union,unionErrors:a}),le}}get options(){return this._def.options}}Zu.create=(e,t)=>new Zu({options:e,typeName:ae.ZodUnion,...de(t)});const yn=e=>e instanceof ed?yn(e.schema):e instanceof Ln?yn(e.innerType()):e instanceof td?[e.value]:e instanceof ji?e.options:e instanceof rd?Ee.objectValues(e.enum):e instanceof nd?yn(e._def.innerType):e instanceof Qu?[void 0]:e instanceof Yu?[null]:e instanceof Nn?[void 0,...yn(e.unwrap())]:e instanceof Ci?[null,...yn(e.unwrap())]:e instanceof FC||e instanceof id?yn(e.unwrap()):e instanceof sd?yn(e._def.innerType):[];class gv extends we{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==G.object)return q(r,{code:$.invalid_type,expected:G.object,received:r.parsedType}),le;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(q(r,{code:$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),le)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=yn(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,i)}}return new gv({typeName:ae.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...de(n)})}}function cm(e,t){const r=Js(e),n=Js(t);if(e===t)return{valid:!0,data:e};if(r===G.object&&n===G.object){const s=Ee.objectKeys(t),i=Ee.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const c=cm(e[a],t[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===G.array&&n===G.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],c=cm(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===G.date&&n===G.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Xu extends we{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(y0(i)||y0(o))return le;const a=cm(i.value,o.value);return a.valid?((x0(i)||x0(o))&&r.dirty(),{status:r.value,value:a.data}):(q(n,{code:$.invalid_intersection_types}),le)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Xu.create=(e,t,r)=>new Xu({left:e,right:t,typeName:ae.ZodIntersection,...de(r)});class Dn extends we{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==G.array)return q(n,{code:$.invalid_type,expected:G.array,received:n.parsedType}),le;if(n.data.length<this._def.items.length)return q(n,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),le;!this._def.rest&&n.data.length>this._def.items.length&&(q(n,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new hn(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Bt.mergeArray(r,o)):Bt.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Dn({...this._def,rest:t})}}Dn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Dn({items:e,typeName:ae.ZodTuple,rest:null,...de(t)})};class Ju extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==G.object)return q(n,{code:$.invalid_type,expected:G.object,received:n.parsedType}),le;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new hn(n,a,n.path,a)),value:o._parse(new hn(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?Bt.mergeObjectAsync(r,s):Bt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof we?new Ju({keyType:t,valueType:r,typeName:ae.ZodRecord,...de(n)}):new Ju({keyType:Cn.create(),valueType:t,typeName:ae.ZodRecord,...de(r)})}}class um extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==G.map)return q(n,{code:$.invalid_type,expected:G.map,received:n.parsedType}),le;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,c],u)=>({key:s._parse(new hn(n,a,n.path,[u,"key"])),value:i._parse(new hn(n,c,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return le;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(u.value,d.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return le;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(u.value,d.value)}return{status:r.value,value:a}}}}um.create=(e,t,r)=>new um({valueType:t,keyType:e,typeName:ae.ZodMap,...de(r)});class Zo extends we{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==G.set)return q(n,{code:$.invalid_type,expected:G.set,received:n.parsedType}),le;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(q(n,{code:$.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(q(n,{code:$.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return le;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((c,u)=>i._parse(new hn(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(t,r){return new Zo({...this._def,minSize:{value:t,message:re.toString(r)}})}max(t,r){return new Zo({...this._def,maxSize:{value:t,message:re.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Zo.create=(e,t)=>new Zo({valueType:e,minSize:null,maxSize:null,typeName:ae.ZodSet,...de(t)});class tl extends we{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==G.function)return q(r,{code:$.invalid_type,expected:G.function,received:r.parsedType}),le;function n(a,c){return im({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,sm(),Ol].filter(u=>!!u),issueData:{code:$.invalid_arguments,argumentsError:c}})}function s(a,c){return im({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,sm(),Ol].filter(u=>!!u),issueData:{code:$.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Ml){const a=this;return sr(async function(...c){const u=new Tr([]),d=await a._def.args.parseAsync(c,i).catch(g=>{throw u.addIssue(n(c,g)),u}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,i).catch(g=>{throw u.addIssue(s(f,g)),u})})}else{const a=this;return sr(function(...c){const u=a._def.args.safeParse(c,i);if(!u.success)throw new Tr([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(d,i);if(!f.success)throw new Tr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new tl({...this._def,args:Dn.create(t).rest(_o.create())})}returns(t){return new tl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new tl({args:t||Dn.create([]).rest(_o.create()),returns:r||_o.create(),typeName:ae.ZodFunction,...de(n)})}}class ed extends we{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ed.create=(e,t)=>new ed({getter:e,typeName:ae.ZodLazy,...de(t)});class td extends we{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return q(r,{received:r.data,code:$.invalid_literal,expected:this._def.value}),le}return{status:"valid",value:t.data}}get value(){return this._def.value}}td.create=(e,t)=>new td({value:e,typeName:ae.ZodLiteral,...de(t)});function $C(e,t){return new ji({values:e,typeName:ae.ZodEnum,...de(t)})}class ji extends we{constructor(){super(...arguments),Ma.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return q(r,{expected:Ee.joinValues(n),received:r.parsedType,code:$.invalid_type}),le}if(Gu(this,Ma)||MC(this,Ma,new Set(this._def.values)),!Gu(this,Ma).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return q(r,{received:r.data,code:$.invalid_enum_value,options:n}),le}return sr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ji.create(t,{...this._def,...r})}exclude(t,r=this._def){return ji.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ma=new WeakMap;ji.create=$C;class rd extends we{constructor(){super(...arguments),Da.set(this,void 0)}_parse(t){const r=Ee.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==G.string&&n.parsedType!==G.number){const s=Ee.objectValues(r);return q(n,{expected:Ee.joinValues(s),received:n.parsedType,code:$.invalid_type}),le}if(Gu(this,Da)||MC(this,Da,new Set(Ee.getValidEnumValues(this._def.values))),!Gu(this,Da).has(t.data)){const s=Ee.objectValues(r);return q(n,{received:n.data,code:$.invalid_enum_value,options:s}),le}return sr(t.data)}get enum(){return this._def.values}}Da=new WeakMap;rd.create=(e,t)=>new rd({values:e,typeName:ae.ZodNativeEnum,...de(t)});class Ml extends we{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==G.promise&&r.common.async===!1)return q(r,{code:$.invalid_type,expected:G.promise,received:r.parsedType}),le;const n=r.parsedType===G.promise?r.data:Promise.resolve(r.data);return sr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ml.create=(e,t)=>new Ml({type:e,typeName:ae.ZodPromise,...de(t)});class Ln extends we{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{q(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return le;const c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?le:c.status==="dirty"||r.value==="dirty"?Ia(c.value):c});{if(r.value==="aborted")return le;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?le:a.status==="dirty"||r.value==="dirty"?Ia(a.value):a}}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?le:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?le:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Hu(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Hu(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);Ee.assertNever(s)}}Ln.create=(e,t,r)=>new Ln({schema:e,typeName:ae.ZodEffects,effect:t,...de(r)});Ln.createWithPreprocess=(e,t,r)=>new Ln({schema:t,effect:{type:"preprocess",transform:e},typeName:ae.ZodEffects,...de(r)});class Nn extends we{_parse(t){return this._getType(t)===G.undefined?sr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Nn.create=(e,t)=>new Nn({innerType:e,typeName:ae.ZodOptional,...de(t)});class Ci extends we{_parse(t){return this._getType(t)===G.null?sr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ci.create=(e,t)=>new Ci({innerType:e,typeName:ae.ZodNullable,...de(t)});class nd extends we{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===G.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}nd.create=(e,t)=>new nd({innerType:e,typeName:ae.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...de(t)});class sd extends we{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ku(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Tr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Tr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}sd.create=(e,t)=>new sd({innerType:e,typeName:ae.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...de(t)});class dm extends we{_parse(t){if(this._getType(t)!==G.nan){const n=this._getOrReturnCtx(t);return q(n,{code:$.invalid_type,expected:G.nan,received:n.parsedType}),le}return{status:"valid",value:t.data}}}dm.create=e=>new dm({typeName:ae.ZodNaN,...de(e)});class FC extends we{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class uf extends we{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?le:i.status==="dirty"?(r.dirty(),Ia(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?le:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new uf({in:t,out:r,typeName:ae.ZodPipeline})}}class id extends we{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Hu(s)&&(s.value=Object.freeze(s.value)),s);return Ku(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}id.create=(e,t)=>new id({innerType:e,typeName:ae.ZodReadonly,...de(t)});function b3(e,t={},r){return e?Il.create().superRefine((n,s)=>{var i,o;if(!e(n)){const a=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(o=(i=a.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...u,fatal:c})}}):Il.create()}tt.lazycreate;var ae;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ae||(ae={}));const _3=(e,t={message:`Input not instance of ${e.name}`})=>b3(r=>r instanceof e,t),S3=Cn.create;Qo.create;dm.create;Yo.create;om.create;Al.create;am.create;Qu.create;Yu.create;Il.create;_o.create;Ms.create;lm.create;dn.create;const k3=tt.create;tt.strictCreate;Zu.create;gv.create;Xu.create;Dn.create;Ju.create;um.create;Zo.create;tl.create;ed.create;td.create;ji.create;rd.create;Ml.create;Ln.create;Nn.create;Ci.create;Ln.createWithPreprocess;uf.create;const j3=k3({description:S3().min(10,"Description must be at least 10 characters"),photo:_3(File).optional()}),C3=({orderId:e,orderNumber:t,onSuccess:r,onCancel:n})=>{const{user:s}=Un(),{toast:i}=ir(),[o,a]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState(null),p=pv({resolver:n3(j3),defaultValues:{description:""}}),g=w=>{var v;const y=(v=w.target.files)==null?void 0:v[0];if(y){if(y.size>5*1024*1024){i({title:"File too large",description:"Please select a file smaller than 5MB.",variant:"destructive"});return}if(!y.type.startsWith("image/")){i({title:"Invalid file type",description:"Please select an image file.",variant:"destructive"});return}u(y);const b=URL.createObjectURL(y);f(b),p.setValue("photo",y)}},x=()=>{u(null),d&&(URL.revokeObjectURL(d),f(null)),p.setValue("photo",void 0)},m=async w=>{if(s){a(!0);try{let y=null;if(c){const b=c.name.split(".").pop(),_=`${e}_${Date.now()}.${b}`,{error:S}=await oe.storage.from("refund-photos").upload(_,c);if(S)throw S;const{data:E}=oe.storage.from("refund-photos").getPublicUrl(_);y=E.publicUrl}const{error:v}=await oe.from("refund_requests").insert({order_id:e,user_id:s.id,description:w.description,photo_url:y});if(v)throw v;i({title:"Refund request submitted",description:`Your refund request for order ${t} has been submitted successfully.`}),r()}catch(y){console.error("Error submitting refund request:",y),i({title:"Error",description:"Failed to submit refund request. Please try again.",variant:"destructive"})}finally{a(!1)}}};return l.jsxs(xe,{children:[l.jsxs(Se,{children:[l.jsxs(ke,{children:["Request Refund for Order #",t]}),l.jsx(st,{children:"Please provide details about the issue and upload a photo if applicable."})]}),l.jsx(Ce,{children:l.jsx(mv,{...p,children:l.jsxs("form",{onSubmit:p.handleSubmit(m),className:"space-y-6",children:[l.jsx(At,{control:p.control,name:"description",render:({field:w})=>l.jsxs(_t,{children:[l.jsx(St,{children:"Description of Issue"}),l.jsx(kt,{children:l.jsx(sv,{placeholder:"Please describe the issue with your order in detail...",className:"min-h-[100px]",...w})}),l.jsx(nm,{children:"Provide a detailed description of the problem (minimum 10 characters)"}),l.jsx(jt,{})]})}),l.jsx(At,{control:p.control,name:"photo",render:()=>l.jsxs(_t,{children:[l.jsx(St,{children:"Photo Evidence (Optional)"}),l.jsx(kt,{children:l.jsx("div",{className:"space-y-4",children:c?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:d,alt:"Preview",className:"max-w-full h-48 object-cover rounded-lg"}),l.jsx(Te,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:x,children:l.jsx(Fd,{className:"h-4 w-4"})})]}):l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[l.jsx(_1,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("div",{className:"mt-2",children:l.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:[l.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:"Click to upload a photo"}),l.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:g})]})}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF up to 5MB"})]})})}),l.jsx(nm,{children:"Upload a photo showing the issue (optional but recommended)"}),l.jsx(jt,{})]})}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Te,{type:"submit",disabled:o,children:o?"Submitting...":"Submit Refund Request"}),l.jsx(Te,{type:"button",variant:"outline",onClick:n,children:"Cancel"})]})]})})})]})},E3=()=>{const{user:e}=Un(),{toast:t}=ir(),[r,n]=h.useState(null),{data:s,isLoading:i,refetch:o}=ql({queryKey:["orders",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const{data:f,error:p}=await oe.from("orders").select(`
          id,
          order_number,
          status,
          total_amount,
          created_at,
          order_items (
            id,
            item_serial,
            price,
            items (
              inventory (
                name,
                description
              )
            )
          ),
          refund_requests (
            id,
            status,
            created_at
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(p)throw console.error("Error fetching orders:",p),p;return f},enabled:!!e}),a=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},c=f=>f.refund_requests.length===0?null:f.refund_requests.sort((g,x)=>new Date(x.created_at).getTime()-new Date(g.created_at).getTime())[0].status,u=f=>f.status==="delivered"&&f.refund_requests.length===0,d=()=>{n(null),o(),t({title:"Refund request submitted",description:"Your refund request has been submitted and will be reviewed."})};if(i)return l.jsxs("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),l.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading orders..."})]});if(r){const f=s==null?void 0:s.find(p=>p.id===r);if(f)return l.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(C3,{orderId:f.id,orderNumber:f.order_number,onSuccess:d,onCancel:()=>n(null)})})})}return l.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"My Orders"}),l.jsx("p",{className:"text-muted-foreground",children:"Track your orders and request refunds"})]}),!s||s.length===0?l.jsx(xe,{children:l.jsxs(Se,{children:[l.jsxs(ke,{className:"flex items-center gap-2",children:[l.jsx(an,{className:"h-5 w-5"}),"No Orders Found"]}),l.jsx(st,{children:"You haven't placed any orders yet. Start shopping to see your orders here."})]})}):l.jsx("div",{className:"space-y-4",children:s.map(f=>{const p=c(f);return l.jsxs(xe,{children:[l.jsx(Se,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(ke,{className:"flex items-center gap-2",children:[l.jsx(an,{className:"h-5 w-5"}),"Order #",f.order_number]}),l.jsxs(st,{className:"flex items-center gap-4 mt-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Fp,{className:"h-4 w-4"}),Lu(new Date(f.created_at),"PPP")]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Cg,{className:"h-4 w-4"}),"$",f.total_amount.toFixed(2)]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ut,{className:a(f.status),children:f.status.charAt(0).toUpperCase()+f.status.slice(1)}),p&&l.jsxs(ut,{variant:"outline",className:p==="pending"?"bg-yellow-100 text-yellow-800":p==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:["Refund ",p]}),u(f)&&l.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>n(f.id),className:"flex items-center gap-2",children:[l.jsx(Nu,{className:"h-4 w-4"}),"Request Refund"]})]})]})}),l.jsx(Ce,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Order Items:"}),l.jsx("div",{className:"space-y-2",children:f.order_items.map(g=>{var x,m,w,y;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((m=(x=g.items)==null?void 0:x.inventory)==null?void 0:m.name)||"Unknown Product"}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Serial: ",g.item_serial]}),((y=(w=g.items)==null?void 0:w.inventory)==null?void 0:y.description)&&l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.items.inventory.description})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["$",g.price.toFixed(2)]})})]},g.id)})})]})})]},f.id)})})]})})})},N3=()=>{const{user:e}=Un(),{data:t,isLoading:r}=ql({queryKey:["user-refund-requests",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const{data:s,error:i}=await oe.from("refund_requests").select(`
          id,
          description,
          photo_url,
          status,
          admin_notes,
          created_at,
          reviewed_at,
          orders (
            order_number,
            total_amount
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(i)throw i;return s},enabled:!!e}),n=s=>{switch(s){case"pending":return l.jsx(ut,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"Pending Review"});case"approved":return l.jsx(ut,{variant:"outline",className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return l.jsx(ut,{variant:"outline",className:"bg-red-100 text-red-800",children:"Rejected"});default:return l.jsx(ut,{variant:"outline",children:s})}};return r?l.jsxs("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),l.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Loading refund requests..."})]}):l.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Returns & Refunds"}),l.jsx("p",{className:"text-muted-foreground",children:"Track your refund requests and their status"})]}),!t||t.length===0?l.jsx(xe,{children:l.jsxs(Se,{children:[l.jsxs(ke,{className:"flex items-center gap-2",children:[l.jsx(Nu,{className:"h-5 w-5"}),"No Refund Requests"]}),l.jsx(st,{children:"You haven't submitted any refund requests yet. You can request refunds for delivered orders from the Orders page."})]})}):l.jsx("div",{className:"space-y-4",children:t.map(s=>l.jsxs(xe,{children:[l.jsx(Se,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(ke,{className:"flex items-center gap-2",children:[l.jsx(Nu,{className:"h-5 w-5"}),"Refund Request - Order #",s.orders.order_number]}),l.jsxs(st,{className:"flex items-center gap-4 mt-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Fp,{className:"h-4 w-4"}),"Submitted: ",Lu(new Date(s.created_at),"PPP")]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Cg,{className:"h-4 w-4"}),"Order Amount: $",s.orders.total_amount.toFixed(2)]}),s.reviewed_at&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Fp,{className:"h-4 w-4"}),"Reviewed: ",Lu(new Date(s.reviewed_at),"PPP")]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:n(s.status)})]})}),l.jsx(Ce,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Your Description:"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded",children:s.description})]}),s.photo_url&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Photo Evidence:"}),l.jsx("img",{src:s.photo_url,alt:"Refund evidence",className:"max-w-sm h-32 object-cover rounded border"})]}),s.admin_notes&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:s.status==="approved"?"Approval Notes:":"Rejection Reason:"}),l.jsx("p",{className:`text-sm p-3 rounded ${s.status==="approved"?"text-green-700 bg-green-50 dark:bg-green-900 dark:text-green-300":"text-red-700 bg-red-50 dark:bg-red-900 dark:text-red-300"}`,children:s.admin_notes})]}),s.status==="pending"&&l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-900 p-3 rounded",children:[l.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Your refund request is being reviewed"}),l.jsx("p",{className:"text-blue-600 dark:text-blue-400",children:"Our team will review your request and get back to you soon."})]})]})})]},s.id))})]})})})},P3=()=>{const e=Fn();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center max-w-md px-4",children:[l.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Oops! The page you're looking for doesn't exist."}),l.jsx("p",{className:"text-gray-500 mb-8",children:"The page may have been moved, deleted, or never existed in the first place."}),l.jsx(Te,{asChild:!0,children:l.jsx(gs,{to:"/login",children:"Go to Login"})})]})})},T3=new NT;function R3(){return l.jsx("div",{className:"min-h-screen w-full bg-gray-50 dark:bg-gray-900",children:l.jsx(AT,{client:T3,children:l.jsxs(kO,{children:[l.jsx(CO,{children:l.jsx(uT,{basename:"/stock2store",children:l.jsxs(nT,{children:[l.jsx(ar,{path:"/",element:l.jsx(Zr,{resource:"store",action:"view",fallbackPath:"/login",children:l.jsx(Xr,{children:l.jsx(i0,{})})})}),l.jsx(ar,{path:"/login",element:l.jsx(HI,{})}),l.jsx(ar,{path:"/warehouse",element:l.jsx(Zr,{resource:"warehouse",action:"view",fallbackPath:"/store",children:l.jsx(Xr,{children:l.jsx(K4,{})})})}),l.jsx(ar,{path:"/store",element:l.jsx(Zr,{resource:"store",action:"view",fallbackPath:"/login",children:l.jsx(Xr,{children:l.jsx(i0,{})})})}),l.jsx(ar,{path:"/cart",element:l.jsx(Zr,{resource:"cart",action:"view",fallbackPath:"/store",children:l.jsx(Xr,{children:l.jsx(CU,{})})})}),l.jsx(ar,{path:"/checkout",element:l.jsx(Zr,{resource:"checkout",action:"view",fallbackPath:"/store",children:l.jsx(Xr,{children:l.jsx(YU,{})})})}),l.jsx(ar,{path:"/analytics",element:l.jsx(Zr,{resource:"analytics",action:"view",fallbackPath:"/store",children:l.jsx(Xr,{children:l.jsx(ZU,{})})})}),l.jsx(ar,{path:"/users",element:l.jsx(Zr,{resource:"users",action:"view",fallbackPath:"/store",children:l.jsx(Xr,{children:l.jsx(JU,{})})})}),l.jsx(ar,{path:"/orders",element:l.jsx(Zr,{resource:"orders",action:"view",fallbackPath:"/store",children:l.jsx(Xr,{children:l.jsx(E3,{})})})}),l.jsx(ar,{path:"/returns",element:l.jsx(Zr,{resource:"returns",action:"view",fallbackPath:"/store",children:l.jsx(Xr,{children:l.jsx(N3,{})})})}),l.jsx(ar,{path:"/profile",element:l.jsx(Zr,{resource:"profile",action:"view",fallbackPath:"/store",children:l.jsx(Xr,{children:l.jsx(XU,{})})})}),l.jsx(ar,{path:"*",element:l.jsx(P3,{})})]})})}),l.jsx(bI,{})]})})})}qb(document.getElementById("root")).render(l.jsx(R3,{}));export{R0 as g};
